var LE=Object.create;var Hh=Object.defineProperty,VE=Object.defineProperties,UE=Object.getOwnPropertyDescriptor,BE=Object.getOwnPropertyDescriptors,GE=Object.getOwnPropertyNames,Wu=Object.getOwnPropertySymbols,zE=Object.getPrototypeOf,qh=Object.prototype.hasOwnProperty,Iy=Object.prototype.propertyIsEnumerable;var Ay=(n,r,o)=>r in n?Hh(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Se=(n,r)=>{for(var o in r||={})qh.call(r,o)&&Ay(n,o,r[o]);if(Wu)for(var o of Wu(r))Iy.call(r,o)&&Ay(n,o,r[o]);return n},Ge=(n,r)=>VE(n,BE(r));var vl=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(r,o)=>(typeof require<"u"?require:r)[o]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var vs=(n,r)=>{var o={};for(var t in n)qh.call(n,t)&&r.indexOf(t)<0&&(o[t]=n[t]);if(n!=null&&Wu)for(var t of Wu(n))r.indexOf(t)<0&&Iy.call(n,t)&&(o[t]=n[t]);return o};var An=(n,r)=>()=>(r||n((r={exports:{}}).exports,r),r.exports);var HE=(n,r,o,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of GE(r))!qh.call(n,i)&&i!==o&&Hh(n,i,{get:()=>r[i],enumerable:!(t=UE(r,i))||t.enumerable});return n};var Wh=(n,r,o)=>(o=n!=null?LE(zE(n)):{},HE(r||!n||!n.__esModule?Hh(o,"default",{value:n,enumerable:!0}):o,n));var ct=(n,r,o)=>new Promise((t,i)=>{var u=a=>{try{l(o.next(a))}catch(c){i(c)}},s=a=>{try{l(o.throw(a))}catch(c){i(c)}},l=a=>a.done?t(a.value):Promise.resolve(a.value).then(u,s);l((o=o.apply(n,r)).next())});var Lx=An((Fx,Qm)=>{(function(n){typeof Fx=="object"&&typeof Qm<"u"?Qm.exports=n():typeof define=="function"&&define.amd?define([],n):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).p5=n()})(function(){var n,r,o;return function t(i,u,s){function l(y,b){if(!u[y]){if(!i[y]){var d=typeof vl=="function"&&vl;if(!b&&d)return d(y,!0);if(a)return a(y,!0);throw(b=new Error("Cannot find module '"+y+"'")).code="MODULE_NOT_FOUND",b}d=u[y]={exports:{}},i[y][0].call(d.exports,function(p){return l(i[y][1][p]||p)},d,d.exports,t,i,u,s)}return u[y].exports}for(var a=typeof vl=="function"&&vl,c=0;c<s.length;c++)l(s[c]);return l}({1:[function(t,i,u){"use strict";u.byteLength=function(g){var g=d(g),h=g[0],g=g[1];return 3*(h+g)/4-g},u.toByteArray=function(p){var h,g,f=d(p),m=f[0],f=f[1],v=new a(function(S,j){return 3*(S+j)/4-j}(m,f)),_=0,x=0<f?m-4:m;for(g=0;g<x;g+=4)h=l[p.charCodeAt(g)]<<18|l[p.charCodeAt(g+1)]<<12|l[p.charCodeAt(g+2)]<<6|l[p.charCodeAt(g+3)],v[_++]=h>>16&255,v[_++]=h>>8&255,v[_++]=255&h;return f===2&&(h=l[p.charCodeAt(g)]<<2|l[p.charCodeAt(g+1)]>>4,v[_++]=255&h),f===1&&(h=l[p.charCodeAt(g)]<<10|l[p.charCodeAt(g+1)]<<4|l[p.charCodeAt(g+2)]>>2,v[_++]=h>>8&255,v[_++]=255&h),v},u.fromByteArray=function(p){for(var h,g=p.length,m=g%3,f=[],v=0,_=g-m;v<_;v+=16383)f.push(function(x,S,j){for(var T,C=[],M=S;M<j;M+=3)T=(x[M]<<16&16711680)+(x[M+1]<<8&65280)+(255&x[M+2]),C.push(function(k){return s[k>>18&63]+s[k>>12&63]+s[k>>6&63]+s[63&k]}(T));return C.join("")}(p,v,_<v+16383?_:v+16383));return m==1?(h=p[g-1],f.push(s[h>>2]+s[h<<4&63]+"==")):m==2&&(h=(p[g-2]<<8)+p[g-1],f.push(s[h>>10]+s[h>>4&63]+s[h<<2&63]+"=")),f.join("")};for(var s=[],l=[],a=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=0,b=c.length;y<b;++y)s[y]=c[y],l[c.charCodeAt(y)]=y;function d(p){var h=p.length;if(0<h%4)throw new Error("Invalid string. Length must be a multiple of 4");return p=p.indexOf("="),h=(p=p===-1?h:p)===h?0:4-p%4,[p,h]}l[45]=62,l[95]=63},{}],2:[function(t,i,u){},{}],3:[function(t,i,u){},{}],4:[function(t,i,u){(function(d){"use strict";var l=t("base64-js"),a=t("ieee754"),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,y=(u.Buffer=d,u.SlowBuffer=function(L){return+L!=L&&(L=0),d.alloc(+L)},u.INSPECT_MAX_BYTES=50,2147483647);function b(L){if(y<L)throw new RangeError('The value "'+L+'" is invalid for option "size"');return L=new Uint8Array(L),Object.setPrototypeOf(L,d.prototype),L}function d(L,D,U){if(typeof L!="number")return p(L,D,U);if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(L)}function p(L,D,U){if(typeof L=="string"){var H=L,X=D;if(d.isEncoding(X=typeof X=="string"&&X!==""?X:"utf8"))return J=0|v(H,X),le=b(J),le=(H=le.write(H,X))!==J?le.slice(0,H):le;throw new TypeError("Unknown encoding: "+X)}if(ArrayBuffer.isView(L))return m(L);if(L!=null){if(W(L,ArrayBuffer)||L&&W(L.buffer,ArrayBuffer)){var J=L,H=D,le=U;if(H<0||J.byteLength<H)throw new RangeError('"offset" is outside of buffer bounds');if(J.byteLength<H+(le||0))throw new RangeError('"length" is outside of buffer bounds');return J=H===void 0&&le===void 0?new Uint8Array(J):le===void 0?new Uint8Array(J,H):new Uint8Array(J,H,le),Object.setPrototypeOf(J,d.prototype),J}if(typeof L=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(X=L.valueOf&&L.valueOf(),X!=null&&X!==L)return d.from(X,D,U);var se=function(ne){{var ce,he;if(d.isBuffer(ne))return ce=0|f(ne.length),(he=b(ce)).length!==0&&ne.copy(he,0,0,ce),he}if(ne.length!==void 0)return typeof ne.length!="number"||Z(ne.length)?b(0):m(ne);if(ne.type==="Buffer"&&Array.isArray(ne.data))return m(ne.data)}(L);if(se)return se;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof L[Symbol.toPrimitive]=="function")return d.from(L[Symbol.toPrimitive]("string"),D,U)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L)}function h(L){if(typeof L!="number")throw new TypeError('"size" argument must be of type number');if(L<0)throw new RangeError('The value "'+L+'" is invalid for option "size"')}function g(L){return h(L),b(L<0?0:0|f(L))}function m(L){for(var D=L.length<0?0:0|f(L.length),U=b(D),H=0;H<D;H+=1)U[H]=255&L[H];return U}function f(L){if(y<=L)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+y.toString(16)+" bytes");return 0|L}function v(L,D){if(d.isBuffer(L))return L.length;if(ArrayBuffer.isView(L)||W(L,ArrayBuffer))return L.byteLength;if(typeof L!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof L);var U=L.length,H=2<arguments.length&&arguments[2]===!0;if(!H&&U===0)return 0;for(var X=!1;;)switch(D){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":return z(L).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*U;case"hex":return U>>>1;case"base64":return q(L).length;default:if(X)return H?-1:z(L).length;D=(""+D).toLowerCase(),X=!0}}function _(L,D,U){var H,X=!1;if((D=D===void 0||D<0?0:D)>this.length||(U=U===void 0||U>this.length?this.length:U)<=0||(U>>>=0)<=(D>>>=0))return"";for(L=L||"utf8";;)switch(L){case"hex":var J=this,pe=D,le=U,he=J.length;(!le||le<0||he<le)&&(le=he);for(var se="",ne=pe=!pe||pe<0?0:pe;ne<le;++ne)se+=ae[J[ne]];return se;case"utf8":case"utf-8":return M(this,D,U);case"ascii":var ce=this,he=D,ee=U,oe="";ee=Math.min(ce.length,ee);for(var fe=he;fe<ee;++fe)oe+=String.fromCharCode(127&ce[fe]);return oe;case"latin1":case"binary":var _e=this,pe=D,ye=U,xe="";ye=Math.min(_e.length,ye);for(var Re=pe;Re<ye;++Re)xe+=String.fromCharCode(_e[Re]);return xe;case"base64":return Te=this,H=U,(We=D)===0&&H===Te.length?l.fromByteArray(Te):l.fromByteArray(Te.slice(We,H));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Te=D,We=U,qe=this.slice(Te,We),Ye="",Ze=0;Ze<qe.length;Ze+=2)Ye+=String.fromCharCode(qe[Ze]+256*qe[Ze+1]);return Ye;default:if(X)throw new TypeError("Unknown encoding: "+L);L=(L+"").toLowerCase(),X=!0}}function x(L,D,U){var H=L[D];L[D]=L[U],L[U]=H}function S(L,D,U,H,X){if(L.length===0)return-1;if(typeof U=="string"?(H=U,U=0):2147483647<U?U=2147483647:U<-2147483648&&(U=-2147483648),(U=(U=Z(U=+U)?X?0:L.length-1:U)<0?L.length+U:U)>=L.length){if(X)return-1;U=L.length-1}else if(U<0){if(!X)return-1;U=0}if(typeof D=="string"&&(D=d.from(D,H)),d.isBuffer(D))return D.length===0?-1:j(L,D,U,H,X);if(typeof D=="number")return D&=255,typeof Uint8Array.prototype.indexOf=="function"?(X?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(L,D,U):j(L,[D],U,H,X);throw new TypeError("val must be string, number or Buffer")}function j(L,D,U,H,X){var J=1,le=L.length,se=D.length;if(H!==void 0&&((H=String(H).toLowerCase())==="ucs2"||H==="ucs-2"||H==="utf16le"||H==="utf-16le")){if(L.length<2||D.length<2)return-1;le/=J=2,se/=2,U/=2}function ne(fe,_e){return J===1?fe[_e]:fe.readUInt16BE(_e*J)}if(X)for(var ce=-1,he=U;he<le;he++)if(ne(L,he)===ne(D,ce===-1?0:he-ce)){if(he-(ce=ce===-1?he:ce)+1===se)return ce*J}else ce!==-1&&(he-=he-ce),ce=-1;else for(he=U=le<U+se?le-se:U;0<=he;he--){for(var ee=!0,oe=0;oe<se;oe++)if(ne(L,he+oe)!==ne(D,oe)){ee=!1;break}if(ee)return he}return-1}function T(L,D,U,H){return G(function(X){for(var J=[],le=0;le<X.length;++le)J.push(255&X.charCodeAt(le));return J}(D),L,U,H)}function C(L,D,U,H){return G(function(X,J){for(var le,se,ne=[],ce=0;ce<X.length&&!((J-=2)<0);++ce)se=X.charCodeAt(ce),le=se>>8,se=se%256,ne.push(se),ne.push(le);return ne}(D,L.length-U),L,U,H)}function M(L,D,U){U=Math.min(L.length,U);for(var H=[],X=D;X<U;){var J,le,se,ne,ce=L[X],he=null,ee=239<ce?4:223<ce?3:191<ce?2:1;if(X+ee<=U)switch(ee){case 1:ce<128&&(he=ce);break;case 2:(192&(J=L[X+1]))==128&&127<(ne=(31&ce)<<6|63&J)&&(he=ne);break;case 3:J=L[X+1],le=L[X+2],(192&J)==128&&(192&le)==128&&2047<(ne=(15&ce)<<12|(63&J)<<6|63&le)&&(ne<55296||57343<ne)&&(he=ne);break;case 4:J=L[X+1],le=L[X+2],se=L[X+3],(192&J)==128&&(192&le)==128&&(192&se)==128&&65535<(ne=(15&ce)<<18|(63&J)<<12|(63&le)<<6|63&se)&&ne<1114112&&(he=ne)}he===null?(he=65533,ee=1):65535<he&&(he-=65536,H.push(he>>>10&1023|55296),he=56320|1023&he),H.push(he),X+=ee}var oe=H,fe=oe.length;if(fe<=k)return String.fromCharCode.apply(String,oe);for(var _e="",pe=0;pe<fe;)_e+=String.fromCharCode.apply(String,oe.slice(pe,pe+=k));return _e}u.kMaxLength=y,(d.TYPED_ARRAY_SUPPORT=function(){try{var L=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(L,D),L.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),d.poolSize=8192,d.from=p,Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array),d.alloc=function(L,D,U){return D=D,U=U,h(L=L),!(L<=0)&&D!==void 0?typeof U=="string"?b(L).fill(D,U):b(L).fill(D):b(L)},d.allocUnsafe=g,d.allocUnsafeSlow=g,d.isBuffer=function(L){return L!=null&&L._isBuffer===!0&&L!==d.prototype},d.compare=function(L,D){if(W(L,Uint8Array)&&(L=d.from(L,L.offset,L.byteLength)),W(D,Uint8Array)&&(D=d.from(D,D.offset,D.byteLength)),!d.isBuffer(L)||!d.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(L===D)return 0;for(var U=L.length,H=D.length,X=0,J=Math.min(U,H);X<J;++X)if(L[X]!==D[X]){U=L[X],H=D[X];break}return U<H?-1:H<U?1:0},d.isEncoding=function(L){switch(String(L).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(L,D){if(!Array.isArray(L))throw new TypeError('"list" argument must be an Array of Buffers');if(L.length===0)return d.alloc(0);if(D===void 0)for(X=D=0;X<L.length;++X)D+=L[X].length;for(var U=d.allocUnsafe(D),H=0,X=0;X<L.length;++X){var J=L[X];if(W(J,Uint8Array)&&(J=d.from(J)),!d.isBuffer(J))throw new TypeError('"list" argument must be an Array of Buffers');J.copy(U,H),H+=J.length}return U},d.byteLength=v,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var L=this.length;if(L%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var D=0;D<L;D+=2)x(this,D,D+1);return this},d.prototype.swap32=function(){var L=this.length;if(L%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var D=0;D<L;D+=4)x(this,D,D+3),x(this,D+1,D+2);return this},d.prototype.swap64=function(){var L=this.length;if(L%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var D=0;D<L;D+=8)x(this,D,D+7),x(this,D+1,D+6),x(this,D+2,D+5),x(this,D+3,D+4);return this},d.prototype.toLocaleString=d.prototype.toString=function(){var L=this.length;return L===0?"":arguments.length===0?M(this,0,L):_.apply(this,arguments)},d.prototype.equals=function(L){if(d.isBuffer(L))return this===L||d.compare(this,L)===0;throw new TypeError("Argument must be a Buffer")},d.prototype.inspect=function(){var D="",L=u.INSPECT_MAX_BYTES,D=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim();return this.length>L&&(D+=" ... "),"<Buffer "+D+">"},c&&(d.prototype[c]=d.prototype.inspect),d.prototype.compare=function(L,D,U,H,X){if(W(L,Uint8Array)&&(L=d.from(L,L.offset,L.byteLength)),!d.isBuffer(L))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof L);if(U===void 0&&(U=L?L.length:0),H===void 0&&(H=0),X===void 0&&(X=this.length),(D=D===void 0?0:D)<0||U>L.length||H<0||X>this.length)throw new RangeError("out of range index");if(X<=H&&U<=D)return 0;if(X<=H)return-1;if(U<=D)return 1;if(this===L)return 0;for(var J=(X>>>=0)-(H>>>=0),le=(U>>>=0)-(D>>>=0),se=Math.min(J,le),ne=this.slice(H,X),ce=L.slice(D,U),he=0;he<se;++he)if(ne[he]!==ce[he]){J=ne[he],le=ce[he];break}return J<le?-1:le<J?1:0},d.prototype.includes=function(L,D,U){return this.indexOf(L,D,U)!==-1},d.prototype.indexOf=function(L,D,U){return S(this,L,D,U,!0)},d.prototype.lastIndexOf=function(L,D,U){return S(this,L,D,U,!1)},d.prototype.write=function(L,D,U,H){if(D===void 0)H="utf8",U=this.length,D=0;else if(U===void 0&&typeof D=="string")H=D,U=this.length,D=0;else{if(!isFinite(D))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");D>>>=0,isFinite(U)?(U>>>=0,H===void 0&&(H="utf8")):(H=U,U=void 0)}var X=this.length-D;if((U===void 0||X<U)&&(U=X),0<L.length&&(U<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");H=H||"utf8";for(var J,le,se,ne=!1;;)switch(H){case"hex":var ce=this,he=L,ee=D,oe=U,fe=(ee=Number(ee)||0,ce.length-ee);(!oe||fe<(oe=Number(oe)))&&(oe=fe),(fe=he.length)/2<oe&&(oe=fe/2);for(var _e=0;_e<oe;++_e){var pe=parseInt(he.substr(2*_e,2),16);if(Z(pe))return _e;ce[ee+_e]=pe}return _e;case"utf8":case"utf-8":return fe=D,se=U,G(z(L,(le=this).length-fe),le,fe,se);case"ascii":return T(this,L,D,U);case"latin1":case"binary":return T(this,L,D,U);case"base64":return le=this,se=D,J=U,G(q(L),le,se,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,L,D,U);default:if(ne)throw new TypeError("Unknown encoding: "+H);H=(""+H).toLowerCase(),ne=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function A(L,D,U){if(L%1!=0||L<0)throw new RangeError("offset is not uint");if(U<L+D)throw new RangeError("Trying to access beyond buffer length")}function P(L,D,U,H,X,J){if(!d.isBuffer(L))throw new TypeError('"buffer" argument must be a Buffer instance');if(X<D||D<J)throw new RangeError('"value" argument is out of bounds');if(U+H>L.length)throw new RangeError("Index out of range")}function O(L,D,U,H){if(U+H>L.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function V(L,D,U,H,X){return D=+D,U>>>=0,X||O(L,0,U,4),a.write(L,D,U,H,23,4),U+4}function F(L,D,U,H,X){return D=+D,U>>>=0,X||O(L,0,U,8),a.write(L,D,U,H,52,8),U+8}d.prototype.slice=function(L,D){var U=this.length,U=((L=~~L)<0?(L+=U)<0&&(L=0):U<L&&(L=U),(D=D===void 0?U:~~D)<0?(D+=U)<0&&(D=0):U<D&&(D=U),D<L&&(D=L),this.subarray(L,D));return Object.setPrototypeOf(U,d.prototype),U},d.prototype.readUIntLE=function(L,D,U){L>>>=0,D>>>=0,U||A(L,D,this.length);for(var H=this[L],X=1,J=0;++J<D&&(X*=256);)H+=this[L+J]*X;return H},d.prototype.readUIntBE=function(L,D,U){L>>>=0,D>>>=0,U||A(L,D,this.length);for(var H=this[L+--D],X=1;0<D&&(X*=256);)H+=this[L+--D]*X;return H},d.prototype.readUInt8=function(L,D){return L>>>=0,D||A(L,1,this.length),this[L]},d.prototype.readUInt16LE=function(L,D){return L>>>=0,D||A(L,2,this.length),this[L]|this[L+1]<<8},d.prototype.readUInt16BE=function(L,D){return L>>>=0,D||A(L,2,this.length),this[L]<<8|this[L+1]},d.prototype.readUInt32LE=function(L,D){return L>>>=0,D||A(L,4,this.length),(this[L]|this[L+1]<<8|this[L+2]<<16)+16777216*this[L+3]},d.prototype.readUInt32BE=function(L,D){return L>>>=0,D||A(L,4,this.length),16777216*this[L]+(this[L+1]<<16|this[L+2]<<8|this[L+3])},d.prototype.readIntLE=function(L,D,U){L>>>=0,D>>>=0,U||A(L,D,this.length);for(var H=this[L],X=1,J=0;++J<D&&(X*=256);)H+=this[L+J]*X;return(X*=128)<=H&&(H-=Math.pow(2,8*D)),H},d.prototype.readIntBE=function(L,D,U){L>>>=0,D>>>=0,U||A(L,D,this.length);for(var H=D,X=1,J=this[L+--H];0<H&&(X*=256);)J+=this[L+--H]*X;return(X*=128)<=J&&(J-=Math.pow(2,8*D)),J},d.prototype.readInt8=function(L,D){return L>>>=0,D||A(L,1,this.length),128&this[L]?-1*(255-this[L]+1):this[L]},d.prototype.readInt16LE=function(L,D){return L>>>=0,D||A(L,2,this.length),D=this[L]|this[L+1]<<8,32768&D?4294901760|D:D},d.prototype.readInt16BE=function(L,D){return L>>>=0,D||A(L,2,this.length),D=this[L+1]|this[L]<<8,32768&D?4294901760|D:D},d.prototype.readInt32LE=function(L,D){return L>>>=0,D||A(L,4,this.length),this[L]|this[L+1]<<8|this[L+2]<<16|this[L+3]<<24},d.prototype.readInt32BE=function(L,D){return L>>>=0,D||A(L,4,this.length),this[L]<<24|this[L+1]<<16|this[L+2]<<8|this[L+3]},d.prototype.readFloatLE=function(L,D){return L>>>=0,D||A(L,4,this.length),a.read(this,L,!0,23,4)},d.prototype.readFloatBE=function(L,D){return L>>>=0,D||A(L,4,this.length),a.read(this,L,!1,23,4)},d.prototype.readDoubleLE=function(L,D){return L>>>=0,D||A(L,8,this.length),a.read(this,L,!0,52,8)},d.prototype.readDoubleBE=function(L,D){return L>>>=0,D||A(L,8,this.length),a.read(this,L,!1,52,8)},d.prototype.writeUIntLE=function(L,D,U,H){L=+L,D>>>=0,U>>>=0,H||P(this,L,D,U,Math.pow(2,8*U)-1,0);var X=1,J=0;for(this[D]=255&L;++J<U&&(X*=256);)this[D+J]=L/X&255;return D+U},d.prototype.writeUIntBE=function(L,D,U,H){L=+L,D>>>=0,U>>>=0,H||P(this,L,D,U,Math.pow(2,8*U)-1,0);var X=U-1,J=1;for(this[D+X]=255&L;0<=--X&&(J*=256);)this[D+X]=L/J&255;return D+U},d.prototype.writeUInt8=function(L,D,U){return L=+L,D>>>=0,U||P(this,L,D,1,255,0),this[D]=255&L,D+1},d.prototype.writeUInt16LE=function(L,D,U){return L=+L,D>>>=0,U||P(this,L,D,2,65535,0),this[D]=255&L,this[D+1]=L>>>8,D+2},d.prototype.writeUInt16BE=function(L,D,U){return L=+L,D>>>=0,U||P(this,L,D,2,65535,0),this[D]=L>>>8,this[D+1]=255&L,D+2},d.prototype.writeUInt32LE=function(L,D,U){return L=+L,D>>>=0,U||P(this,L,D,4,4294967295,0),this[D+3]=L>>>24,this[D+2]=L>>>16,this[D+1]=L>>>8,this[D]=255&L,D+4},d.prototype.writeUInt32BE=function(L,D,U){return L=+L,D>>>=0,U||P(this,L,D,4,4294967295,0),this[D]=L>>>24,this[D+1]=L>>>16,this[D+2]=L>>>8,this[D+3]=255&L,D+4},d.prototype.writeIntLE=function(L,D,U,H){L=+L,D>>>=0,H||P(this,L,D,U,(H=Math.pow(2,8*U-1))-1,-H);var X=0,J=1,le=0;for(this[D]=255&L;++X<U&&(J*=256);)L<0&&le===0&&this[D+X-1]!==0&&(le=1),this[D+X]=(L/J>>0)-le&255;return D+U},d.prototype.writeIntBE=function(L,D,U,H){L=+L,D>>>=0,H||P(this,L,D,U,(H=Math.pow(2,8*U-1))-1,-H);var X=U-1,J=1,le=0;for(this[D+X]=255&L;0<=--X&&(J*=256);)L<0&&le===0&&this[D+X+1]!==0&&(le=1),this[D+X]=(L/J>>0)-le&255;return D+U},d.prototype.writeInt8=function(L,D,U){return L=+L,D>>>=0,U||P(this,L,D,1,127,-128),this[D]=255&(L=L<0?255+L+1:L),D+1},d.prototype.writeInt16LE=function(L,D,U){return L=+L,D>>>=0,U||P(this,L,D,2,32767,-32768),this[D]=255&L,this[D+1]=L>>>8,D+2},d.prototype.writeInt16BE=function(L,D,U){return L=+L,D>>>=0,U||P(this,L,D,2,32767,-32768),this[D]=L>>>8,this[D+1]=255&L,D+2},d.prototype.writeInt32LE=function(L,D,U){return L=+L,D>>>=0,U||P(this,L,D,4,2147483647,-2147483648),this[D]=255&L,this[D+1]=L>>>8,this[D+2]=L>>>16,this[D+3]=L>>>24,D+4},d.prototype.writeInt32BE=function(L,D,U){return L=+L,D>>>=0,U||P(this,L,D,4,2147483647,-2147483648),this[D]=(L=L<0?4294967295+L+1:L)>>>24,this[D+1]=L>>>16,this[D+2]=L>>>8,this[D+3]=255&L,D+4},d.prototype.writeFloatLE=function(L,D,U){return V(this,L,D,!0,U)},d.prototype.writeFloatBE=function(L,D,U){return V(this,L,D,!1,U)},d.prototype.writeDoubleLE=function(L,D,U){return F(this,L,D,!0,U)},d.prototype.writeDoubleBE=function(L,D,U){return F(this,L,D,!1,U)},d.prototype.copy=function(L,D,U,H){if(!d.isBuffer(L))throw new TypeError("argument should be a Buffer");if(U=U||0,H||H===0||(H=this.length),D>=L.length&&(D=L.length),(H=0<H&&H<U?U:H)===U||L.length===0||this.length===0)return 0;if((D=D||0)<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("sourceEnd out of bounds");H>this.length&&(H=this.length);var X=(H=L.length-D<H-U?L.length-D+U:H)-U;if(this===L&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(D,U,H);else if(this===L&&U<D&&D<H)for(var J=X-1;0<=J;--J)L[J+D]=this[J+U];else Uint8Array.prototype.set.call(L,this.subarray(U,H),D);return X},d.prototype.fill=function(L,D,U,H){if(typeof L=="string"){if(typeof D=="string"?(H=D,D=0,U=this.length):typeof U=="string"&&(H=U,U=this.length),H!==void 0&&typeof H!="string")throw new TypeError("encoding must be a string");if(typeof H=="string"&&!d.isEncoding(H))throw new TypeError("Unknown encoding: "+H);var X;L.length===1&&(X=L.charCodeAt(0),(H==="utf8"&&X<128||H==="latin1")&&(L=X))}else typeof L=="number"?L&=255:typeof L=="boolean"&&(L=Number(L));if(D<0||this.length<D||this.length<U)throw new RangeError("Out of range index");var J;if(!(U<=D))if(D>>>=0,U=U===void 0?this.length:U>>>0,typeof(L=L||0)=="number")for(J=D;J<U;++J)this[J]=L;else{var le=d.isBuffer(L)?L:d.from(L,H),se=le.length;if(se===0)throw new TypeError('The value "'+L+'" is invalid for argument "value"');for(J=0;J<U-D;++J)this[J+D]=le[J%se]}return this};var R=/[^+/0-9A-Za-z-_]/g;function z(L,D){D=D||1/0;for(var U,H=L.length,X=null,J=[],le=0;le<H;++le){if(55295<(U=L.charCodeAt(le))&&U<57344){if(!X){if(56319<U){-1<(D-=3)&&J.push(239,191,189);continue}if(le+1===H){-1<(D-=3)&&J.push(239,191,189);continue}X=U;continue}if(U<56320){-1<(D-=3)&&J.push(239,191,189),X=U;continue}U=65536+(X-55296<<10|U-56320)}else X&&-1<(D-=3)&&J.push(239,191,189);if(X=null,U<128){if(--D<0)break;J.push(U)}else if(U<2048){if((D-=2)<0)break;J.push(U>>6|192,63&U|128)}else if(U<65536){if((D-=3)<0)break;J.push(U>>12|224,U>>6&63|128,63&U|128)}else{if(!(U<1114112))throw new Error("Invalid code point");if((D-=4)<0)break;J.push(U>>18|240,U>>12&63|128,U>>6&63|128,63&U|128)}}return J}function q(L){return l.toByteArray(function(D){if((D=(D=D.split("=")[0]).trim().replace(R,"")).length<2)return"";for(;D.length%4!=0;)D+="=";return D}(L))}function G(L,D,U,H){for(var X=0;X<H&&!(X+U>=D.length||X>=L.length);++X)D[X+U]=L[X];return X}function W(L,D){return L instanceof D||L!=null&&L.constructor!=null&&L.constructor.name!=null&&L.constructor.name===D.name}function Z(L){return L!=L}var ae=function(){for(var L="0123456789abcdef",D=new Array(256),U=0;U<16;++U)for(var H=16*U,X=0;X<16;++X)D[H+X]=L[U]+L[X];return D}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(t,i,u){i.exports=function(s){if(typeof s!="function")throw TypeError(String(s)+" is not a function");return s}},{}],6:[function(t,i,u){var s=t("../internals/is-object");i.exports=function(l){if(s(l)||l===null)return l;throw TypeError("Can't set "+String(l)+" as a prototype")}},{"../internals/is-object":75}],7:[function(a,i,u){var s=a("../internals/well-known-symbol"),l=a("../internals/object-create"),a=a("../internals/object-define-property"),c=s("unscopables"),y=Array.prototype;y[c]==null&&a.f(y,c,{configurable:!0,value:l(null)}),i.exports=function(b){y[c][b]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(t,i,u){"use strict";var s=t("../internals/string-multibyte").charAt;i.exports=function(l,a,c){return a+(c?s(l,a).length:1)}},{"../internals/string-multibyte":125}],9:[function(t,i,u){i.exports=function(s,l,a){if(s instanceof l)return s;throw TypeError("Incorrect "+(a?a+" ":"")+"invocation")}},{}],10:[function(t,i,u){var s=t("../internals/is-object");i.exports=function(l){if(s(l))return l;throw TypeError(String(l)+" is not an object")}},{"../internals/is-object":75}],11:[function(t,i,u){i.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(O,i,u){"use strict";function s(F){return b(F)&&d(V,p(F))}var l,a=O("../internals/array-buffer-native"),c=O("../internals/descriptors"),y=O("../internals/global"),b=O("../internals/is-object"),d=O("../internals/has"),p=O("../internals/classof"),h=O("../internals/create-non-enumerable-property"),g=O("../internals/redefine"),m=O("../internals/object-define-property").f,f=O("../internals/object-get-prototype-of"),v=O("../internals/object-set-prototype-of"),k=O("../internals/well-known-symbol"),O=O("../internals/uid"),_=y.Int8Array,x=_&&_.prototype,S=y.Uint8ClampedArray,S=S&&S.prototype,j=_&&f(_),T=x&&f(x),C=Object.prototype,M=C.isPrototypeOf,k=k("toStringTag"),A=O("TYPED_ARRAY_TAG"),P=a&&!!v&&p(y.opera)!=="Opera",O=!1,V={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(l in V)y[l]||(P=!1);if((!P||typeof j!="function"||j===Function.prototype)&&(j=function(){throw TypeError("Incorrect invocation")},P))for(l in V)y[l]&&v(y[l],j);if((!P||!T||T===C)&&(T=j.prototype,P))for(l in V)y[l]&&v(y[l].prototype,T);if(P&&f(S)!==T&&v(S,T),c&&!d(T,k))for(l in O=!0,m(T,k,{get:function(){return b(this)?this[A]:void 0}}),V)y[l]&&h(y[l],A,l);i.exports={NATIVE_ARRAY_BUFFER_VIEWS:P,TYPED_ARRAY_TAG:O&&A,aTypedArray:function(F){if(s(F))return F;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(F){if(v){if(M.call(j,F))return F}else for(var R in V)if(d(V,l)&&(R=y[R],R&&(F===R||M.call(R,F))))return F;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(F,R,z){if(c){if(z)for(var q in V)q=y[q],q&&d(q.prototype,F)&&delete q.prototype[F];T[F]&&!z||g(T,F,!z&&P&&x[F]||R)}},exportTypedArrayStaticMethod:function(F,R,z){var q,G;if(c){if(v){if(z)for(q in V)(G=y[q])&&d(G,F)&&delete G[F];if(j[F]&&!z)return;try{return g(j,F,!z&&P&&_[F]||R)}catch{}}for(q in V)!(G=y[q])||G[F]&&!z||g(G,F,R)}},isView:function(F){return F=p(F),F==="DataView"||d(V,F)},isTypedArray:s,TypedArray:j,TypedArrayPrototype:T}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(U,i,u){"use strict";function s(ee){return[255&ee]}function l(ee){return[255&ee,ee>>8&255]}function a(ee){return[255&ee,ee>>8&255,ee>>16&255,ee>>24&255]}function c(ee){return ee[3]<<24|ee[2]<<16|ee[1]<<8|ee[0]}function y(ee){return J(ee,23,4)}function b(ee){return J(ee,52,8)}function d(ee,oe){O(ee[W],oe,{get:function(){return R(this)[oe]}})}function p(xe,oe,ye,_e){if(ye=C(ye),xe=R(xe),ye+oe>xe.byteLength)throw X(Z);var pe=R(xe.buffer).bytes,ye=ye+xe.byteOffset,xe=pe.slice(ye,ye+oe);return _e?xe:xe.reverse()}function h(ee,oe,fe,_e,pe,ye){if(fe=C(fe),ee=R(ee),fe+oe>ee.byteLength)throw X(Z);for(var xe=R(ee.buffer).bytes,Re=fe+ee.byteOffset,Te=_e(+pe),We=0;We<oe;We++)xe[Re+We]=Te[ye?We:oe-We-1]}var g=U("../internals/global"),m=U("../internals/descriptors"),f=U("../internals/array-buffer-native"),v=U("../internals/create-non-enumerable-property"),_=U("../internals/redefine-all"),x=U("../internals/fails"),S=U("../internals/an-instance"),j=U("../internals/to-integer"),T=U("../internals/to-length"),C=U("../internals/to-index"),M=U("../internals/ieee754"),k=U("../internals/object-get-prototype-of"),A=U("../internals/object-set-prototype-of"),P=U("../internals/object-get-own-property-names").f,O=U("../internals/object-define-property").f,V=U("../internals/array-fill"),F=U("../internals/set-to-string-tag"),U=U("../internals/internal-state"),R=U.get,z=U.set,q="ArrayBuffer",G="DataView",W="prototype",Z="Wrong index",ae=g[q],L=ae,D=g[G],U=D&&D[W],H=Object.prototype,X=g.RangeError,J=M.pack,le=M.unpack;if(f){if(!x(function(){ae(1)})||!x(function(){new ae(-1)})||x(function(){return new ae,new ae(1.5),new ae(NaN),ae.name!=q})){for(var se,g=(L=function(fe){return S(this,L),new ae(C(fe))})[W]=ae[W],ne=P(ae),ce=0;ne.length>ce;)(se=ne[ce++])in L||v(L,se,ae[se]);g.constructor=L}A&&k(U)!==H&&A(U,H);var M=new D(new L(2)),he=U.setInt8;M.setInt8(0,2147483648),M.setInt8(1,2147483649),!M.getInt8(0)&&M.getInt8(1)||_(U,{setInt8:function(oe,fe){he.call(this,oe,fe<<24>>24)},setUint8:function(oe,fe){he.call(this,oe,fe<<24>>24)}},{unsafe:!0})}else L=function(ee){S(this,L,q),ee=C(ee),z(this,{bytes:V.call(new Array(ee),0),byteLength:ee}),m||(this.byteLength=ee)},D=function(ee,pe,fe){S(this,D,G),S(ee,L,G);var _e=R(ee).byteLength,pe=j(pe);if(pe<0||_e<pe)throw X("Wrong offset");if(_e<pe+(fe=fe===void 0?_e-pe:T(fe)))throw X("Wrong length");z(this,{buffer:ee,byteLength:fe,byteOffset:pe}),m||(this.buffer=ee,this.byteLength=fe,this.byteOffset=pe)},m&&(d(L,"byteLength"),d(D,"buffer"),d(D,"byteLength"),d(D,"byteOffset")),_(D[W],{getInt8:function(ee){return p(this,1,ee)[0]<<24>>24},getUint8:function(ee){return p(this,1,ee)[0]},getInt16:function(ee){return ee=p(this,2,ee,1<arguments.length?arguments[1]:void 0),(ee[1]<<8|ee[0])<<16>>16},getUint16:function(ee){return ee=p(this,2,ee,1<arguments.length?arguments[1]:void 0),ee[1]<<8|ee[0]},getInt32:function(ee){return c(p(this,4,ee,1<arguments.length?arguments[1]:void 0))},getUint32:function(ee){return c(p(this,4,ee,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(ee){return le(p(this,4,ee,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(ee){return le(p(this,8,ee,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(ee,oe){h(this,1,ee,s,oe)},setUint8:function(ee,oe){h(this,1,ee,s,oe)},setInt16:function(ee,oe){h(this,2,ee,l,oe,2<arguments.length?arguments[2]:void 0)},setUint16:function(ee,oe){h(this,2,ee,l,oe,2<arguments.length?arguments[2]:void 0)},setInt32:function(ee,oe){h(this,4,ee,a,oe,2<arguments.length?arguments[2]:void 0)},setUint32:function(ee,oe){h(this,4,ee,a,oe,2<arguments.length?arguments[2]:void 0)},setFloat32:function(ee,oe){h(this,4,ee,y,oe,2<arguments.length?arguments[2]:void 0)},setFloat64:function(ee,oe){h(this,8,ee,b,oe,2<arguments.length?arguments[2]:void 0)}});F(L,q),F(D,G),i.exports={ArrayBuffer:L,DataView:D}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(t,i,u){"use strict";var s=t("../internals/to-object"),l=t("../internals/to-absolute-index"),a=t("../internals/to-length"),c=Math.min;i.exports=[].copyWithin||function(m,b){var d=s(this),p=a(d.length),h=l(m,p),g=l(b,p),m=2<arguments.length?arguments[2]:void 0,f=c((m===void 0?p:l(m,p))-g,p-h),v=1;for(g<h&&h<g+f&&(v=-1,g+=f-1,h+=f-1);0<f--;)g in d?d[h]=d[g]:delete d[h],h+=v,g+=v;return d}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(t,i,u){"use strict";var s=t("../internals/to-object"),l=t("../internals/to-absolute-index"),a=t("../internals/to-length");i.exports=function(c){for(var y=s(this),b=a(y.length),p=arguments.length,d=l(1<p?arguments[1]:void 0,b),p=2<p?arguments[2]:void 0,h=p===void 0?b:l(p,b);d<h;)y[d++]=c;return y}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(a,i,u){"use strict";var s=a("../internals/array-iteration").forEach,l=a("../internals/array-method-is-strict"),a=a("../internals/array-method-uses-to-length"),l=l("forEach"),a=a("forEach");i.exports=l&&a?[].forEach:function(c){return s(this,c,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,i,u){"use strict";var s=t("../internals/function-bind-context"),l=t("../internals/to-object"),a=t("../internals/call-with-safe-iteration-closing"),c=t("../internals/is-array-iterator-method"),y=t("../internals/to-length"),b=t("../internals/create-property"),d=t("../internals/get-iterator-method");i.exports=function(S){var h,g,m,f,v,_,x=l(S),S=typeof this=="function"?this:Array,j=arguments.length,T=1<j?arguments[1]:void 0,C=T!==void 0,M=d(x),k=0;if(C&&(T=s(T,2<j?arguments[2]:void 0,2)),M==null||S==Array&&c(M))for(g=new S(h=y(x.length));k<h;k++)_=C?T(x[k],k):x[k],b(g,k,_);else for(v=(f=M.call(x)).next,g=new S;!(m=v.call(f)).done;k++)_=C?a(f,T,[m.value,k],!0):m.value,b(g,k,_);return g.length=k,g}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(t,i,u){function s(y){return function(b,d,p){var h,g=l(b),m=a(g.length),f=c(p,m);if(y&&d!=d){for(;f<m;)if((h=g[f++])!=h)return!0}else for(;f<m;f++)if((y||f in g)&&g[f]===d)return y||f||0;return!y&&-1}}var l=t("../internals/to-indexed-object"),a=t("../internals/to-length"),c=t("../internals/to-absolute-index");i.exports={includes:s(!0),indexOf:s(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(t,i,u){function s(p){var h=p==1,g=p==2,m=p==3,f=p==4,v=p==6,_=p==5||v;return function(x,S,j,T){for(var C,M,k=c(x),A=a(k),P=l(S,j,3),O=y(A.length),V=0,S=T||b,F=h?S(x,O):g?S(x,0):void 0;V<O;V++)if((_||V in A)&&(M=P(C=A[V],V,k),p)){if(h)F[V]=M;else if(M)switch(p){case 3:return!0;case 5:return C;case 6:return V;case 2:d.call(F,C)}else if(f)return!1}return v?-1:m||f?f:F}}var l=t("../internals/function-bind-context"),a=t("../internals/indexed-object"),c=t("../internals/to-object"),y=t("../internals/to-length"),b=t("../internals/array-species-create"),d=[].push;i.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(p,i,u){"use strict";var s=p("../internals/to-indexed-object"),l=p("../internals/to-integer"),a=p("../internals/to-length"),d=p("../internals/array-method-is-strict"),p=p("../internals/array-method-uses-to-length"),c=Math.min,y=[].lastIndexOf,b=!!y&&1/[1].lastIndexOf(1,-0)<0,d=d("lastIndexOf"),p=p("indexOf",{ACCESSORS:!0,1:0});i.exports=b||!d||!p?function(h){if(b)return y.apply(this,arguments)||0;var g=s(this),m=a(g.length),f=m-1;for((f=1<arguments.length?c(f,l(arguments[1])):f)<0&&(f=m+f);0<=f;f--)if(f in g&&g[f]===h)return f||0;return-1}:y},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(t,i,u){var s=t("../internals/fails"),l=t("../internals/well-known-symbol"),a=t("../internals/engine-v8-version"),c=l("species");i.exports=function(y){return 51<=a||!s(function(){var b=[];return(b.constructor={})[c]=function(){return{foo:1}},b[y](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(t,i,u){"use strict";var s=t("../internals/fails");i.exports=function(l,a){var c=[][l];return!!c&&s(function(){c.call(null,a||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,i,u){function s(d){throw d}var l=t("../internals/descriptors"),a=t("../internals/fails"),c=t("../internals/has"),y=Object.defineProperty,b={};i.exports=function(d,p){var h,g,m,f;return c(b,d)?b[d]:(h=[][d],g=!!c(p=p||{},"ACCESSORS")&&p.ACCESSORS,m=c(p,0)?p[0]:s,f=c(p,1)?p[1]:void 0,b[d]=!!h&&!a(function(){if(g&&!l)return!0;var v={length:-1};g?y(v,1,{enumerable:!0,get:s}):v[1]=1,h.call(v,m,f)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(t,i,u){function s(b){return function(d,p,h,g){l(p);var m=a(d),f=c(m),v=y(m.length),_=b?v-1:0,x=b?-1:1;if(h<2)for(;;){if(_ in f){g=f[_],_+=x;break}if(_+=x,b?_<0:v<=_)throw TypeError("Reduce of empty array with no initial value")}for(;b?0<=_:_<v;_+=x)_ in f&&(g=p(g,f[_],_,m));return g}}var l=t("../internals/a-function"),a=t("../internals/to-object"),c=t("../internals/indexed-object"),y=t("../internals/to-length");i.exports={left:s(!1),right:s(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(t,i,u){var s=t("../internals/is-object"),l=t("../internals/is-array"),a=t("../internals/well-known-symbol")("species");i.exports=function(c,y){var b;return new((b=l(c)&&(typeof(b=c.constructor)=="function"&&(b===Array||l(b.prototype))||s(b)&&(b=b[a])===null)?void 0:b)===void 0?Array:b)(y===0?0:y)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(t,i,u){var s=t("../internals/an-object");i.exports=function(l,a,c,y){try{return y?a(s(c)[0],c[1]):a(c)}catch(b){throw y=l.return,y!==void 0&&s(y.call(l)),b}}},{"../internals/an-object":10}],27:[function(t,i,u){var s=t("../internals/well-known-symbol")("iterator"),l=!1;try{var a=0,c={next:function(){return{done:!!a++}},return:function(){l=!0}};c[s]=function(){return this},Array.from(c,function(){throw 2})}catch{}i.exports=function(y,b){if(!b&&!l)return!1;var d=!1;try{var p={};p[s]=function(){return{next:function(){return{done:d=!0}}}},y(p)}catch{}return d}},{"../internals/well-known-symbol":150}],28:[function(t,i,u){var s={}.toString;i.exports=function(l){return s.call(l).slice(8,-1)}},{}],29:[function(t,i,u){var s=t("../internals/to-string-tag-support"),l=t("../internals/classof-raw"),a=t("../internals/well-known-symbol")("toStringTag"),c=l(function(){return arguments}())=="Arguments";i.exports=s?l:function(y){var b;return y===void 0?"Undefined":y===null?"Null":typeof(b=function(d,p){try{return d[p]}catch{}}(y=Object(y),a))=="string"?b:c?l(y):(b=l(y))=="Object"&&typeof y.callee=="function"?"Arguments":b}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(m,i,u){"use strict";var s=m("../internals/object-define-property").f,l=m("../internals/object-create"),a=m("../internals/redefine-all"),c=m("../internals/function-bind-context"),y=m("../internals/an-instance"),b=m("../internals/iterate"),d=m("../internals/define-iterator"),p=m("../internals/set-species"),h=m("../internals/descriptors"),g=m("../internals/internal-metadata").fastKey,m=m("../internals/internal-state"),f=m.set,v=m.getterFor;i.exports={getConstructor:function(_,x,S,j){function T(A,P,O){var V,F=k(A),R=C(A,P);return R?R.value=O:(F.last=R={index:V=g(P,!0),key:P,value:O,previous:P=F.last,next:void 0,removed:!1},F.first||(F.first=R),P&&(P.next=R),h?F.size++:A.size++,V!=="F"&&(F.index[V]=R)),A}function C(V,P){var O,V=k(V),F=g(P);if(F!=="F")return V.index[F];for(O=V.first;O;O=O.next)if(O.key==P)return O}var M=_(function(A,P){y(A,M,x),f(A,{type:x,index:l(null),first:void 0,last:void 0,size:0}),h||(A.size=0),P!=null&&b(P,A[j],A,S)}),k=v(x);return a(M.prototype,{clear:function(){for(var A=k(this),P=A.index,O=A.first;O;)O.removed=!0,O.previous&&(O.previous=O.previous.next=void 0),delete P[O.index],O=O.next;A.first=A.last=void 0,h?A.size=0:this.size=0},delete:function(F){var P,O,V=k(this),F=C(this,F);return F&&(P=F.next,O=F.previous,delete V.index[F.index],F.removed=!0,O&&(O.next=P),P&&(P.previous=O),V.first==F&&(V.first=P),V.last==F&&(V.last=O),h?V.size--:this.size--),!!F},forEach:function(A){for(var P,O=k(this),V=c(A,1<arguments.length?arguments[1]:void 0,3);P=P?P.next:O.first;)for(V(P.value,P.key,this);P&&P.removed;)P=P.previous},has:function(A){return!!C(this,A)}}),a(M.prototype,S?{get:function(A){return A=C(this,A),A&&A.value},set:function(A,P){return T(this,A===0?0:A,P)}}:{add:function(A){return T(this,A=A===0?0:A,A)}}),h&&s(M.prototype,"size",{get:function(){return k(this).size}}),M},setStrong:function(_,x,S){var j=x+" Iterator",T=v(x),C=v(j);d(_,x,function(M,k){f(this,{type:j,target:M,state:T(M),kind:k,last:void 0})},function(){for(var M=C(this),k=M.kind,A=M.last;A&&A.removed;)A=A.previous;return M.target&&(M.last=A=A?A.next:M.state.first)?k=="keys"?{value:A.key,done:!1}:k=="values"?{value:A.value,done:!1}:{value:[A.key,A.value],done:!1}:{value:M.target=void 0,done:!0}},S?"entries":"values",!S,!0),p(x)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(f,i,u){"use strict";function s(T){return T.frozen||(T.frozen=new l)}function l(){this.entries=[]}function a(T,C){return x(T.entries,function(M){return M[0]===C})}var c=f("../internals/redefine-all"),y=f("../internals/internal-metadata").getWeakData,b=f("../internals/an-object"),d=f("../internals/is-object"),p=f("../internals/an-instance"),h=f("../internals/iterate"),g=f("../internals/array-iteration"),m=f("../internals/has"),f=f("../internals/internal-state"),v=f.set,_=f.getterFor,x=g.find,S=g.findIndex,j=0;l.prototype={get:function(T){if(T=a(this,T),T)return T[1]},has:function(T){return!!a(this,T)},set:function(T,C){var M=a(this,T);M?M[1]=C:this.entries.push([T,C])},delete:function(T){var C=S(this.entries,function(M){return M[0]===T});return~C&&this.entries.splice(C,1),!!~C}},i.exports={getConstructor:function(T,C,M,k){function A(V,F,R){var z=O(V),q=y(b(F),!0);return q===!0?s(z).set(F,R):q[z.id]=R,V}var P=T(function(V,F){p(V,P,C),v(V,{type:C,id:j++,frozen:void 0}),F!=null&&h(F,V[k],V,M)}),O=_(C);return c(P.prototype,{delete:function(V){var F,R=O(this);return!!d(V)&&((F=y(V))===!0?s(R).delete(V):F&&m(F,R.id)&&delete F[R.id])},has:function(V){var F,R=O(this);return!!d(V)&&((F=y(V))===!0?s(R).has(V):F&&m(F,R.id))}}),c(P.prototype,M?{get:function(V){var F,R=O(this);if(d(V))return(F=y(V))===!0?s(R).get(V):F?F[R.id]:void 0},set:function(V,F){return A(this,V,F)}}:{add:function(V){return A(this,V,!0)}}),P}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(t,i,u){"use strict";var s=t("../internals/export"),l=t("../internals/global"),a=t("../internals/is-forced"),c=t("../internals/redefine"),y=t("../internals/internal-metadata"),b=t("../internals/iterate"),d=t("../internals/an-instance"),p=t("../internals/is-object"),h=t("../internals/fails"),g=t("../internals/check-correctness-of-iteration"),m=t("../internals/set-to-string-tag"),f=t("../internals/inherit-if-required");i.exports=function(v,_,x){function S(q){var G=F[q];c(F,q,q=="add"?function(W){return G.call(this,W===0?0:W),this}:q=="delete"?function(W){return!(P&&!p(W))&&G.call(this,W===0?0:W)}:q=="get"?function(W){return P&&!p(W)?void 0:G.call(this,W===0?0:W)}:q=="has"?function(W){return!(P&&!p(W))&&G.call(this,W===0?0:W)}:function(W,Z){return G.call(this,W===0?0:W,Z),this})}var j,T,C,M,k,A=v.indexOf("Map")!==-1,P=v.indexOf("Weak")!==-1,O=A?"set":"add",V=l[v],F=V&&V.prototype,R=V,z={};return a(v,typeof V!="function"||!(P||F.forEach&&!h(function(){new V().entries().next()})))?(R=x.getConstructor(_,v,A,O),y.REQUIRED=!0):a(v,!0)&&(T=(j=new R)[O](P?{}:-0,1)!=j,C=h(function(){j.has(1)}),M=g(function(q){new V(q)}),k=!P&&h(function(){for(var q=new V,G=5;G--;)q[O](G,G);return!q.has(-0)}),M||(((R=_(function(q,G){return d(q,R,v),q=f(new V,q,R),G!=null&&b(G,q[O],q,A),q})).prototype=F).constructor=R),(C||k)&&(S("delete"),S("has"),A&&S("get")),(k||T)&&S(O),P&&F.clear&&delete F.clear),z[v]=R,s({global:!0,forced:R!=V},z),m(R,v),P||x.setStrong(R,v,A),R}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(t,i,u){var s=t("../internals/has"),l=t("../internals/own-keys"),a=t("../internals/object-get-own-property-descriptor"),c=t("../internals/object-define-property");i.exports=function(y,b){for(var d=l(b),p=c.f,h=a.f,g=0;g<d.length;g++){var m=d[g];s(y,m)||p(y,m,h(b,m))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(t,i,u){var s=t("../internals/well-known-symbol")("match");i.exports=function(l){var a=/./;try{"/./"[l](a)}catch{try{return a[s]=!1,"/./"[l](a)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(t,i,u){t=t("../internals/fails"),i.exports=!t(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},{"../internals/fails":51}],36:[function(t,i,u){var s=t("../internals/require-object-coercible"),l=/"/g;i.exports=function(d,c,y,b){var d=String(s(d)),p="<"+c;return y!==""&&(p+=" "+y+'="'+String(b).replace(l,"&quot;")+'"'),p+">"+d+"</"+c+">"}},{"../internals/require-object-coercible":115}],37:[function(t,i,u){"use strict";function s(){return this}var l=t("../internals/iterators-core").IteratorPrototype,a=t("../internals/object-create"),c=t("../internals/create-property-descriptor"),y=t("../internals/set-to-string-tag"),b=t("../internals/iterators");i.exports=function(d,p,h){return p+=" Iterator",d.prototype=a(l,{next:c(1,h)}),y(d,p,!1,!0),b[p]=s,d}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(t,i,u){var s=t("../internals/descriptors"),l=t("../internals/object-define-property"),a=t("../internals/create-property-descriptor");i.exports=s?function(c,y,b){return l.f(c,y,a(1,b))}:function(c,y,b){return c[y]=b,c}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(t,i,u){i.exports=function(s,l){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:l}}},{}],40:[function(t,i,u){"use strict";var s=t("../internals/to-primitive"),l=t("../internals/object-define-property"),a=t("../internals/create-property-descriptor");i.exports=function(c,y,b){y=s(y),y in c?l.f(c,y,a(0,b)):c[y]=b}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(f,i,u){"use strict";function s(){return this}var l=f("../internals/export"),a=f("../internals/create-iterator-constructor"),c=f("../internals/object-get-prototype-of"),y=f("../internals/object-set-prototype-of"),b=f("../internals/set-to-string-tag"),d=f("../internals/create-non-enumerable-property"),p=f("../internals/redefine"),h=f("../internals/well-known-symbol"),g=f("../internals/is-pure"),m=f("../internals/iterators"),f=f("../internals/iterators-core"),v=f.IteratorPrototype,_=f.BUGGY_SAFARI_ITERATORS,x=h("iterator"),S="values",j="entries";i.exports=function(T,C,M,z,A,P,O){a(M,C,z);function V(L){if(L===A&&Z)return Z;if(!_&&L in G)return G[L];switch(L){case"keys":case S:case j:return function(){return new M(this,L)}}return function(){return new M(this)}}var F,R,z=C+" Iterator",q=!1,G=T.prototype,W=G[x]||G["@@iterator"]||A&&G[A],Z=!_&&W||V(A),ae=C=="Array"&&G.entries||W;if(ae&&(ae=c(ae.call(new T)),v!==Object.prototype&&ae.next&&(g||c(ae)===v||(y?y(ae,v):typeof ae[x]!="function"&&d(ae,x,s)),b(ae,z,!0,!0),g&&(m[z]=s))),A==S&&W&&W.name!==S&&(q=!0,Z=function(){return W.call(this)}),g&&!O||G[x]===Z||d(G,x,Z),m[C]=Z,A)if(F={values:V(S),keys:P?Z:V("keys"),entries:V(j)},O)for(R in F)!_&&!q&&R in G||p(G,R,F[R]);else l({target:C,proto:!0,forced:_||q},F);return F}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(t,i,u){var s=t("../internals/path"),l=t("../internals/has"),a=t("../internals/well-known-symbol-wrapped"),c=t("../internals/object-define-property").f;i.exports=function(y){var b=s.Symbol||(s.Symbol={});l(b,y)||c(b,y,{value:a.f(y)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(t,i,u){t=t("../internals/fails"),i.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(l,i,u){var s=l("../internals/global"),l=l("../internals/is-object"),a=s.document,c=l(a)&&l(a.createElement);i.exports=function(y){return c?a.createElement(y):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(t,i,u){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,i,u){t=t("../internals/engine-user-agent"),i.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,i,u){t=t("../internals/get-built-in"),i.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(a,i,u){var s,l,c=a("../internals/global"),a=a("../internals/engine-user-agent"),c=c.process,c=c&&c.versions,c=c&&c.v8;c?l=(s=c.split("."))[0]+s[1]:a&&(!(s=a.match(/Edge\/(\d+)/))||74<=s[1])&&(s=a.match(/Chrome\/(\d+)/))&&(l=s[1]),i.exports=l&&+l},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(t,i,u){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,i,u){var s=t("../internals/global"),l=t("../internals/object-get-own-property-descriptor").f,a=t("../internals/create-non-enumerable-property"),c=t("../internals/redefine"),y=t("../internals/set-global"),b=t("../internals/copy-constructor-properties"),d=t("../internals/is-forced");i.exports=function(p,h){var g,m,f,v=p.target,_=p.global,x=p.stat,S=_?s:x?s[v]||y(v,{}):(s[v]||{}).prototype;if(S)for(g in h){if(m=h[g],f=p.noTargetGet?(f=l(S,g))&&f.value:S[g],!d(_?g:v+(x?".":"#")+g,p.forced)&&f!==void 0){if(typeof m==typeof f)continue;b(m,f)}(p.sham||f&&f.sham)&&a(m,"sham",!0),c(S,g,m,p)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(t,i,u){i.exports=function(s){try{return!!s()}catch{return!0}}},{}],52:[function(h,i,u){"use strict";h("../modules/es.regexp.exec");var s=h("../internals/redefine"),l=h("../internals/fails"),a=h("../internals/well-known-symbol"),c=h("../internals/regexp-exec"),y=h("../internals/create-non-enumerable-property"),b=a("species"),d=!l(function(){var f=/./;return f.exec=function(){var v=[];return v.groups={a:"7"},v},"".replace(f,"$<a>")!=="7"}),p="a".replace(/./,"$0")==="$0",h=a("replace"),g=!!/./[h]&&/./[h]("a","$0")==="",m=!l(function(){var v=/(?:)/,f=v.exec,v=(v.exec=function(){return f.apply(this,arguments)},"ab".split(v));return v.length!==2||v[0]!=="a"||v[1]!=="b"});i.exports=function(f,v,_,x){var S,j,T=a(f),C=!l(function(){var k={};return k[T]=function(){return 7},""[f](k)!=7}),M=C&&!l(function(){var k=!1,A=/a/;return f==="split"&&((A={constructor:{}}).constructor[b]=function(){return A},A.flags="",A[T]=/./[T]),A.exec=function(){return k=!0,null},A[T](""),!k});C&&M&&(f!=="replace"||d&&p&&!g)&&(f!=="split"||m)||(S=/./[T],_=(M=_(T,""[f],function(k,A,P,O,V){return A.exec===c?C&&!V?{done:!0,value:S.call(A,P,O)}:{done:!0,value:k.call(P,A,O)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:g}))[0],j=M[1],s(String.prototype,f,_),s(RegExp.prototype,T,v==2?function(k,A){return j.call(k,this,A)}:function(k){return j.call(k,this)})),x&&y(RegExp.prototype[T],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(t,i,u){"use strict";function s(y,b,d,p,h,g,m,f){for(var v,_=h,x=0,S=!!m&&c(m,f,3);x<p;){if(x in d){if(v=S?S(d[x],x,b):d[x],0<g&&l(v))_=s(y,b,v,a(v.length),_,g-1)-1;else{if(9007199254740991<=_)throw TypeError("Exceed the acceptable array length");y[_]=v}_++}x++}return _}var l=t("../internals/is-array"),a=t("../internals/to-length"),c=t("../internals/function-bind-context");i.exports=s},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(t,i,u){t=t("../internals/fails"),i.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(t,i,u){var s=t("../internals/a-function");i.exports=function(l,a,c){if(s(l),a===void 0)return l;switch(c){case 0:return function(){return l.call(a)};case 1:return function(y){return l.call(a,y)};case 2:return function(y,b){return l.call(a,y,b)};case 3:return function(y,b,d){return l.call(a,y,b,d)}}return function(){return l.apply(a,arguments)}}},{"../internals/a-function":5}],56:[function(t,i,u){"use strict";var s=t("../internals/a-function"),l=t("../internals/is-object"),a=[].slice,c={};i.exports=Function.bind||function(y){var b=s(this),d=a.call(arguments,1),p=function(){var h=d.concat(a.call(arguments));if(this instanceof p){var g=b,m=h.length,f=h;if(!(m in c)){for(var v=[],_=0;_<m;_++)v[_]="a["+_+"]";c[m]=Function("C,a","return new C("+v.join(",")+")")}return c[m](g,f)}return b.apply(y,h)};return l(b.prototype)&&(p.prototype=b.prototype),p}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(t,i,u){function s(c){return typeof c=="function"?c:void 0}var l=t("../internals/path"),a=t("../internals/global");i.exports=function(c,y){return arguments.length<2?s(l[c])||s(a[c]):l[c]&&l[c][y]||a[c]&&a[c][y]}},{"../internals/global":60,"../internals/path":106}],58:[function(t,i,u){var s=t("../internals/classof"),l=t("../internals/iterators"),a=t("../internals/well-known-symbol")("iterator");i.exports=function(c){if(c!=null)return c[a]||c["@@iterator"]||l[s(c)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(t,i,u){var s=t("../internals/an-object"),l=t("../internals/get-iterator-method");i.exports=function(a){var c=l(a);if(typeof c!="function")throw TypeError(String(a)+" is not iterable");return s(c.call(a))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(t,i,u){(function(s){function l(a){return a&&a.Math==Math&&a}i.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof s=="object"&&s)||Function("return this")()}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(t,i,u){var s={}.hasOwnProperty;i.exports=function(l,a){return s.call(l,a)}},{}],62:[function(t,i,u){i.exports={}},{}],63:[function(t,i,u){var s=t("../internals/global");i.exports=function(l,a){var c=s.console;c&&c.error&&(arguments.length===1?c.error(l):c.error(l,a))}},{"../internals/global":60}],64:[function(t,i,u){t=t("../internals/get-built-in"),i.exports=t("document","documentElement")},{"../internals/get-built-in":57}],65:[function(t,i,u){var s=t("../internals/descriptors"),l=t("../internals/fails"),a=t("../internals/document-create-element");i.exports=!s&&!l(function(){return Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(t,i,u){var s=Math.abs,l=Math.pow,a=Math.floor,c=Math.log,y=Math.LN2;i.exports={pack:function(b,d,_){var h,g,m,f=new Array(_),v=8*_-d-1,_=(1<<v)-1,x=_>>1,S=d===23?l(2,-24)-l(2,-77):0,j=b<0||b===0&&1/b<0?1:0,T=0;for((b=s(b))!=b||b===1/0?(g=b!=b?1:0,h=_):(h=a(c(b)/y),b*(m=l(2,-h))<1&&(h--,m*=2),2<=(b+=1<=h+x?S/m:S*l(2,1-x))*m&&(h++,m/=2),_<=h+x?(g=0,h=_):1<=h+x?(g=(b*m-1)*l(2,d),h+=x):(g=b*l(2,x-1)*l(2,d),h=0));8<=d;f[T++]=255&g,g/=256,d-=8);for(h=h<<d|g,v+=d;0<v;f[T++]=255&h,h/=256,v-=8);return f[--T]|=128*j,f},unpack:function(b,d){var p,h=b.length,_=8*h-d-1,g=(1<<_)-1,m=g>>1,f=_-7,v=h-1,_=b[v--],x=127&_;for(_>>=7;0<f;x=256*x+b[v],v--,f-=8);for(p=x&(1<<-f)-1,x>>=-f,f+=d;0<f;p=256*p+b[v],v--,f-=8);if(x===0)x=1-m;else{if(x===g)return p?NaN:_?-1/0:1/0;p+=l(2,d),x-=m}return(_?-1:1)*p*l(2,x-d)}}},{}],67:[function(t,i,u){var s=t("../internals/fails"),l=t("../internals/classof-raw"),a="".split;i.exports=s(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return l(c)=="String"?a.call(c,""):Object(c)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(t,i,u){var s=t("../internals/is-object"),l=t("../internals/object-set-prototype-of");i.exports=function(a,c,y){return l&&typeof(c=c.constructor)=="function"&&c!==y&&s(c=c.prototype)&&c!==y.prototype&&l(a,c),a}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(s,i,u){var s=s("../internals/shared-store"),l=Function.toString;typeof s.inspectSource!="function"&&(s.inspectSource=function(a){return l.call(a)}),i.exports=s.inspectSource},{"../internals/shared-store":121}],70:[function(t,i,u){function s(f){y(f,p,{value:{objectID:"O"+ ++h,weakData:{}}})}var l=t("../internals/hidden-keys"),a=t("../internals/is-object"),c=t("../internals/has"),y=t("../internals/object-define-property").f,b=t("../internals/uid"),d=t("../internals/freezing"),p=b("meta"),h=0,g=Object.isExtensible||function(){return!0},m=i.exports={REQUIRED:!1,fastKey:function(f,v){if(!a(f))return typeof f=="symbol"?f:(typeof f=="string"?"S":"P")+f;if(!c(f,p)){if(!g(f))return"F";if(!v)return"E";s(f)}return f[p].objectID},getWeakData:function(f,v){if(!c(f,p)){if(!g(f))return!0;if(!v)return!1;s(f)}return f[p].weakData},onFreeze:function(f){return d&&m.REQUIRED&&g(f)&&!c(f,p)&&s(f),f}};l[p]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(_,i,u){var s,l,a,c,y,b,d,p,h=_("../internals/native-weak-map"),x=_("../internals/global"),g=_("../internals/is-object"),m=_("../internals/create-non-enumerable-property"),f=_("../internals/has"),v=_("../internals/shared-key"),_=_("../internals/hidden-keys"),x=x.WeakMap;d=h?(s=new x,l=s.get,a=s.has,c=s.set,y=function(S,j){return c.call(s,S,j),j},b=function(S){return l.call(s,S)||{}},function(S){return a.call(s,S)}):(_[p=v("state")]=!0,y=function(S,j){return m(S,p,j),j},b=function(S){return f(S,p)?S[p]:{}},function(S){return f(S,p)}),i.exports={set:y,get:b,has:d,enforce:function(S){return d(S)?b(S):y(S,{})},getterFor:function(S){return function(j){if(g(j)&&(j=b(j)).type===S)return j;throw TypeError("Incompatible receiver, "+S+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(t,i,u){var s=t("../internals/well-known-symbol"),l=t("../internals/iterators"),a=s("iterator"),c=Array.prototype;i.exports=function(y){return y!==void 0&&(l.Array===y||c[a]===y)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(t,i,u){var s=t("../internals/classof-raw");i.exports=Array.isArray||function(l){return s(l)=="Array"}},{"../internals/classof-raw":28}],74:[function(t,i,u){function s(p,h){return(p=y[c(p)])==d||p!=b&&(typeof h=="function"?l(h):!!h)}var l=t("../internals/fails"),a=/#|\.prototype\./,c=s.normalize=function(p){return String(p).replace(a,".").toLowerCase()},y=s.data={},b=s.NATIVE="N",d=s.POLYFILL="P";i.exports=s},{"../internals/fails":51}],75:[function(t,i,u){i.exports=function(s){return typeof s=="object"?s!==null:typeof s=="function"}},{}],76:[function(t,i,u){i.exports=!1},{}],77:[function(t,i,u){var s=t("../internals/is-object"),l=t("../internals/classof-raw"),a=t("../internals/well-known-symbol")("match");i.exports=function(c){var y;return s(c)&&((y=c[a])!==void 0?!!y:l(c)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(t,i,u){function s(p,h){this.stopped=p,this.result=h}var l=t("../internals/an-object"),a=t("../internals/is-array-iterator-method"),c=t("../internals/to-length"),y=t("../internals/function-bind-context"),b=t("../internals/get-iterator-method"),d=t("../internals/call-with-safe-iteration-closing");(i.exports=function(p,h,g,m,f){var v,_,x,S,j,T,C=y(h,g,m?2:1);if(f)v=p;else{if(typeof(h=b(p))!="function")throw TypeError("Target is not iterable");if(a(h)){for(_=0,x=c(p.length);_<x;_++)if((S=m?C(l(T=p[_])[0],T[1]):C(p[_]))&&S instanceof s)return S;return new s(!1)}v=h.call(p)}for(j=v.next;!(T=j.call(v)).done;)if(typeof(S=d(v,C,T.value,m))=="object"&&S&&S instanceof s)return S;return new s(!1)}).stop=function(p){return new s(!0,p)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(b,i,u){"use strict";var s,l,a=b("../internals/object-get-prototype-of"),c=b("../internals/create-non-enumerable-property"),y=b("../internals/has"),d=b("../internals/well-known-symbol"),b=b("../internals/is-pure"),d=d("iterator"),p=!1;[].keys&&("next"in(l=[].keys())?(a=a(a(l)))!==Object.prototype&&(s=a):p=!0),s==null&&(s={}),b||y(s,d)||c(s,d,function(){return this}),i.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:p}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(t,i,u){i.exports={}},{}],81:[function(t,i,u){i.exports=Math.sign||function(s){return(s=+s)==0||s!=s?s:s<0?-1:1}},{}],82:[function(m,i,u){var s,l,a,c,y,b,d,p,h=m("../internals/global"),j=m("../internals/object-get-own-property-descriptor").f,S=m("../internals/classof-raw"),g=m("../internals/task").set,m=m("../internals/engine-is-ios"),f=h.MutationObserver||h.WebKitMutationObserver,v=h.process,_=h.Promise,x=S(v)=="process",S=j(h,"queueMicrotask"),j=S&&S.value;j||(s=function(){var T,C;for(x&&(T=v.domain)&&T.exit();l;){C=l.fn,l=l.next;try{C()}catch(M){throw l?c():a=void 0,M}}a=void 0,T&&T.enter()},c=x?function(){v.nextTick(s)}:f&&!m?(y=!0,b=document.createTextNode(""),new f(s).observe(b,{characterData:!0}),function(){b.data=y=!y}):_&&_.resolve?(d=_.resolve(void 0),p=d.then,function(){p.call(d,s)}):function(){g.call(h,s)}),i.exports=j||function(T){T={fn:T,next:void 0},a&&(a.next=T),l||(l=T,c()),a=T}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(t,i,u){t=t("../internals/global"),i.exports=t.Promise},{"../internals/global":60}],84:[function(t,i,u){t=t("../internals/fails"),i.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(t,i,u){var s=t("../internals/fails"),l=t("../internals/well-known-symbol"),a=t("../internals/is-pure"),c=l("iterator");i.exports=!s(function(){var y=new URL("b?a=1&b=2&c=3","http://a"),b=y.searchParams,d="";return y.pathname="c%20d",b.forEach(function(p,h){b.delete("b"),d+=h+p}),a&&!y.toJSON||!b.sort||y.href!=="http://a/c%20d?a=1&c=3"||b.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!b[c]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||d!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(s,i,u){var l=s("../internals/global"),s=s("../internals/inspect-source"),l=l.WeakMap;i.exports=typeof l=="function"&&/native code/.test(s(l))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(t,i,u){"use strict";function s(a){var c,y;this.promise=new a(function(b,d){if(c!==void 0||y!==void 0)throw TypeError("Bad Promise constructor");c=b,y=d}),this.resolve=l(c),this.reject=l(y)}var l=t("../internals/a-function");i.exports.f=function(a){return new s(a)}},{"../internals/a-function":5}],88:[function(t,i,u){var s=t("../internals/is-regexp");i.exports=function(l){if(s(l))throw TypeError("The method doesn't accept regular expressions");return l}},{"../internals/is-regexp":77}],89:[function(t,i,u){var s=t("../internals/global").isFinite;i.exports=Number.isFinite||function(l){return typeof l=="number"&&s(l)}},{"../internals/global":60}],90:[function(t,i,u){"use strict";var s=t("../internals/descriptors"),l=t("../internals/fails"),a=t("../internals/object-keys"),c=t("../internals/object-get-own-property-symbols"),y=t("../internals/object-property-is-enumerable"),b=t("../internals/to-object"),d=t("../internals/indexed-object"),p=Object.assign,h=Object.defineProperty;i.exports=!p||l(function(){var g,m,f,v;return!(!s||p({b:1},p(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(m={},v="abcdefghijklmnopqrst",(g={})[f=Symbol()]=7,v.split("").forEach(function(_){m[_]=_}),p({},g)[f]!=7||a(p({},m)).join("")!=v)})?function(g,m){for(var f=b(g),v=arguments.length,_=1,x=c.f,S=y.f;_<v;)for(var j,T=d(arguments[_++]),C=x?a(T).concat(x(T)):a(T),M=C.length,k=0;k<M;)j=C[k++],s&&!S.call(T,j)||(f[j]=T[j]);return f}:p},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(h,i,u){function s(){}var l,a=h("../internals/an-object"),c=h("../internals/object-define-properties"),y=h("../internals/enum-bug-keys"),b=h("../internals/hidden-keys"),d=h("../internals/html"),p=h("../internals/document-create-element"),h=h("../internals/shared-key"),g="prototype",m="script",f=h("IE_PROTO"),v=function(x){return"<"+m+">"+x+"</"+m+">"},_=function(){try{l=document.domain&&new ActiveXObject("htmlfile")}catch{}_=l?((x=l).write(v("")),x.close(),S=x.parentWindow.Object,x=null,S):(x=p("iframe"),S="java"+m+":",x.style.display="none",d.appendChild(x),x.src=String(S),(S=x.contentWindow.document).open(),S.write(v("document.F=Object")),S.close(),S.F);for(var x,S,j=y.length;j--;)delete _[g][y[j]];return _()};b[f]=!0,i.exports=Object.create||function(x,S){var j;return x!==null?(s[g]=a(x),j=new s,s[g]=null,j[f]=x):j=_(),S===void 0?j:c(j,S)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(t,i,u){var s=t("../internals/descriptors"),l=t("../internals/object-define-property"),a=t("../internals/an-object"),c=t("../internals/object-keys");i.exports=s?Object.defineProperties:function(y,b){a(y);for(var d,p=c(b),h=p.length,g=0;g<h;)l.f(y,d=p[g++],b[d]);return y}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(t,i,u){var s=t("../internals/descriptors"),l=t("../internals/ie8-dom-define"),a=t("../internals/an-object"),c=t("../internals/to-primitive"),y=Object.defineProperty;u.f=s?y:function(b,d,p){if(a(b),d=c(d,!0),a(p),l)try{return y(b,d,p)}catch{}if("get"in p||"set"in p)throw TypeError("Accessors not supported");return"value"in p&&(b[d]=p.value),b}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(t,i,u){var s=t("../internals/descriptors"),l=t("../internals/object-property-is-enumerable"),a=t("../internals/create-property-descriptor"),c=t("../internals/to-indexed-object"),y=t("../internals/to-primitive"),b=t("../internals/has"),d=t("../internals/ie8-dom-define"),p=Object.getOwnPropertyDescriptor;u.f=s?p:function(h,g){if(h=c(h),g=y(g,!0),d)try{return p(h,g)}catch{}if(b(h,g))return a(!l.f.call(h,g),h[g])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(t,i,u){var s=t("../internals/to-indexed-object"),l=t("../internals/object-get-own-property-names").f,a={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];i.exports.f=function(y){if(!c||a.call(y)!="[object Window]")return l(s(y));try{return l(y)}catch{return c.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(t,i,u){var s=t("../internals/object-keys-internal"),l=t("../internals/enum-bug-keys").concat("length","prototype");u.f=Object.getOwnPropertyNames||function(a){return s(a,l)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(t,i,u){u.f=Object.getOwnPropertySymbols},{}],98:[function(c,i,u){var s=c("../internals/has"),l=c("../internals/to-object"),a=c("../internals/shared-key"),c=c("../internals/correct-prototype-getter"),y=a("IE_PROTO"),b=Object.prototype;i.exports=c?Object.getPrototypeOf:function(d){return d=l(d),s(d,y)?d[y]:typeof d.constructor=="function"&&d instanceof d.constructor?d.constructor.prototype:d instanceof Object?b:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(t,i,u){var s=t("../internals/has"),l=t("../internals/to-indexed-object"),a=t("../internals/array-includes").indexOf,c=t("../internals/hidden-keys");i.exports=function(y,b){var d,p=l(y),h=0,g=[];for(d in p)!s(c,d)&&s(p,d)&&g.push(d);for(;b.length>h;)!s(p,d=b[h++])||~a(g,d)||g.push(d);return g}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(t,i,u){var s=t("../internals/object-keys-internal"),l=t("../internals/enum-bug-keys");i.exports=Object.keys||function(a){return s(a,l)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(t,i,u){"use strict";var s={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,a=l&&!s.call({1:2},1);u.f=a?function(c){return c=l(this,c),!!c&&c.enumerable}:s},{}],102:[function(t,i,u){var s=t("../internals/an-object"),l=t("../internals/a-possible-prototype");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var a,c=!1,y={};try{(a=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(y,[]),c=y instanceof Array}catch{}return function(b,d){return s(b),l(d),c?a.call(b,d):b.__proto__=d,b}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(t,i,u){function s(b){return function(d){for(var p,h=c(d),g=a(h),m=g.length,f=0,v=[];f<m;)p=g[f++],l&&!y.call(h,p)||v.push(b?[p,h[p]]:h[p]);return v}}var l=t("../internals/descriptors"),a=t("../internals/object-keys"),c=t("../internals/to-indexed-object"),y=t("../internals/object-property-is-enumerable").f;i.exports={entries:s(!0),values:s(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(t,i,u){"use strict";var s=t("../internals/to-string-tag-support"),l=t("../internals/classof");i.exports=s?{}.toString:function(){return"[object "+l(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(t,i,u){var s=t("../internals/get-built-in"),l=t("../internals/object-get-own-property-names"),a=t("../internals/object-get-own-property-symbols"),c=t("../internals/an-object");i.exports=s("Reflect","ownKeys")||function(y){var b=l.f(c(y)),d=a.f;return d?b.concat(d(y)):b}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(t,i,u){t=t("../internals/global"),i.exports=t},{"../internals/global":60}],107:[function(t,i,u){i.exports=function(s){try{return{error:!1,value:s()}}catch(l){return{error:!0,value:l}}}},{}],108:[function(t,i,u){var s=t("../internals/an-object"),l=t("../internals/is-object"),a=t("../internals/new-promise-capability");i.exports=function(c,y){return s(c),l(y)&&y.constructor===c?y:((0,(c=a.f(c)).resolve)(y),c.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(t,i,u){var s=t("../internals/redefine");i.exports=function(l,a,c){for(var y in a)s(l,y,a[y],c);return l}},{"../internals/redefine":110}],110:[function(b,i,u){var s=b("../internals/global"),l=b("../internals/create-non-enumerable-property"),a=b("../internals/has"),c=b("../internals/set-global"),y=b("../internals/inspect-source"),b=b("../internals/internal-state"),d=b.get,p=b.enforce,h=String(String).split("String");(i.exports=function(g,m,f,S){var _=!!S&&!!S.unsafe,x=!!S&&!!S.enumerable,S=!!S&&!!S.noTargetGet;typeof f=="function"&&(typeof m!="string"||a(f,"name")||l(f,"name",m),p(f).source=h.join(typeof m=="string"?m:"")),g===s?x?g[m]=f:c(m,f):(_?!S&&g[m]&&(x=!0):delete g[m],x?g[m]=f:l(g,m,f))})(Function.prototype,"toString",function(){return typeof this=="function"&&d(this).source||y(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(t,i,u){var s=t("./classof-raw"),l=t("./regexp-exec");i.exports=function(a,c){var y=a.exec;if(typeof y=="function"){if(y=y.call(a,c),typeof y!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return y}if(s(a)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(a,c)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(c,i,u){"use strict";var s,l,a=c("./regexp-flags"),c=c("./regexp-sticky-helpers"),y=RegExp.prototype.exec,b=String.prototype.replace,d=y,p=(s=/a/,l=/b*/g,y.call(s,"a"),y.call(l,"a"),s.lastIndex!==0||l.lastIndex!==0),h=c.UNSUPPORTED_Y||c.BROKEN_CARET,g=/()??/.exec("")[1]!==void 0;i.exports=d=p||g||h?function(m){var f,v,_,x,S=this,j=h&&S.sticky,T=a.call(S),C=S.source,M=0,k=m;return j&&((T=T.replace("y","")).indexOf("g")===-1&&(T+="g"),k=String(m).slice(S.lastIndex),0<S.lastIndex&&(!S.multiline||S.multiline&&m[S.lastIndex-1]!==`
`)&&(C="(?: "+C+")",k=" "+k,M++),v=new RegExp("^(?:"+C+")",T)),g&&(v=new RegExp("^"+C+"$(?!\\s)",T)),p&&(f=S.lastIndex),_=y.call(j?v:S,k),j?_?(_.input=_.input.slice(M),_[0]=_[0].slice(M),_.index=S.lastIndex,S.lastIndex+=_[0].length):S.lastIndex=0:p&&_&&(S.lastIndex=S.global?_.index+_[0].length:f),g&&_&&1<_.length&&b.call(_[0],v,function(){for(x=1;x<arguments.length-2;x++)arguments[x]===void 0&&(_[x]=void 0)}),_}:d},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(t,i,u){"use strict";var s=t("../internals/an-object");i.exports=function(){var l=s(this),a="";return l.global&&(a+="g"),l.ignoreCase&&(a+="i"),l.multiline&&(a+="m"),l.dotAll&&(a+="s"),l.unicode&&(a+="u"),l.sticky&&(a+="y"),a}},{"../internals/an-object":10}],114:[function(t,i,u){"use strict";t=t("./fails");function s(l,a){return RegExp(l,a)}u.UNSUPPORTED_Y=t(function(){var l=s("a","y");return l.lastIndex=2,l.exec("abcd")!=null}),u.BROKEN_CARET=t(function(){var l=s("^r","gy");return l.lastIndex=2,l.exec("str")!=null})},{"./fails":51}],115:[function(t,i,u){i.exports=function(s){if(s==null)throw TypeError("Can't call method on "+s);return s}},{}],116:[function(t,i,u){i.exports=Object.is||function(s,l){return s===l?s!==0||1/s==1/l:s!=s&&l!=l}},{}],117:[function(t,i,u){var s=t("../internals/global"),l=t("../internals/create-non-enumerable-property");i.exports=function(a,c){try{l(s,a,c)}catch{s[a]=c}return c}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(t,i,u){"use strict";var s=t("../internals/get-built-in"),l=t("../internals/object-define-property"),a=t("../internals/well-known-symbol"),c=t("../internals/descriptors"),y=a("species");i.exports=function(d){var d=s(d),p=l.f;c&&d&&!d[y]&&p(d,y,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(t,i,u){var s=t("../internals/object-define-property").f,l=t("../internals/has"),a=t("../internals/well-known-symbol")("toStringTag");i.exports=function(c,y,b){c&&!l(c=b?c:c.prototype,a)&&s(c,a,{configurable:!0,value:y})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(t,i,u){var s=t("../internals/shared"),l=t("../internals/uid"),a=s("keys");i.exports=function(c){return a[c]||(a[c]=l(c))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(s,i,u){var a=s("../internals/global"),s=s("../internals/set-global"),l="__core-js_shared__",a=a[l]||s(l,{});i.exports=a},{"../internals/global":60,"../internals/set-global":117}],122:[function(t,i,u){var s=t("../internals/is-pure"),l=t("../internals/shared-store");(i.exports=function(a,c){return l[a]||(l[a]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:s?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(t,i,u){var s=t("../internals/an-object"),l=t("../internals/a-function"),a=t("../internals/well-known-symbol")("species");i.exports=function(b,y){var b=s(b).constructor;return b===void 0||(b=s(b)[a])==null?y:l(b)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(t,i,u){var s=t("../internals/fails");i.exports=function(l){return s(function(){var a=""[l]('"');return a!==a.toLowerCase()||3<a.split('"').length})}},{"../internals/fails":51}],125:[function(t,i,u){function s(c){return function(p,h){var d,p=String(a(p)),h=l(h),g=p.length;return h<0||g<=h?c?"":void 0:(d=p.charCodeAt(h))<55296||56319<d||h+1===g||(g=p.charCodeAt(h+1))<56320||57343<g?c?p.charAt(h):d:c?p.slice(h,h+2):g-56320+(d-55296<<10)+65536}}var l=t("../internals/to-integer"),a=t("../internals/require-object-coercible");i.exports={codeAt:s(!1),charAt:s(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(t,i,u){t=t("../internals/engine-user-agent"),i.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],127:[function(t,i,u){function s(b){return function(g,v,f){var g=String(c(g)),m=g.length,f=f===void 0?" ":String(f),v=l(v);return v<=m||f==""?g:((m=a.call(f,y((v=v-m)/f.length))).length>v&&(m=m.slice(0,v)),b?g+m:m+g)}}var l=t("../internals/to-length"),a=t("../internals/string-repeat"),c=t("../internals/require-object-coercible"),y=Math.ceil;i.exports={start:s(!1),end:s(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(t,i,u){"use strict";function s(_){return _+22+75*(_<26)}function l(_){var x,S=[],j=(_=function(W){for(var Z=[],ae=0,L=W.length;ae<L;){var D,U=W.charCodeAt(ae++);55296<=U&&U<=56319&&ae<L?(64512&(D=W.charCodeAt(ae++)))==56320?Z.push(((1023&U)<<10)+(1023&D)+65536):(Z.push(U),ae--):Z.push(U)}return Z}(_)).length,T=128,C=0,M=72;for(O=0;O<_.length;O++)(x=_[O])<128&&S.push(v(x));var k=S.length,A=k;for(k&&S.push("-");A<j;){for(var P=a,O=0;O<_.length;O++)T<=(x=_[O])&&x<P&&(P=x);var V=A+1;if(P-T>f((a-C)/V))throw RangeError(g);for(C+=(P-T)*V,T=P,O=0;O<_.length;O++){if((x=_[O])<T&&++C>a)throw RangeError(g);if(x==T){for(var F=C,R=c;;R+=c){var z=R<=M?1:M+y<=R?y:R-M;if(F<z)break;var q=F-z,G=c-z;S.push(v(s(z+q%G))),F=f(q/G)}S.push(v(s(F))),M=function(W,Z,ae){var L=0;for(W=ae?f(W/d):W>>1,W+=f(W/Z);m*y>>1<W;L+=c)W=f(W/m);return f(L+(m+1)*W/(W+b))}(C,V,A==k),C=0,++A}}++C,++T}return S.join("")}var a=2147483647,c=36,y=26,b=38,d=700,p=/[^\0-\u007E]/,h=/[.\u3002\uFF0E\uFF61]/g,g="Overflow: input needs wider integers to process",m=c-1,f=Math.floor,v=String.fromCharCode;i.exports=function(_){for(var x,S=[],j=_.toLowerCase().replace(h,".").split("."),T=0;T<j.length;T++)x=j[T],S.push(p.test(x)?"xn--"+l(x):x);return S.join(".")}},{}],129:[function(t,i,u){"use strict";var s=t("../internals/to-integer"),l=t("../internals/require-object-coercible");i.exports="".repeat||function(a){var c=String(l(this)),y="",b=s(a);if(b<0||b==1/0)throw RangeError("Wrong number of repetitions");for(;0<b;(b>>>=1)&&(c+=c))1&b&&(y+=c);return y}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(t,i,u){var s=t("../internals/fails"),l=t("../internals/whitespaces");i.exports=function(a){return s(function(){return!!l[a]()||"\u200B\x85\u180E"[a]()!="\u200B\x85\u180E"||l[a].name!==a})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(a,i,u){function s(b){return function(d){return d=String(l(d)),1&b&&(d=d.replace(c,"")),d=2&b?d.replace(y,""):d}}var l=a("../internals/require-object-coercible"),a="["+a("../internals/whitespaces")+"]",c=RegExp("^"+a+a+"*"),y=RegExp(a+a+"*$");i.exports={start:s(1),end:s(2),trim:s(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(m,i,u){function s(A){return function(){k(A)}}function l(A){k(A.data)}function a(A){y.postMessage(A+"",f.protocol+"//"+f.host)}var c,y=m("../internals/global"),b=m("../internals/fails"),d=m("../internals/classof-raw"),p=m("../internals/function-bind-context"),h=m("../internals/html"),g=m("../internals/document-create-element"),m=m("../internals/engine-is-ios"),f=y.location,v=y.setImmediate,_=y.clearImmediate,x=y.process,S=y.MessageChannel,j=y.Dispatch,T=0,C={},M="onreadystatechange",k=function(A){var P;C.hasOwnProperty(A)&&(P=C[A],delete C[A],P())};v&&_||(v=function(A){for(var P=[],O=1;O<arguments.length;)P.push(arguments[O++]);return C[++T]=function(){(typeof A=="function"?A:Function(A)).apply(void 0,P)},c(T),T},_=function(A){delete C[A]},d(x)=="process"?c=function(A){x.nextTick(s(A))}:j&&j.now?c=function(A){j.now(s(A))}:S&&!m?(m=(d=new S).port2,d.port1.onmessage=l,c=p(m.postMessage,m,1)):!y.addEventListener||typeof postMessage!="function"||y.importScripts||b(a)||f.protocol==="file:"?c=M in g("script")?function(A){h.appendChild(g("script"))[M]=function(){h.removeChild(this),k(A)}}:function(A){setTimeout(s(A),0)}:(c=a,y.addEventListener("message",l,!1))),i.exports={set:v,clear:_}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(t,i,u){var s=t("../internals/classof-raw");i.exports=function(l){if(typeof l!="number"&&s(l)!="Number")throw TypeError("Incorrect invocation");return+l}},{"../internals/classof-raw":28}],134:[function(t,i,u){var s=t("../internals/to-integer"),l=Math.max,a=Math.min;i.exports=function(c,y){return c=s(c),c<0?l(c+y,0):a(c,y)}},{"../internals/to-integer":137}],135:[function(t,i,u){var s=t("../internals/to-integer"),l=t("../internals/to-length");i.exports=function(c){if(c===void 0)return 0;var c=s(c),y=l(c);if(c!==y)throw RangeError("Wrong length or index");return y}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(t,i,u){var s=t("../internals/indexed-object"),l=t("../internals/require-object-coercible");i.exports=function(a){return s(l(a))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(t,i,u){var s=Math.ceil,l=Math.floor;i.exports=function(a){return isNaN(a=+a)?0:(0<a?l:s)(a)}},{}],138:[function(t,i,u){var s=t("../internals/to-integer"),l=Math.min;i.exports=function(a){return 0<a?l(s(a),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(t,i,u){var s=t("../internals/require-object-coercible");i.exports=function(l){return Object(s(l))}},{"../internals/require-object-coercible":115}],140:[function(t,i,u){var s=t("../internals/to-positive-integer");i.exports=function(l,a){if(l=s(l),l%a)throw RangeError("Wrong offset");return l}},{"../internals/to-positive-integer":141}],141:[function(t,i,u){var s=t("../internals/to-integer");i.exports=function(l){if(l=s(l),l<0)throw RangeError("The argument can't be less than 0");return l}},{"../internals/to-integer":137}],142:[function(t,i,u){var s=t("../internals/is-object");i.exports=function(l,a){if(!s(l))return l;var c,y;if(a&&typeof(c=l.toString)=="function"&&!s(y=c.call(l))||typeof(c=l.valueOf)=="function"&&!s(y=c.call(l))||!a&&typeof(c=l.toString)=="function"&&!s(y=c.call(l)))return y;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(t,i,u){var s={};s[t("../internals/well-known-symbol")("toStringTag")]="z",i.exports=String(s)==="[object z]"},{"../internals/well-known-symbol":150}],144:[function(t,i,u){"use strict";function s(pe,ye){for(var xe=0,Re=ye.length,Te=new(ee(pe))(Re);xe<Re;)Te[xe]=ye[xe++];return Te}function l(pe,ye){D(pe,ye,{get:function(){return ae(this)[ye]}})}function a(pe){return pe instanceof J||(pe=k(pe))=="ArrayBuffer"||pe=="SharedArrayBuffer"}function c(pe,ye){return oe(pe)&&typeof ye!="symbol"&&ye in pe&&String(+ye)==String(ye)}function y(pe,ye){return c(pe,ye=C(ye,!0))?_(2,pe[ye]):U(pe,ye)}function b(pe,ye,xe){return!(c(pe,ye=C(ye,!0))&&A(xe)&&M(xe,"value"))||M(xe,"get")||M(xe,"set")||xe.configurable||M(xe,"writable")&&!xe.writable||M(xe,"enumerable")&&!xe.enumerable?D(pe,ye,xe):(pe[ye]=xe.value,pe)}var d=t("../internals/export"),p=t("../internals/global"),h=t("../internals/descriptors"),g=t("../internals/typed-array-constructors-require-wrappers"),m=t("../internals/array-buffer-view-core"),f=t("../internals/array-buffer"),v=t("../internals/an-instance"),_=t("../internals/create-property-descriptor"),x=t("../internals/create-non-enumerable-property"),S=t("../internals/to-length"),j=t("../internals/to-index"),T=t("../internals/to-offset"),C=t("../internals/to-primitive"),M=t("../internals/has"),k=t("../internals/classof"),A=t("../internals/is-object"),P=t("../internals/object-create"),O=t("../internals/object-set-prototype-of"),V=t("../internals/object-get-own-property-names").f,F=t("../internals/typed-array-from"),R=t("../internals/array-iteration").forEach,z=t("../internals/set-species"),q=t("../internals/object-define-property"),G=t("../internals/object-get-own-property-descriptor"),W=t("../internals/internal-state"),Z=t("../internals/inherit-if-required"),ae=W.get,L=W.set,D=q.f,U=G.f,H=Math.round,X=p.RangeError,J=f.ArrayBuffer,le=f.DataView,se=m.NATIVE_ARRAY_BUFFER_VIEWS,ne=m.TYPED_ARRAY_TAG,ce=m.TypedArray,he=m.TypedArrayPrototype,ee=m.aTypedArrayConstructor,oe=m.isTypedArray,fe="BYTES_PER_ELEMENT",_e="Wrong length";h?(se||(G.f=y,q.f=b,l(he,"buffer"),l(he,"byteOffset"),l(he,"byteLength"),l(he,"length")),d({target:"Object",stat:!0,forced:!se},{getOwnPropertyDescriptor:y,defineProperty:b}),i.exports=function(we,ye,xe){function Re(De,K){D(De,K,{get:function(){var re=this,Q=K;return(re=ae(re)).view[qe](Q*Te+re.byteOffset,!0)},set:function(re){var Q=this,ie=K;Q=ae(Q),xe&&(re=(re=H(re))<0?0:255<re?255:255&re),Q.view[Ye](ie*Te+Q.byteOffset,re,!0)},enumerable:!0})}var Te=we.match(/\d+$/)[0]/8,We=we+(xe?"Clamped":"")+"Array",qe="get"+we,Ye="set"+we,Ze=p[We],Xe=Ze,we=Xe&&Xe.prototype,Pe={};se?g&&(Xe=ye(function(De,K,re,Q){return v(De,Xe,We),Z(A(K)?a(K)?Q!==void 0?new Ze(K,T(re,Te),Q):re!==void 0?new Ze(K,T(re,Te)):new Ze(K):oe(K)?s(Xe,K):F.call(Xe,K):new Ze(j(K)),De,Xe)}),O&&O(Xe,ce),R(V(Ze),function(De){De in Xe||x(Xe,De,Ze[De])}),Xe.prototype=we):(Xe=ye(function(De,K,re,Q){v(De,Xe,We);var ie,ve,Ee=0,ke=0;if(A(K)){if(!a(K))return oe(K)?s(Xe,K):F.call(Xe,K);var Ue=K,ke=T(re,Te),re=K.byteLength;if(Q===void 0){if(re%Te||(ie=re-ke)<0)throw X(_e)}else if(re<(ie=S(Q)*Te)+ke)throw X(_e);ve=ie/Te}else ve=j(K),Ue=new J(ie=ve*Te);for(L(De,{buffer:Ue,byteOffset:ke,byteLength:ie,length:ve,view:new le(Ue)});Ee<ve;)Re(De,Ee++)}),O&&O(Xe,ce),we=Xe.prototype=P(he)),we.constructor!==Xe&&x(we,"constructor",Xe),ne&&x(we,ne,We),Pe[We]=Xe,d({global:!0,forced:Xe!=Ze,sham:!se},Pe),fe in Xe||x(Xe,fe,Te),fe in we||x(we,fe,Te),z(We)}):i.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(c,i,u){var s=c("../internals/global"),l=c("../internals/fails"),a=c("../internals/check-correctness-of-iteration"),c=c("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,y=s.ArrayBuffer,b=s.Int8Array;i.exports=!c||!l(function(){b(1)})||!l(function(){new b(-1)})||!a(function(d){new b,new b(null),new b(1.5),new b(d)},!0)||l(function(){return new b(new y(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(t,i,u){var s=t("../internals/to-object"),l=t("../internals/to-length"),a=t("../internals/get-iterator-method"),c=t("../internals/is-array-iterator-method"),y=t("../internals/function-bind-context"),b=t("../internals/array-buffer-view-core").aTypedArrayConstructor;i.exports=function(d){var p,h,g,m,f,v,_=s(d),x=arguments.length,S=1<x?arguments[1]:void 0,j=S!==void 0,T=a(_);if(T!=null&&!c(T))for(v=(f=T.call(_)).next,_=[];!(m=v.call(f)).done;)_.push(m.value);for(j&&2<x&&(S=y(S,arguments[2],2)),h=l(_.length),g=new(b(this))(h),p=0;p<h;p++)g[p]=j?S(_[p],p):_[p];return g}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(t,i,u){var s=0,l=Math.random();i.exports=function(a){return"Symbol("+String(a===void 0?"":a)+")_"+(++s+l).toString(36)}},{}],148:[function(t,i,u){t=t("../internals/native-symbol"),i.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":84}],149:[function(t,i,u){t=t("../internals/well-known-symbol"),u.f=t},{"../internals/well-known-symbol":150}],150:[function(b,i,u){var s=b("../internals/global"),l=b("../internals/shared"),a=b("../internals/has"),c=b("../internals/uid"),y=b("../internals/native-symbol"),b=b("../internals/use-symbol-as-uid"),d=l("wks"),p=s.Symbol,h=b?p:p&&p.withoutSetter||c;i.exports=function(g){return a(d,g)||(y&&a(p,g)?d[g]=p[g]:d[g]=h("Symbol."+g)),d[g]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(t,i,u){i.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},{}],152:[function(a,i,u){"use strict";var s=a("../internals/export"),l=a("../internals/global"),y=a("../internals/array-buffer"),a=a("../internals/set-species"),c="ArrayBuffer",y=y[c];s({global:!0,forced:l[c]!==y},{ArrayBuffer:y}),a(c)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(_,i,u){"use strict";var s=_("../internals/export"),l=_("../internals/fails"),a=_("../internals/is-array"),c=_("../internals/is-object"),y=_("../internals/to-object"),b=_("../internals/to-length"),d=_("../internals/create-property"),p=_("../internals/array-species-create"),h=_("../internals/array-method-has-species-support"),v=_("../internals/well-known-symbol"),_=_("../internals/engine-v8-version"),g=v("isConcatSpreadable"),m=9007199254740991,f="Maximum allowed index exceeded",v=51<=_||!l(function(){var x=[];return x[g]=!1,x.concat()[0]!==x}),_=h("concat");s({target:"Array",proto:!0,forced:!v||!_},{concat:function(x){for(var S,j,T,C,M,k=y(this),A=p(k,0),P=0,O=-1,V=arguments.length;O<V;O++)if(M=void 0,!c(C=T=O===-1?k:arguments[O])||((M=C[g])!==void 0?!M:!a(C))){if(m<=P)throw TypeError(f);d(A,P++,T)}else{if(j=b(T.length),m<P+j)throw TypeError(f);for(S=0;S<j;S++,P++)S in T&&d(A,P,T[S])}return A.length=P,A}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(a,i,u){var s=a("../internals/export"),l=a("../internals/array-copy-within"),a=a("../internals/add-to-unscopables");s({target:"Array",proto:!0},{copyWithin:l}),a("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(c,i,u){"use strict";var s=c("../internals/export"),l=c("../internals/array-iteration").every,a=c("../internals/array-method-is-strict"),c=c("../internals/array-method-uses-to-length"),a=a("every"),c=c("every");s({target:"Array",proto:!0,forced:!a||!c},{every:function(y){return l(this,y,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(a,i,u){var s=a("../internals/export"),l=a("../internals/array-fill"),a=a("../internals/add-to-unscopables");s({target:"Array",proto:!0},{fill:l}),a("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(c,i,u){"use strict";var s=c("../internals/export"),l=c("../internals/array-iteration").filter,a=c("../internals/array-method-has-species-support"),c=c("../internals/array-method-uses-to-length"),a=a("filter"),c=c("filter");s({target:"Array",proto:!0,forced:!a||!c},{filter:function(y){return l(this,y,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(b,i,u){"use strict";var s=b("../internals/export"),l=b("../internals/array-iteration").findIndex,a=b("../internals/add-to-unscopables"),b=b("../internals/array-method-uses-to-length"),c="findIndex",y=!0,b=b(c);c in[]&&Array(1)[c](function(){y=!1}),s({target:"Array",proto:!0,forced:y||!b},{findIndex:function(d){return l(this,d,1<arguments.length?arguments[1]:void 0)}}),a(c)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(t,i,u){"use strict";var s=t("../internals/export"),l=t("../internals/flatten-into-array"),a=t("../internals/to-object"),c=t("../internals/to-length"),y=t("../internals/a-function"),b=t("../internals/array-species-create");s({target:"Array",proto:!0},{flatMap:function(d){var p,h=a(this),g=c(h.length);return y(d),(p=b(h,0)).length=l(p,h,h,g,0,1,d,1<arguments.length?arguments[1]:void 0),p}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(t,i,u){"use strict";var s=t("../internals/export"),l=t("../internals/flatten-into-array"),a=t("../internals/to-object"),c=t("../internals/to-length"),y=t("../internals/to-integer"),b=t("../internals/array-species-create");s({target:"Array",proto:!0},{flat:function(){var d=arguments.length?arguments[0]:void 0,p=a(this),h=c(p.length),g=b(p,0);return g.length=l(g,p,p,h,0,d===void 0?1:y(d)),g}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(l,i,u){"use strict";var s=l("../internals/export"),l=l("../internals/array-for-each");s({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(t,i,u){var s=t("../internals/export"),l=t("../internals/array-from");s({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(a){Array.from(a)})},{from:l})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(t,i,u){"use strict";var s=t("../internals/export"),l=t("../internals/array-includes").includes,a=t("../internals/add-to-unscopables");s({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(c){return l(this,c,1<arguments.length?arguments[1]:void 0)}}),a("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(b,i,u){"use strict";var s=b("../internals/export"),l=b("../internals/array-includes").indexOf,y=b("../internals/array-method-is-strict"),b=b("../internals/array-method-uses-to-length"),a=[].indexOf,c=!!a&&1/[1].indexOf(1,-0)<0,y=y("indexOf"),b=b("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:c||!y||!b},{indexOf:function(d){return c?a.apply(this,arguments)||0:l(this,d,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(y,i,u){"use strict";var s=y("../internals/to-indexed-object"),l=y("../internals/add-to-unscopables"),a=y("../internals/iterators"),c=y("../internals/internal-state"),y=y("../internals/define-iterator"),b="Array Iterator",d=c.set,p=c.getterFor(b);i.exports=y(Array,"Array",function(h,g){d(this,{type:b,target:s(h),index:0,kind:g})},function(){var h=p(this),g=h.target,m=h.kind,f=h.index++;return!g||f>=g.length?{value:h.target=void 0,done:!0}:m=="keys"?{value:f,done:!1}:m=="values"?{value:g[f],done:!1}:{value:[f,g[f]],done:!1}},"values"),a.Arguments=a.Array,l("keys"),l("values"),l("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(y,i,u){"use strict";var s=y("../internals/export"),c=y("../internals/indexed-object"),l=y("../internals/to-indexed-object"),y=y("../internals/array-method-is-strict"),a=[].join,c=c!=Object,y=y("join",",");s({target:"Array",proto:!0,forced:c||!y},{join:function(b){return a.call(l(this),b===void 0?",":b)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(l,i,u){var s=l("../internals/export"),l=l("../internals/array-last-index-of");s({target:"Array",proto:!0,forced:l!==[].lastIndexOf},{lastIndexOf:l})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(c,i,u){"use strict";var s=c("../internals/export"),l=c("../internals/array-iteration").map,a=c("../internals/array-method-has-species-support"),c=c("../internals/array-method-uses-to-length"),a=a("map"),c=c("map");s({target:"Array",proto:!0,forced:!a||!c},{map:function(y){return l(this,y,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(g,i,u){"use strict";var s=g("../internals/export"),l=g("../internals/is-object"),a=g("../internals/is-array"),c=g("../internals/to-absolute-index"),y=g("../internals/to-length"),b=g("../internals/to-indexed-object"),d=g("../internals/create-property"),p=g("../internals/well-known-symbol"),h=g("../internals/array-method-has-species-support"),g=g("../internals/array-method-uses-to-length"),h=h("slice"),g=g("slice",{ACCESSORS:!0,0:0,1:2}),m=p("species"),f=[].slice,v=Math.max;s({target:"Array",proto:!0,forced:!h||!g},{slice:function(_,x){var S,j,T,C=b(this),M=y(C.length),k=c(_,M),A=c(x===void 0?M:x,M);if(a(C)&&((S=typeof(S=C.constructor)=="function"&&(S===Array||a(S.prototype))||l(S)&&(S=S[m])===null?void 0:S)===Array||S===void 0))return f.call(C,k,A);for(j=new(S===void 0?Array:S)(v(A-k,0)),T=0;k<A;k++,T++)k in C&&d(j,T,C[k]);return j.length=T,j}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(c,i,u){"use strict";var s=c("../internals/export"),l=c("../internals/array-iteration").some,a=c("../internals/array-method-is-strict"),c=c("../internals/array-method-uses-to-length"),a=a("some"),c=c("some");s({target:"Array",proto:!0,forced:!a||!c},{some:function(y){return l(this,y,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(h,i,u){"use strict";var s=h("../internals/export"),l=h("../internals/to-absolute-index"),a=h("../internals/to-integer"),c=h("../internals/to-length"),y=h("../internals/to-object"),b=h("../internals/array-species-create"),d=h("../internals/create-property"),p=h("../internals/array-method-has-species-support"),h=h("../internals/array-method-uses-to-length"),p=p("splice"),h=h("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,m=Math.min;s({target:"Array",proto:!0,forced:!p||!h},{splice:function(P,v){var _,x,S,j,T,C,M=y(this),k=c(M.length),A=l(P,k),P=arguments.length;if(P===0?_=x=0:x=P===1?(_=0,k-A):(_=P-2,m(g(a(v),0),k-A)),9007199254740991<k+_-x)throw TypeError("Maximum allowed length exceeded");for(S=b(M,x),j=0;j<x;j++)(T=A+j)in M&&d(S,j,M[T]);if(_<(S.length=x)){for(j=A;j<k-x;j++)C=j+_,(T=j+x)in M?M[C]=M[T]:delete M[C];for(j=k;k-x+_<j;j--)delete M[j-1]}else if(x<_)for(j=k-x;A<j;j--)C=j+_-1,(T=j+x-1)in M?M[C]=M[T]:delete M[C];for(j=0;j<_;j++)M[j+A]=arguments[j+2];return M.length=k-x+_,S}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(t,i,u){t("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(t,i,u){t("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(l,i,u){var s=l("../internals/descriptors"),l=l("../internals/object-define-property").f,a=Function.prototype,c=a.toString,y=/^\s*function ([^ (]*)/;!s||"name"in a||l(a,"name",{configurable:!0,get:function(){try{return c.call(this).match(y)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(l,i,u){"use strict";var s=l("../internals/collection"),l=l("../internals/collection-strong");i.exports=s("Map",function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},l)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(s,i,u){var s=s("../internals/export"),l=Math.hypot,a=Math.abs,c=Math.sqrt;s({target:"Math",stat:!0,forced:!!l&&l(1/0,NaN)!==1/0},{hypot:function(y,b){for(var d,p,h=0,g=0,m=arguments.length,f=0;g<m;)f<(d=a(arguments[g++]))?(h=h*(p=f/d)*p+1,f=d):h+=0<d?(p=d/f)*p:d;return f===1/0?1/0:f*c(h)}})},{"../internals/export":50}],177:[function(s,i,u){var s=s("../internals/export"),l=Math.log,a=Math.LN2;s({target:"Math",stat:!0},{log2:function(c){return l(c)/a}})},{"../internals/export":50}],178:[function(t,i,u){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(t,i,u){"use strict";function s(O){var V,F,R,z,q,G,W,Z=h(O,!1);if(typeof Z=="string"&&2<Z.length){if((O=(Z=x(Z)).charCodeAt(0))===43||O===45){if((V=Z.charCodeAt(2))===88||V===120)return NaN}else if(O===48){switch(Z.charCodeAt(1)){case 66:case 98:F=2,R=49;break;case 79:case 111:F=8,R=55;break;default:return+Z}for(q=(z=Z.slice(2)).length,G=0;G<q;G++)if((W=z.charCodeAt(G))<48||R<W)return NaN;return parseInt(z,F)}}return+Z}var l=t("../internals/descriptors"),a=t("../internals/global"),c=t("../internals/is-forced"),y=t("../internals/redefine"),b=t("../internals/has"),d=t("../internals/classof-raw"),p=t("../internals/inherit-if-required"),h=t("../internals/to-primitive"),g=t("../internals/fails"),m=t("../internals/object-create"),f=t("../internals/object-get-own-property-names").f,v=t("../internals/object-get-own-property-descriptor").f,_=t("../internals/object-define-property").f,x=t("../internals/string-trim").trim,S="Number",j=a[S],T=j.prototype,C=d(m(T))==S;if(c(S,!j(" 0o1")||!j("0b1")||j("+0x1"))){for(var M,k=function(V){var V=arguments.length<1?0:V,F=this;return F instanceof k&&(C?g(function(){T.valueOf.call(F)}):d(F)!=S)?p(new j(s(V)),F,k):s(V)},A=l?f(j):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),P=0;A.length>P;P++)b(j,M=A[P])&&!b(k,M)&&_(k,M,v(j,M));(k.prototype=T).constructor=k,y(a,S,k)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(t,i,u){t("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(t,i,u){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(b,i,u){"use strict";function s(h,g,m){return g===0?m:g%2==1?s(h,g-1,m*h):s(h*h,g/2,m)}var l=b("../internals/export"),a=b("../internals/to-integer"),c=b("../internals/this-number-value"),y=b("../internals/string-repeat"),b=b("../internals/fails"),d=1 .toFixed,p=Math.floor;l({target:"Number",proto:!0,forced:d&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!b(function(){d.call({})})},{toFixed:function(S){function g(M,k){for(var A=-1,P=k;++A<6;)P+=M*j[A],j[A]=P%1e7,P=p(P/1e7)}function m(M){for(var k=6,A=0;0<=--k;)A+=j[k],j[k]=p(A/M),A=A%M*1e7}function f(){for(var M,k=6,A="";0<=--k;)A===""&&k!==0&&j[k]===0||(M=String(j[k]),A=A===""?M:A+y.call("0",7-M.length)+M);return A}var v,_,x=c(this),S=a(S),j=[0,0,0,0,0,0],T="",C="0";if(S<0||20<S)throw RangeError("Incorrect fraction digits");if(x!=x)return"NaN";if(x<=-1e21||1e21<=x)return String(x);if(x<0&&(T="-",x=-x),1e-21<x)if(x=(v=function(M){for(var k=0,A=M;4096<=A;)k+=12,A/=4096;for(;2<=A;)k+=1,A/=2;return k}(x*s(2,69,1))-69)<0?x*s(2,-v,1):x/s(2,v,1),x*=4503599627370496,0<(v=52-v)){for(g(0,x),_=S;7<=_;)g(1e7,0),_-=7;for(g(s(10,_,1),0),_=v-1;23<=_;)m(1<<23),_-=23;m(1<<_),g(1,1),m(2),C=f()}else g(0,x),g(1<<-v,0),C=f()+y.call("0",S);return C=0<S?T+((x=C.length)<=S?"0."+y.call("0",S-x)+C:C.slice(0,x-S)+"."+C.slice(x-S)):T+C}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(l,i,u){var s=l("../internals/export"),l=l("../internals/object-assign");s({target:"Object",stat:!0,forced:Object.assign!==l},{assign:l})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(t,i,u){var s=t("../internals/export"),l=t("../internals/object-to-array").entries;s({target:"Object",stat:!0},{entries:function(a){return l(a)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(t,i,u){var s=t("../internals/export"),l=t("../internals/iterate"),a=t("../internals/create-property");s({target:"Object",stat:!0},{fromEntries:function(c){var y={};return l(c,function(b,d){a(y,b,d)},void 0,!0),y}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(c,i,u){var s=c("../internals/export"),y=c("../internals/fails"),l=c("../internals/to-indexed-object"),a=c("../internals/object-get-own-property-descriptor").f,c=c("../internals/descriptors"),y=y(function(){a(1)});s({target:"Object",stat:!0,forced:!c||y,sham:!c},{getOwnPropertyDescriptor:function(b,d){return a(l(b),d)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(a,i,u){var s=a("../internals/export"),l=a("../internals/fails"),a=a("../internals/object-get-own-property-names-external").f;s({target:"Object",stat:!0,forced:l(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:a})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(y,i,u){var s=y("../internals/export"),l=y("../internals/fails"),a=y("../internals/to-object"),c=y("../internals/object-get-prototype-of"),y=y("../internals/correct-prototype-getter");s({target:"Object",stat:!0,forced:l(function(){c(1)}),sham:!y},{getPrototypeOf:function(b){return c(a(b))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(t,i,u){var s=t("../internals/export"),l=t("../internals/to-object"),a=t("../internals/object-keys");s({target:"Object",stat:!0,forced:t("../internals/fails")(function(){a(1)})},{keys:function(c){return a(l(c))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(a,i,u){var s=a("../internals/to-string-tag-support"),l=a("../internals/redefine"),a=a("../internals/object-to-string");s||l(Object.prototype,"toString",a,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(xe,i,u){"use strict";var s,l,a,c,y=xe("../internals/export"),b=xe("../internals/is-pure"),d=xe("../internals/global"),p=xe("../internals/get-built-in"),h=xe("../internals/native-promise-constructor"),g=xe("../internals/redefine"),m=xe("../internals/redefine-all"),f=xe("../internals/set-to-string-tag"),v=xe("../internals/set-species"),_=xe("../internals/is-object"),x=xe("../internals/a-function"),S=xe("../internals/an-instance"),j=xe("../internals/classof-raw"),T=xe("../internals/inspect-source"),C=xe("../internals/iterate"),M=xe("../internals/check-correctness-of-iteration"),k=xe("../internals/species-constructor"),A=xe("../internals/task").set,P=xe("../internals/microtask"),O=xe("../internals/promise-resolve"),V=xe("../internals/host-report-errors"),F=xe("../internals/new-promise-capability"),R=xe("../internals/perform"),z=xe("../internals/internal-state"),q=xe("../internals/is-forced"),Re=xe("../internals/well-known-symbol"),G=xe("../internals/engine-v8-version"),W=Re("species"),Z="Promise",ae=z.get,L=z.set,D=z.getterFor(Z),U=h,H=d.TypeError,X=d.document,J=d.process,le=p("fetch"),se=F.f,ne=se,ce=j(J)=="process",he=!!(X&&X.createEvent&&d.dispatchEvent),ee="unhandledrejection",oe="rejectionhandled",fe=1,_e=2,pe=1,ye=2,xe=q(Z,function(){var Pe,De;return T(U)===String(U)&&(G===66||!ce&&typeof PromiseRejectionEvent!="function")?!0:!(!b||U.prototype.finally)||!(51<=G&&/native code/.test(U))&&(De=function(K){K(function(){},function(){})},((Pe=U.resolve(1)).constructor={})[W]=De,!(Pe.then(function(){})instanceof De))}),Re=xe||!M(function(Pe){U.all(Pe).catch(function(){})}),Te=function(Pe){var De;return!(!_(Pe)||typeof(De=Pe.then)!="function")&&De},We=function(Pe,De,K){var re;De.notified||(De.notified=!0,re=De.reactions,P(function(){for(var Q,ie,ve=De.value,Ee=De.state==fe,ke=0;re.length>ke;){var Ue,He,$e,Je=re[ke++],vt=Ee?Je.ok:Je.fail,ht=Je.resolve,ot=Je.reject,pt=Je.domain;try{vt?(Ee||(De.rejection===ye&&function(dt,rr){A.call(d,function(){ce?J.emit("rejectionHandled",dt):qe(oe,dt,rr.value)})}(Pe,De),De.rejection=pe),vt===!0?Ue=ve:(pt&&pt.enter(),Ue=vt(ve),pt&&(pt.exit(),$e=!0)),Ue===Je.promise?ot(H("Promise-chain cycle")):(He=Te(Ue))?He.call(Ue,ht,ot):ht(Ue)):ot(ve)}catch(dt){pt&&!$e&&pt.exit(),ot(dt)}}De.reactions=[],De.notified=!1,K&&!De.rejection&&(Q=Pe,ie=De,A.call(d,function(){var dt=ie.value,rr=Ye(ie);if(rr&&(rr=R(function(){ce?J.emit("unhandledRejection",dt,Q):qe(ee,Q,dt)}),ie.rejection=ce||Ye(ie)?ye:pe,rr.error))throw rr.value}))}))},qe=function(Pe,De,K){var re;he?((re=X.createEvent("Event")).promise=De,re.reason=K,re.initEvent(Pe,!1,!0),d.dispatchEvent(re)):re={promise:De,reason:K},(De=d["on"+Pe])?De(re):Pe===ee&&V("Unhandled promise rejection",K)},Ye=function(Pe){return Pe.rejection!==pe&&!Pe.parent},Ze=function(Pe,De,K,re){return function(Q){Pe(De,K,Q,re)}},Xe=function(Pe,De,K,re){De.done||(De.done=!0,(De=re||De).value=K,De.state=_e,We(Pe,De,!0))},we=function(Pe,De,K,re){if(!De.done){De.done=!0,re&&(De=re);try{if(Pe===K)throw H("Promise can't be resolved itself");var Q=Te(K);Q?P(function(){var ie={done:!1};try{Q.call(K,Ze(we,Pe,ie,De),Ze(Xe,Pe,ie,De))}catch(ve){Xe(Pe,ie,ve,De)}}):(De.value=K,De.state=fe,We(Pe,De,!1))}catch(ie){Xe(Pe,{done:!1},ie,De)}}};xe&&(U=function(Pe){S(this,U,Z),x(Pe),s.call(this);var De=ae(this);try{Pe(Ze(we,this,De),Ze(Xe,this,De))}catch(K){Xe(this,De,K)}},(s=function(Pe){L(this,{type:Z,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=m(U.prototype,{then:function(Pe,De){var K=D(this),re=se(k(this,U));return re.ok=typeof Pe!="function"||Pe,re.fail=typeof De=="function"&&De,re.domain=ce?J.domain:void 0,K.parent=!0,K.reactions.push(re),K.state!=0&&We(this,K,!1),re.promise},catch:function(Pe){return this.then(void 0,Pe)}}),l=function(){var Pe=new s,De=ae(Pe);this.promise=Pe,this.resolve=Ze(we,Pe,De),this.reject=Ze(Xe,Pe,De)},F.f=se=function(Pe){return Pe===U||Pe===a?new l:ne(Pe)},b||typeof h!="function"||(c=h.prototype.then,g(h.prototype,"then",function(Pe,De){var K=this;return new U(function(re,Q){c.call(K,re,Q)}).then(Pe,De)},{unsafe:!0}),typeof le=="function"&&y({global:!0,enumerable:!0,forced:!0},{fetch:function(Pe){return O(U,le.apply(d,arguments))}}))),y({global:!0,wrap:!0,forced:xe},{Promise:U}),f(U,Z,!1,!0),v(Z),a=p(Z),y({target:Z,stat:!0,forced:xe},{reject:function(Pe){var De=se(this);return De.reject.call(void 0,Pe),De.promise}}),y({target:Z,stat:!0,forced:b||xe},{resolve:function(Pe){return O(b&&this===a?U:this,Pe)}}),y({target:Z,stat:!0,forced:Re},{all:function(Pe){var De=this,K=se(De),re=K.resolve,Q=K.reject,ie=R(function(){var ve=x(De.resolve),Ee=[],ke=0,Ue=1;C(Pe,function(He){var $e=ke++,Je=!1;Ee.push(void 0),Ue++,ve.call(De,He).then(function(vt){Je||(Je=!0,Ee[$e]=vt,--Ue||re(Ee))},Q)}),--Ue||re(Ee)});return ie.error&&Q(ie.value),K.promise},race:function(Pe){var De=this,K=se(De),re=K.reject,Q=R(function(){var ie=x(De.resolve);C(Pe,function(ve){ie.call(De,ve).then(K.resolve,re)})});return Q.error&&re(Q.value),K.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(d,i,u){var s=d("../internals/export"),m=d("../internals/get-built-in"),l=d("../internals/a-function"),a=d("../internals/an-object"),c=d("../internals/is-object"),y=d("../internals/object-create"),b=d("../internals/function-bind"),d=d("../internals/fails"),p=m("Reflect","construct"),h=d(function(){function f(){}return!(p(function(){},[],f)instanceof f)}),g=!d(function(){p(function(){})}),m=h||g;s({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(f,v){l(f),a(v);var _=arguments.length<3?f:l(arguments[2]);if(g&&!h)return p(f,v,_);if(f==_){switch(v.length){case 0:return new f;case 1:return new f(v[0]);case 2:return new f(v[0],v[1]);case 3:return new f(v[0],v[1],v[2]);case 4:return new f(v[0],v[1],v[2],v[3])}var x=[null];return x.push.apply(x,v),new(b.apply(f,x))}return x=_.prototype,_=y(c(x)?x:Object.prototype),x=Function.apply.call(f,_,v),c(x)?x:_}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(t,i,u){var s=t("../internals/export"),l=t("../internals/is-object"),a=t("../internals/an-object"),c=t("../internals/has"),y=t("../internals/object-get-own-property-descriptor"),b=t("../internals/object-get-prototype-of");s({target:"Reflect",stat:!0},{get:function d(p,h){var g,m=arguments.length<3?p:arguments[2];return a(p)===m?p[h]:(g=y.f(p,h))?c(g,"value")?g.value:g.get===void 0?void 0:g.get.call(m):l(g=b(p))?d(g,h,m):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(t,i,u){var s=t("../internals/descriptors"),l=t("../internals/global"),a=t("../internals/is-forced"),c=t("../internals/inherit-if-required"),y=t("../internals/object-define-property").f,b=t("../internals/object-get-own-property-names").f,d=t("../internals/is-regexp"),p=t("../internals/regexp-flags"),h=t("../internals/regexp-sticky-helpers"),g=t("../internals/redefine"),m=t("../internals/fails"),f=t("../internals/internal-state").set,v=t("../internals/set-species"),_=t("../internals/well-known-symbol")("match"),x=l.RegExp,S=x.prototype,j=/a/g,T=/a/g,C=new x(j)!==j,M=h.UNSUPPORTED_Y;if(s&&a("RegExp",!C||M||m(function(){return T[_]=!1,x(j)!=j||x(T)==T||x(j,"i")!="/a/i"}))){for(var k=function(O,V){var F,R=this instanceof k,z=d(O),q=V===void 0;return!R&&z&&O.constructor===k&&q?O:(C?z&&!q&&(O=O.source):O instanceof k&&(q&&(V=p.call(O)),O=O.source),M&&(F=!!V&&-1<V.indexOf("y"))&&(V=V.replace(/y/g,"")),z=c(C?new x(O,V):x(O,V),R?this:S,k),M&&F&&f(z,{sticky:F}),z)},A=b(x),P=0;A.length>P;)(function(O){O in k||y(k,O,{configurable:!0,get:function(){return x[O]},set:function(V){x[O]=V}})})(A[P++]);(S.constructor=k).prototype=S,g(l,"RegExp",k)}v("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(l,i,u){"use strict";var s=l("../internals/export"),l=l("../internals/regexp-exec");s({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(c,i,u){"use strict";var s=c("../internals/redefine"),l=c("../internals/an-object"),d=c("../internals/fails"),a=c("../internals/regexp-flags"),c="toString",y=RegExp.prototype,b=y[c],d=d(function(){return b.call({source:"a",flags:"b"})!="/a/b"}),p=b.name!=c;(d||p)&&s(RegExp.prototype,c,function(){var h=l(this),g=String(h.source),m=h.flags;return"/"+g+"/"+String(m===void 0&&h instanceof RegExp&&!("flags"in y)?a.call(h):m)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(l,i,u){"use strict";var s=l("../internals/collection"),l=l("../internals/collection-strong");i.exports=s("Set",function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},l)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(b,i,u){"use strict";var s=b("../internals/export"),l=b("../internals/object-get-own-property-descriptor").f,a=b("../internals/to-length"),c=b("../internals/not-a-regexp"),y=b("../internals/require-object-coercible"),h=b("../internals/correct-is-regexp-logic"),b=b("../internals/is-pure"),d="".endsWith,p=Math.min,h=h("endsWith");s({target:"String",proto:!0,forced:!!(b||h||!(s=l(String.prototype,"endsWith"))||s.writable)&&!h},{endsWith:function(g){var m=String(y(this)),f=(c(g),1<arguments.length?arguments[1]:void 0),v=a(m.length),f=f===void 0?v:p(a(f),v),v=String(g);return d?d.call(m,v,f):m.slice(f-v.length,f)===v}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(t,i,u){"use strict";var s=t("../internals/export"),l=t("../internals/not-a-regexp"),a=t("../internals/require-object-coercible");s({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(c){return!!~String(a(this)).indexOf(l(c),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(a,i,u){"use strict";var s=a("../internals/string-multibyte").charAt,l=a("../internals/internal-state"),a=a("../internals/define-iterator"),c="String Iterator",y=l.set,b=l.getterFor(c);a(String,"String",function(d){y(this,{type:c,string:String(d),index:0})},function(){var d=b(this),p=d.string,h=d.index;return h>=p.length?{value:void 0,done:!0}:(p=s(p,h),d.index+=p.length,{value:p,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(t,i,u){"use strict";var s=t("../internals/fix-regexp-well-known-symbol-logic"),l=t("../internals/an-object"),a=t("../internals/to-length"),c=t("../internals/require-object-coercible"),y=t("../internals/advance-string-index"),b=t("../internals/regexp-exec-abstract");s("match",1,function(d,p,h){return[function(g){var m=c(this),f=g?.[d];return f!==void 0?f.call(g,m):new RegExp(g)[d](String(m))},function(g){var m=h(p,g,this);if(m.done)return m.value;var f=l(g),v=String(this);if(!f.global)return b(f,v);for(var _=f.unicode,x=[],S=f.lastIndex=0;(j=b(f,v))!==null;){var j=String(j[0]);(x[S]=j)===""&&(f.lastIndex=y(v,a(f.lastIndex),_)),S++}return S===0?null:x}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(t,i,u){"use strict";var s=t("../internals/export"),l=t("../internals/string-pad").start;s({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(a){return l(this,a,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(t,i,u){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(t,i,u){"use strict";var s=t("../internals/fix-regexp-well-known-symbol-logic"),l=t("../internals/an-object"),a=t("../internals/to-object"),c=t("../internals/to-length"),y=t("../internals/to-integer"),b=t("../internals/require-object-coercible"),d=t("../internals/advance-string-index"),p=t("../internals/regexp-exec-abstract"),h=Math.max,g=Math.min,m=Math.floor,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;s("replace",2,function(_,x,S,j){var T=j.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,C=j.REPLACE_KEEPS_$0,M=T?"$":"$0";return[function(k,A){var P=b(this),O=k?.[_];return O!==void 0?O.call(k,P,A):x.call(String(P),k,A)},function(k,A){if(!T&&C||typeof A=="string"&&A.indexOf(M)===-1){var P=S(x,k,this,A);if(P.done)return P.value}for(var O,V=l(k),F=String(this),R=typeof A=="function",z=(R||(A=String(A)),V.global),q=(z&&(O=V.unicode,V.lastIndex=0),[]);(L=p(V,F))!==null&&(q.push(L),z);)String(L[0])===""&&(V.lastIndex=d(F,c(V.lastIndex),O));for(var G,W="",Z=0,ae=0;ae<q.length;ae++){for(var L=q[ae],D=String(L[0]),U=h(g(y(L.index),F.length),0),H=[],X=1;X<L.length;X++)H.push((G=L[X])===void 0?G:String(G));var J=L.groups,le=R?(le=[D].concat(H,U,F),J!==void 0&&le.push(J),String(A.apply(void 0,le))):function(se,ne,ce,he,ee,oe){var fe=ce+se.length,_e=he.length,pe=v;return ee!==void 0&&(ee=a(ee),pe=f),x.call(oe,pe,function(ye,xe){var Re;switch(xe.charAt(0)){case"$":return"$";case"&":return se;case"`":return ne.slice(0,ce);case"'":return ne.slice(fe);case"<":Re=ee[xe.slice(1,-1)];break;default:var Te,We=+xe;if(We==0)return ye;if(_e<We)return(Te=m(We/10))!==0&&Te<=_e?he[Te-1]===void 0?xe.charAt(1):he[Te-1]+xe.charAt(1):ye;Re=he[We-1]}return Re===void 0?"":Re})}(D,F,U,H,J,A);Z<=U&&(W+=F.slice(Z,U)+le,Z=U+D.length)}return W+F.slice(Z)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(t,i,u){"use strict";var s=t("../internals/fix-regexp-well-known-symbol-logic"),l=t("../internals/an-object"),a=t("../internals/require-object-coercible"),c=t("../internals/same-value"),y=t("../internals/regexp-exec-abstract");s("search",1,function(b,d,p){return[function(h){var g=a(this),m=h?.[b];return m!==void 0?m.call(h,g):new RegExp(h)[b](String(g))},function(h){var g,m=p(d,h,this);return m.done?m.value:(m=l(h),h=String(this),g=m.lastIndex,c(g,0)||(m.lastIndex=0),h=y(m,h),c(m.lastIndex,g)||(m.lastIndex=g),h===null?-1:h.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(g,i,u){"use strict";var s=g("../internals/fix-regexp-well-known-symbol-logic"),l=g("../internals/is-regexp"),a=g("../internals/an-object"),c=g("../internals/require-object-coercible"),y=g("../internals/species-constructor"),b=g("../internals/advance-string-index"),d=g("../internals/to-length"),p=g("../internals/regexp-exec-abstract"),h=g("../internals/regexp-exec"),g=g("../internals/fails"),m=[].push,f=Math.min,v=4294967295,_=!g(function(){return!RegExp(v,"y")});s("split",2,function(x,S,j){var T="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(C,M){var k=String(c(this)),A=M===void 0?v:M>>>0;if(A==0)return[];if(C===void 0)return[k];if(!l(C))return S.call(k,C,A);for(var P,O,V,F=[],M=(C.ignoreCase?"i":"")+(C.multiline?"m":"")+(C.unicode?"u":"")+(C.sticky?"y":""),R=0,z=new RegExp(C.source,M+"g");(P=h.call(z,k))&&!(R<(O=z.lastIndex)&&(F.push(k.slice(R,P.index)),1<P.length&&P.index<k.length&&m.apply(F,P.slice(1)),V=P[0].length,R=O,F.length>=A));)z.lastIndex===P.index&&z.lastIndex++;return R===k.length?!V&&z.test("")||F.push(""):F.push(k.slice(R)),F.length>A?F.slice(0,A):F}:"0".split(void 0,0).length?function(C,M){return C===void 0&&M===0?[]:S.call(this,C,M)}:S;return[function(C,M){var k=c(this),A=C?.[x];return A!==void 0?A.call(C,k,M):T.call(String(k),C,M)},function(P,M){var k=j(T,P,this,M,T!==S);if(k.done)return k.value;var k=a(P),A=String(this),P=y(k,RegExp),O=k.unicode,V=(k.ignoreCase?"i":"")+(k.multiline?"m":"")+(k.unicode?"u":"")+(_?"y":"g"),F=new P(_?k:"^(?:"+k.source+")",V),R=M===void 0?v:M>>>0;if(R==0)return[];if(A.length===0)return p(F,A)===null?[A]:[];for(var z=0,q=0,G=[];q<A.length;){F.lastIndex=_?q:0;var W,Z=p(F,_?A:A.slice(q));if(Z===null||(W=f(d(F.lastIndex+(_?0:q)),A.length))===z)q=b(A,q,O);else{if(G.push(A.slice(z,q)),G.length===R)return G;for(var ae=1;ae<=Z.length-1;ae++)if(G.push(Z[ae]),G.length===R)return G;q=z=W}}return G.push(A.slice(z)),G}]},!_)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(b,i,u){"use strict";var s=b("../internals/export"),l=b("../internals/object-get-own-property-descriptor").f,a=b("../internals/to-length"),c=b("../internals/not-a-regexp"),y=b("../internals/require-object-coercible"),h=b("../internals/correct-is-regexp-logic"),b=b("../internals/is-pure"),d="".startsWith,p=Math.min,h=h("startsWith");s({target:"String",proto:!0,forced:!!(b||h||!(s=l(String.prototype,"startsWith"))||s.writable)&&!h},{startsWith:function(v){var m=String(y(this)),f=(c(v),a(p(1<arguments.length?arguments[1]:void 0,m.length))),v=String(v);return d?d.call(m,v,f):m.slice(f,f+v.length)===v}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(t,i,u){"use strict";var s=t("../internals/export"),l=t("../internals/create-html");s({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return l(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(t,i,u){"use strict";var s=t("../internals/export"),l=t("../internals/string-trim").trim;s({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return l(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(f,i,u){"use strict";var s,l,a,c,y,b=f("../internals/export"),d=f("../internals/descriptors"),p=f("../internals/global"),h=f("../internals/has"),g=f("../internals/is-object"),m=f("../internals/object-define-property").f,f=f("../internals/copy-constructor-properties"),v=p.Symbol;!d||typeof v!="function"||"description"in v.prototype&&v().description===void 0||(s={},f(l=function(){var _=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),x=this instanceof l?new v(_):_===void 0?v():v(_);return _===""&&(s[x]=!0),x},v),(p=l.prototype=v.prototype).constructor=l,a=p.toString,c=String(v("test"))=="Symbol(test)",y=/^Symbol\((.*)\)[^)]+$/,m(p,"description",{configurable:!0,get:function(){var _=g(this)?this.valueOf():this,x=a.call(_);return h(s,_)?"":(_=c?x.slice(7,-1):x.replace(y,"$1"))===""?void 0:_}}),b({global:!0,forced:!0},{Symbol:l}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(t,i,u){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(ne,i,u){"use strict";function s(Q,ie){var ve=Re[Q]=k(oe[se]);return ce(ve,{type:le,tag:Q,description:ie}),h||(ve.description=ie),ve}function l(Q,Ee){S(Q);var ve=T(Ee),Ee=A(ve).concat(re(ve));return X(Ee,function(ke){h&&!K.call(ve,ke)||De(Q,ke,ve[ke])}),Q}function a(Ee,ke){var ve,Ee=T(Ee),ke=C(ke,!0);if(Ee!==ee||!v(Re,ke)||v(Te,ke))return!(ve=_e(Ee,ke))||!v(Re,ke)||v(Ee,J)&&Ee[J][ke]||(ve.enumerable=!0),ve}function c(ie){var ie=ye(T(ie)),ve=[];return X(ie,function(Ee){v(Re,Ee)||v(Z,Ee)||ve.push(Ee)}),ve}var y=ne("../internals/export"),b=ne("../internals/global"),d=ne("../internals/get-built-in"),p=ne("../internals/is-pure"),h=ne("../internals/descriptors"),g=ne("../internals/native-symbol"),m=ne("../internals/use-symbol-as-uid"),f=ne("../internals/fails"),v=ne("../internals/has"),_=ne("../internals/is-array"),x=ne("../internals/is-object"),S=ne("../internals/an-object"),j=ne("../internals/to-object"),T=ne("../internals/to-indexed-object"),C=ne("../internals/to-primitive"),M=ne("../internals/create-property-descriptor"),k=ne("../internals/object-create"),A=ne("../internals/object-keys"),P=ne("../internals/object-get-own-property-names"),O=ne("../internals/object-get-own-property-names-external"),V=ne("../internals/object-get-own-property-symbols"),F=ne("../internals/object-get-own-property-descriptor"),R=ne("../internals/object-define-property"),z=ne("../internals/object-property-is-enumerable"),q=ne("../internals/create-non-enumerable-property"),G=ne("../internals/redefine"),W=ne("../internals/shared"),Ye=ne("../internals/shared-key"),Z=ne("../internals/hidden-keys"),ae=ne("../internals/uid"),L=ne("../internals/well-known-symbol"),D=ne("../internals/well-known-symbol-wrapped"),U=ne("../internals/define-well-known-symbol"),H=ne("../internals/set-to-string-tag"),Ze=ne("../internals/internal-state"),X=ne("../internals/array-iteration").forEach,J=Ye("hidden"),le="Symbol",se="prototype",ne=L("toPrimitive"),ce=Ze.set,he=Ze.getterFor(le),ee=Object[se],oe=b.Symbol,fe=d("JSON","stringify"),_e=F.f,pe=R.f,ye=O.f,xe=z.f,Re=W("symbols"),Te=W("op-symbols"),We=W("string-to-symbol-registry"),qe=W("symbol-to-string-registry"),Ye=W("wks"),Ze=b.QObject,Xe=!Ze||!Ze[se]||!Ze[se].findChild,we=h&&f(function(){return k(pe({},"a",{get:function(){return pe(this,"a",{value:7}).a}})).a!=7})?function(Q,ie,ve){var Ee=_e(ee,ie);Ee&&delete ee[ie],pe(Q,ie,ve),Ee&&Q!==ee&&pe(ee,ie,Ee)}:pe,Pe=m?function(Q){return typeof Q=="symbol"}:function(Q){return Object(Q)instanceof oe},De=function(Q,ie,ve){return Q===ee&&De(Te,ie,ve),S(Q),ie=C(ie,!0),S(ve),(v(Re,ie)?(ve.enumerable?(v(Q,J)&&Q[J][ie]&&(Q[J][ie]=!1),ve=k(ve,{enumerable:M(0,!1)})):(v(Q,J)||pe(Q,J,M(1,{})),Q[J][ie]=!0),we):pe)(Q,ie,ve)},K=function(ie){var ie=C(ie,!0),ve=xe.call(this,ie);return!(this===ee&&v(Re,ie)&&!v(Te,ie))&&(!(ve||!v(this,ie)||!v(Re,ie)||v(this,J)&&this[J][ie])||ve)},re=function(ve){var ie=ve===ee,ve=ye(ie?Te:T(ve)),Ee=[];return X(ve,function(ke){!v(Re,ke)||ie&&!v(ee,ke)||Ee.push(Re[ke])}),Ee};g||(G((oe=function(){if(this instanceof oe)throw TypeError("Symbol is not a constructor");var Q=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,ie=ae(Q),ve=function(Ee){this===ee&&ve.call(Te,Ee),v(this,J)&&v(this[J],ie)&&(this[J][ie]=!1),we(this,ie,M(1,Ee))};return h&&Xe&&we(ee,ie,{configurable:!0,set:ve}),s(ie,Q)})[se],"toString",function(){return he(this).tag}),G(oe,"withoutSetter",function(Q){return s(ae(Q),Q)}),z.f=K,R.f=De,F.f=a,P.f=O.f=c,V.f=re,D.f=function(Q){return s(L(Q),Q)},h&&(pe(oe[se],"description",{configurable:!0,get:function(){return he(this).description}}),p||G(ee,"propertyIsEnumerable",K,{unsafe:!0}))),y({global:!0,wrap:!0,forced:!g,sham:!g},{Symbol:oe}),X(A(Ye),function(Q){U(Q)}),y({target:le,stat:!0,forced:!g},{for:function(ve){var ie,ve=String(ve);return v(We,ve)?We[ve]:(ie=oe(ve),We[ve]=ie,qe[ie]=ve,ie)},keyFor:function(Q){if(!Pe(Q))throw TypeError(Q+" is not a symbol");if(v(qe,Q))return qe[Q]},useSetter:function(){Xe=!0},useSimple:function(){Xe=!1}}),y({target:"Object",stat:!0,forced:!g,sham:!h},{create:function(Q,ie){return ie===void 0?k(Q):l(k(Q),ie)},defineProperty:De,defineProperties:l,getOwnPropertyDescriptor:a}),y({target:"Object",stat:!0,forced:!g},{getOwnPropertyNames:c,getOwnPropertySymbols:re}),y({target:"Object",stat:!0,forced:f(function(){V.f(1)})},{getOwnPropertySymbols:function(Q){return V.f(j(Q))}}),fe&&y({target:"JSON",stat:!0,forced:!g||f(function(){var Q=oe();return fe([Q])!="[null]"||fe({a:Q})!="{}"||fe(Object(Q))!="{}"})},{stringify:function(Q,ie,ve){for(var Ee,ke=[Q],Ue=1;Ue<arguments.length;)ke.push(arguments[Ue++]);if((x(Ee=ie)||Q!==void 0)&&!Pe(Q))return _(ie)||(ie=function(He,$e){if(typeof Ee=="function"&&($e=Ee.call(this,He,$e)),!Pe($e))return $e}),ke[1]=ie,fe.apply(null,ke)}}),oe[se][ne]||q(oe[se],ne,oe[se].valueOf),H(oe,le),Z[J]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(t,i,u){"use strict";var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-copy-within"),a=s.aTypedArray;(0,s.exportTypedArrayMethod)("copyWithin",function(c,y){return l.call(a(this),c,y,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(t,i,u){"use strict";var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").every,a=s.aTypedArray;(0,s.exportTypedArrayMethod)("every",function(c){return l(a(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(t,i,u){"use strict";var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-fill"),a=s.aTypedArray;(0,s.exportTypedArrayMethod)("fill",function(c){return l.apply(a(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(t,i,u){"use strict";var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").filter,a=t("../internals/species-constructor"),c=s.aTypedArray,y=s.aTypedArrayConstructor;(0,s.exportTypedArrayMethod)("filter",function(b){for(var d=l(c(this),b,1<arguments.length?arguments[1]:void 0),b=a(this,this.constructor),p=0,h=d.length,g=new(y(b))(h);p<h;)g[p]=d[p++];return g})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(t,i,u){"use strict";var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").findIndex,a=s.aTypedArray;(0,s.exportTypedArrayMethod)("findIndex",function(c){return l(a(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(t,i,u){"use strict";var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").find,a=s.aTypedArray;(0,s.exportTypedArrayMethod)("find",function(c){return l(a(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(t,i,u){t("../internals/typed-array-constructor")("Float32",function(s){return function(l,a,c){return s(this,l,a,c)}})},{"../internals/typed-array-constructor":144}],220:[function(t,i,u){t("../internals/typed-array-constructor")("Float64",function(s){return function(l,a,c){return s(this,l,a,c)}})},{"../internals/typed-array-constructor":144}],221:[function(t,i,u){"use strict";var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").forEach,a=s.aTypedArray;(0,s.exportTypedArrayMethod)("forEach",function(c){l(a(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(t,i,u){"use strict";var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-includes").includes,a=s.aTypedArray;(0,s.exportTypedArrayMethod)("includes",function(c){return l(a(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(t,i,u){"use strict";var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-includes").indexOf,a=s.aTypedArray;(0,s.exportTypedArrayMethod)("indexOf",function(c){return l(a(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(t,i,u){t("../internals/typed-array-constructor")("Int16",function(s){return function(l,a,c){return s(this,l,a,c)}})},{"../internals/typed-array-constructor":144}],225:[function(t,i,u){t("../internals/typed-array-constructor")("Int32",function(s){return function(l,a,c){return s(this,l,a,c)}})},{"../internals/typed-array-constructor":144}],226:[function(l,i,u){"use strict";function s(){return a.call(b(this))}var h=l("../internals/global"),p=l("../internals/array-buffer-view-core"),d=l("../modules/es.array.iterator"),l=l("../internals/well-known-symbol")("iterator"),h=h.Uint8Array,a=d.values,c=d.keys,y=d.entries,b=p.aTypedArray,d=p.exportTypedArrayMethod,p=h&&h.prototype[l],h=!!p&&(p.name=="values"||p.name==null);d("entries",function(){return y.call(b(this))}),d("keys",function(){return c.call(b(this))}),d("values",s,!h),d(l,s,!h)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(l,i,u){"use strict";var l=l("../internals/array-buffer-view-core"),s=l.aTypedArray,l=l.exportTypedArrayMethod,a=[].join;l("join",function(c){return a.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(t,i,u){"use strict";var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-last-index-of"),a=s.aTypedArray;(0,s.exportTypedArrayMethod)("lastIndexOf",function(c){return l.apply(a(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(t,i,u){"use strict";var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").map,a=t("../internals/species-constructor"),c=s.aTypedArray,y=s.aTypedArrayConstructor;(0,s.exportTypedArrayMethod)("map",function(b){return l(c(this),b,1<arguments.length?arguments[1]:void 0,function(d,p){return new(y(a(d,d.constructor)))(p)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(t,i,u){"use strict";var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-reduce").right,a=s.aTypedArray;(0,s.exportTypedArrayMethod)("reduceRight",function(c){return l(a(this),c,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(t,i,u){"use strict";var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-reduce").left,a=s.aTypedArray;(0,s.exportTypedArrayMethod)("reduce",function(c){return l(a(this),c,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(l,i,u){"use strict";var l=l("../internals/array-buffer-view-core"),s=l.aTypedArray,l=l.exportTypedArrayMethod,a=Math.floor;l("reverse",function(){for(var c,y=s(this).length,b=a(y/2),d=0;d<b;)c=this[d],this[d++]=this[--y],this[y]=c;return this})},{"../internals/array-buffer-view-core":12}],233:[function(y,i,u){"use strict";var s=y("../internals/array-buffer-view-core"),l=y("../internals/to-length"),a=y("../internals/to-offset"),c=y("../internals/to-object"),y=y("../internals/fails"),b=s.aTypedArray;(0,s.exportTypedArrayMethod)("set",function(d){b(this);var p=a(1<arguments.length?arguments[1]:void 0,1),h=this.length,g=c(d),m=l(g.length),f=0;if(h<m+p)throw RangeError("Wrong length");for(;f<m;)this[p+f]=g[f++]},y(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(l,i,u){"use strict";var y=l("../internals/array-buffer-view-core"),s=l("../internals/species-constructor"),l=l("../internals/fails"),a=y.aTypedArray,c=y.aTypedArrayConstructor,y=y.exportTypedArrayMethod,b=[].slice;y("slice",function(d,p){for(var h=b.call(a(this),d,p),d=s(this,this.constructor),g=0,m=h.length,f=new(c(d))(m);g<m;)f[g]=h[g++];return f},l(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(t,i,u){"use strict";var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").some,a=s.aTypedArray;(0,s.exportTypedArrayMethod)("some",function(c){return l(a(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(l,i,u){"use strict";var l=l("../internals/array-buffer-view-core"),s=l.aTypedArray,l=l.exportTypedArrayMethod,a=[].sort;l("sort",function(c){return a.call(s(this),c)})},{"../internals/array-buffer-view-core":12}],237:[function(t,i,u){"use strict";var s=t("../internals/array-buffer-view-core"),l=t("../internals/to-length"),a=t("../internals/to-absolute-index"),c=t("../internals/species-constructor"),y=s.aTypedArray;(0,s.exportTypedArrayMethod)("subarray",function(g,d){var p=y(this),h=p.length,g=a(g,h);return new(c(p,p.constructor))(p.buffer,p.byteOffset+g*p.BYTES_PER_ELEMENT,l((d===void 0?h:a(d,h))-g))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(l,i,u){"use strict";var y=l("../internals/global"),s=l("../internals/array-buffer-view-core"),l=l("../internals/fails"),a=y.Int8Array,c=s.aTypedArray,y=s.exportTypedArrayMethod,b=[].toLocaleString,d=[].slice,p=!!a&&l(function(){b.call(new a(1))});y("toLocaleString",function(){return b.apply(p?d.call(c(this)):c(this),arguments)},l(function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()})||!l(function(){a.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(l,i,u){"use strict";var s=l("../internals/array-buffer-view-core").exportTypedArrayMethod,y=l("../internals/fails"),l=l("../internals/global").Uint8Array,l=l&&l.prototype||{},a=[].toString,c=[].join,y=(y(function(){a.call({})})&&(a=function(){return c.call(this)}),l.toString!=a);s("toString",a,y)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(t,i,u){t("../internals/typed-array-constructor")("Uint16",function(s){return function(l,a,c){return s(this,l,a,c)}})},{"../internals/typed-array-constructor":144}],241:[function(t,i,u){t("../internals/typed-array-constructor")("Uint32",function(s){return function(l,a,c){return s(this,l,a,c)}})},{"../internals/typed-array-constructor":144}],242:[function(t,i,u){t("../internals/typed-array-constructor")("Uint8",function(s){return function(l,a,c){return s(this,l,a,c)}})},{"../internals/typed-array-constructor":144}],243:[function(t,i,u){t("../internals/typed-array-constructor")("Uint8",function(s){return function(l,a,c){return s(this,l,a,c)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(v,S,u){"use strict";function s(j){return function(){return j(this,arguments.length?arguments[0]:void 0)}}var l,a,c,y,b,_=v("../internals/global"),d=v("../internals/redefine-all"),p=v("../internals/internal-metadata"),h=v("../internals/collection"),g=v("../internals/collection-weak"),m=v("../internals/is-object"),f=v("../internals/internal-state").enforce,v=v("../internals/native-weak-map"),_=!_.ActiveXObject&&"ActiveXObject"in _,x=Object.isExtensible,S=S.exports=h("WeakMap",s,g);v&&_&&(l=g.getConstructor(s,"WeakMap",!0),p.REQUIRED=!0,h=S.prototype,a=h.delete,c=h.has,y=h.get,b=h.set,d(h,{delete:function(j){var T;return m(j)&&!x(j)?((T=f(this)).frozen||(T.frozen=new l),a.call(this,j)||T.frozen.delete(j)):a.call(this,j)},has:function(j){var T;return m(j)&&!x(j)?((T=f(this)).frozen||(T.frozen=new l),c.call(this,j)||T.frozen.has(j)):c.call(this,j)},get:function(j){var T;return!m(j)||x(j)||((T=f(this)).frozen||(T.frozen=new l),c.call(this,j))?y.call(this,j):T.frozen.get(j)},set:function(j,T){var C;return!m(j)||x(j)||((C=f(this)).frozen||(C.frozen=new l),c.call(this,j))?b.call(this,j,T):C.frozen.set(j,T),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(t,i,u){var s,l=t("../internals/global"),a=t("../internals/dom-iterables"),c=t("../internals/array-for-each"),y=t("../internals/create-non-enumerable-property");for(s in a){var b=l[s],b=b&&b.prototype;if(b&&b.forEach!==c)try{y(b,"forEach",c)}catch{b.forEach=c}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(b,i,u){var s,l=b("../internals/global"),a=b("../internals/dom-iterables"),c=b("../modules/es.array.iterator"),y=b("../internals/create-non-enumerable-property"),b=b("../internals/well-known-symbol"),d=b("iterator"),p=b("toStringTag"),h=c.values;for(s in a){var g=l[s],m=g&&g.prototype;if(m){if(m[d]!==h)try{y(m,d,h)}catch{m[d]=h}if(m[p]||y(m,p,s),a[s]){for(var f in c)if(m[f]!==c[f])try{y(m,f,c[f])}catch{m[f]=c[f]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(J,i,u){"use strict";J("../modules/es.array.iterator");function s(le){try{return decodeURIComponent(le)}catch{return le}}function l(le){return U[le]}function a(le){return encodeURIComponent(le).replace(D,l)}function c(le){this.entries.length=0,H(this.entries,le)}function y(le,se){if(le<se)throw TypeError("Not enough arguments")}function b(){_(this,b,R);var le,se,ne,ce,he,ee,oe,fe,_e=0<arguments.length?arguments[0]:void 0,pe=[];if(q(this,{type:R,entries:pe,updateURL:function(){},updateSearchParams:c}),_e!==void 0)if(C(_e))if(typeof(le=P(_e))=="function")for(ne=(se=le.call(_e)).next;!(ce=ne.call(se)).done;){if((ee=(he=(ce=A(T(ce.value))).next).call(ce)).done||(oe=he.call(ce)).done||!he.call(ce).done)throw TypeError("Expected sequence with length 2");pe.push({key:ee.value+"",value:oe.value+""})}else for(fe in _e)x(_e,fe)&&pe.push({key:fe,value:_e[fe]+""});else H(pe,typeof _e=="string"?_e.charAt(0)==="?"?_e.slice(1):_e:_e+"")}var d=J("../internals/export"),F=J("../internals/get-built-in"),p=J("../internals/native-url"),h=J("../internals/redefine"),g=J("../internals/redefine-all"),m=J("../internals/set-to-string-tag"),f=J("../internals/create-iterator-constructor"),v=J("../internals/internal-state"),_=J("../internals/an-instance"),x=J("../internals/has"),S=J("../internals/function-bind-context"),j=J("../internals/classof"),T=J("../internals/an-object"),C=J("../internals/is-object"),M=J("../internals/object-create"),k=J("../internals/create-property-descriptor"),A=J("../internals/get-iterator"),P=J("../internals/get-iterator-method"),J=J("../internals/well-known-symbol"),O=F("fetch"),V=F("Headers"),F=J("iterator"),R="URLSearchParams",z=R+"Iterator",q=v.set,G=v.getterFor(R),W=v.getterFor(z),Z=/\+/g,ae=Array(4),L=function(le){var se,ne=le.replace(Z," "),ce=4;try{return decodeURIComponent(ne)}catch{for(;ce;)ne=ne.replace((se=ce--,ae[se-1]||(ae[se-1]=RegExp("((?:%[\\da-f]{2}){"+se+"})","gi"))),s);return ne}},D=/[!'()~]|%20/g,U={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},H=function(le,se){if(se)for(var ne,ce=se.split("&"),he=0;he<ce.length;)(ne=ce[he++]).length&&(ne=ne.split("="),le.push({key:L(ne.shift()),value:L(ne.join("="))}))},X=f(function(le,se){q(this,{type:z,iterator:A(G(le).entries),kind:se})},"Iterator",function(){var se=W(this),le=se.kind,se=se.iterator.next(),ne=se.value;return se.done||(se.value=le==="keys"?ne.key:le==="values"?ne.value:[ne.key,ne.value]),se}),J=b.prototype;g(J,{append:function(le,se){y(arguments.length,2);var ne=G(this);ne.entries.push({key:le+"",value:se+""}),ne.updateURL()},delete:function(le){y(arguments.length,1);for(var se=G(this),ne=se.entries,ce=le+"",he=0;he<ne.length;)ne[he].key===ce?ne.splice(he,1):he++;se.updateURL()},get:function(le){y(arguments.length,1);for(var se=G(this).entries,ne=le+"",ce=0;ce<se.length;ce++)if(se[ce].key===ne)return se[ce].value;return null},getAll:function(le){y(arguments.length,1);for(var se=G(this).entries,ne=le+"",ce=[],he=0;he<se.length;he++)se[he].key===ne&&ce.push(se[he].value);return ce},has:function(le){y(arguments.length,1);for(var se=G(this).entries,ne=le+"",ce=0;ce<se.length;)if(se[ce++].key===ne)return!0;return!1},set:function(le,se){y(arguments.length,1);for(var ne,ce=G(this),he=ce.entries,ee=!1,oe=le+"",fe=se+"",_e=0;_e<he.length;_e++)(ne=he[_e]).key===oe&&(ee?he.splice(_e--,1):(ee=!0,ne.value=fe));ee||he.push({key:oe,value:fe}),ce.updateURL()},sort:function(){for(var le,se,ne=G(this),ce=ne.entries,he=ce.slice(),ee=ce.length=0;ee<he.length;ee++){for(le=he[ee],se=0;se<ee;se++)if(ce[se].key>le.key){ce.splice(se,0,le);break}se===ee&&ce.push(le)}ne.updateURL()},forEach:function(le){for(var se,ne=G(this).entries,ce=S(le,1<arguments.length?arguments[1]:void 0,3),he=0;he<ne.length;)ce((se=ne[he++]).value,se.key,this)},keys:function(){return new X(this,"keys")},values:function(){return new X(this,"values")},entries:function(){return new X(this,"entries")}},{enumerable:!0}),h(J,F,J.entries),h(J,"toString",function(){for(var le,se=G(this).entries,ne=[],ce=0;ce<se.length;)le=se[ce++],ne.push(a(le.key)+"="+a(le.value));return ne.join("&")},{enumerable:!0}),m(b,R),d({global:!0,forced:!p},{URLSearchParams:b}),p||typeof O!="function"||typeof V!="function"||d({global:!0,enumerable:!0,forced:!0},{fetch:function(he){var se,ne,ce,he=[he];return 1<arguments.length&&(C(se=arguments[1])&&(ne=se.body,j(ne)===R&&((ce=se.headers?new V(se.headers):new V).has("content-type")||ce.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),se=M(se,{body:k(0,String(ne)),headers:k(0,ce)}))),he.push(se)),O.apply(this,he)}}),i.exports={URLSearchParams:b,getState:G}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(A,i,u){"use strict";A("../modules/es.string.iterator");function s(ge){var Be,tt,Ve,At;if(typeof ge=="number"){for(Be=[],tt=0;tt<4;tt++)Be.unshift(ge%256),ge=z(ge/256);return Be.join(".")}if(typeof ge!="object")return ge;for(Be="",Ve=oe(ge),tt=0;tt<8;tt++)At&&ge[tt]===0||(At=At&&!1,Ve===tt?(Be+=tt?":":"::",At=!0):(Be+=ge[tt].toString(16),tt<7&&(Be+=":")));return"["+Be+"]"}function l(ge){return!ge.host||ge.cannotBeABaseURL||ge.scheme=="file"}function a(ge,Be,tt,Ve){var At,Le,Vt,Qe=tt||Pe,Rt=0,et="",mr=!1,kr=!1,dr=!1;for(tt||(ge.scheme="",ge.username="",ge.password="",ge.host=null,ge.port=null,ge.path=[],ge.query=null,ge.fragment=null,ge.cannotBeABaseURL=!1,Be=Be.replace(ce,"")),Be=Be.replace(he,""),At=j(Be);Rt<=At.length;){switch(Le=At[Rt],Qe){case Pe:if(!Le||!L.test(Le)){if(tt)return W;Qe=K;continue}et+=Le.toLowerCase(),Qe=De;break;case De:if(Le&&(D.test(Le)||Le=="+"||Le=="-"||Le=="."))et+=Le.toLowerCase();else{if(Le!=":"){if(tt)return W;et="",Qe=K,Rt=0;continue}if(tt&&(Te(ge)!=x(Re,et)||et=="file"&&(We(ge)||ge.port!==null)||ge.scheme=="file"&&!ge.host))return;if(ge.scheme=et,tt)return void(Te(ge)&&Re[ge.scheme]==ge.port&&(ge.port=null));et="",ge.scheme=="file"?Qe=vt:Te(ge)&&Ve&&Ve.scheme==ge.scheme?Qe=re:Te(ge)?Qe=Ee:At[Rt+1]=="/"?(Qe=Q,Rt++):(ge.cannotBeABaseURL=!0,ge.path.push(""),Qe=rr)}break;case K:if(!Ve||Ve.cannotBeABaseURL&&Le!="#")return W;if(Ve.cannotBeABaseURL&&Le=="#"){ge.scheme=Ve.scheme,ge.path=Ve.path.slice(),ge.query=Ve.query,ge.fragment="",ge.cannotBeABaseURL=!0,Qe=wr;break}Qe=Ve.scheme=="file"?vt:ie;continue;case re:if(Le!="/"||At[Rt+1]!="/"){Qe=ie;continue}Qe=ke,Rt++;break;case Q:if(Le=="/"){Qe=Ue;break}Qe=dt;continue;case ie:if(ge.scheme=Ve.scheme,Le==b)ge.username=Ve.username,ge.password=Ve.password,ge.host=Ve.host,ge.port=Ve.port,ge.path=Ve.path.slice(),ge.query=Ve.query;else if(Le=="/"||Le=="\\"&&Te(ge))Qe=ve;else if(Le=="?")ge.username=Ve.username,ge.password=Ve.password,ge.host=Ve.host,ge.port=Ve.port,ge.path=Ve.path.slice(),ge.query="",Qe=rn;else{if(Le!="#"){ge.username=Ve.username,ge.password=Ve.password,ge.host=Ve.host,ge.port=Ve.port,ge.path=Ve.path.slice(),ge.path.pop(),Qe=dt;continue}ge.username=Ve.username,ge.password=Ve.password,ge.host=Ve.host,ge.port=Ve.port,ge.path=Ve.path.slice(),ge.query=Ve.query,ge.fragment="",Qe=wr}break;case ve:if(!Te(ge)||Le!="/"&&Le!="\\"){if(Le!="/"){ge.username=Ve.username,ge.password=Ve.password,ge.host=Ve.host,ge.port=Ve.port,Qe=dt;continue}Qe=Ue}else Qe=ke;break;case Ee:if(Qe=ke,Le!="/"||et.charAt(Rt+1)!="/")continue;Rt++;break;case ke:if(Le=="/"||Le=="\\")break;Qe=Ue;continue;case Ue:if(Le=="@"){mr&&(et="%40"+et);for(var mr=!0,Ur=j(et),Eo=0;Eo<Ur.length;Eo++){var jn=Ur[Eo];jn!=":"||dr?(jn=xe(jn,ye),dr?ge.password+=jn:ge.username+=jn):dr=!0}et=""}else if(Le==b||Le=="/"||Le=="?"||Le=="#"||Le=="\\"&&Te(ge)){if(mr&&et=="")return G;Rt-=j(et).length+1,et="",Qe=He}else et+=Le;break;case He:case $e:if(tt&&ge.scheme=="file"){Qe=ot;continue}if(Le!=":"||kr){if(Le==b||Le=="/"||Le=="?"||Le=="#"||Le=="\\"&&Te(ge)){if(Te(ge)&&et=="")return Z;if(tt&&et==""&&(We(ge)||ge.port!==null))return;if(Vt=ee(ge,et))return Vt;if(et="",Qe=pt,tt)return;continue}Le=="["?kr=!0:Le=="]"&&(kr=!1),et+=Le}else{if(et=="")return Z;if(Vt=ee(ge,et))return Vt;if(et="",Qe=Je,tt==$e)return}break;case Je:if(!U.test(Le)){if(Le==b||Le=="/"||Le=="?"||Le=="#"||Le=="\\"&&Te(ge)||tt){if(et!=""){var To=parseInt(et,10);if(65535<To)return ae;ge.port=Te(ge)&&To===Re[ge.scheme]?null:To,et=""}if(tt)return;Qe=pt;continue}return ae}et+=Le;break;case vt:if(ge.scheme="file",Le=="/"||Le=="\\")Qe=ht;else{if(!Ve||Ve.scheme!="file"){Qe=dt;continue}if(Le==b)ge.host=Ve.host,ge.path=Ve.path.slice(),ge.query=Ve.query;else if(Le=="?")ge.host=Ve.host,ge.path=Ve.path.slice(),ge.query="",Qe=rn;else{if(Le!="#"){Ye(At.slice(Rt).join(""))||(ge.host=Ve.host,ge.path=Ve.path.slice(),Ze(ge)),Qe=dt;continue}ge.host=Ve.host,ge.path=Ve.path.slice(),ge.query=Ve.query,ge.fragment="",Qe=wr}}break;case ht:if(Le=="/"||Le=="\\"){Qe=ot;break}Ve&&Ve.scheme=="file"&&!Ye(At.slice(Rt).join(""))&&(qe(Ve.path[0],!0)?ge.path.push(Ve.path[0]):ge.host=Ve.host),Qe=dt;continue;case ot:if(Le==b||Le=="/"||Le=="\\"||Le=="?"||Le=="#"){if(!tt&&qe(et))Qe=dt;else{if(et==""){if(ge.host="",tt)return}else{if(Vt=ee(ge,et))return Vt;if(ge.host=="localhost"&&(ge.host=""),tt)return;et=""}Qe=pt}continue}et+=Le;break;case pt:if(Te(ge)){if(Qe=dt,Le!="/"&&Le!="\\")continue}else if(tt||Le!="?")if(tt||Le!="#"){if(Le!=b&&(Qe=dt,Le!="/"))continue}else ge.fragment="",Qe=wr;else ge.query="",Qe=rn;break;case dt:if(Le==b||Le=="/"||Le=="\\"&&Te(ge)||!tt&&(Le=="?"||Le=="#")){if(we(et)?(Ze(ge),Le=="/"||Le=="\\"&&Te(ge)||ge.path.push("")):Xe(et)?Le=="/"||Le=="\\"&&Te(ge)||ge.path.push(""):(ge.scheme=="file"&&!ge.path.length&&qe(et)&&(ge.host&&(ge.host=""),et=et.charAt(0)+":"),ge.path.push(et)),et="",ge.scheme=="file"&&(Le==b||Le=="?"||Le=="#"))for(;1<ge.path.length&&ge.path[0]==="";)ge.path.shift();Le=="?"?(ge.query="",Qe=rn):Le=="#"&&(ge.fragment="",Qe=wr)}else et+=xe(Le,pe);break;case rr:Le=="?"?(ge.query="",Qe=rn):Le=="#"?(ge.fragment="",Qe=wr):Le!=b&&(ge.path[0]+=xe(Le,fe));break;case rn:tt||Le!="#"?Le!=b&&(Le=="'"&&Te(ge)?ge.query+="%27":ge.query+=Le=="#"?"%23":xe(Le,fe)):(ge.fragment="",Qe=wr);break;case wr:Le!=b&&(ge.fragment+=xe(Le,_e))}Rt++}}function c(Le){var Be,tt,Ve=_(this,c,"URL"),At=1<arguments.length?arguments[1]:void 0,Le=String(Le),Vt=F(Ve,{type:"URL"});if(At!==void 0){if(At instanceof c)Be=R(At);else if(tt=a(Be={},String(At)))throw TypeError(tt)}if(tt=a(Vt,Le,null,Be))throw TypeError(tt);var Qe=Vt.searchParams=new O;(At=V(Qe)).updateSearchParams(Vt.query),At.updateURL=function(){Vt.query=String(Qe)||null},g||(Ve.href=sr.call(Ve),Ve.origin=Lt.call(Ve),Ve.protocol=qr.call(Ve),Ve.username=Vr.call(Ve),Ve.password=Zt.call(Ve),Ve.host=Wr.call(Ve),Ve.hostname=ul.call(Ve),Ve.port=cl.call(Ve),Ve.pathname=dl.call(Ve),Ve.search=Uu.call(Ve),Ve.searchParams=hl.call(Ve),Ve.hash=fl.call(Ve))}function y(ge,Be){return{get:ge,set:Be,configurable:!0,enumerable:!0}}var b,d,p,h=A("../internals/export"),g=A("../internals/descriptors"),m=A("../internals/native-url"),Wt=A("../internals/global"),f=A("../internals/object-define-properties"),v=A("../internals/redefine"),_=A("../internals/an-instance"),x=A("../internals/has"),S=A("../internals/object-assign"),j=A("../internals/array-from"),T=A("../internals/string-multibyte").codeAt,C=A("../internals/string-punycode-to-ascii"),M=A("../internals/set-to-string-tag"),k=A("../modules/web.url-search-params"),A=A("../internals/internal-state"),P=Wt.URL,O=k.URLSearchParams,V=k.getState,F=A.set,R=A.getterFor("URL"),z=Math.floor,q=Math.pow,G="Invalid authority",W="Invalid scheme",Z="Invalid host",ae="Invalid port",L=/[A-Za-z]/,D=/[\d+-.A-Za-z]/,U=/\d/,H=/^(0x|0X)/,X=/^[0-7]+$/,J=/^\d+$/,le=/^[\dA-Fa-f]+$/,se=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,ne=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,ce=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,he=/[\u0009\u000A\u000D]/g,ee=function(ge,Be){var tt,Ve,At;if(Be.charAt(0)=="[")return Be.charAt(Be.length-1)=="]"&&(tt=function(Le){var Vt=[0,0,0,0,0,0,0,0],Qe=0,Rt=null,et=0,mr,kr,dr,Ur,Eo,jn,To,Br=function(){return Le.charAt(et)};if(Br()==":"){if(Le.charAt(1)!=":")return;et+=2,Qe++,Rt=Qe}for(;Br();){if(Qe==8)return;if(Br()==":"){if(Rt!==null)return;et++,Qe++,Rt=Qe;continue}for(mr=kr=0;kr<4&&le.test(Br());)mr=mr*16+parseInt(Br(),16),et++,kr++;if(Br()=="."){if(kr==0||(et-=kr,Qe>6))return;for(dr=0;Br();){if(Ur=null,dr>0)if(Br()=="."&&dr<4)et++;else return;if(!U.test(Br()))return;for(;U.test(Br());){if(Eo=parseInt(Br(),10),Ur===null)Ur=Eo;else{if(Ur==0)return;Ur=Ur*10+Eo}if(Ur>255)return;et++}Vt[Qe]=Vt[Qe]*256+Ur,dr++,(dr==2||dr==4)&&Qe++}if(dr!=4)return;break}else if(Br()==":"){if(et++,!Br())return}else if(Br())return;Vt[Qe++]=mr}if(Rt!==null)for(jn=Qe-Rt,Qe=7;Qe!=0&&jn>0;)To=Vt[Qe],Vt[Qe--]=Vt[Rt+jn-1],Vt[Rt+--jn]=To;else if(Qe!=8)return;return Vt}(Be.slice(1,-1)))?void(ge.host=tt):Z;if(Te(ge))return Be=C(Be),se.test(Be)||(tt=function(Le){var Vt=Le.split("."),Qe,Rt,et,mr,kr,dr,Ur;if(Vt.length&&Vt[Vt.length-1]==""&&Vt.pop(),(Qe=Vt.length)>4)return Le;for(Rt=[],et=0;et<Qe;et++){if(mr=Vt[et],mr=="")return Le;if(kr=10,mr.length>1&&mr.charAt(0)=="0"&&(kr=H.test(mr)?16:8,mr=mr.slice(kr==8?1:2)),mr==="")dr=0;else{if(!(kr==10?J:kr==8?X:le).test(mr))return Le;dr=parseInt(mr,kr)}Rt.push(dr)}for(et=0;et<Qe;et++)if(dr=Rt[et],et==Qe-1){if(dr>=q(256,5-Qe))return null}else if(dr>255)return null;for(Ur=Rt.pop(),et=0;et<Rt.length;et++)Ur+=Rt[et]*q(256,3-et);return Ur}(Be))===null?Z:void(ge.host=tt);if(ne.test(Be))return Z;for(tt="",Ve=j(Be),At=0;At<Ve.length;At++)tt+=xe(Ve[At],fe);ge.host=tt},oe=function(ge){for(var Be=null,tt=1,Ve=null,At=0,Le=0;Le<8;Le++)ge[Le]!==0?(tt<At&&(Be=Ve,tt=At),Ve=null,At=0):(Ve===null&&(Ve=Le),++At);return tt<At&&(Be=Ve,tt=At),Be},fe={},_e=S({},fe,{" ":1,'"':1,"<":1,">":1,"`":1}),pe=S({},_e,{"#":1,"?":1,"{":1,"}":1}),ye=S({},pe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),xe=function(ge,Be){var tt=T(ge,0);return 32<tt&&tt<127&&!x(Be,ge)?ge:encodeURIComponent(ge)},Re={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Te=function(ge){return x(Re,ge.scheme)},We=function(ge){return ge.username!=""||ge.password!=""},qe=function(ge,Be){return ge.length==2&&L.test(ge.charAt(0))&&((ge=ge.charAt(1))==":"||!Be&&ge=="|")},Ye=function(ge){return 1<ge.length&&qe(ge.slice(0,2))&&(ge.length==2||(ge=ge.charAt(2))==="/"||ge==="\\"||ge==="?"||ge==="#")},Ze=function(ge){var Be=ge.path,tt=Be.length;!tt||ge.scheme=="file"&&tt==1&&qe(Be[0],!0)||Be.pop()},Xe=function(ge){return ge==="."||ge.toLowerCase()==="%2e"},we=function(ge){return(ge=ge.toLowerCase())===".."||ge==="%2e."||ge===".%2e"||ge==="%2e%2e"},Pe={},De={},K={},re={},Q={},ie={},ve={},Ee={},ke={},Ue={},He={},$e={},Je={},vt={},ht={},ot={},pt={},dt={},rr={},rn={},wr={},Wt=c.prototype,sr=function(){var ge=R(this),Be=ge.scheme,tt=ge.username,Ve=ge.password,At=ge.host,Le=ge.port,Vt=ge.path,Qe=ge.query,Rt=ge.fragment,et=Be+":";return At!==null?(et+="//",We(ge)&&(et+=tt+(Ve?":"+Ve:"")+"@"),et+=s(At),Le!==null&&(et+=":"+Le)):Be=="file"&&(et+="//"),et+=ge.cannotBeABaseURL?Vt[0]:Vt.length?"/"+Vt.join("/"):"",Qe!==null&&(et+="?"+Qe),Rt!==null&&(et+="#"+Rt),et},Lt=function(){var ge=R(this),Be=ge.scheme,tt=ge.port;if(Be=="blob")try{return new URL(Be.path[0]).origin}catch{return"null"}return Be!="file"&&Te(ge)?Be+"://"+s(ge.host)+(tt!==null?":"+tt:""):"null"},qr=function(){return R(this).scheme+":"},Vr=function(){return R(this).username},Zt=function(){return R(this).password},Wr=function(){var Be=R(this),ge=Be.host,Be=Be.port;return ge===null?"":Be===null?s(ge):s(ge)+":"+Be},ul=function(){var ge=R(this).host;return ge===null?"":s(ge)},cl=function(){var ge=R(this).port;return ge===null?"":String(ge)},dl=function(){var ge=R(this),Be=ge.path;return ge.cannotBeABaseURL?Be[0]:Be.length?"/"+Be.join("/"):""},Uu=function(){var ge=R(this).query;return ge?"?"+ge:""},hl=function(){return R(this).searchParams},fl=function(){var ge=R(this).fragment;return ge?"#"+ge:""};g&&f(Wt,{href:y(sr,function(tt){var Be=R(this),tt=String(tt),tt=a(Be,tt);if(tt)throw TypeError(tt);V(Be.searchParams).updateSearchParams(Be.query)}),origin:y(Lt),protocol:y(qr,function(ge){var Be=R(this);a(Be,String(ge)+":",Pe)}),username:y(Vr,function(ge){var Be=R(this),tt=j(String(ge));if(!l(Be)){Be.username="";for(var Ve=0;Ve<tt.length;Ve++)Be.username+=xe(tt[Ve],ye)}}),password:y(Zt,function(ge){var Be=R(this),tt=j(String(ge));if(!l(Be)){Be.password="";for(var Ve=0;Ve<tt.length;Ve++)Be.password+=xe(tt[Ve],ye)}}),host:y(Wr,function(ge){var Be=R(this);Be.cannotBeABaseURL||a(Be,String(ge),He)}),hostname:y(ul,function(ge){var Be=R(this);Be.cannotBeABaseURL||a(Be,String(ge),$e)}),port:y(cl,function(ge){var Be=R(this);l(Be)||((ge=String(ge))==""?Be.port=null:a(Be,ge,Je))}),pathname:y(dl,function(ge){var Be=R(this);Be.cannotBeABaseURL||(Be.path=[],a(Be,ge+"",pt))}),search:y(Uu,function(ge){var Be=R(this);(ge=String(ge))==""?Be.query=null:(ge.charAt(0)=="?"&&(ge=ge.slice(1)),Be.query="",a(Be,ge,rn)),V(Be.searchParams).updateSearchParams(Be.query)}),searchParams:y(hl),hash:y(fl,function(ge){var Be=R(this);(ge=String(ge))==""?Be.fragment=null:(ge.charAt(0)=="#"&&(ge=ge.slice(1)),Be.fragment="",a(Be,ge,wr))})}),v(Wt,"toJSON",function(){return sr.call(this)},{enumerable:!0}),v(Wt,"toString",function(){return sr.call(this)},{enumerable:!0}),P&&(d=P.createObjectURL,p=P.revokeObjectURL,d&&v(c,"createObjectURL",function(ge){return d.apply(P,arguments)}),p&&v(c,"revokeObjectURL",function(ge){return p.apply(P,arguments)})),M(c,"URL"),h({global:!0,forced:!m,sham:!g},{URL:c})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(t,i,u){"use strict";i.exports=t("./").polyfill()},{"./":250}],250:[function(t,i,u){(function(s,l){var a,c;a=this,c=function(){"use strict";function y(ee){return typeof ee=="function"}var b=Array.isArray||function(ee){return Object.prototype.toString.call(ee)==="[object Array]"},d=0,p=void 0,h=void 0,g=function(ee,oe){S[d]=ee,S[d+1]=oe,(d+=2)===2&&(h?h(j):O())},m=typeof window<"u"?window:void 0,f=m||{},f=f.MutationObserver||f.WebKitMutationObserver,v=typeof self>"u"&&s!==void 0&&{}.toString.call(s)==="[object process]",_=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function x(){var ee=setTimeout;return function(){return ee(j,1)}}var S=new Array(1e3);function j(){for(var ee=0;ee<d;ee+=2)(0,S[ee])(S[ee+1]),S[ee]=void 0,S[ee+1]=void 0;d=0}function T(){try{var ee=Function("return this")().require("vertx");return(p=ee.runOnLoop||ee.runOnContext)!==void 0?function(){p(j)}:x()}catch{return x()}}var C,M,k,O=void 0;function A(ee,oe){var fe,_e=this,pe=new this.constructor(F),ye=(pe[V]===void 0&&le(pe),_e._state);return ye?(fe=arguments[ye-1],g(function(){return X(ye,pe,fe,_e._result)})):U(_e,pe,ee,oe),pe}function P(ee){var oe;return ee&&typeof ee=="object"&&ee.constructor===this?ee:(Z(oe=new this(F),ee),oe)}var O=v?function(){return s.nextTick(j)}:f?(M=0,v=new f(j),k=document.createTextNode(""),v.observe(k,{characterData:!0}),function(){k.data=M=++M%2}):_?((C=new MessageChannel).port1.onmessage=j,function(){return C.port2.postMessage(0)}):(m===void 0&&typeof t=="function"?T:x)(),V=Math.random().toString(36).substring(2);function F(){}var R=void 0,z=1,q=2;function G(ee,oe,fe){g(function(_e){var pe=!1,ye=function(xe,Re,Te,We){try{xe.call(Re,Te,We)}catch(qe){return qe}}(fe,oe,function(xe){pe||(pe=!0,(oe!==xe?Z:L)(_e,xe))},function(xe){pe||(pe=!0,D(_e,xe))},_e._label);!pe&&ye&&(pe=!0,D(_e,ye))},ee)}function W(ee,oe,fe){var _e,pe;oe.constructor===ee.constructor&&fe===A&&oe.constructor.resolve===P?(_e=ee,(pe=oe)._state===z?L(_e,pe._result):pe._state===q?D(_e,pe._result):U(pe,void 0,function(ye){return Z(_e,ye)},function(ye){return D(_e,ye)})):fe!==void 0&&y(fe)?G(ee,oe,fe):L(ee,oe)}function Z(ee,oe){if(ee===oe)D(ee,new TypeError("You cannot resolve a promise with itself"));else if(fe=typeof oe,oe===null||fe!="object"&&fe!="function")L(ee,oe);else{fe=void 0;try{fe=oe.then}catch(_e){return void D(ee,_e)}W(ee,oe,fe)}var fe}function ae(ee){ee._onerror&&ee._onerror(ee._result),H(ee)}function L(ee,oe){ee._state===R&&(ee._result=oe,ee._state=z,ee._subscribers.length!==0&&g(H,ee))}function D(ee,oe){ee._state===R&&(ee._state=q,ee._result=oe,g(ae,ee))}function U(ee,oe,fe,_e){var pe=ee._subscribers,ye=pe.length;ee._onerror=null,pe[ye]=oe,pe[ye+z]=fe,pe[ye+q]=_e,ye===0&&ee._state&&g(H,ee)}function H(ee){var oe=ee._subscribers,fe=ee._state;if(oe.length!==0){for(var _e,pe=void 0,ye=ee._result,xe=0;xe<oe.length;xe+=3)_e=oe[xe],pe=oe[xe+fe],_e?X(fe,_e,pe,ye):pe(ye);ee._subscribers.length=0}}function X(ee,oe,fe,_e){var pe=y(fe),ye=void 0,xe=void 0,Re=!0;if(pe){try{ye=fe(_e)}catch(Te){Re=!1,xe=Te}if(oe===ye)return void D(oe,new TypeError("A promises callback cannot return that same promise."))}else ye=_e;oe._state===R&&(pe&&Re?Z(oe,ye):Re===!1?D(oe,xe):ee===z?L(oe,ye):ee===q&&D(oe,ye))}var J=0;function le(ee){ee[V]=J++,ee._state=void 0,ee._result=void 0,ee._subscribers=[]}ne.prototype._enumerate=function(ee){for(var oe=0;this._state===R&&oe<ee.length;oe++)this._eachEntry(ee[oe],oe)},ne.prototype._eachEntry=function(ee,oe){var fe=this._instanceConstructor,_e=fe.resolve;if(_e===P){var pe,ye=void 0,xe=void 0,Re=!1;try{ye=ee.then}catch(Te){Re=!0,xe=Te}ye===A&&ee._state!==R?this._settledAt(ee._state,oe,ee._result):typeof ye!="function"?(this._remaining--,this._result[oe]=ee):fe===ce?(pe=new fe(F),Re?D(pe,xe):W(pe,ee,ye),this._willSettleAt(pe,oe)):this._willSettleAt(new fe(function(Te){return Te(ee)}),oe)}else this._willSettleAt(_e(ee),oe)},ne.prototype._settledAt=function(ee,oe,fe){var _e=this.promise;_e._state===R&&(this._remaining--,ee===q?D(_e,fe):this._result[oe]=fe),this._remaining===0&&L(_e,this._result)},ne.prototype._willSettleAt=function(ee,oe){var fe=this;U(ee,void 0,function(_e){return fe._settledAt(z,oe,_e)},function(_e){return fe._settledAt(q,oe,_e)})};var se=ne;function ne(ee,oe){this._instanceConstructor=ee,this.promise=new ee(F),this.promise[V]||le(this.promise),b(oe)?(this.length=oe.length,this._remaining=oe.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(oe),this._remaining!==0)||L(this.promise,this._result)):D(this.promise,new Error("Array Methods must be provided an Array"))}he.prototype.catch=function(ee){return this.then(null,ee)},he.prototype.finally=function(ee){var oe=this.constructor;return y(ee)?this.then(function(fe){return oe.resolve(ee()).then(function(){return fe})},function(fe){return oe.resolve(ee()).then(function(){throw fe})}):this.then(ee,ee)};var ce=he;function he(ee){if(this[V]=J++,this._result=this._state=void 0,this._subscribers=[],F!==ee){if(typeof ee!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof he))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var oe=this;try{ee(function(fe){Z(oe,fe)},function(fe){D(oe,fe)})}catch(fe){D(oe,fe)}}}return ce.prototype.then=A,ce.all=function(ee){return new se(this,ee).promise},ce.race=function(ee){var oe=this;return b(ee)?new oe(function(fe,_e){for(var pe=ee.length,ye=0;ye<pe;ye++)oe.resolve(ee[ye]).then(fe,_e)}):new oe(function(fe,_e){return _e(new TypeError("You must pass an array to race."))})},ce.resolve=P,ce.reject=function(ee){var oe=new this(F);return D(oe,ee),oe},ce._setScheduler=function(ee){h=ee},ce._setAsap=function(ee){g=ee},ce._asap=g,ce.polyfill=function(){var ee=void 0;if(l!==void 0)ee=l;else if(typeof self<"u")ee=self;else try{ee=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var oe=ee.Promise;if(oe){var fe=null;try{fe=Object.prototype.toString.call(oe.resolve())}catch{}if(fe==="[object Promise]"&&!oe.cast)return}ee.Promise=ce},ce.Promise=ce},typeof u=="object"&&i!==void 0?i.exports=c():typeof n=="function"&&n.amd?n(c):a.ES6Promise=c()}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(t,i,u){var s,l;s=this,l=function(a,c){"use strict";var y=5e3,b="callback";function d(h){try{delete window[h]}catch{window[h]=void 0}}function p(h){h=document.getElementById(h),h&&document.getElementsByTagName("head")[0].removeChild(h)}c.exports=function(h){var g=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],m=h,f=g.timeout||y,v=g.jsonpCallback||b,_=void 0;return new Promise(function(x,S){var j=g.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),T=v+"_"+j,C=(window[j]=function(M){x({ok:!0,json:function(){return Promise.resolve(M)}}),_&&clearTimeout(_),p(T),d(j)},m+=m.indexOf("?")===-1?"?":"&",document.createElement("script"));C.setAttribute("src",""+m+v+"="+j),g.charset&&C.setAttribute("charset",g.charset),C.id=T,document.getElementsByTagName("head")[0].appendChild(C),_=setTimeout(function(){S(new Error("JSONP request to "+h+" timed out")),d(j),p(T),window[j]=function(){d(j)}},f),C.onerror=function(){S(new Error("JSONP request to "+h+" failed")),d(j),p(T),_&&clearTimeout(_)}})}},typeof n=="function"&&n.amd?n(["exports","module"],l):u!==void 0&&i!==void 0?l(0,i):(l(l={exports:{}},l),s.fetchJsonp=l.exports)},{}],252:[function(t,i,u){var s=function(l){"use strict";var a,c,y,b,d,p,h,g,m,f,v;if(!(l===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return v=l.document,a=function(){return l.URL||l.webkitURL||l},c=v.createElementNS("http://www.w3.org/1999/xhtml","a"),y="download"in c,b=/constructor/i.test(l.HTMLElement)||l.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent),p=function(_){(l.setImmediate||l.setTimeout)(function(){throw _},0)},h=4e4,g=function(_){setTimeout(function(){typeof _=="string"?a().revokeObjectURL(_):_.remove()},h)},m=function(_){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(_.type)?new Blob(["\uFEFF",_],{type:_.type}):_},v=(f=function(_,x,M){M||(_=m(_));var j,T,C=this,M=_.type==="application/octet-stream",k=function(){for(var A=C,P="writestart progress write writeend".split(" "),O=void 0,V=(P=[].concat(P)).length;V--;){var F=A["on"+P[V]];if(typeof F=="function")try{F.call(A,O||A)}catch(R){p(R)}}};C.readyState=C.INIT,y?(j=a().createObjectURL(_),setTimeout(function(){var A,P;c.href=j,c.download=x,A=c,P=new MouseEvent("click"),A.dispatchEvent(P),k(),g(j),C.readyState=C.DONE})):(d||M&&b)&&l.FileReader?((T=new FileReader).onloadend=function(){var A=d?T.result:T.result.replace(/^data:[^;]*;/,"data:attachment/file;");l.open(A,"_blank")||(l.location.href=A),A=void 0,C.readyState=C.DONE,k()},T.readAsDataURL(_),C.readyState=C.INIT):(j=j||a().createObjectURL(_),!M&&l.open(j,"_blank")||(l.location.href=j),C.readyState=C.DONE,k(),g(j))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(_,x,S){return x=x||_.name||"download",S||(_=m(_)),navigator.msSaveOrOpenBlob(_,x)}:(v.abort=function(){},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,function(_,x,S){return new f(_,x||_.name||"download",S)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);i!==void 0&&i.exports?i.exports.saveAs=s:n!=null&&n.amd!==null&&n("FileSaver.js",function(){return s})},{}],253:[function(t,i,u){var s,l=Object.defineProperty,a=(l(u,"__esModule",{value:!0}),u),c={GIFEncoder:()=>k,applyPalette:()=>function(R,z,q="rgb565"){if(!R||!R.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(R instanceof Uint8Array||R instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<z.length)throw new Error("applyPalette() only works with 256 colors or less");let G=new Uint32Array(R.buffer),W=G.length,Z=q==="rgb444"?4096:65536,ae=new Uint8Array(W),L=new Array(Z);if(q==="rgba4444")for(let he=0;he<W;he++){var X=G[he],D=X>>24&255,U=X>>16&255,H=X>>8&255,X=255&X,J=g(X,H,U,D),J=J in L?L[J]:L[J]=function(ee,oe,fe,_e,pe){let ye=0,xe=1e100;for(let qe=0;qe<pe.length;qe++){var Re,Te=pe[qe],We=T(Te[3]-_e);We>xe||(Re=Te[0],(We+=T(Re-ee))>xe||(Re=Te[1],(We+=T(Re-oe))>xe||(Re=Te[2],(We+=T(Re-fe))>xe||(xe=We,ye=qe))))}return ye}(X,H,U,D,z);ae[he]=J}else{let he=q==="rgb444"?m:h;for(let ee=0;ee<W;ee++){var ne=G[ee],le=ne>>16&255,se=ne>>8&255,ne=255&ne,ce=he(ne,se,le),ce=ce in L?L[ce]:L[ce]=function(oe,fe,_e,pe){let ye=0,xe=1e100;for(let qe=0;qe<pe.length;qe++){var Re,Te=pe[qe],We=T(Te[0]-oe);We>xe||(Re=Te[1],(We+=T(Re-fe))>xe||(Re=Te[2],(We+=T(Re-_e))>xe||(xe=We,ye=qe)))}return ye}(ne,se,le,z);ae[ee]=ce}}return ae},default:()=>F,nearestColor:()=>function(R,z,q=S){return R[C(R,z,q)]},nearestColorIndex:()=>C,nearestColorIndexWithDistance:()=>M,prequantize:()=>function(R,{roundRGB:z=5,roundAlpha:q=10,oneBitAlpha:G=null}={}){let W=new Uint32Array(R.buffer);for(let U=0;U<W.length;U++){var D=W[U];let H=D>>24&255;var Z,ae=D>>16&255,L=D>>8&255,D=255&D;H=j(H,q),G&&(Z=typeof G=="number"?G:127,H=H<=Z?0:255),D=j(D,z),L=j(L,z),ae=j(ae,z),W[U]=H<<24|ae<<16|L<<8|D<<0}},quantize:()=>function(R,z,q={}){var{format:G="rgb565",clearAlpha:W=!0,clearAlphaColor:Z=0,clearAlphaThreshold:ae=0,oneBitAlpha:L=!1}=q;if(!R||!R.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(R instanceof Uint8Array||R instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");R=new Uint32Array(R.buffer);let D=q.useSqrt!==!1,U=G==="rgba4444",H=function(Ye,Ze){let Xe=Ze==="rgb444"?4096:65536,we=new Array(Xe),Pe=Ye.length;if(Ze==="rgba4444")for(let ht=0;ht<Pe;++ht){var Q=Ye[ht],De=Q>>24&255,K=Q>>16&255,re=Q>>8&255,Q=255&Q,ie=g(Q,re,K,De);let ot=ie in we?we[ie]:we[ie]=x();ot.rc+=Q,ot.gc+=re,ot.bc+=K,ot.ac+=De,ot.cnt++}else if(Ze==="rgb444")for(let ht=0;ht<Pe;++ht){var ke=Ye[ht],ve=ke>>16&255,Ee=ke>>8&255,ke=255&ke,Ue=m(ke,Ee,ve);let ot=Ue in we?we[Ue]:we[Ue]=x();ot.rc+=ke,ot.gc+=Ee,ot.bc+=ve,ot.cnt++}else for(let ht=0;ht<Pe;++ht){var Je=Ye[ht],He=Je>>16&255,$e=Je>>8&255,Je=255&Je,vt=h(Je,$e,He);let ot=vt in we?we[vt]:we[vt]=x();ot.rc+=Je,ot.gc+=$e,ot.bc+=He,ot.cnt++}return we}(R,G),X=H.length,J=X-1,le=new Uint32Array(X+1);for(var se=0,ne=0;ne<X;++ne){let Ye=H[ne];Ye!=null&&(Te=1/Ye.cnt,U&&(Ye.ac*=Te),Ye.rc*=Te,Ye.gc*=Te,Ye.bc*=Te,H[se++]=Ye)}v(z)/se<.022&&(D=!1);for(var ce,he,ee,ne=0;ne<se-1;++ne)H[ne].fw=ne+1,H[ne+1].bk=ne,D&&(H[ne].cnt=Math.sqrt(H[ne].cnt));for(D&&(H[ne].cnt=Math.sqrt(H[ne].cnt)),ne=0;ne<se;++ne){_(H,ne,!1);var oe=H[ne].err;for(he=++le[0];1<he&&(ee=he>>1,!(H[ce=le[ee]].err<=oe));he=ee)le[he]=ce;le[he]=ne}var fe,_e=se-z;for(ne=0;ne<_e;){for(;;){var pe=le[1];if((fe=H[pe]).tm>=fe.mtm&&H[fe.nn].mtm<=fe.tm)break;for(fe.mtm==J?pe=le[1]=le[le[0]--]:(_(H,pe,!1),fe.tm=ne),oe=H[pe].err,he=1;(ee=he+he)<=le[0]&&(ee<le[0]&&H[le[ee]].err>H[le[ee+1]].err&&ee++,!(oe<=H[ce=le[ee]].err));he=ee)le[he]=ce;le[he]=pe}var ye=H[fe.nn],xe=fe.cnt,Re=ye.cnt,Te=1/(xe+Re);U&&(fe.ac=Te*(xe*fe.ac+Re*ye.ac)),fe.rc=Te*(xe*fe.rc+Re*ye.rc),fe.gc=Te*(xe*fe.gc+Re*ye.gc),fe.bc=Te*(xe*fe.bc+Re*ye.bc),fe.cnt+=ye.cnt,fe.mtm=++ne,H[ye.bk].fw=ye.fw,H[ye.fw].bk=ye.bk,ye.mtm=J}let We=[];for(ne=0;;0){let Ye=f(Math.round(H[ne].rc),0,255),Ze=f(Math.round(H[ne].gc),0,255),Xe=f(Math.round(H[ne].bc),0,255),we=255;U&&(we=f(Math.round(H[ne].ac),0,255),L&&(qe=typeof L=="number"?L:127,we=we<=qe?0:255),W&&we<=ae&&(Ye=Ze=Xe=Z,we=0));var qe=U?[Ye,Ze,Xe,we]:[Ye,Ze,Xe];if(function(Pe,De){for(let Q=0;Q<Pe.length;Q++){var re=Pe[Q],K=re[0]===De[0]&&re[1]===De[1]&&re[2]===De[2],re=!(4<=re.length&&4<=De.length)||re[3]===De[3];if(K&&re)return!0}return!1}(We,qe)||We.push(qe),(ne=H[ne].fw)==0)break}return We},snapColorsToPalette:()=>function(R,z,q=5){if(R.length&&z.length){var G=R.map(D=>D.slice(0,3)),W=q*q,Z=R[0].length;for(let D=0;D<z.length;D++){let U=z[D];U=U.length<Z?[U[0],U[1],U[2],255]:U.length>Z?U.slice(0,3):U.slice();var L=M(G,U.slice(0,3),S),ae=L[0],L=L[1];0<L&&L<=W&&(R[ae]=U)}}}};for(s in c)l(a,s,{get:c[s],enumerable:!0});var y={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function b(R=256){let z=0,q=new Uint8Array(R);return{get buffer(){return q.buffer},reset(){z=0},bytesView(){return q.subarray(0,z)},bytes(){return q.slice(0,z)},writeByte(W){G(z+1),q[z]=W,z++},writeBytes(W,Z=0,ae=W.length){G(z+ae);for(let L=0;L<ae;L++)q[z++]=W[L+Z]},writeBytesView(W,Z=0,ae=W.byteLength){G(z+ae),q.set(W.subarray(Z,Z+ae),z),z+=ae}};function G(W){var Z=q.length;if(!(W<=Z)){W=Math.max(W,Z*(Z<1048576?2:1.125)>>>0),Z!=0&&(W=Math.max(W,256));let ae=q;q=new Uint8Array(W),0<z&&q.set(ae.subarray(0,z),0)}}}var d=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],p=function(R,z,q,U,W=b(512),Z=new Uint8Array(256),ae=new Int32Array(5003),L=new Int32Array(5003)){var D=ae.length,U=Math.max(2,U);Z.fill(0),L.fill(0),ae.fill(-1);let H=0,X=0;var J=U+1;let le=J,se=!1,ne=le,ce=(1<<ne)-1;var he=1<<J-1;let ee=1+he,oe=2+he,fe=0,_e=q[0],pe=0;for(let qe=D;qe<65536;qe*=2)++pe;pe=8-pe,W.writeByte(U),We(he);var ye=q.length;for(let qe=1;qe<ye;qe++)e:{var xe=q[qe],Re=(xe<<12)+_e;let Ye=xe<<pe^_e;if(ae[Ye]===Re)_e=L[Ye];else{for(var Te=Ye===0?1:D-Ye;0<=ae[Ye];)if((Ye-=Te)<0&&(Ye+=D),ae[Ye]===Re){_e=L[Ye];break e}We(_e),_e=xe,oe<4096?(L[Ye]=oe++,ae[Ye]=Re):(ae.fill(-1),oe=2+he,se=!0,We(he))}}return We(_e),We(ee),W.writeByte(0),W.bytesView();function We(qe){for(H&=d[X],0<X?H|=qe<<X:H=qe,X+=ne;8<=X;)Z[fe++]=255&H,254<=fe&&(W.writeByte(fe),W.writeBytesView(Z,0,fe),fe=0),H>>=8,X-=8;if((oe>ce||se)&&(se?(ne=le,ce=(1<<ne)-1,se=!1):(++ne,ce=ne===12?1<<ne:(1<<ne)-1)),qe==ee){for(;0<X;)Z[fe++]=255&H,254<=fe&&(W.writeByte(fe),W.writeBytesView(Z,0,fe),fe=0),H>>=8,X-=8;0<fe&&(W.writeByte(fe),W.writeBytesView(Z,0,fe),fe=0)}}};function h(R,z,q){return R<<8&63488|z<<2&992|q>>3}function g(R,z,q,G){return R>>4|240&z|(240&q)<<4|(240&G)<<8}function m(R,z,q){return R>>4<<8|240&z|q>>4}function f(R,z,q){return R<z?z:q<R?q:R}function v(R){return R*R}function _(R,z,q){var G=0,W=1e100;let Z=R[z];for(var ae=Z.cnt,L=Z.ac,D=Z.rc,U=Z.gc,H=Z.bc,X=Z.fw;X!=0;X=R[X].fw){var J,le=R[X],se=le.cnt,se=ae*se/(ae+se);W<=se||(J=0,q&&W<=(J+=se*v(le.ac-L))||W<=(J+=se*v(le.rc-D))||W<=(J+=se*v(le.gc-U))||W<=(J+=se*v(le.bc-H))||(W=J,G=X))}Z.err=W,Z.nn=G}function x(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function S(R,z){for(var q=0,G=0;G<R.length;G++){var W=R[G]-z[G];q+=W*W}return q}function j(R,z){return 1<z?Math.round(R/z)*z:R}function T(R){return R*R}function C(R,z,q=S){let G=1/0,W=-1;for(let ae=0;ae<R.length;ae++){var Z=q(z,R[ae]);Z<G&&(G=Z,W=ae)}return W}function M(R,z,q=S){let G=1/0,W=-1;for(let ae=0;ae<R.length;ae++){var Z=q(z,R[ae]);Z<G&&(G=Z,W=ae)}return[W,G]}function k(R={}){let{initialCapacity:z=4096,auto:q=!0}=R,G=b(z),W=new Uint8Array(256),Z=new Int32Array(5003),ae=new Int32Array(5003),L=!1;return{reset(){G.reset(),L=!1},finish(){G.writeByte(y.trailer)},bytes(){return G.bytes()},bytesView(){return G.bytesView()},get buffer(){return G.buffer},get stream(){return G},writeHeader:D,writeFrame(U,H,X,_e={}){var{transparent:le=!1,transparentIndex:se=0,delay:Te=0,palette:ne=null,repeat:ye=0,colorDepth:ce=8,dispose:he=-1}=_e;let ee=!1;if(q?L||(ee=!0,D(),L=!0):ee=!!_e.first,H=Math.max(0,Math.floor(H)),X=Math.max(0,Math.floor(X)),ee){if(!ne)throw new Error("First frame must include a { palette } option");var[_e,xe,fe,Re,pe=8]=[G,H,X,ne,ce];Re=V(Re.length)-1,pe=128|pe-1<<4|Re,P(_e,xe),P(_e,fe),_e.writeBytes([pe,0,0]),A(G,ne),0<=ye&&(Re=G,xe=ye,Re.writeByte(33),Re.writeByte(255),Re.writeByte(11),O(Re,"NETSCAPE2.0"),Re.writeByte(3),Re.writeByte(1),P(Re,xe),Re.writeByte(0))}var oe,fe=Math.round(Te/10),_e=G,pe=he,ye=fe,xe=le,Re=se,Te=(_e.writeByte(33),_e.writeByte(249),_e.writeByte(4),Re<0&&(Re=0,xe=!1),xe=xe?(oe=1,2):oe=0,0<=pe&&(xe=7&pe),xe<<=2,_e.writeByte(0|xe|oe),P(_e,ye),_e.writeByte(Re||0),_e.writeByte(0),!!ne&&!ee);he=G,le=H,se=X,oe=Te?ne:null,he.writeByte(44),P(he,0),P(he,0),P(he,le),P(he,se),oe?(le=V(oe.length)-1,he.writeByte(128|le)):he.writeByte(0),Te&&A(G,ne),[ye,_e,se,le,he=8,Te,ne,U]=[G,U,H,X,ce,W,Z,ae],p(se,le,_e,he,ye,Te,ne,U)}};function D(){O(G,"GIF89a")}}function A(R,z){var q=1<<V(z.length);for(let G=0;G<q;G++){let W=[0,0,0];G<z.length&&(W=z[G]),R.writeByte(W[0]),R.writeByte(W[1]),R.writeByte(W[2])}}function P(R,z){R.writeByte(255&z),R.writeByte(z>>8&255)}function O(R,z){for(var q=0;q<z.length;q++)R.writeByte(z.charCodeAt(q))}function V(R){return Math.max(Math.ceil(Math.log2(R)),1)}var F=k},{}],254:[function(t,i,u){u.read=function(s,l,a,c,_){var b,d,p=8*_-c-1,h=(1<<p)-1,g=h>>1,m=-7,f=a?_-1:0,v=a?-1:1,_=s[l+f];for(f+=v,b=_&(1<<-m)-1,_>>=-m,m+=p;0<m;b=256*b+s[l+f],f+=v,m-=8);for(d=b&(1<<-m)-1,b>>=-m,m+=c;0<m;d=256*d+s[l+f],f+=v,m-=8);if(b===0)b=1-g;else{if(b===h)return d?NaN:1/0*(_?-1:1);d+=Math.pow(2,c),b-=g}return(_?-1:1)*d*Math.pow(2,b-c)},u.write=function(s,l,a,c,y,x){var d,p,h=8*x-y-1,g=(1<<h)-1,m=g>>1,f=y===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=c?0:x-1,_=c?1:-1,x=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(p=isNaN(l)?1:0,d=g):(d=Math.floor(Math.log(l)/Math.LN2),l*(c=Math.pow(2,-d))<1&&(d--,c*=2),2<=(l+=1<=d+m?f/c:f*Math.pow(2,1-m))*c&&(d++,c/=2),g<=d+m?(p=0,d=g):1<=d+m?(p=(l*c-1)*Math.pow(2,y),d+=m):(p=l*Math.pow(2,m-1)*Math.pow(2,y),d=0));8<=y;s[a+v]=255&p,v+=_,p/=256,y-=8);for(d=d<<y|p,h+=y;0<h;s[a+v]=255&d,v+=_,d/=256,h-=8);s[a+v-_]|=128*x}},{}],255:[function(t,i,u){"use strict";var s;function l(K,re){return K.b===re.b&&K.a===re.a}function a(K,re){return K.b<re.b||K.b===re.b&&K.a<=re.a}function c(K,re,Q){var ie=re.b-K.b,ve=Q.b-re.b;return 0<ie+ve?ie<ve?re.a-K.a+ie/(ie+ve)*(K.a-Q.a):re.a-Q.a+ve/(ie+ve)*(Q.a-K.a):0}function y(K,re,Q){var ie=re.b-K.b,ve=Q.b-re.b;return 0<ie+ve?(re.a-Q.a)*ie+(re.a-K.a)*ve:0}function b(K,re){return K.a<re.a||K.a===re.a&&K.b<=re.b}function d(K,re,Q){var ie=re.a-K.a,ve=Q.a-re.a;return 0<ie+ve?ie<ve?re.b-K.b+ie/(ie+ve)*(K.b-Q.b):re.b-Q.b+ve/(ie+ve)*(Q.b-K.b):0}function p(K,re,Q){var ie=re.a-K.a,ve=Q.a-re.a;return 0<ie+ve?(re.b-Q.b)*ie+(re.b-K.b)*ve:0}function h(K,re,Q,ie){return(K=K<0?0:K)<=(Q=Q<0?0:Q)?Q===0?(re+ie)/2:re+K/(K+Q)*(ie-re):ie+Q/(K+Q)*(re-ie)}function g(K){var re=x(K.b);return j(re,K.c),j(re.b,K.c),T(re,K.a),re}function m(K,re){var Q=!1,ie=!1;K!==re&&(re.a!==K.a&&(ie=!0,M(re.a,K.a)),re.d!==K.d&&(Q=!0,k(re.d,K.d)),S(re,K),ie||(j(re,K.a),K.a.c=K),Q||(T(re,K.d),K.d.a=K))}function f(K){var re=K.b,Q=!1;K.d!==K.b.d&&(Q=!0,k(K.d,K.b.d)),K.c===K?M(K.a,null):(K.b.d.a=K.b.e,K.a.c=K.c,S(K,K.b.e),Q||T(K,K.d)),re.c===re?(M(re.a,null),k(re.d,null)):(K.d.a=re.b.e,re.a.c=re.c,S(re,re.b.e)),C(K)}function v(K){var re=x(K),Q=re.b;return S(re,K.e),re.a=K.b.a,j(Q,re.a),re.d=Q.d=K.d,re=re.b,S(K.b,K.b.b.e),S(K.b,re),K.b.a=re.a,re.b.a.c=re.b,re.b.d=K.b.d,re.f=K.f,re.b.f=K.b.f,re}function _(K,re){var Q=!1,ie=x(K),ve=ie.b;return re.d!==K.d&&(Q=!0,k(re.d,K.d)),S(ie,K.e),S(ve,re),ie.a=K.b.a,ve.a=re.a,ie.d=ve.d=K.d,K.d.a=ve,Q||T(ie,K.d),ie}function x(K){var re=new fe,Q=new fe,ie=K.b.h;return(((Q.h=ie).b.h=re).h=K).b.h=Q,re.b=Q,((re.c=re).e=Q).b=re,(Q.c=Q).e=re}function S(K,re){var Q=K.c,ie=re.c;Q.b.e=re,(ie.b.e=K).c=ie,re.c=Q}function j(K,re){var Q=re.f,ie=new pe(re,Q);for(Q.e=ie,Q=(re.f=ie).c=K;Q.a=ie,(Q=Q.c)!==K;);}function T(K,re){var Q=re.d,ie=new oe(re,Q);for(Q.b=ie,(re.d=ie).a=K,ie.c=re.c,Q=K;Q.d=ie,(Q=Q.e)!==K;);}function C(K){var re=K.h;K=K.b.h,(re.b.h=K).b.h=re}function M(K,re){for(var Q=K.c,ie=Q;ie.a=re,(ie=ie.c)!==Q;);Q=K.f,((ie=K.e).f=Q).e=ie}function k(K,re){for(var Q=K.a,ie=Q;ie.d=re,(ie=ie.e)!==Q;);Q=K.d,((ie=K.b).d=Q).b=ie}function A(K){var re=0;return Math.abs(K[1])>Math.abs(K[0])&&(re=1),re=Math.abs(K[2])>Math.abs(K[re])?2:re}function P(K,re){K.f+=re.f,K.b.f+=re.b.f}function O(K,re,Q){return K=K.a,re=re.a,Q=Q.a,re.b.a===K?Q.b.a===K?a(re.a,Q.a)?y(Q.b.a,re.a,Q.a)<=0:0<=y(re.b.a,Q.a,re.a):y(Q.b.a,K,Q.a)<=0:Q.b.a===K?0<=y(re.b.a,K,re.a):(re=c(re.b.a,K,re.a),(K=c(Q.b.a,K,Q.a))<=re)}function V(K){K.a.i=null;var re=K.e;re.a.c=re.c,re.c.a=re.a,K.e=null}function F(K,re){f(K.a),K.c=!1,(K.a=re).i=K}function R(K){for(var re=K.a.a;(K=De(K)).a.a===re;);return K.c&&(F(K,re=_(Pe(K).a.b,K.a.e)),K=De(K)),K}function z(K,re,Q){var ie=new we;return ie.a=Q,ie.e=se(K.f,re.e,ie),Q.i=ie}function q(K,re){switch(K.s){case 100130:return(1&re)!=0;case 100131:return re!==0;case 100132:return 0<re;case 100133:return re<0;case 100134:return 2<=re||re<=-2}return!1}function G(K){var re=K.a,Q=re.d;Q.c=K.d,Q.a=re,V(K)}function W(K,re,Q){for(re=(K=re).a;K!==Q;){K.c=!1;var ie=Pe(K),ve=ie.a;if(ve.a!==re.a){if(!ie.c){G(K);break}F(ie,ve=_(re.c.b,ve.b))}re.c!==ve&&(m(ve.b.e,ve),m(re,ve)),G(K),re=ie.a,K=ie}return re}function Z(K,re,Q,ie,ve,Ee){for(var ke=!0;z(K,re,Q.b),(Q=Q.c)!==ie;);for(ve===null&&(ve=Pe(re).a.b.c);(Q=(ie=Pe(re)).a.b).a===ve.a;)Q.c!==ve&&(m(Q.b.e,Q),m(ve.b.e,Q)),ie.f=re.f-Q.f,ie.d=q(K,ie.f),re.b=!0,!ke&&U(K,re)&&(P(Q,ve),V(re),f(ve)),ke=!1,re=ie,ve=Q;re.b=!0,Ee&&X(K,re)}function ae(K,re,Q,ie,ve){var Ee=[re.g[0],re.g[1],re.g[2]];re.d=null,re.d=K.o&&K.o(Ee,Q,ie,K.c)||null,re.d===null&&(ve?K.n||(ee(K,100156),K.n=!0):re.d=Q[0])}function L(K,re,Q){var ie=[null,null,null,null];ie[0]=re.a.d,ie[1]=Q.a.d,ae(K,re.a,ie,[.5,.5,0,0],!1),m(re,Q)}function D(K,re,Q,ie,ve){var Ee=Math.abs(re.b-K.b)+Math.abs(re.a-K.a),ke=Math.abs(Q.b-K.b)+Math.abs(Q.a-K.a),Ue=ve+1;ie[ve]=.5*ke/(Ee+ke),ie[Ue]=.5*Ee/(Ee+ke),K.g[0]+=ie[ve]*re.g[0]+ie[Ue]*Q.g[0],K.g[1]+=ie[ve]*re.g[1]+ie[Ue]*Q.g[1],K.g[2]+=ie[ve]*re.g[2]+ie[Ue]*Q.g[2]}function U(K,re){var Q=Pe(re),ie=re.a,ve=Q.a;if(a(ie.a,ve.a)){if(0<y(ve.b.a,ie.a,ve.a))return;if(l(ie.a,ve.a)){if(ie.a!==ve.a){var Q=K.e,Ee=ie.a.h;if(0<=Ee){var ke=(Q=Q.b).d,Ue=Q.e,He=Q.c,$e=He[Ee];ke[$e]=ke[Q.a],(He[ke[$e]]=$e)<=--Q.a&&($e<=1||a(Ue[ke[$e>>1]],Ue[ke[$e]])?Ze:Xe)(Q,$e),Ue[Ee]=null,He[Ee]=Q.b,Q.b=Ee}else for(Q.c[-(Ee+1)]=null;0<Q.a&&Q.c[Q.d[Q.a-1]]===null;)--Q.a;L(K,ve.b.e,ie)}}else v(ve.b),m(ie,ve.b.e),re.b=Q.b=!0}else{if(y(ie.b.a,ve.a,ie.a)<0)return;De(re).b=re.b=!0,v(ie.b),m(ve.b.e,ie)}return 1}function H(K,re){var Q=Pe(re),ie=re.a,ve=Q.a,Ee=ie.a,ke=ve.a,Ue=ie.b.a,He=ve.b.a,$e=new pe;if(y(Ue,K.a,Ee),y(He,K.a,ke),!(Ee===ke||Math.min(Ee.a,Ue.a)>Math.max(ke.a,He.a))){if(a(Ee,ke)){if(0<y(He,Ee,ke))return}else if(y(Ue,ke,Ee)<0)return;var Je,vt,ht=Ue,ot=Ee,pt=He,dt=ke;if(a(ht,ot)||(Je=ht,ht=ot,ot=Je),a(pt,dt)||(Je=pt,pt=dt,dt=Je),a(ht,pt)||(Je=ht,ht=pt,pt=Je,Je=ot,ot=dt,dt=Je),a(pt,ot)?a(ot,dt)?((Je=c(ht,pt,ot))+(vt=c(pt,ot,dt))<0&&(Je=-Je,vt=-vt),$e.b=h(Je,pt.b,vt,ot.b)):((Je=y(ht,pt,ot))+(vt=-y(ht,dt,ot))<0&&(Je=-Je,vt=-vt),$e.b=h(Je,pt.b,vt,dt.b)):$e.b=(pt.b+ot.b)/2,b(ht,ot)||(Je=ht,ht=ot,ot=Je),b(pt,dt)||(Je=pt,pt=dt,dt=Je),b(ht,pt)||(Je=ht,ht=pt,pt=Je,Je=ot,ot=dt,dt=Je),b(pt,ot)?b(ot,dt)?((Je=d(ht,pt,ot))+(vt=d(pt,ot,dt))<0&&(Je=-Je,vt=-vt),$e.a=h(Je,pt.a,vt,ot.a)):((Je=p(ht,pt,ot))+(vt=-p(ht,dt,ot))<0&&(Je=-Je,vt=-vt),$e.a=h(Je,pt.a,vt,dt.a)):$e.a=(pt.a+ot.a)/2,a($e,K.a)&&($e.b=K.a.b,$e.a=K.a.a),ht=a(Ee,ke)?Ee:ke,a(ht,$e)&&($e.b=ht.b,$e.a=ht.a),l($e,Ee)||l($e,ke))return U(K,re),0;if(!l(Ue,K.a)&&0<=y(Ue,K.a,$e)||!l(He,K.a)&&y(He,K.a,$e)<=0){if(He===K.a)v(ie.b),m(ve.b,ie),ie=Pe(re=R(re)).a,W(K,Pe(re),Q),Z(K,re,ie.b.e,ie,ie,!0);else{if(Ue!==K.a)return 0<=y(Ue,K.a,$e)&&(De(re).b=re.b=!0,v(ie.b),ie.a.b=K.a.b,ie.a.a=K.a.a),void(y(He,K.a,$e)<=0&&(re.b=Q.b=!0,v(ve.b),ve.a.b=K.a.b,ve.a.a=K.a.a));for(v(ve.b),m(ie.e,ve.b.e),ke=(Ee=Q=re).a.b.a;(Ee=De(Ee)).a.b.a===ke;);Ee=Pe(re=Ee).a.b.c,Q.a=ve.b.e,Z(K,re,(ve=W(K,Q,null)).c,ie.b.c,Ee,!0)}return 1}v(ie.b),v(ve.b),m(ve.b.e,ie),ie.a.b=$e.b,ie.a.a=$e.a,ie.a.h=xe(K.e,ie.a),ie=ie.a,ve=[0,0,0,0],$e=[Ee.d,Ue.d,ke.d,He.d],ie.g[0]=ie.g[1]=ie.g[2]=0,D(ie,Ee,Ue,ve,0),D(ie,ke,He,ve,2),ae(K,ie,$e,ve,!0),De(re).b=re.b=Q.b=!0}}function X(K,re){for(var Q=Pe(re);;){for(;Q.b;)Q=Pe(re=Q);if(!re.b&&((re=De(Q=re))===null||!re.b))break;re.b=!1;var ie=re.a,ve=Q.a;if(Ee=ie.b.a!==ve.b.a)e:{var Ee,ke=Pe(Ee=re),Ue=Ee.a,He=ke.a,$e=void 0;if(a(Ue.b.a,He.b.a)){if(y(Ue.b.a,He.b.a,Ue.a)<0){Ee=!1;break e}De(Ee).b=Ee.b=!0,$e=v(Ue),m(He.b,$e),$e.d.c=Ee.d}else{if(0<y(He.b.a,Ue.b.a,He.a)){Ee=!1;break e}Ee.b=ke.b=!0,$e=v(He),m(Ue.e,He.b),$e.b.d.c=Ee.d}Ee=!0}if(Ee&&(Q.c?(V(Q),f(ve),ve=(Q=Pe(re)).a):re.c&&(V(re),f(ie),ie=(re=De(Q)).a)),ie.a!==ve.a){if(ie.b.a===ve.b.a||re.c||Q.c||ie.b.a!==K.a&&ve.b.a!==K.a)U(K,re);else if(H(K,re))break}ie.a===ve.a&&ie.b.a===ve.b.a&&(P(ve,ie),V(re),f(ie),re=De(Q))}}function J(K,re){var Q=new we,ie=g(K.b);ie.a.b=4e150,ie.a.a=re,ie.b.a.b=-4e150,ie.b.a.a=re,K.a=ie.b.a,Q.a=ie,Q.f=0,Q.d=!1,Q.c=!1,Q.h=!0,Q.b=!1,ie=se(ie=K.f,ie.a,Q),Q.e=ie}function le(K){this.a=new ne,this.b=K,this.c=O}function se(K,re,Q){for(;(re=re.c).b!==null&&!K.c(K.b,re.b,Q););return K=new ne(Q,re.a,re),re.a.c=K,re.a=K}function ne(K,re,Q){this.b=K||null,this.a=re||this,this.c=Q||this}function ce(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function he(K,re){if(K.d!==re)for(;K.d!==re;)if(K.d<re)switch(K.d){case 0:ee(K,100151),K.u(null);break;case 1:ee(K,100152),K.t()}else switch(K.d){case 2:ee(K,100154),K.v();break;case 1:ee(K,100153),K.w()}}function ee(K,re){K.p&&K.p(re,K.c)}function oe(K,re){this.b=K||this,this.d=re||this,this.a=null,this.c=!1}function fe(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function _e(){this.c=new pe,this.a=new oe,this.b=new fe,this.d=new fe,this.b.b=this.d,this.d.b=this.b}function pe(K,re){this.e=K||this,this.f=re||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function ye(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Te}function xe(K,re){var Q,ie,ve;return K.e?(2*(ie=++(Q=K.b).a)>Q.f&&(Q.f*=2,Q.c=We(Q.c,Q.f+1)),Q.b===0?ve=ie:(ve=Q.b,Q.b=Q.c[Q.b]),Q.e[ve]=re,Q.c[ve]=ie,Q.d[ie]=ve,Q.h&&Xe(Q,ie),ve):(Q=K.a++,K.c[Q]=re,-(Q+1))}function Re(K){if(K.a===0)return Ye(K.b);var re=K.c[K.d[K.a-1]];if(K.b.a!==0&&a(qe(K.b),re))return Ye(K.b);for(;--K.a,0<K.a&&K.c[K.d[K.a-1]]===null;);return re}function Te(){this.d=We([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function We(K,re){for(var Q=Array(re),ie=0;ie<K.length;ie++)Q[ie]=K[ie];for(;ie<re;ie++)Q[ie]=0;return Q}function qe(K){return K.e[K.d[1]]}function Ye(K){var re=K.d,Q=K.e,ie=K.c,ve=re[1],Ee=Q[ve];return 0<K.a&&(re[1]=re[K.a],ie[re[1]]=1,Q[ve]=null,ie[ve]=K.b,K.b=ve,0<--K.a&&Ze(K,1)),Ee}function Ze(K,re){for(var Q=K.d,ie=K.e,ve=K.c,Ee=re,ke=Q[Ee];;){var Ue=Ee<<1,He=(Ue<K.a&&a(ie[Q[Ue+1]],ie[Q[Ue]])&&(Ue+=1),Q[Ue]);if(Ue>K.a||a(ie[ke],ie[He])){ve[Q[Ee]=ke]=Ee;break}ve[Q[Ee]=He]=Ee,Ee=Ue}}function Xe(K,re){for(var Q=K.d,ie=K.e,ve=K.c,Ee=re,ke=Q[Ee];;){var Ue=Ee>>1,He=Q[Ue];if(Ue==0||a(ie[He],ie[ke])){ve[Q[Ee]=ke]=Ee;break}ve[Q[Ee]=He]=Ee,Ee=Ue}}function we(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Pe(K){return K.e.c.b}function De(K){return K.e.a.b}(s=ce.prototype).x=function(){he(this,0)},s.B=function(K,re){switch(K){case 100142:return;case 100140:switch(re){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=re)}break;case 100141:return void(this.m=!!re);default:return void ee(this,100900)}ee(this,100901)},s.y=function(K){switch(K){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:ee(this,100900)}return!1},s.A=function(K,re,Q){this.j[0]=K,this.j[1]=re,this.j[2]=Q},s.z=function(K,re){var Q=re||null;switch(K){case 100100:case 100106:this.h=Q;break;case 100104:case 100110:this.l=Q;break;case 100101:case 100107:this.k=Q;break;case 100102:case 100108:this.i=Q;break;case 100103:case 100109:this.p=Q;break;case 100105:case 100111:this.o=Q;break;case 100112:this.r=Q;break;default:ee(this,100900)}},s.C=function(K,re){var Q=!1,ie=[0,0,0];he(this,2);for(var ve=0;ve<3;++ve){var Ee=K[ve];Ee<-1e150&&(Ee=-1e150,Q=!0),1e150<Ee&&(Ee=1e150,Q=!0),ie[ve]=Ee}Q&&ee(this,100155),(Q=this.q)===null?m(Q=g(this.b),Q.b):(v(Q),Q=Q.e),Q.a.d=re,Q.a.g[0]=ie[0],Q.a.g[1]=ie[1],Q.a.g[2]=ie[2],Q.f=1,Q.b.f=-1,this.q=Q},s.u=function(K){he(this,0),this.d=1,this.b=new _e,this.c=K},s.t=function(){he(this,1),this.d=2,this.q=null},s.v=function(){he(this,2),this.d=1},s.w=function(){he(this,1),this.d=0;var K,re,Q=this.j[0],ie=this.j[1],ve=this.j[2],Ee=!1,ke=[Q,ie,ve];if(Q===0&&ie===0&&ve===0){for(var ie=[-2e150,-2e150,-2e150],Ue=[2e150,2e150,2e150],ve=[],He=[],Q=(Ee=this.b.c).e;Q!==Ee;Q=Q.e)for(var $e=0;$e<3;++$e){var Je=Q.g[$e];Je<Ue[$e]&&(Ue[$e]=Je,He[$e]=Q),Je>ie[$e]&&(ie[$e]=Je,ve[$e]=Q)}if(ie[1]-Ue[1]>ie[Q=0]-Ue[0]&&(Q=1),Ue[Q=ie[2]-Ue[2]>ie[Q]-Ue[Q]?2:Q]>=ie[Q])ke[0]=0,ke[1]=0,ke[2]=1;else{for(Ue=He[Q],ve=ve[Q],He=[ie=0,0,0],Ue=[Ue.g[0]-ve.g[0],Ue.g[1]-ve.g[1],Ue.g[2]-ve.g[2]],$e=[0,0,0],Q=Ee.e;Q!==Ee;Q=Q.e)$e[0]=Q.g[0]-ve.g[0],$e[1]=Q.g[1]-ve.g[1],$e[2]=Q.g[2]-ve.g[2],He[0]=Ue[1]*$e[2]-Ue[2]*$e[1],He[1]=Ue[2]*$e[0]-Ue[0]*$e[2],He[2]=Ue[0]*$e[1]-Ue[1]*$e[0],ie<(Je=He[0]*He[0]+He[1]*He[1]+He[2]*He[2])&&(ie=Je,ke[0]=He[0],ke[1]=He[1],ke[2]=He[2]);ie<=0&&(ke[0]=ke[1]=ke[2]=0,ke[A(Ue)]=1)}Ee=!0}for(He=A(ke),Q=this.b.c,ie=(He+1)%3,ve=(He+2)%3,He=0<ke[He]?1:-1,ke=Q.e;ke!==Q;ke=ke.e)ke.b=ke.g[ie],ke.a=He*ke.g[ve];if(Ee){for(ke=0,Q=(Ee=this.b.a).b;Q!==Ee;Q=Q.b)if(!((ie=Q.a).f<=0))for(;ke+=(ie.a.b-ie.b.a.b)*(ie.a.a+ie.b.a.a),(ie=ie.e)!==Q.a;);if(ke<0)for(Ee=(ke=this.b.c).e;Ee!==ke;Ee=Ee.e)Ee.a=-Ee.a}for(this.n=!1,ke=this.b.b,Q=ke.h;Q!==ke;Q=Ee)Ee=Q.h,ie=Q.e,l(Q.a,Q.b.a)&&Q.e.e!==Q&&(L(this,ie,Q),f(Q),ie=(Q=ie).e),ie.e===Q&&(ie!==Q&&(ie!==Ee&&ie!==Ee.b||(Ee=Ee.h),f(ie)),Q!==Ee&&Q!==Ee.b||(Ee=Ee.h),f(Q));for(this.e=ke=new ye,Ee=this.b.c,Q=Ee.e;Q!==Ee;Q=Q.e)Q.h=xe(ke,Q);var vt=ke;vt.d=[];for(var ht=0;ht<vt.a;ht++)vt.d[ht]=ht;vt.d.sort(function(dt){return function(rr,rn){return a(dt[rr],dt[rn])?1:-1}}(vt.c)),vt.e=!0;for(var ot=vt.b,pt=ot.a;1<=pt;--pt)Ze(ot,pt);for(ot.h=!0,this.f=new le(this),J(this,-4e150),J(this,4e150);(ke=Re(this.e))!==null;){for(;;){e:if((Q=this.e).a===0)Ee=qe(Q.b);else if(Ee=Q.c[Q.d[Q.a-1]],Q.b.a!==0&&a(Q=qe(Q.b),Ee)){Ee=Q;break e}if(Ee===null||!l(Ee,ke))break;Ee=Re(this.e),L(this,ke.c,Ee.c)}(function dt(rr,rn){for(var wr,Wt=(rr.a=rn).c;Wt.i===null;)if((Wt=Wt.c)===rn.c){var Wt=rr,sr=rn;(Zt=new we).a=sr.c.b;for(var Wr=(Lt=Wt.f).a;(Wr=Wr.a).b!==null&&!Lt.c(Lt.b,Zt,Wr.b););var Lt,qr,Vr=Pe(Lt=Wr.b),Zt=Lt.a,Wr=Vr.a;return void(y(Zt.b.a,sr,Zt.a)===0?l((Zt=Lt.a).a,sr)||l(Zt.b.a,sr)||(v(Zt.b),Lt.c&&(f(Zt.c),Lt.c=!1),m(sr.c,Zt),dt(Wt,sr)):(qr=a(Wr.b.a,Zt.b.a)?Lt:Vr,Vr=void 0,Lt.d||qr.c?(Vr=qr===Lt?_(sr.c.b,Zt.e):_(Wr.b.c.b,sr.c).b,qr.c?F(qr,Vr):((Lt=z(Zt=Wt,Lt,Vr)).f=De(Lt).f+Lt.a.f,Lt.d=q(Zt,Lt.f)),dt(Wt,sr)):Z(Wt,Lt,sr.c,sr.c,null,!0)))}Lt=(Zt=Pe(Wt=R(Wt.i))).a,(Zt=W(rr,Zt,null)).c===Lt?(Zt=(Lt=Zt).c,Wr=Pe(Wt),Vr=Wt.a,qr=Wr.a,wr=!1,Vr.b.a!==qr.b.a&&H(rr,Wt),l(Vr.a,rr.a)&&(m(Zt.b.e,Vr),Zt=Pe(Wt=R(Wt)).a,W(rr,Pe(Wt),Wr),wr=!0),l(qr.a,rr.a)&&(m(Lt,qr.b.e),Lt=W(rr,Wr,null),wr=!0),wr?Z(rr,Wt,Lt.c,Zt,Zt,!0):(sr=a(qr.a,Vr.a)?qr.b.e:Vr,Z(rr,Wt,sr=_(Lt.c.b,sr),sr.c,sr.c,!1),sr.b.i.c=!0,X(rr,Wt))):Z(rr,Wt,Zt.c,Lt,Lt,!0)})(this,ke)}for(this.a=this.f.a.a.b.a.a,ke=0;(Ee=this.f.a.a.b)!==null;)Ee.h||++ke,V(Ee);for(this.f=null,(ke=this.e).b=null,ke.d=null,this.e=ke.c=null,ke=this.b,Q=ke.a.b;Q!==ke.a;Q=Ee)Ee=Q.b,(Q=Q.a).e.e===Q&&(P(Q.c,Q),f(Q));if(!this.n){if(ke=this.b,this.m)for(Q=ke.b.h;Q!==ke.b;Q=Ee)Ee=Q.h,Q.b.d.c!==Q.d.c?Q.f=Q.d.c?1:-1:f(Q);else for(Q=ke.a.b;Q!==ke.a;Q=Ee)if(Ee=Q.b,Q.c){for(Q=Q.a;a(Q.b.a,Q.a);Q=Q.c.b);for(;a(Q.a,Q.b.a);Q=Q.e);for(ie=Q.c.b,ve=void 0;Q.e!==ie;)if(a(Q.b.a,ie.a)){for(;ie.e!==Q&&(a((re=ie.e).b.a,re.a)||y(ie.a,ie.b.a,ie.e.b.a)<=0);)ie=(ve=_(ie.e,ie)).b;ie=ie.c.b}else{for(;ie.e!==Q&&(a((K=Q.c.b).a,K.b.a)||0<=y(Q.b.a,Q.a,Q.c.b.a));)Q=(ve=_(Q,Q.c.b)).b;Q=Q.e}for(;ie.e.e!==Q;)ve=_(ie.e,ie),ie=ve.b}if(this.h||this.i||this.k||this.l)if(this.m){for(Ee=(ke=this.b).a.b;Ee!==ke.a;Ee=Ee.b)if(Ee.c){for(this.h&&this.h(2,this.c),Q=Ee.a;this.k&&this.k(Q.a.d,this.c),(Q=Q.e)!==Ee.a;);this.i&&this.i(this.c)}}else{for(ke=this.b,Ee=!!this.l,Q=!1,ie=-1,ve=ke.a.d;ve!==ke.a;ve=ve.d)if(ve.c)for(Q||(this.h&&this.h(4,this.c),Q=!0),He=ve.a;Ee&&(Ue=He.b.d.c?0:1,ie!==Ue&&(ie=Ue,this.l&&this.l(!!ie,this.c))),this.k&&this.k(He.a.d,this.c),(He=He.e)!==ve.a;);Q&&this.i&&this.i(this.c)}if(this.r){for(ke=this.b,Q=ke.a.b;Q!==ke.a;Q=Ee)if(Ee=Q.b,!Q.c){for(ve=(ie=Q.a).e,He=void 0;ve=(He=ve).e,(He.d=null)===He.b.d&&(He.c===He?M(He.a,null):(He.a.c=He.c,S(He,He.b.e)),(Ue=He.b).c===Ue?M(Ue.a,null):(Ue.a.c=Ue.c,S(Ue,Ue.b.e)),C(He)),He!==ie;);ie=Q.d,((Q=Q.b).d=ie).b=Q}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:ce,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},ce.prototype.gluDeleteTess=ce.prototype.x,ce.prototype.gluTessProperty=ce.prototype.B,ce.prototype.gluGetTessProperty=ce.prototype.y,ce.prototype.gluTessNormal=ce.prototype.A,ce.prototype.gluTessCallback=ce.prototype.z,ce.prototype.gluTessVertex=ce.prototype.C,ce.prototype.gluTessBeginPolygon=ce.prototype.u,ce.prototype.gluTessBeginContour=ce.prototype.t,ce.prototype.gluTessEndContour=ce.prototype.v,ce.prototype.gluTessEndPolygon=ce.prototype.w,i!==void 0&&(i.exports=this.libtess)},{}],256:[function(t,i,u){"use strict";function s(a,c,y,b){var d=0,p=(b=b===void 0?{}:b).loop===void 0?null:b.loop,h=b.palette===void 0?null:b.palette;if(c<=0||y<=0||65535<c||65535<y)throw new Error("Width/Height invalid.");function g(T){if(T=T.length,T<2||256<T||T&T-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return T}a[d++]=71,a[d++]=73,a[d++]=70,a[d++]=56,a[d++]=57,a[d++]=97;var m=0,f=0;if(h!==null){for(var v=g(h);v>>=1;)++m;if(v=1<<m,--m,b.background!==void 0){if(v<=(f=b.background))throw new Error("Background index out of range.");if(f===0)throw new Error("Background index explicitly passed as 0.")}}if(a[d++]=255&c,a[d++]=c>>8&255,a[d++]=255&y,a[d++]=y>>8&255,a[d++]=(h!==null?128:0)|m,a[d++]=f,a[d++]=0,h!==null)for(var _=0,x=h.length;_<x;++_){var S=h[_];a[d++]=S>>16&255,a[d++]=S>>8&255,a[d++]=255&S}if(p!==null){if(p<0||65535<p)throw new Error("Loop count invalid.");a[d++]=33,a[d++]=255,a[d++]=11,a[d++]=78,a[d++]=69,a[d++]=84,a[d++]=83,a[d++]=67,a[d++]=65,a[d++]=80,a[d++]=69,a[d++]=50,a[d++]=46,a[d++]=48,a[d++]=3,a[d++]=1,a[d++]=255&p,a[d++]=p>>8&255,a[d++]=0}var j=!1;this.addFrame=function(T,C,M,k,A,P){if(j===!0&&(--d,j=!1),P=P===void 0?{}:P,T<0||C<0||65535<T||65535<C)throw new Error("x/y invalid.");if(M<=0||k<=0||65535<M||65535<k)throw new Error("Width/Height invalid.");if(A.length<M*k)throw new Error("Not enough pixels for the frame size.");var O=!0,V=P.palette;if(V==null&&(O=!1,V=h),V==null)throw new Error("Must supply either a local or global palette.");for(var R=g(V),F=0;R>>=1;)++F;var R=1<<F,z=P.delay===void 0?0:P.delay,q=P.disposal===void 0?0:P.disposal;if(q<0||3<q)throw new Error("Disposal out of range.");var G=!1,W=0;if(P.transparent!==void 0&&P.transparent!==null&&(G=!0,(W=P.transparent)<0||R<=W))throw new Error("Transparent color index.");if(q===0&&!G&&z===0||(a[d++]=33,a[d++]=249,a[d++]=4,a[d++]=q<<2|(G===!0?1:0),a[d++]=255&z,a[d++]=z>>8&255,a[d++]=W,a[d++]=0),a[d++]=44,a[d++]=255&T,a[d++]=T>>8&255,a[d++]=255&C,a[d++]=C>>8&255,a[d++]=255&M,a[d++]=M>>8&255,a[d++]=255&k,a[d++]=k>>8&255,a[d++]=O===!0?128|F-1:0,O===!0)for(var Z=0,ae=V.length;Z<ae;++Z){var L=V[Z];a[d++]=L>>16&255,a[d++]=L>>8&255,a[d++]=255&L}return d=function(D,U,H,X){D[U++]=H;var J=U++,le=1<<H,se=le-1,ne=1+le,ce=1+ne,he=H+1,ee=0,oe=0;function fe(Ye){for(;Ye<=ee;)D[U++]=255&oe,oe>>=8,ee-=8,U===J+256&&(D[J]=255,J=U++)}function _e(Ye){oe|=Ye<<ee,ee+=he,fe(8)}var pe=X[0]&se,ye={};_e(le);for(var xe=1,Re=X.length;xe<Re;++xe){var Te=X[xe]&se,We=pe<<8|Te,qe=ye[We];if(qe===void 0){for(oe|=pe<<ee,ee+=he;8<=ee;)D[U++]=255&oe,oe>>=8,ee-=8,U===J+256&&(D[J]=255,J=U++);ce===4096?(_e(le),ce=1+ne,he=H+1,ye={}):(1<<he<=ce&&++he,ye[We]=ce++),pe=Te}else pe=qe}return _e(pe),_e(ne),fe(1),J+1===U?D[J]=0:(D[J]=U-J-1,D[U++]=0),U}(a,d,F<2?2:F,A)},this.end=function(){return j===!1&&(a[d++]=59,j=!0),d},this.getOutputBuffer=function(){return a},this.setOutputBuffer=function(T){a=T},this.getOutputBufferPosition=function(){return d},this.setOutputBufferPosition=function(T){d=T}}function l(a,c,y,b){for(var d=a[c++],p=1<<d,h=1+p,g=1+h,m=d+1,f=(1<<m)-1,v=0,_=0,x=0,S=a[c++],j=new Int32Array(4096),T=null;;){for(;v<16&&S!==0;)_|=a[c++]<<v,v+=8,S===1?S=a[c++]:--S;if(v<m)break;var C=_&f;if(_>>=m,v-=m,C==p)g=1+h,f=(1<<(m=d+1))-1,T=null;else{if(C==h)break;for(var M=C<g?C:T,k=0,A=M;p<A;)A=j[A]>>8,++k;var P=A;if(b<x+k+(M!==C?1:0))return void console.log("Warning, gif stream longer than expected.");y[x++]=P;var O=x+=k;for(M!==C&&(y[x++]=P),A=M;k--;)A=j[A],y[--O]=255&A,A>>=8;T!==null&&g<4096&&(j[g++]=T<<8|P,f+1<=g&&m<12&&(++m,f=f<<1|1)),T=C}}x!==b&&console.log("Warning, gif stream shorter than expected.")}try{u.GifWriter=s,u.GifReader=function(a){var c=0;if(a[c++]!==71||a[c++]!==73||a[c++]!==70||a[c++]!==56||(a[c++]+1&253)!=56||a[c++]!==97)throw new Error("Invalid GIF 87a/89a header.");var y=a[c++]|a[c++]<<8,b=a[c++]|a[c++]<<8,d=a[c++],p=1<<1+(7&d),h=(a[c++],a[c++],null),g=null,m=(d>>7&&(h=c,c+=3*(g=p)),!0),f=[],v=0,_=null,x=0,S=null;for(this.width=y,this.height=b;m&&c<a.length;)switch(a[c++]){case 33:switch(a[c++]){case 255:if(a[c]!==11||a[c+1]==78&&a[c+2]==69&&a[c+3]==84&&a[c+4]==83&&a[c+5]==67&&a[c+6]==65&&a[c+7]==80&&a[c+8]==69&&a[c+9]==50&&a[c+10]==46&&a[c+11]==48&&a[c+12]==3&&a[c+13]==1&&a[c+16]==0)c+=14,S=a[c++]|a[c++]<<8,c++;else for(c+=12;;){if(!(0<=(T=a[c++])))throw Error("Invalid block size");if(T===0)break;c+=T}break;case 249:if(a[c++]!==4||a[c+4]!==0)throw new Error("Invalid graphics extension block.");var j=a[c++],v=a[c++]|a[c++]<<8,_=a[c++];!(1&j)&&(_=null),x=j>>2&7,c++;break;case 254:for(;;){if(!(0<=(T=a[c++])))throw Error("Invalid block size");if(T===0)break;c+=T}break;default:throw new Error("Unknown graphic control label: 0x"+a[c-1].toString(16))}break;case 44:var T,C=a[c++]|a[c++]<<8,M=a[c++]|a[c++]<<8,k=a[c++]|a[c++]<<8,A=a[c++]|a[c++]<<8,z=a[c++],P=z>>6&1,O=1<<1+(7&z),V=h,F=g,R=!1,z=(z>>7&&(R=!0,V=c,c+=3*(F=O)),c);for(c++;;){if(!(0<=(T=a[c++])))throw Error("Invalid block size");if(T===0)break;c+=T}f.push({x:C,y:M,width:k,height:A,has_local_palette:R,palette_offset:V,palette_size:F,data_offset:z,data_length:c-z,transparent_index:_,interlaced:!!P,delay:v,disposal:x});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+a[c-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return S},this.frameInfo=function(q){if(q<0||q>=f.length)throw new Error("Frame index out of range.");return f[q]},this.decodeAndBlitFrameBGRA=function(q,G){for(var q=this.frameInfo(q),W=q.width*q.height,Z=new Uint8Array(W),ae=(l(a,q.data_offset,Z,W),q.palette_offset),L=q.transparent_index,D=(L===null&&(L=256),q.width),U=y-D,H=D,X=4*(q.y*y+q.x),J=4*((q.y+q.height)*y+q.x),le=X,se=4*U,ne=(q.interlaced===!0&&(se+=4*y*7),8),ce=0,he=Z.length;ce<he;++ce){var ee,oe,fe=Z[ce];H===0&&(H=D,J<=(le+=se)&&(se=4*U+4*y*(ne-1),le=X+(D+U)*(ne<<1),ne>>=1)),fe===L?le+=4:(ee=a[ae+3*fe],oe=a[ae+3*fe+1],fe=a[ae+3*fe+2],G[le++]=fe,G[le++]=oe,G[le++]=ee,G[le++]=255),--H}},this.decodeAndBlitFrameRGBA=function(q,G){for(var q=this.frameInfo(q),W=q.width*q.height,Z=new Uint8Array(W),ae=(l(a,q.data_offset,Z,W),q.palette_offset),L=q.transparent_index,D=(L===null&&(L=256),q.width),U=y-D,H=D,X=4*(q.y*y+q.x),J=4*((q.y+q.height)*y+q.x),le=X,se=4*U,ne=(q.interlaced===!0&&(se+=4*y*7),8),ce=0,he=Z.length;ce<he;++ce){var ee,oe,fe=Z[ce];H===0&&(H=D,J<=(le+=se)&&(se=4*U+4*y*(ne-1),le=X+(D+U)*(ne<<1),ne>>=1)),fe===L?le+=4:(ee=a[ae+3*fe],oe=a[ae+3*fe+1],fe=a[ae+3*fe+2],G[le++]=ee,G[le++]=oe,G[le++]=fe,G[le++]=255),--H}}}}catch{}},{}],257:[function(t,i,u){(function(s){var l,a;l=this,a=function(c){"use strict";function y(B){if(this==null)throw TypeError();var E,I=String(this),N=I.length,B=B?Number(B):0;if(!((B=B!=B?0:B)<0||N<=B))return 55296<=(E=I.charCodeAt(B))&&E<=56319&&B+1<N&&56320<=(N=I.charCodeAt(B+1))&&N<=57343?1024*(E-55296)+N-56320+65536:E}String.prototype.codePointAt||((b=function(){try{var w={},E=Object.defineProperty,I=E(w,w,w)&&E}catch{}return I}())?b(String.prototype,"codePointAt",{value:y,configurable:!0,writable:!0}):String.prototype.codePointAt=y);var b,d=0,p=-3;function h(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function g(w,E){this.source=w,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=E,this.destLen=0,this.ltree=new h,this.dtree=new h}var m=new h,f=new h,v=new Uint8Array(30),_=new Uint16Array(30),x=new Uint8Array(30),S=new Uint16Array(30),j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),T=new h,C=new Uint8Array(320);function M(w,E,I,N){for(var B,$=0;$<I;++$)w[$]=0;for($=0;$<30-I;++$)w[$+I]=$/I|0;for(B=N,$=0;$<30;++$)E[$]=B,B+=1<<w[$]}var k=new Uint16Array(16);function A(w,E,I,N){for(var B,$=0;$<16;++$)w.table[$]=0;for($=0;$<N;++$)w.table[E[I+$]]++;for($=B=w.table[0]=0;$<16;++$)k[$]=B,B+=w.table[$];for($=0;$<N;++$)E[I+$]&&(w.trans[k[E[I+$]]++]=$)}function P(w,E,I){if(!E)return I;for(;w.bitcount<24;)w.tag|=w.source[w.sourceIndex++]<<w.bitcount,w.bitcount+=8;var N=w.tag&65535>>>16-E;return w.tag>>>=E,w.bitcount-=E,N+I}function O(w,E){for(;w.bitcount<24;)w.tag|=w.source[w.sourceIndex++]<<w.bitcount,w.bitcount+=8;for(var I=0,N=0,B=0,$=w.tag;N=2*N+(1&$),$>>>=1,I+=E.table[++B],0<=(N-=E.table[B]););return w.tag=$,w.bitcount-=B,E.trans[I+N]}function V(w,E,I){for(;;){var N=O(w,E);if(N===256)return d;if(N<256)w.dest[w.destLen++]=N;else for(var B,$=P(w,v[N-=257],_[N]),N=O(w,I),Y=B=w.destLen-P(w,x[N],S[N]);Y<B+$;++Y)w.dest[w.destLen++]=w.dest[Y]}}for(var F=m,R=f,z=0;z<7;++z)F.table[z]=0;for(F.table[7]=24,F.table[8]=152,F.table[9]=112,z=0;z<24;++z)F.trans[z]=256+z;for(z=0;z<144;++z)F.trans[24+z]=z;for(z=0;z<8;++z)F.trans[168+z]=280+z;for(z=0;z<112;++z)F.trans[176+z]=144+z;for(z=0;z<5;++z)R.table[z]=0;for(R.table[5]=32,z=0;z<32;++z)R.trans[z]=z;M(v,_,4,3),M(x,S,2,1),v[28]=0,_[28]=258;var q=function(w,E){var I,N,B,$=new g(w,E);do{switch(B=void 0,(N=$).bitcount--||(N.tag=N.source[N.sourceIndex++],N.bitcount=7),B=1&N.tag,N.tag>>>=1,N=B,P($,2,0)){case 0:I=function(Ae){for(var at,bt;8<Ae.bitcount;)Ae.sourceIndex--,Ae.bitcount-=8;if((at=256*Ae.source[Ae.sourceIndex+1]+Ae.source[Ae.sourceIndex])!==(65535&~(256*Ae.source[Ae.sourceIndex+3]+Ae.source[Ae.sourceIndex+2])))return p;for(Ae.sourceIndex+=4,bt=at;bt;--bt)Ae.dest[Ae.destLen++]=Ae.source[Ae.sourceIndex++];return Ae.bitcount=0,d}($);break;case 1:I=V($,m,f);break;case 2:Ne=Oe=Fe=je=Y=me=Ce=Me=be=ue=de=te=void 0;for(var Y,te=$,de=$.ltree,ue=$.dtree,be=P(te,5,257),Me=P(te,5,1),Ce=P(te,4,4),me=0;me<19;++me)C[me]=0;for(me=0;me<Ce;++me){var Fe=P(te,3,0);C[j[me]]=Fe}for(A(T,C,0,19),Y=0;Y<be+Me;){var Oe=O(te,T);switch(Oe){case 16:for(var Ne=C[Y-1],je=P(te,2,3);je;--je)C[Y++]=Ne;break;case 17:for(je=P(te,3,3);je;--je)C[Y++]=0;break;case 18:for(je=P(te,7,11);je;--je)C[Y++]=0;break;default:C[Y++]=Oe}}A(de,C,0,be),A(ue,C,be,Me),I=V($,$.ltree,$.dtree);break;default:I=p}if(I!==d)throw new Error("Data error")}while(!N);return $.destLen<$.dest.length?typeof $.dest.slice=="function"?$.dest.slice(0,$.destLen):$.dest.subarray(0,$.destLen):$.dest};function G(w,E,I,N,B){return Math.pow(1-B,3)*w+3*Math.pow(1-B,2)*B*E+3*(1-B)*Math.pow(B,2)*I+Math.pow(B,3)*N}function W(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function Z(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function ae(w){throw new Error(w)}function L(w,E){w||ae(E)}W.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},W.prototype.addPoint=function(w,E){typeof w=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=w,this.x2=w),w<this.x1&&(this.x1=w),w>this.x2&&(this.x2=w)),typeof E=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=E,this.y2=E),E<this.y1&&(this.y1=E),E>this.y2&&(this.y2=E))},W.prototype.addX=function(w){this.addPoint(w,null)},W.prototype.addY=function(w){this.addPoint(null,w)},W.prototype.addBezier=function(w,E,I,N,B,$,Y,te){var de=[w,E],ue=[I,N],be=[B,$],Me=[Y,te];this.addPoint(w,E),this.addPoint(Y,te);for(var Ce=0;Ce<=1;Ce++){var me,Fe=6*de[Ce]-12*ue[Ce]+6*be[Ce],Oe=-3*de[Ce]+9*ue[Ce]-9*be[Ce]+3*Me[Ce],Ne=3*ue[Ce]-3*de[Ce];Oe==0?Fe==0||0<(me=-Ne/Fe)&&me<1&&(Ce===0&&this.addX(G(de[Ce],ue[Ce],be[Ce],Me[Ce],me)),Ce===1&&this.addY(G(de[Ce],ue[Ce],be[Ce],Me[Ce],me))):(me=Math.pow(Fe,2)-4*Ne*Oe)<0||(0<(Ne=(-Fe+Math.sqrt(me))/(2*Oe))&&Ne<1&&(Ce===0&&this.addX(G(de[Ce],ue[Ce],be[Ce],Me[Ce],Ne)),Ce===1&&this.addY(G(de[Ce],ue[Ce],be[Ce],Me[Ce],Ne))),0<(Ne=(-Fe-Math.sqrt(me))/(2*Oe))&&Ne<1&&(Ce===0&&this.addX(G(de[Ce],ue[Ce],be[Ce],Me[Ce],Ne)),Ce===1&&this.addY(G(de[Ce],ue[Ce],be[Ce],Me[Ce],Ne))))}},W.prototype.addQuad=function(w,E,I,N,B,$){I=w+2/3*(I-w),N=E+2/3*(N-E),this.addBezier(w,E,I,N,I+1/3*(B-w),N+1/3*($-E),B,$)},Z.prototype.moveTo=function(w,E){this.commands.push({type:"M",x:w,y:E})},Z.prototype.lineTo=function(w,E){this.commands.push({type:"L",x:w,y:E})},Z.prototype.curveTo=Z.prototype.bezierCurveTo=function(w,E,I,N,B,$){this.commands.push({type:"C",x1:w,y1:E,x2:I,y2:N,x:B,y:$})},Z.prototype.quadTo=Z.prototype.quadraticCurveTo=function(w,E,I,N){this.commands.push({type:"Q",x1:w,y1:E,x:I,y:N})},Z.prototype.close=Z.prototype.closePath=function(){this.commands.push({type:"Z"})},Z.prototype.extend=function(w){var E;if(w.commands)w=w.commands;else if(w instanceof W)return E=w,this.moveTo(E.x1,E.y1),this.lineTo(E.x2,E.y1),this.lineTo(E.x2,E.y2),this.lineTo(E.x1,E.y2),void this.close();Array.prototype.push.apply(this.commands,w)},Z.prototype.getBoundingBox=function(){for(var w=new W,E=0,I=0,N=0,B=0,$=0;$<this.commands.length;$++){var Y=this.commands[$];switch(Y.type){case"M":w.addPoint(Y.x,Y.y),E=N=Y.x,I=B=Y.y;break;case"L":w.addPoint(Y.x,Y.y),N=Y.x,B=Y.y;break;case"Q":w.addQuad(N,B,Y.x1,Y.y1,Y.x,Y.y),N=Y.x,B=Y.y;break;case"C":w.addBezier(N,B,Y.x1,Y.y1,Y.x2,Y.y2,Y.x,Y.y),N=Y.x,B=Y.y;break;case"Z":N=E,B=I;break;default:throw new Error("Unexpected path command "+Y.type)}}return w.isEmpty()&&w.addPoint(0,0),w},Z.prototype.draw=function(w){w.beginPath();for(var E=0;E<this.commands.length;E+=1){var I=this.commands[E];I.type==="M"?w.moveTo(I.x,I.y):I.type==="L"?w.lineTo(I.x,I.y):I.type==="C"?w.bezierCurveTo(I.x1,I.y1,I.x2,I.y2,I.x,I.y):I.type==="Q"?w.quadraticCurveTo(I.x1,I.y1,I.x,I.y):I.type==="Z"&&w.closePath()}this.fill&&(w.fillStyle=this.fill,w.fill()),this.stroke&&(w.strokeStyle=this.stroke,w.lineWidth=this.strokeWidth,w.stroke())},Z.prototype.toPathData=function(w){function E(){for(var $=arguments,Y="",te=0;te<arguments.length;te+=1){var de=$[te];0<=de&&0<te&&(Y+=" "),Y+=(de=de,Math.round(de)===de?""+Math.round(de):de.toFixed(w))}return Y}w=w!==void 0?w:2;for(var I="",N=0;N<this.commands.length;N+=1){var B=this.commands[N];B.type==="M"?I+="M"+E(B.x,B.y):B.type==="L"?I+="L"+E(B.x,B.y):B.type==="C"?I+="C"+E(B.x1,B.y1,B.x2,B.y2,B.x,B.y):B.type==="Q"?I+="Q"+E(B.x1,B.y1,B.x,B.y):B.type==="Z"&&(I+="Z")}return I},Z.prototype.toSVG=function(w){var E=(E='<path d="')+this.toPathData(w)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?E+=' fill="none"':E+=' fill="'+this.fill+'"'),this.stroke&&(E+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),E+="/>"},Z.prototype.toDOMElement=function(E){var E=this.toPathData(E),I=document.createElementNS("http://www.w3.org/2000/svg","path");return I.setAttribute("d",E),I};var D={fail:ae,argument:L,assert:L},U={},H={},X={};function J(w){return function(){return w}}H.BYTE=function(w){return D.argument(0<=w&&w<=255,"Byte value should be between 0 and 255."),[w]},X.BYTE=J(1),H.CHAR=function(w){return[w.charCodeAt(0)]},X.CHAR=J(1),H.CHARARRAY=function(w){for(var E=[],I=0;I<w.length;I+=1)E[I]=w.charCodeAt(I);return E},X.CHARARRAY=function(w){return w.length},H.USHORT=function(w){return[w>>8&255,255&w]},X.USHORT=J(2),H.SHORT=function(w){return[(w=32768<=w?-(65536-w):w)>>8&255,255&w]},X.SHORT=J(2),H.UINT24=function(w){return[w>>16&255,w>>8&255,255&w]},X.UINT24=J(3),H.ULONG=function(w){return[w>>24&255,w>>16&255,w>>8&255,255&w]},X.ULONG=J(4),H.LONG=function(w){return[(w=2147483648<=w?-(4294967296-w):w)>>24&255,w>>16&255,w>>8&255,255&w]},X.LONG=J(4),H.FIXED=H.ULONG,X.FIXED=X.ULONG,H.FWORD=H.SHORT,X.FWORD=X.SHORT,H.UFWORD=H.USHORT,X.UFWORD=X.USHORT,H.LONGDATETIME=function(w){return[0,0,0,0,w>>24&255,w>>16&255,w>>8&255,255&w]},X.LONGDATETIME=J(8),H.TAG=function(w){return D.argument(w.length===4,"Tag should be exactly 4 ASCII characters."),[w.charCodeAt(0),w.charCodeAt(1),w.charCodeAt(2),w.charCodeAt(3)]},X.TAG=J(4),H.Card8=H.BYTE,X.Card8=X.BYTE,H.Card16=H.USHORT,X.Card16=X.USHORT,H.OffSize=H.BYTE,X.OffSize=X.BYTE,H.SID=H.USHORT,X.SID=X.USHORT,H.NUMBER=function(w){return-107<=w&&w<=107?[w+139]:108<=w&&w<=1131?[247+((w-=108)>>8),255&w]:-1131<=w&&w<=-108?[251+((w=-w-108)>>8),255&w]:-32768<=w&&w<=32767?H.NUMBER16(w):H.NUMBER32(w)},X.NUMBER=function(w){return H.NUMBER(w).length},H.NUMBER16=function(w){return[28,w>>8&255,255&w]},X.NUMBER16=J(3),H.NUMBER32=function(w){return[29,w>>24&255,w>>16&255,w>>8&255,255&w]},X.NUMBER32=J(5),H.REAL=function(w){for(var E=w.toString(),I=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(E),N=(I&&(I=parseFloat("1e"+((I[2]?+I[2]:0)+I[1].length)),E=(Math.round(w*I)/I).toString()),""),B=0,$=E.length;B<$;B+=1){var Y=E[B];N+=Y==="e"?E[++B]==="-"?"c":"b":Y==="."?"a":Y==="-"?"e":Y}for(var te=[30],de=0,ue=(N+=1&N.length?"f":"ff").length;de<ue;de+=2)te.push(parseInt(N.substr(de,2),16));return te},X.REAL=function(w){return H.REAL(w).length},H.NAME=H.CHARARRAY,X.NAME=X.CHARARRAY,H.STRING=H.CHARARRAY,X.STRING=X.CHARARRAY,U.UTF8=function(w,E,I){for(var N=[],B=I,$=0;$<B;$++,E+=1)N[$]=w.getUint8(E);return String.fromCharCode.apply(null,N)},U.UTF16=function(w,E,I){for(var N=[],B=I/2,$=0;$<B;$++,E+=2)N[$]=w.getUint16(E);return String.fromCharCode.apply(null,N)},H.UTF16=function(w){for(var E=[],I=0;I<w.length;I+=1){var N=w.charCodeAt(I);E[E.length]=N>>8&255,E[E.length]=255&N}return E},X.UTF16=function(w){return 2*w.length};var le,se={"x-mac-croatian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\u0160\u2122\xB4\xA8\u2260\u017D\xD8\u221E\xB1\u2264\u2265\u2206\xB5\u2202\u2211\u220F\u0161\u222B\xAA\xBA\u03A9\u017E\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u0106\xAB\u010C\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u0110\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\uF8FF\xA9\u2044\u20AC\u2039\u203A\xC6\xBB\u2013\xB7\u201A\u201E\u2030\xC2\u0107\xC1\u010D\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u0111\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u03C0\xCB\u02DA\xB8\xCA\xE6\u02C7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u2020\xB0\u0490\xA3\xA7\u2022\xB6\u0406\xAE\xA9\u2122\u0402\u0452\u2260\u0403\u0453\u221E\xB1\u2264\u2265\u0456\xB5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\u040B\u045B\u040C\u045C\u0455\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u201E\u040E\u045E\u040F\u045F\u2116\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E","x-mac-gaelic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u1E02\xB1\u2264\u2265\u1E03\u010A\u010B\u1E0A\u1E0B\u1E1E\u1E1F\u0120\u0121\u1E40\xE6\xF8\u1E41\u1E56\u1E57\u027C\u0192\u017F\u1E60\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u1E61\u1E9B\xFF\u0178\u1E6A\u20AC\u2039\u203A\u0176\u0177\u1E6B\xB7\u1EF2\u1EF3\u204A\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u2663\xD2\xDA\xDB\xD9\u0131\xDD\xFD\u0174\u0175\u1E84\u1E85\u1E80\u1E81\u1E82\u1E83","x-mac-greek":"\xC4\xB9\xB2\xC9\xB3\xD6\xDC\u0385\xE0\xE2\xE4\u0384\xA8\xE7\xE9\xE8\xEA\xEB\xA3\u2122\xEE\xEF\u2022\xBD\u2030\xF4\xF6\xA6\u20AC\xF9\xFB\xFC\u2020\u0393\u0394\u0398\u039B\u039E\u03A0\xDF\xAE\xA9\u03A3\u03AA\xA7\u2260\xB0\xB7\u0391\xB1\u2264\u2265\xA5\u0392\u0395\u0396\u0397\u0399\u039A\u039C\u03A6\u03AB\u03A8\u03A9\u03AC\u039D\xAC\u039F\u03A1\u2248\u03A4\xAB\xBB\u2026\xA0\u03A5\u03A7\u0386\u0388\u0153\u2013\u2015\u201C\u201D\u2018\u2019\xF7\u0389\u038A\u038C\u038E\u03AD\u03AE\u03AF\u03CC\u038F\u03CD\u03B1\u03B2\u03C8\u03B4\u03B5\u03C6\u03B3\u03B7\u03B9\u03BE\u03BA\u03BB\u03BC\u03BD\u03BF\u03C0\u03CE\u03C1\u03C3\u03C4\u03B8\u03C9\u03C2\u03C7\u03C5\u03B6\u03CA\u03CB\u0390\u03B0\xAD","x-mac-icelandic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\xDD\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\xD0\xF0\xDE\xFE\xFD\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140A\u140B\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144E\u144F\u1450\u1451\u1455\u1456\u1466\u146D\u146E\u146F\u1470\u1472\u1473\u1483\u148B\u148C\u148D\u148E\u1490\u1491\xB0\u14A1\u14A5\u14A6\u2022\xB6\u14A7\xAE\xA9\u2122\u14A8\u14AA\u14AB\u14BB\u14C2\u14C3\u14C4\u14C5\u14C7\u14C8\u14D0\u14EF\u14F0\u14F1\u14F2\u14F4\u14F5\u1505\u14D5\u14D6\u14D7\u14D8\u14DA\u14DB\u14EA\u1528\u1529\u152A\u152B\u152D\u2026\xA0\u152E\u153E\u1555\u1556\u1557\u2013\u2014\u201C\u201D\u2018\u2019\u1558\u1559\u155A\u155D\u1546\u1547\u1548\u1549\u154B\u154C\u1550\u157F\u1580\u1581\u1582\u1583\u1584\u1585\u158F\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15A0\u15A1\u15A2\u15A3\u15A4\u15A5\u15A6\u157C\u0141\u0142","x-mac-ce":"\xC4\u0100\u0101\xC9\u0104\xD6\xDC\xE1\u0105\u010C\xE4\u010D\u0106\u0107\xE9\u0179\u017A\u010E\xED\u010F\u0112\u0113\u0116\xF3\u0117\xF4\xF6\xF5\xFA\u011A\u011B\xFC\u2020\xB0\u0118\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\u0119\xA8\u2260\u0123\u012E\u012F\u012A\u2264\u2265\u012B\u0136\u2202\u2211\u0142\u013B\u013C\u013D\u013E\u0139\u013A\u0145\u0146\u0143\xAC\u221A\u0144\u0147\u2206\xAB\xBB\u2026\xA0\u0148\u0150\xD5\u0151\u014C\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\u014D\u0154\u0155\u0158\u2039\u203A\u0159\u0156\u0157\u0160\u201A\u201E\u0161\u015A\u015B\xC1\u0164\u0165\xCD\u017D\u017E\u016A\xD3\xD4\u016B\u016E\xDA\u016F\u0170\u0171\u0172\u0173\xDD\xFD\u0137\u017B\u0141\u017C\u0122\u02C7",macintosh:"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\uFB01\uFB02\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-romanian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\u0102\u0218\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\u0103\u0219\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\u021A\u021B\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-turkish":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u011E\u011F\u0130\u0131\u015E\u015F\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\uF8A0\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7"},ne=(U.MACSTRING=function(w,E,I,N){var B=se[N];if(B!==void 0){for(var $="",Y=0;Y<I;Y++){var te=w.getUint8(E+Y);$+=te<=127?String.fromCharCode(te):B[127&te]}return $}},typeof WeakMap=="function"&&new WeakMap);function ce(w){return-128<=w&&w<=127}H.MACSTRING=function(w,E){var I=function(Y){if(!le)for(var te in le={},se)le[te]=new String(te);var de=le[Y];if(de!==void 0){if(ne){var ue=ne.get(de);if(ue!==void 0)return ue}var be=se[Y];if(be!==void 0){for(var Me={},Ce=0;Ce<be.length;Ce++)Me[be.charCodeAt(Ce)]=Ce+128;return ne&&ne.set(de,Me),Me}}}(E);if(I!==void 0){for(var N=[],B=0;B<w.length;B++){var $=w.charCodeAt(B);if(128<=$&&($=I[$])===void 0)return;N[B]=$}return N}},X.MACSTRING=function(w,E){return w=H.MACSTRING(w,E),w!==void 0?w.length:0},H.VARDELTAS=function(w){for(var N=0,E=[];N<w.length;)var I=w[N],N=(I===0?function(B,$,Y){for(var te=0,de=B.length;$<de&&te<64&&B[$]===0;)++$,++te;return Y.push(128|te-1),$}:-128<=I&&I<=127?function(B,$,Y){for(var te=0,de=B.length,ue=$;ue<de&&te<64;){var be=B[ue];if(!ce(be)||be===0&&ue+1<de&&B[ue+1]===0)break;++ue,++te}Y.push(te-1);for(var Me=$;Me<ue;++Me)Y.push(B[Me]+256&255);return ue}:function(B,$,Y){for(var te=0,de=B.length,ue=$;ue<de&&te<64;){var be=B[ue];if(be===0||ce(be)&&ue+1<de&&ce(B[ue+1]))break;++ue,++te}Y.push(64|te-1);for(var Me=$;Me<ue;++Me){var Ce=B[Me];Y.push(Ce+65536>>8&255,Ce+256&255)}return ue})(w,N,E);return E},H.INDEX=function(w){for(var E=1,I=[E],N=[],B=0;B<w.length;B+=1){var $=H.OBJECT(w[B]);Array.prototype.push.apply(N,$),E+=$.length,I.push(E)}if(N.length===0)return[0,0];for(var Y=[],te=1+Math.floor(Math.log(E)/Math.log(2))/8|0,de=[void 0,H.BYTE,H.USHORT,H.UINT24,H.ULONG][te],ue=0;ue<I.length;ue+=1){var be=de(I[ue]);Array.prototype.push.apply(Y,be)}return Array.prototype.concat(H.Card16(w.length),H.OffSize(te),Y,N)},X.INDEX=function(w){return H.INDEX(w).length},H.DICT=function(w){for(var E=[],I=Object.keys(w),N=I.length,B=0;B<N;B+=1){var $=parseInt(I[B],0),Y=w[$];E=(E=E.concat(H.OPERAND(Y.value,Y.type))).concat(H.OPERATOR($))}return E},X.DICT=function(w){return H.DICT(w).length},H.OPERATOR=function(w){return w<1200?[w]:[12,w-1200]},H.OPERAND=function(w,E){var I=[];if(Array.isArray(E))for(var N=0;N<E.length;N+=1)D.argument(w.length===E.length,"Not enough arguments given for type"+E),I=I.concat(H.OPERAND(w[N],E[N]));else if(E==="SID")I=I.concat(H.NUMBER(w));else if(E==="offset")I=I.concat(H.NUMBER32(w));else if(E==="number")I=I.concat(H.NUMBER(w));else{if(E!=="real")throw new Error("Unknown operand type "+E);I=I.concat(H.REAL(w))}return I},H.OP=H.BYTE,X.OP=X.BYTE;var he=typeof WeakMap=="function"&&new WeakMap;function ee(w,E,I){for(var N=0;N<E.length;N+=1){var B=E[N];this[B.name]=B.value}if(this.tableName=w,this.fields=E,I)for(var $=Object.keys(I),Y=0;Y<$.length;Y+=1){var te=$[Y],de=I[te];this[te]!==void 0&&(this[te]=de)}}function oe(w,E,I){I===void 0&&(I=E.length);var N=new Array(E.length+1);N[0]={name:w+"Count",type:"USHORT",value:I};for(var B=0;B<E.length;B++)N[B+1]={name:w+B,type:"USHORT",value:E[B]};return N}function fe(w,E,I){var N=E.length,B=new Array(N+1);B[0]={name:w+"Count",type:"USHORT",value:N};for(var $=0;$<N;$++)B[$+1]={name:w+$,type:"TABLE",value:I(E[$],$)};return B}function _e(w,E,I){var N=E.length,B=[];B[0]={name:w+"Count",type:"USHORT",value:N};for(var $=0;$<N;$++)B=B.concat(I(E[$],$));return B}function pe(w){w.format===1?ee.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(oe("glyph",w.glyphs))):D.assert(!1,"Can't create coverage table format 2 yet.")}function ye(w){ee.call(this,"scriptListTable",_e("scriptRecord",w,function(E,I){var N=E.script,B=N.defaultLangSys;return D.assert(!!B,"Unable to write GSUB: script "+E.tag+" has no default language system."),[{name:"scriptTag"+I,type:"TAG",value:E.tag},{name:"script"+I,type:"TABLE",value:new ee("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new ee("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:B.reqFeatureIndex}].concat(oe("featureIndex",B.featureIndexes)))}].concat(_e("langSys",N.langSysRecords,function($,Y){var te=$.langSys;return[{name:"langSysTag"+Y,type:"TAG",value:$.tag},{name:"langSys"+Y,type:"TABLE",value:new ee("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:te.reqFeatureIndex}].concat(oe("featureIndex",te.featureIndexes)))}]})))}]}))}function xe(w){ee.call(this,"featureListTable",_e("featureRecord",w,function(E,I){var N=E.feature;return[{name:"featureTag"+I,type:"TAG",value:E.tag},{name:"feature"+I,type:"TABLE",value:new ee("featureTable",[{name:"featureParams",type:"USHORT",value:N.featureParams}].concat(oe("lookupListIndex",N.lookupListIndexes)))}]}))}function Re(w,E){ee.call(this,"lookupListTable",fe("lookup",w,function(I){var N=E[I.lookupType];return D.assert(!!N,"Unable to write GSUB lookup type "+I.lookupType+" tables."),new ee("lookupTable",[{name:"lookupType",type:"USHORT",value:I.lookupType},{name:"lookupFlag",type:"USHORT",value:I.lookupFlag}].concat(fe("subtable",I.subtables,N)))}))}H.CHARSTRING=function(w){if(he){var E=he.get(w);if(E!==void 0)return E}for(var $=[],I=w.length,N=0;N<I;N+=1)var B=w[N],$=$.concat(H[B.type](B.value));return he&&he.set(w,$),$},X.CHARSTRING=function(w){return H.CHARSTRING(w).length},H.OBJECT=function(w){var E=H[w.type];return D.argument(E!==void 0,"No encoding function for type "+w.type),E(w.value)},X.OBJECT=function(w){var E=X[w.type];return D.argument(E!==void 0,"No sizeOf function for type "+w.type),E(w.value)},H.TABLE=function(w){for(var E=[],I=w.fields.length,N=[],B=[],$=0;$<I;$+=1){var Y=w.fields[$],de=H[Y.type],te=(D.argument(de!==void 0,"No encoding function for field type "+Y.type+" ("+Y.name+")"),w[Y.name]),de=de(te=te===void 0?Y.value:te);Y.type==="TABLE"?(B.push(E.length),E=E.concat([0,0]),N.push(de)):E=E.concat(de)}for(var ue=0;ue<N.length;ue+=1){var be=B[ue],Me=E.length;D.argument(Me<65536,"Table "+w.tableName+" too big."),E[be]=Me>>8,E[be+1]=255&Me,E=E.concat(N[ue])}return E},X.TABLE=function(w){for(var E=0,I=w.fields.length,N=0;N<I;N+=1){var B=w.fields[N],$=X[B.type],Y=(D.argument($!==void 0,"No sizeOf function for field type "+B.type+" ("+B.name+")"),w[B.name]);E+=$(Y=Y===void 0?B.value:Y),B.type==="TABLE"&&(E+=2)}return E},H.RECORD=H.TABLE,X.RECORD=X.TABLE,H.LITERAL=function(w){return w},X.LITERAL=function(w){return w.length},ee.prototype.encode=function(){return H.TABLE(this)},ee.prototype.sizeOf=function(){return X.TABLE(this)};var Te={Table:ee,Record:ee,Coverage:(pe.prototype=Object.create(ee.prototype)).constructor=pe,ScriptList:(ye.prototype=Object.create(ee.prototype)).constructor=ye,FeatureList:(xe.prototype=Object.create(ee.prototype)).constructor=xe,LookupList:(Re.prototype=Object.create(ee.prototype)).constructor=Re,ushortList:oe,tableList:fe,recordList:_e};function We(w,E){return w.getUint8(E)}function qe(w,E){return w.getUint16(E,!1)}function Ye(w,E){return w.getUint32(E,!1)}function Ze(w,E){return w.getInt16(E,!1)+w.getUint16(E+2,!1)/65535}var Xe={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function we(w,E){this.data=w,this.offset=E,this.relativeOffset=0}we.prototype.parseByte=function(){var w=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,w},we.prototype.parseChar=function(){var w=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,w},we.prototype.parseCard8=we.prototype.parseByte,we.prototype.parseCard16=we.prototype.parseUShort=function(){var w=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,w},we.prototype.parseSID=we.prototype.parseUShort,we.prototype.parseOffset16=we.prototype.parseUShort,we.prototype.parseShort=function(){var w=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,w},we.prototype.parseF2Dot14=function(){var w=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,w},we.prototype.parseOffset32=we.prototype.parseULong=function(){var w=Ye(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,w},we.prototype.parseFixed=function(){var w=Ze(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,w},we.prototype.parseString=function(w){var E=this.data,I=this.offset+this.relativeOffset,N="";this.relativeOffset+=w;for(var B=0;B<w;B++)N+=String.fromCharCode(E.getUint8(I+B));return N},we.prototype.parseTag=function(){return this.parseString(4)},we.prototype.parseLongDateTime=function(){var w=Ye(this.data,this.offset+this.relativeOffset+4);return w-=2082844800,this.relativeOffset+=8,w},we.prototype.parseVersion=function(w){var E=qe(this.data,this.offset+this.relativeOffset),I=qe(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,E+I/(w=w===void 0?4096:w)/10},we.prototype.skip=function(w,E){this.relativeOffset+=Xe[w]*(E=E===void 0?1:E)},we.prototype.parseULongList=function(w){w===void 0&&(w=this.parseULong());for(var E=new Array(w),I=this.data,N=this.offset+this.relativeOffset,B=0;B<w;B++)E[B]=I.getUint32(N),N+=4;return this.relativeOffset+=4*w,E},we.prototype.parseOffset16List=we.prototype.parseUShortList=function(w){w===void 0&&(w=this.parseUShort());for(var E=new Array(w),I=this.data,N=this.offset+this.relativeOffset,B=0;B<w;B++)E[B]=I.getUint16(N),N+=2;return this.relativeOffset+=2*w,E},we.prototype.parseShortList=function(w){for(var E=new Array(w),I=this.data,N=this.offset+this.relativeOffset,B=0;B<w;B++)E[B]=I.getInt16(N),N+=2;return this.relativeOffset+=2*w,E},we.prototype.parseByteList=function(w){for(var E=new Array(w),I=this.data,N=this.offset+this.relativeOffset,B=0;B<w;B++)E[B]=I.getUint8(N++);return this.relativeOffset+=w,E},we.prototype.parseList=function(w,E){E||(E=w,w=this.parseUShort());for(var I=new Array(w),N=0;N<w;N++)I[N]=E.call(this);return I},we.prototype.parseList32=function(w,E){E||(E=w,w=this.parseULong());for(var I=new Array(w),N=0;N<w;N++)I[N]=E.call(this);return I},we.prototype.parseRecordList=function(w,E){E||(E=w,w=this.parseUShort());for(var I=new Array(w),N=Object.keys(E),B=0;B<w;B++){for(var $={},Y=0;Y<N.length;Y++){var te=N[Y],de=E[te];$[te]=de.call(this)}I[B]=$}return I},we.prototype.parseRecordList32=function(w,E){E||(E=w,w=this.parseULong());for(var I=new Array(w),N=Object.keys(E),B=0;B<w;B++){for(var $={},Y=0;Y<N.length;Y++){var te=N[Y],de=E[te];$[te]=de.call(this)}I[B]=$}return I},we.prototype.parseStruct=function(w){if(typeof w=="function")return w.call(this);for(var E=Object.keys(w),I={},N=0;N<E.length;N++){var B=E[N],$=w[B];I[B]=$.call(this)}return I},we.prototype.parseValueRecord=function(w){var E;if((w=w===void 0?this.parseUShort():w)!==0)return E={},1&w&&(E.xPlacement=this.parseShort()),2&w&&(E.yPlacement=this.parseShort()),4&w&&(E.xAdvance=this.parseShort()),8&w&&(E.yAdvance=this.parseShort()),16&w&&(E.xPlaDevice=void 0,this.parseShort()),32&w&&(E.yPlaDevice=void 0,this.parseShort()),64&w&&(E.xAdvDevice=void 0,this.parseShort()),128&w&&(E.yAdvDevice=void 0,this.parseShort()),E},we.prototype.parseValueRecordList=function(){for(var w=this.parseUShort(),E=this.parseUShort(),I=new Array(E),N=0;N<E;N++)I[N]=this.parseValueRecord(w);return I},we.prototype.parsePointer=function(w){var E=this.parseOffset16();if(0<E)return new we(this.data,this.offset+E).parseStruct(w)},we.prototype.parsePointer32=function(w){var E=this.parseOffset32();if(0<E)return new we(this.data,this.offset+E).parseStruct(w)},we.prototype.parseListOfLists=function(w){for(var E=this.parseOffset16List(),I=E.length,N=this.relativeOffset,B=new Array(I),$=0;$<I;$++){var Y=E[$];if(Y===0)B[$]=void 0;else if(this.relativeOffset=Y,w){for(var te=this.parseOffset16List(),de=new Array(te.length),ue=0;ue<te.length;ue++)this.relativeOffset=Y+te[ue],de[ue]=w.call(this);B[$]=de}else B[$]=this.parseUShortList()}return this.relativeOffset=N,B},we.prototype.parseCoverage=function(){var w=this.offset+this.relativeOffset,E=this.parseUShort(),I=this.parseUShort();if(E===1)return{format:1,glyphs:this.parseUShortList(I)};if(E!==2)throw new Error("0x"+w.toString(16)+": Coverage format must be 1 or 2.");for(var N=new Array(I),B=0;B<I;B++)N[B]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:N}},we.prototype.parseClassDef=function(){var w=this.offset+this.relativeOffset,E=this.parseUShort();if(E===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(E===2)return{format:2,ranges:this.parseRecordList({start:we.uShort,end:we.uShort,classId:we.uShort})};throw new Error("0x"+w.toString(16)+": ClassDef format must be 1 or 2.")},we.list=function(w,E){return function(){return this.parseList(w,E)}},we.list32=function(w,E){return function(){return this.parseList32(w,E)}},we.recordList=function(w,E){return function(){return this.parseRecordList(w,E)}},we.recordList32=function(w,E){return function(){return this.parseRecordList32(w,E)}},we.pointer=function(w){return function(){return this.parsePointer(w)}},we.pointer32=function(w){return function(){return this.parsePointer32(w)}},we.tag=we.prototype.parseTag,we.byte=we.prototype.parseByte,we.uShort=we.offset16=we.prototype.parseUShort,we.uShortList=we.prototype.parseUShortList,we.uLong=we.offset32=we.prototype.parseULong,we.uLongList=we.prototype.parseULongList,we.struct=we.prototype.parseStruct,we.coverage=we.prototype.parseCoverage,we.classDef=we.prototype.parseClassDef;var Pe={reserved:we.uShort,reqFeatureIndex:we.uShort,featureIndexes:we.uShortList},De=(we.prototype.parseScriptList=function(){return this.parsePointer(we.recordList({tag:we.tag,script:we.pointer({defaultLangSys:we.pointer(Pe),langSysRecords:we.recordList({tag:we.tag,langSys:we.pointer(Pe)})})}))||[]},we.prototype.parseFeatureList=function(){return this.parsePointer(we.recordList({tag:we.tag,feature:we.pointer({featureParams:we.offset16,lookupListIndexes:we.uShortList})}))||[]},we.prototype.parseLookupList=function(w){return this.parsePointer(we.list(we.pointer(function(){var E=this.parseUShort(),I=(D.argument(1<=E&&E<=9,"GPOS/GSUB lookup type "+E+" unknown."),this.parseUShort()),N=16&I;return{lookupType:E,lookupFlag:I,subtables:this.parseList(we.pointer(w[E])),markFilteringSet:N?this.parseUShort():void 0}})))||[]},we.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var w=this.parseUShort(),E=this.parseUShort();return D.argument(w===1&&E<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:we.offset32,featureTableSubstitutionOffset:we.offset32})})||[]},{getByte:We,getCard8:We,getUShort:qe,getCard16:qe,getShort:function(w,E){return w.getInt16(E,!1)},getULong:Ye,getFixed:Ze,getTag:function(w,E){for(var I="",N=E;N<E+4;N+=1)I+=String.fromCharCode(w.getInt8(N));return I},getOffset:function(w,E,I){for(var N=0,B=0;B<I;B+=1)N=(N<<=8)+w.getUint8(E+B);return N},getBytes:function(w,E,I){for(var N=[],B=E;B<I;B+=1)N.push(w.getUint8(B));return N},bytesToString:function(w){for(var E="",I=0;I<w.length;I+=1)E+=String.fromCharCode(w[I]);return E},Parser:we}),K={parse:function(w,E){for(var I={},N=(I.version=De.getUShort(w,E),D.argument(I.version===0,"cmap table version should be 0."),I.numTables=De.getUShort(w,E+2),-1),B=I.numTables-1;0<=B;--B){var $=De.getUShort(w,E+4+8*B),Y=De.getUShort(w,E+4+8*B+2);if($===3&&(Y===0||Y===1||Y===10)||$===0&&(Y===0||Y===1||Y===2||Y===3||Y===4)){N=De.getULong(w,E+4+8*B+4);break}}if(N===-1)throw new Error("No valid cmap sub-tables found.");var te=new De.Parser(w,E+N);if(I.format=te.parseUShort(),I.format===12){var de,ue=I,be=te;be.parseUShort(),ue.length=be.parseULong(),ue.language=be.parseULong(),ue.groupCount=de=be.parseULong(),ue.glyphIndexMap={};for(var Me=0;Me<de;Me+=1)for(var Ce=be.parseULong(),me=be.parseULong(),Fe=be.parseULong(),Oe=Ce;Oe<=me;Oe+=1)ue.glyphIndexMap[Oe]=Fe,Fe++}else{if(I.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+I.format+").");var Ne=I,je=w,Ae=E,at=N;Ne.length=te.parseUShort(),Ne.language=te.parseUShort(),Ne.segCount=bt=te.parseUShort()>>1,te.skip("uShort",3),Ne.glyphIndexMap={};for(var bt,lt=new De.Parser(je,Ae+at+14),ut=new De.Parser(je,Ae+at+16+2*bt),Tt=new De.Parser(je,Ae+at+16+4*bt),nr=new De.Parser(je,Ae+at+16+6*bt),hr=Ae+at+16+8*bt,Cr=0;Cr<bt-1;Cr+=1)for(var nn=void 0,on=lt.parseUShort(),ro=ut.parseUShort(),er=Tt.parseShort(),ir=nr.parseUShort(),Xt=ro;Xt<=on;Xt+=1)ir!==0?(hr=(hr=nr.offset+nr.relativeOffset-2)+ir+2*(Xt-ro),(nn=De.getUShort(je,hr))!==0&&(nn=nn+er&65535)):nn=Xt+er&65535,Ne.glyphIndexMap[Xt]=nn}return I},make:function(w){for(var E=!0,I=w.length-1;0<I;--I)if(65535<w.get(I).unicode){console.log("Adding CMAP format 12 (needed!)"),E=!1;break}var N,B,$=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:E?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:E?12:20}],Y=($=($=E?$:$.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Te.Table("cmap",$));for(Y.segments=[],I=0;I<w.length;I+=1){for(var te=w.get(I),de=0;de<te.unicodes.length;de+=1)N=te.unicodes[de],B=I,Y.segments.push({end:N,start:N,delta:-(N-B),offset:0,glyphIndex:B});Y.segments=Y.segments.sort(function(Ae,at){return Ae.start-at.start})}Y.segments.push({end:65535,start:65535,delta:1,offset:0});var ue=Y.segments.length,be=0,Me=[],Ce=[],me=[],Fe=[],Oe=[],Ne=[];for(I=0;I<ue;I+=1){var je=Y.segments[I];je.end<=65535&&je.start<=65535?(Me=Me.concat({name:"end_"+I,type:"USHORT",value:je.end}),Ce=Ce.concat({name:"start_"+I,type:"USHORT",value:je.start}),me=me.concat({name:"idDelta_"+I,type:"SHORT",value:je.delta}),Fe=Fe.concat({name:"idRangeOffset_"+I,type:"USHORT",value:je.offset}),je.glyphId!==void 0&&(Oe=Oe.concat({name:"glyph_"+I,type:"USHORT",value:je.glyphId}))):be+=1,E||je.glyphIndex===void 0||(Ne=(Ne=(Ne=Ne.concat({name:"cmap12Start_"+I,type:"ULONG",value:je.start})).concat({name:"cmap12End_"+I,type:"ULONG",value:je.end})).concat({name:"cmap12Glyph_"+I,type:"ULONG",value:je.glyphIndex}))}return Y.segCountX2=2*(ue-be),Y.searchRange=2*Math.pow(2,Math.floor(Math.log(ue-be)/Math.log(2))),Y.entrySelector=Math.log(Y.searchRange/2)/Math.log(2),Y.rangeShift=Y.segCountX2-Y.searchRange,Y.fields=Y.fields.concat(Me),Y.fields.push({name:"reservedPad",type:"USHORT",value:0}),Y.fields=Y.fields.concat(Ce),Y.fields=Y.fields.concat(me),Y.fields=Y.fields.concat(Fe),Y.fields=Y.fields.concat(Oe),Y.cmap4Length=14+2*Me.length+2+2*Ce.length+2*me.length+2*Fe.length+2*Oe.length,E||($=16+4*Ne.length,Y.cmap12Offset=20+Y.cmap4Length,Y.fields=Y.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:$},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Ne.length/3}]),Y.fields=Y.fields.concat(Ne)),Y}},re=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Q=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ie=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ve=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Ee(w){this.font=w}function ke(w){this.cmap=w}function Ue(w,E){this.encoding=w,this.charset=E}function He(w){switch(w.version){case 1:this.names=ve.slice();break;case 2:this.names=new Array(w.numberOfGlyphs);for(var E=0;E<w.numberOfGlyphs;E++)w.glyphNameIndex[E]<ve.length?this.names[E]=ve[w.glyphNameIndex[E]]:this.names[E]=w.names[w.glyphNameIndex[E]-ve.length];break;case 2.5:this.names=new Array(w.numberOfGlyphs);for(var I=0;I<w.numberOfGlyphs;I++)this.names[I]=ve[I+w.glyphNameIndex[I]];break;default:this.names=[]}}Ee.prototype.charToGlyphIndex=function(w){var E=w.codePointAt(0),I=this.font.glyphs;if(I){for(var N=0;N<I.length;N+=1)for(var B=I.get(N),$=0;$<B.unicodes.length;$+=1)if(B.unicodes[$]===E)return N}return null},ke.prototype.charToGlyphIndex=function(w){return this.cmap.glyphIndexMap[w.codePointAt(0)]||0},Ue.prototype.charToGlyphIndex=function(w){return w=w.codePointAt(0),w=this.encoding[w],this.charset.indexOf(w)},He.prototype.nameToGlyphIndex=function(w){return this.names.indexOf(w)},He.prototype.glyphIndexToName=function(w){return this.names[w]};var $e={line:function(w,E,I,N,B){w.beginPath(),w.moveTo(E,I),w.lineTo(N,B),w.stroke()}};function Je(w){this.bindConstructorValues(w)}function vt(w,E,I){Object.defineProperty(w,E,{get:function(){return w.path,w[I]},set:function(N){w[I]=N},enumerable:!0,configurable:!0})}function ht(w,E){if(this.font=w,this.glyphs={},Array.isArray(E))for(var I=0;I<E.length;I++)this.glyphs[I]=E[I];this.length=E&&E.length||0}Je.prototype.bindConstructorValues=function(w){var E;this.index=w.index||0,this.name=w.name||null,this.unicode=w.unicode||void 0,this.unicodes=w.unicodes||w.unicode!==void 0?[w.unicode]:[],w.xMin&&(this.xMin=w.xMin),w.yMin&&(this.yMin=w.yMin),w.xMax&&(this.xMax=w.xMax),w.yMax&&(this.yMax=w.yMax),w.advanceWidth&&(this.advanceWidth=w.advanceWidth),Object.defineProperty(this,"path",(w=w.path,E=w||new Z,{configurable:!0,get:function(){return E=typeof E=="function"?E():E},set:function(I){E=I}}))},Je.prototype.addUnicode=function(w){this.unicodes.length===0&&(this.unicode=w),this.unicodes.push(w)},Je.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Je.prototype.getPath=function(w,E,I,N,B){w=w!==void 0?w:0,E=E!==void 0?E:0,I=I!==void 0?I:72;for(var $,Y,te=(N=N||{}).xScale,de=N.yScale,ue=(($=N.hinting&&B&&B.hinting?this.path&&B.hinting.exec(this,I):$)?(Y=B.hinting.getCommands($),w=Math.round(w),E=Math.round(E),te=de=1):(Y=this.path.commands,N=1/this.path.unitsPerEm*I,te===void 0&&(te=N),de===void 0&&(de=N)),new Z),be=0;be<Y.length;be+=1){var Me=Y[be];Me.type==="M"?ue.moveTo(w+Me.x*te,E+-Me.y*de):Me.type==="L"?ue.lineTo(w+Me.x*te,E+-Me.y*de):Me.type==="Q"?ue.quadraticCurveTo(w+Me.x1*te,E+-Me.y1*de,w+Me.x*te,E+-Me.y*de):Me.type==="C"?ue.curveTo(w+Me.x1*te,E+-Me.y1*de,w+Me.x2*te,E+-Me.y2*de,w+Me.x*te,E+-Me.y*de):Me.type==="Z"&&ue.closePath()}return ue},Je.prototype.getContours=function(){if(this.points===void 0)return[];for(var w=[],E=[],I=0;I<this.points.length;I+=1){var N=this.points[I];E.push(N),N.lastPointOfContour&&(w.push(E),E=[])}return D.argument(E.length===0,"There are still points left in the current contour."),w},Je.prototype.getMetrics=function(){for(var w=this.path.commands,E=[],I=[],N=0;N<w.length;N+=1){var B=w[N];B.type!=="Z"&&(E.push(B.x),I.push(B.y)),B.type!=="Q"&&B.type!=="C"||(E.push(B.x1),I.push(B.y1)),B.type==="C"&&(E.push(B.x2),I.push(B.y2))}var $={xMin:Math.min.apply(null,E),yMin:Math.min.apply(null,I),xMax:Math.max.apply(null,E),yMax:Math.max.apply(null,I),leftSideBearing:this.leftSideBearing};return isFinite($.xMin)||($.xMin=0),isFinite($.xMax)||($.xMax=this.advanceWidth),isFinite($.yMin)||($.yMin=0),isFinite($.yMax)||($.yMax=0),$.rightSideBearing=this.advanceWidth-$.leftSideBearing-($.xMax-$.xMin),$},Je.prototype.draw=function(w,E,I,N,B){this.getPath(E,I,N,B).draw(w)},Je.prototype.drawPoints=function(w,E,I,N){function B(be,Me,Ce,me){var Fe=2*Math.PI;w.beginPath();for(var Oe=0;Oe<be.length;Oe+=1)w.moveTo(Me+be[Oe].x*me,Ce+be[Oe].y*me),w.arc(Me+be[Oe].x*me,Ce+be[Oe].y*me,2,0,Fe,!1);w.closePath(),w.fill()}E=E!==void 0?E:0,I=I!==void 0?I:0;for(var N=1/this.path.unitsPerEm*(N=N!==void 0?N:24),$=[],Y=[],te=this.path,de=0;de<te.commands.length;de+=1){var ue=te.commands[de];ue.x!==void 0&&$.push({x:ue.x,y:-ue.y}),ue.x1!==void 0&&Y.push({x:ue.x1,y:-ue.y1}),ue.x2!==void 0&&Y.push({x:ue.x2,y:-ue.y2})}w.fillStyle="blue",B($,E,I,N),w.fillStyle="red",B(Y,E,I,N)},Je.prototype.drawMetrics=function(w,E,I,N){E=E!==void 0?E:0,I=I!==void 0?I:0,N=1/this.path.unitsPerEm*(N=N!==void 0?N:24),w.lineWidth=1,w.strokeStyle="black",$e.line(w,E,-1e4,E,1e4),$e.line(w,-1e4,I,1e4,I);var B=this.xMin||0,$=this.yMin||0,Y=this.xMax||0,te=this.yMax||0,de=this.advanceWidth||0;w.strokeStyle="blue",$e.line(w,E+B*N,-1e4,E+B*N,1e4),$e.line(w,E+Y*N,-1e4,E+Y*N,1e4),$e.line(w,-1e4,I+-$*N,1e4,I+-$*N),$e.line(w,-1e4,I+-te*N,1e4,I+-te*N),w.strokeStyle="green",$e.line(w,E+de*N,-1e4,E+de*N,1e4)},ht.prototype.get=function(w){return typeof this.glyphs[w]=="function"&&(this.glyphs[w]=this.glyphs[w]()),this.glyphs[w]},ht.prototype.push=function(w,E){this.glyphs[w]=E,this.length++};var ot={GlyphSet:ht,glyphLoader:function(w,E){return new Je({index:E,font:w})},ttfGlyphLoader:function(w,E,I,N,B,$){return function(){var Y=new Je({index:E,font:w});return Y.path=function(){I(Y,N,B);var te=$(w.glyphs,Y);return te.unitsPerEm=w.unitsPerEm,te},vt(Y,"xMin","_xMin"),vt(Y,"xMax","_xMax"),vt(Y,"yMin","_yMin"),vt(Y,"yMax","_yMax"),Y}},cffGlyphLoader:function(w,E,I,N){return function(){var B=new Je({index:E,font:w});return B.path=function(){var $=I(w,B,N);return $.unitsPerEm=w.unitsPerEm,$},B}}};function pt(w){return w=w.length<1240?107:w.length<33900?1131:32768,w}function dt(w,E,I){var N,B=[],$=[],Y=De.getCard16(w,E);if(Y!==0){for(var te=De.getByte(w,E+2),de=E+(Y+1)*te+2,ue=E+3,be=0;be<Y+1;be+=1)B.push(De.getOffset(w,ue,te)),ue+=te;N=de+B[Y]}else N=E+2;for(var Me=0;Me<B.length-1;Me+=1){var Ce=De.getBytes(w,de+B[Me],de+B[Me+1]);I&&(Ce=I(Ce)),$.push(Ce)}return{objects:$,startOffset:E,endOffset:N}}function rr(w,E){if(E===28)return w.parseByte()<<8|w.parseByte();if(E===29)return w.parseByte()<<24|w.parseByte()<<16|w.parseByte()<<8|w.parseByte();if(E===30){for(var I=w,N="",B=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var Y=I.parseByte(),$=Y>>4,Y=15&Y;if($==15||(N+=B[$],Y==15))break;N+=B[Y]}return parseFloat(N)}if(32<=E&&E<=246)return E-139;if(247<=E&&E<=250)return 256*(E-247)+w.parseByte()+108;if(251<=E&&E<=254)return 256*-(E-251)-w.parseByte()-108;throw new Error("Invalid b0 "+E)}function rn(w,E,I){var N=new De.Parser(w,E=E!==void 0?E:0),B=[],$=[];for(I=I!==void 0?I:w.length;N.relativeOffset<I;){var Y=N.parseByte();Y<=21?(Y===12&&(Y=1200+N.parseByte()),B.push([Y,$]),$=[]):$.push(rr(N,Y))}for(var te=B,de={},ue=0;ue<te.length;ue+=1){var be=te[ue][0],Me=te[ue][1],Ce=void 0,Ce=Me.length===1?Me[0]:Me;if(de.hasOwnProperty(be)&&!isNaN(de[be]))throw new Error("Object "+de+" already has key "+be);de[be]=Ce}return de}function wr(w,E){return E=E<=390?re[E]:w[E-391]}function Wt(w,E,I){for(var N,B={},$=0;$<E.length;$+=1){var Y=E[$];if(Array.isArray(Y.type)){var te=[];te.length=Y.type.length;for(var de=0;de<Y.type.length;de++)(N=w[Y.op]!==void 0?w[Y.op][de]:void 0)===void 0&&(N=Y.value!==void 0&&Y.value[de]!==void 0?Y.value[de]:null),Y.type[de]==="SID"&&(N=wr(I,N)),te[de]=N;B[Y.name]=te}else(N=w[Y.op])===void 0&&(N=Y.value!==void 0?Y.value:null),Y.type==="SID"&&(N=wr(I,N)),B[Y.name]=N}return B}var sr=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Lt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function qr(w,E,I,N){return Wt(rn(w,E,I),Lt,N)}function Vr(w,E,I,N){for(var B=[],$=0;$<I.length;$+=1){var Y=new DataView(new Uint8Array(I[$]).buffer),Y=(te=N,Wt(rn(Y,0,Y.byteLength),sr,te)),te=(Y._subrs=[],Y._subrsBias=0,Y.private[0]),de=Y.private[1];te!==0&&de!==0&&(te=qr(w,de+E,te,N),Y._defaultWidthX=te.defaultWidthX,Y._nominalWidthX=te.nominalWidthX,te.subrs!==0&&(de=dt(w,de+te.subrs+E),Y._subrs=de.objects,Y._subrsBias=pt(Y._subrs)),Y._privateDict=te),B.push(Y)}return B}function Zt(w,E,I){var N,B,$,Y,te,de,ue,be,Me,Ce=new Z,me=[],Fe=0,Oe=!1,Ne=!1,je=0,Ae=0,at=(Me=(w.isCIDFont?(te=w.tables.cff.topDict._fdSelect[E.index],te=w.tables.cff.topDict._fdArray[te],de=te._subrs,ue=te._subrsBias,be=te._defaultWidthX,te):(de=w.tables.cff.topDict._subrs,ue=w.tables.cff.topDict._subrsBias,be=w.tables.cff.topDict._defaultWidthX,w.tables.cff.topDict))._nominalWidthX,be);function bt(ut,Tt){Ne&&Ce.closePath(),Ce.moveTo(ut,Tt),Ne=!0}function lt(){me.length%2==0||Oe||(at=me.shift()+Me),Fe+=me.length>>1,me.length=0,Oe=!0}return function ut(Tt){for(var nr,hr,Cr,nn,on,ro,er,ir,Xt,sn,cr,$r,ar=0;ar<Tt.length;){var Gr=Tt[ar];switch(ar+=1,Gr){case 1:case 3:lt();break;case 4:1<me.length&&!Oe&&(at=me.shift()+Me,Oe=!0),Ae+=me.pop(),bt(je,Ae);break;case 5:for(;0<me.length;)je+=me.shift(),Ae+=me.shift(),Ce.lineTo(je,Ae);break;case 6:for(;0<me.length&&(je+=me.shift(),Ce.lineTo(je,Ae),me.length!==0);)Ae+=me.shift(),Ce.lineTo(je,Ae);break;case 7:for(;0<me.length&&(Ae+=me.shift(),Ce.lineTo(je,Ae),me.length!==0);)je+=me.shift(),Ce.lineTo(je,Ae);break;case 8:for(;0<me.length;)N=je+me.shift(),B=Ae+me.shift(),$=N+me.shift(),Y=B+me.shift(),je=$+me.shift(),Ae=Y+me.shift(),Ce.curveTo(N,B,$,Y,je,Ae);break;case 10:on=me.pop()+ue,(ro=de[on])&&ut(ro);break;case 11:return;case 12:switch(Gr=Tt[ar],ar+=1,Gr){case 35:N=je+me.shift(),B=Ae+me.shift(),$=N+me.shift(),Y=B+me.shift(),er=$+me.shift(),ir=Y+me.shift(),Xt=er+me.shift(),sn=ir+me.shift(),cr=Xt+me.shift(),$r=sn+me.shift(),je=cr+me.shift(),Ae=$r+me.shift(),me.shift(),Ce.curveTo(N,B,$,Y,er,ir),Ce.curveTo(Xt,sn,cr,$r,je,Ae);break;case 34:N=je+me.shift(),B=Ae,$=N+me.shift(),Y=B+me.shift(),er=$+me.shift(),ir=Y,Xt=er+me.shift(),sn=Y,cr=Xt+me.shift(),$r=Ae,je=cr+me.shift(),Ce.curveTo(N,B,$,Y,er,ir),Ce.curveTo(Xt,sn,cr,$r,je,Ae);break;case 36:N=je+me.shift(),B=Ae+me.shift(),$=N+me.shift(),Y=B+me.shift(),er=$+me.shift(),ir=Y,Xt=er+me.shift(),sn=Y,cr=Xt+me.shift(),$r=sn+me.shift(),je=cr+me.shift(),Ce.curveTo(N,B,$,Y,er,ir),Ce.curveTo(Xt,sn,cr,$r,je,Ae);break;case 37:N=je+me.shift(),B=Ae+me.shift(),$=N+me.shift(),Y=B+me.shift(),er=$+me.shift(),ir=Y+me.shift(),Xt=er+me.shift(),sn=ir+me.shift(),cr=Xt+me.shift(),$r=sn+me.shift(),Math.abs(cr-je)>Math.abs($r-Ae)?je=cr+me.shift():Ae=$r+me.shift(),Ce.curveTo(N,B,$,Y,er,ir),Ce.curveTo(Xt,sn,cr,$r,je,Ae);break;default:console.log("Glyph "+E.index+": unknown operator 1200"+Gr),me.length=0}break;case 14:0<me.length&&!Oe&&(at=me.shift()+Me,Oe=!0),Ne&&(Ce.closePath(),Ne=!1);break;case 18:lt();break;case 19:case 20:lt(),ar+=Fe+7>>3;break;case 21:2<me.length&&!Oe&&(at=me.shift()+Me,Oe=!0),Ae+=me.pop(),bt(je+=me.pop(),Ae);break;case 22:1<me.length&&!Oe&&(at=me.shift()+Me,Oe=!0),bt(je+=me.pop(),Ae);break;case 23:lt();break;case 24:for(;2<me.length;)N=je+me.shift(),B=Ae+me.shift(),$=N+me.shift(),Y=B+me.shift(),je=$+me.shift(),Ae=Y+me.shift(),Ce.curveTo(N,B,$,Y,je,Ae);je+=me.shift(),Ae+=me.shift(),Ce.lineTo(je,Ae);break;case 25:for(;6<me.length;)je+=me.shift(),Ae+=me.shift(),Ce.lineTo(je,Ae);N=je+me.shift(),B=Ae+me.shift(),$=N+me.shift(),Y=B+me.shift(),je=$+me.shift(),Ae=Y+me.shift(),Ce.curveTo(N,B,$,Y,je,Ae);break;case 26:for(me.length%2&&(je+=me.shift());0<me.length;)N=je,B=Ae+me.shift(),$=N+me.shift(),Y=B+me.shift(),je=$,Ae=Y+me.shift(),Ce.curveTo(N,B,$,Y,je,Ae);break;case 27:for(me.length%2&&(Ae+=me.shift());0<me.length;)N=je+me.shift(),B=Ae,$=N+me.shift(),Y=B+me.shift(),je=$+me.shift(),Ae=Y,Ce.curveTo(N,B,$,Y,je,Ae);break;case 28:nr=Tt[ar],hr=Tt[ar+1],me.push((nr<<24|hr<<16)>>16),ar+=2;break;case 29:on=me.pop()+w.gsubrsBias,(ro=w.gsubrs[on])&&ut(ro);break;case 30:for(;0<me.length&&(N=je,B=Ae+me.shift(),$=N+me.shift(),Y=B+me.shift(),je=$+me.shift(),Ae=Y+(me.length===1?me.shift():0),Ce.curveTo(N,B,$,Y,je,Ae),me.length!==0);)N=je+me.shift(),B=Ae,$=N+me.shift(),Y=B+me.shift(),Ae=Y+me.shift(),je=$+(me.length===1?me.shift():0),Ce.curveTo(N,B,$,Y,je,Ae);break;case 31:for(;0<me.length&&(N=je+me.shift(),B=Ae,$=N+me.shift(),Y=B+me.shift(),Ae=Y+me.shift(),je=$+(me.length===1?me.shift():0),Ce.curveTo(N,B,$,Y,je,Ae),me.length!==0);)N=je,B=Ae+me.shift(),$=N+me.shift(),Y=B+me.shift(),je=$+me.shift(),Ae=Y+(me.length===1?me.shift():0),Ce.curveTo(N,B,$,Y,je,Ae);break;default:Gr<32?console.log("Glyph "+E.index+": unknown operator "+Gr):Gr<247?me.push(Gr-139):Gr<251?(nr=Tt[ar],ar+=1,me.push(256*(Gr-247)+nr+108)):Gr<255?(nr=Tt[ar],ar+=1,me.push(256*-(Gr-251)-nr-108)):(nr=Tt[ar],hr=Tt[ar+1],Cr=Tt[ar+2],nn=Tt[ar+3],ar+=4,me.push((nr<<24|hr<<16|Cr<<8|nn)/65536))}}}(I),E.advanceWidth=at,Ce}function Wr(w,E){var I,N=re.indexOf(w);return 0<=N&&(I=N),0<=(N=E.indexOf(w))?I=N+re.length:(I=re.length+E.length,E.push(w)),I}function ul(w,E,I){for(var N={},B=0;B<w.length;B+=1){var $=w[B],Y=E[$.name];Y===void 0||function te(de,ue){if(de===ue)return 1;if(Array.isArray(de)&&Array.isArray(ue)&&de.length===ue.length){for(var be=0;be<de.length;be+=1)if(!te(de[be],ue[be]))return;return 1}}(Y,$.value)||($.type==="SID"&&(Y=Wr(Y,I)),N[$.op]={name:$.name,type:$.type,value:Y})}return N}function cl(w,E){var I=new Te.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return I.dict=ul(sr,w,E),I}function dl(w){var E=new Te.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return E.topDicts=[{name:"topDict_0",type:"TABLE",value:w}],E}function Uu(w){for(var E=new Te.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),I=0;I<w.length;I+=1){var N=w.get(I),B=function($){for(var Y=[],te=$.path,de=(Y.push({name:"width",type:"NUMBER",value:$.advanceWidth}),0),ue=0,be=0;be<te.commands.length;be+=1){var Me,Ce,me,Fe,Oe=void 0,Ne=void 0,je=te.commands[be];(je=je.type==="Q"?{type:"C",x:je.x,y:je.y,x1:1/3*de+2/3*je.x1,y1:1/3*ue+2/3*je.y1,x2:1/3*je.x+2/3*je.x1,y2:1/3*je.y+2/3*je.y1}:je).type==="M"?(Oe=Math.round(je.x-de),Ne=Math.round(je.y-ue),Y.push({name:"dx",type:"NUMBER",value:Oe}),Y.push({name:"dy",type:"NUMBER",value:Ne}),Y.push({name:"rmoveto",type:"OP",value:21}),de=Math.round(je.x),ue=Math.round(je.y)):je.type==="L"?(Oe=Math.round(je.x-de),Ne=Math.round(je.y-ue),Y.push({name:"dx",type:"NUMBER",value:Oe}),Y.push({name:"dy",type:"NUMBER",value:Ne}),Y.push({name:"rlineto",type:"OP",value:5}),de=Math.round(je.x),ue=Math.round(je.y)):je.type==="C"&&(Me=Math.round(je.x1-de),Ce=Math.round(je.y1-ue),me=Math.round(je.x2-je.x1),Fe=Math.round(je.y2-je.y1),Oe=Math.round(je.x-je.x2),Ne=Math.round(je.y-je.y2),Y.push({name:"dx1",type:"NUMBER",value:Me}),Y.push({name:"dy1",type:"NUMBER",value:Ce}),Y.push({name:"dx2",type:"NUMBER",value:me}),Y.push({name:"dy2",type:"NUMBER",value:Fe}),Y.push({name:"dx",type:"NUMBER",value:Oe}),Y.push({name:"dy",type:"NUMBER",value:Ne}),Y.push({name:"rrcurveto",type:"OP",value:8}),de=Math.round(je.x),ue=Math.round(je.y))}return Y.push({name:"endchar",type:"OP",value:14}),Y}(N);E.charStrings.push({name:N.name,type:"CHARSTRING",value:B})}return E}var hl={parse:function(w,E,I){I.tables.cff={},te=w,N=E,(B={}).formatMajor=De.getCard8(te,N),B.formatMinor=De.getCard8(te,N+1),B.size=De.getCard8(te,N+2),B.offsetSize=De.getCard8(te,N+3),B.startOffset=N,B.endOffset=N+4;var te=dt(w,B.endOffset,De.bytesToString),N=dt(w,te.endOffset),B=dt(w,N.endOffset,De.bytesToString),te=dt(w,B.endOffset);if(I.gsubrs=te.objects,I.gsubrsBias=pt(I.gsubrs),(te=Vr(w,E,N.objects,B.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+te.length);if(N=te[0],(I.tables.cff.topDict=N)._privateDict&&(I.defaultWidthX=N._privateDict.defaultWidthX,I.nominalWidthX=N._privateDict.nominalWidthX),N.ros[0]!==void 0&&N.ros[1]!==void 0&&(I.isCIDFont=!0),I.isCIDFont){var te=N.fdArray,$=N.fdSelect;if(te===0||$===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");te=Vr(w,E,dt(w,te+=E).objects,B.objects),N._fdArray=te,N._fdSelect=function(Ce,me,Fe,Oe){var Ne,je=[],Ae=new De.Parser(Ce,me);if((Ce=Ae.parseCard8())===0)for(var at=0;at<Fe;at++){if(Oe<=(Ne=Ae.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ne+" (FD count "+Oe+")");je.push(Ne)}else{if(Ce!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Ce);var bt,lt=Ae.parseCard16(),ut=Ae.parseCard16();if(ut!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+ut);for(var Tt=0;Tt<lt;Tt++){if(Ne=Ae.parseCard8(),bt=Ae.parseCard16(),Oe<=Ne)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ne+" (FD count "+Oe+")");if(Fe<bt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+bt);for(;ut<bt;ut++)je.push(Ne);ut=bt}if(bt!==Fe)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+bt)}return je}(w,$+=E,I.numGlyphs,te.length)}var $=E+N.private[1],te=qr(w,$,N.private[0],B.objects),Y=(I.defaultWidthX=te.defaultWidthX,I.nominalWidthX=te.nominalWidthX,te.subrs!==0?($=dt(w,$+te.subrs),I.subrs=$.objects,I.subrsBias=pt(I.subrs)):(I.subrs=[],I.subrsBias=0),dt(w,E+N.charStrings)),te=(I.nGlyphs=Y.objects.length,function(be,Me,Ce,me){var Fe=new De.Parser(be,Me),Oe=(--Ce,[".notdef"]);if((be=Fe.parseCard8())===0)for(var Ne=0;Ne<Ce;Ne+=1)je=Fe.parseSID(),Oe.push(wr(me,je));else if(be===1)for(;Oe.length<=Ce;)for(var je=Fe.parseSID(),Ae=Fe.parseCard8(),at=0;at<=Ae;at+=1)Oe.push(wr(me,je)),je+=1;else{if(be!==2)throw new Error("Unknown charset format "+be);for(;Oe.length<=Ce;){je=Fe.parseSID(),Ae=Fe.parseCard16();for(var bt=0;bt<=Ae;bt+=1)Oe.push(wr(me,je)),je+=1}}return Oe}(w,E+N.charset,I.nGlyphs,B.objects));N.encoding===0?I.cffEncoding=new Ue(Q,te):N.encoding===1?I.cffEncoding=new Ue(ie,te):I.cffEncoding=function(be,Me,Ce){var me={},Fe=new De.Parser(be,Me);if((be=Fe.parseCard8())===0)for(var Oe=Fe.parseCard8(),Ne=0;Ne<Oe;Ne+=1)me[Ae=Fe.parseCard8()]=Ne;else{if(be!==1)throw new Error("Unknown encoding format "+be);for(var je=Fe.parseCard8(),Ae=1,at=0;at<je;at+=1)for(var bt=Fe.parseCard8(),lt=Fe.parseCard8(),ut=bt;ut<=bt+lt;ut+=1)me[ut]=Ae,Ae+=1}return new Ue(me,Ce)}(w,E+N.encoding,te),I.encoding=I.encoding||I.cffEncoding,I.glyphs=new ot.GlyphSet(I);for(var de=0;de<I.nGlyphs;de+=1){var ue=Y.objects[de];I.glyphs.push(de,ot.cffGlyphLoader(I,de,Zt,ue))}},make:function(w,be){for(var I,N=new Te.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),B=1/be.unitsPerEm,B={version:be.version,fullName:be.fullName,familyName:be.familyName,weight:be.weightName,fontBBox:be.fontBBox||[0,0,0,0],fontMatrix:[B,0,0,B,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},$=[],Y=1;Y<w.length;Y+=1)I=w.get(Y),$.push(I.name);var te,de,ue=[],be=(N.header=new Te.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),N.nameIndex=function(Ce){var me=new Te.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);me.names=[];for(var Fe=0;Fe<Ce.length;Fe+=1)me.names.push({name:"name_"+Fe,type:"NAME",value:Ce[Fe]});return me}([be.postScriptName]),cl(B,ue)),Me=(N.topDictIndex=dl(be),N.globalSubrIndex=new Te.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),N.charsets=function(Ce,me){for(var Fe=new Te.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Oe=0;Oe<Ce.length;Oe+=1){var Ne=Wr(Ce[Oe],me);Fe.fields.push({name:"glyph_"+Oe,type:"SID",value:Ne})}return Fe}($,ue),N.charStringsIndex=Uu(w),N.privateDict=(Me={},te=ue,(de=new Te.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=ul(Lt,Me,te),de),N.stringIndex=function(Ce){var me=new Te.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);me.strings=[];for(var Fe=0;Fe<Ce.length;Fe+=1)me.strings.push({name:"string_"+Fe,type:"STRING",value:Ce[Fe]});return me}(ue),N.header.sizeOf()+N.nameIndex.sizeOf()+N.topDictIndex.sizeOf()+N.stringIndex.sizeOf()+N.globalSubrIndex.sizeOf());return B.charset=Me,B.encoding=0,B.charStrings=B.charset+N.charsets.sizeOf(),B.private[1]=B.charStrings+N.charStringsIndex.sizeOf(),be=cl(B,ue),N.topDictIndex=dl(be),N}},fl={parse:function(N,E){var I={},N=new De.Parser(N,E);return I.version=N.parseVersion(),I.fontRevision=Math.round(1e3*N.parseFixed())/1e3,I.checkSumAdjustment=N.parseULong(),I.magicNumber=N.parseULong(),D.argument(I.magicNumber===1594834165,"Font header has wrong magic number."),I.flags=N.parseUShort(),I.unitsPerEm=N.parseUShort(),I.created=N.parseLongDateTime(),I.modified=N.parseLongDateTime(),I.xMin=N.parseShort(),I.yMin=N.parseShort(),I.xMax=N.parseShort(),I.yMax=N.parseShort(),I.macStyle=N.parseUShort(),I.lowestRecPPEM=N.parseUShort(),I.fontDirectionHint=N.parseShort(),I.indexToLocFormat=N.parseShort(),I.glyphDataFormat=N.parseShort(),I},make:function(w){var E=Math.round(new Date().getTime()/1e3)+2082844800,I=E;return w.createdTimestamp&&(I=w.createdTimestamp+2082844800),new Te.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:I},{name:"modified",type:"LONGDATETIME",value:E},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],w)}},ge={parse:function(N,E){var I={},N=new De.Parser(N,E);return I.version=N.parseVersion(),I.ascender=N.parseShort(),I.descender=N.parseShort(),I.lineGap=N.parseShort(),I.advanceWidthMax=N.parseUShort(),I.minLeftSideBearing=N.parseShort(),I.minRightSideBearing=N.parseShort(),I.xMaxExtent=N.parseShort(),I.caretSlopeRise=N.parseShort(),I.caretSlopeRun=N.parseShort(),I.caretOffset=N.parseShort(),N.relativeOffset+=8,I.metricDataFormat=N.parseShort(),I.numberOfHMetrics=N.parseUShort(),I},make:function(w){return new Te.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],w)}},Be={parse:function(w,E,I,N,B){for(var $,Y,te=new De.Parser(w,E),de=0;de<N;de+=1){de<I&&($=te.parseUShort(),Y=te.parseShort());var ue=B.get(de);ue.advanceWidth=$,ue.leftSideBearing=Y}},make:function(w){for(var E=new Te.Table("hmtx",[]),I=0;I<w.length;I+=1){var B=w.get(I),N=B.advanceWidth||0,B=B.leftSideBearing||0;E.fields.push({name:"advanceWidth_"+I,type:"USHORT",value:N}),E.fields.push({name:"leftSideBearing_"+I,type:"SHORT",value:B})}return E}},tt={make:function(w){for(var E=new Te.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:w.length}]),I="",N=12+4*w.length,B=0;B<w.length;++B){var $=I.indexOf(w[B]);$<0&&($=I.length,I+=w[B]),E.fields.push({name:"offset "+B,type:"USHORT",value:N+$}),E.fields.push({name:"length "+B,type:"USHORT",value:w[B].length})}return E.fields.push({name:"stringPool",type:"CHARARRAY",value:I}),E},parse:function(w,E){for(var I=new De.Parser(w,E),N=I.parseULong(),B=(D.argument(N===1,"Unsupported ltag table version."),I.skip("uLong",1),I.parseULong()),$=[],Y=0;Y<B;Y++){for(var te="",de=E+I.parseUShort(),ue=I.parseUShort(),be=de;be<de+ue;++be)te+=String.fromCharCode(w.getInt8(be));$.push(te)}return $}},Ve={parse:function(N,E){var I={},N=new De.Parser(N,E);return I.version=N.parseVersion(),I.numGlyphs=N.parseUShort(),I.version===1&&(I.maxPoints=N.parseUShort(),I.maxContours=N.parseUShort(),I.maxCompositePoints=N.parseUShort(),I.maxCompositeContours=N.parseUShort(),I.maxZones=N.parseUShort(),I.maxTwilightPoints=N.parseUShort(),I.maxStorage=N.parseUShort(),I.maxFunctionDefs=N.parseUShort(),I.maxInstructionDefs=N.parseUShort(),I.maxStackElements=N.parseUShort(),I.maxSizeOfInstructions=N.parseUShort(),I.maxComponentElements=N.parseUShort(),I.maxComponentDepth=N.parseUShort()),I},make:function(w){return new Te.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:w}])}},At=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Le={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Vt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Qe={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Rt="utf-16",et={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},mr={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function kr(w,E,I){switch(w){case 0:return Rt;case 1:return mr[I]||et[E];case 3:if(E===1||E===10)return Rt}}function dr(w){var E,I={};for(E in w)I[w[E]]=parseInt(E);return I}function Ur(w,E,I,N,B,$){return new Te.Record("NameRecord",[{name:"platformID",type:"USHORT",value:w},{name:"encodingID",type:"USHORT",value:E},{name:"languageID",type:"USHORT",value:I},{name:"nameID",type:"USHORT",value:N},{name:"length",type:"USHORT",value:B},{name:"offset",type:"USHORT",value:$}])}function Eo(w,E){if((I=function($,Y){var te=$.length,de=Y.length-te+1;e:for(var ue=0;ue<de;ue++)for(;ue<de;ue++){for(var be=0;be<te;be++)if(Y[ue+be]!==$[be])continue e;return ue}return-1}(w,E))<0)for(var I=E.length,N=0,B=w.length;N<B;++N)E.push(w[N]);return I}var jn={parse:function(w,E,I){for(var N={},B=new De.Parser(w,E),E=B.parseUShort(),$=B.parseUShort(),Y=B.offset+B.parseUShort(),te=0;te<$;te++){var Fe=B.parseUShort(),de=B.parseUShort(),ue=B.parseUShort(),be=B.parseUShort(),be=At[be]||be,Me=B.parseUShort(),Ce=B.parseUShort(),me=function(Ne,je,Ae){switch(Ne){case 0:if(je===65535)return"und";if(Ae)return Ae[je];break;case 1:return Le[je];case 3:return Qe[je]}}(Fe,ue,I),Fe=kr(Fe,de,ue);Fe!==void 0&&me!==void 0&&(de=void 0,(de=Fe===Rt?U.UTF16(w,Y+Ce,Me):U.MACSTRING(w,Y+Ce,Me,Fe))&&((ue=(ue=N[be])===void 0?N[be]={}:ue)[me]=de))}return E===1&&B.parseUShort(),N},make:function(w,E){var I,N=[],B={},$=dr(At);for(I in w){var Y=$[I];if(Y===void 0&&(Y=I),Ce=parseInt(Y),isNaN(Ce))throw new Error('Name table entry "'+I+'" does not exist, see nameTableNames for complete list.');B[Ce]=w[I],N.push(Ce)}for(var te=dr(Le),de=dr(Qe),ue=[],be=[],Me=0;Me<N.length;Me++){var Ce,me,Fe=B[Ce=N[Me]];for(me in Fe){var Oe=Fe[me],bt=1,Ne=te[me],je=Vt[Ne],Ae=kr(bt,je,Ne),Ae=H.MACSTRING(Oe,Ae),at=(Ae===void 0&&(bt=0,(Ne=E.indexOf(me))<0&&(Ne=E.length,E.push(me)),je=4,Ae=H.UTF16(Oe)),Eo(Ae,be)),bt=(ue.push(Ur(bt,je,Ne,Ce,Ae.length,at)),de[me]);bt!==void 0&&(Ne=Eo(je=H.UTF16(Oe),be),ue.push(Ur(3,1,bt,Ce,je.length,Ne)))}}ue.sort(function(Tt,nr){return Tt.platformID-nr.platformID||Tt.encodingID-nr.encodingID||Tt.languageID-nr.languageID||Tt.nameID-nr.nameID});for(var lt=new Te.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:ue.length},{name:"stringOffset",type:"USHORT",value:6+12*ue.length}]),ut=0;ut<ue.length;ut++)lt.fields.push({name:"record_"+ut,type:"RECORD",value:ue[ut]});return lt.fields.push({name:"strings",type:"LITERAL",value:be}),lt}},To=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Br={parse:function(w,E){var I={},N=new De.Parser(w,E);I.version=N.parseUShort(),I.xAvgCharWidth=N.parseShort(),I.usWeightClass=N.parseUShort(),I.usWidthClass=N.parseUShort(),I.fsType=N.parseUShort(),I.ySubscriptXSize=N.parseShort(),I.ySubscriptYSize=N.parseShort(),I.ySubscriptXOffset=N.parseShort(),I.ySubscriptYOffset=N.parseShort(),I.ySuperscriptXSize=N.parseShort(),I.ySuperscriptYSize=N.parseShort(),I.ySuperscriptXOffset=N.parseShort(),I.ySuperscriptYOffset=N.parseShort(),I.yStrikeoutSize=N.parseShort(),I.yStrikeoutPosition=N.parseShort(),I.sFamilyClass=N.parseShort(),I.panose=[];for(var B=0;B<10;B++)I.panose[B]=N.parseByte();return I.ulUnicodeRange1=N.parseULong(),I.ulUnicodeRange2=N.parseULong(),I.ulUnicodeRange3=N.parseULong(),I.ulUnicodeRange4=N.parseULong(),I.achVendID=String.fromCharCode(N.parseByte(),N.parseByte(),N.parseByte(),N.parseByte()),I.fsSelection=N.parseUShort(),I.usFirstCharIndex=N.parseUShort(),I.usLastCharIndex=N.parseUShort(),I.sTypoAscender=N.parseShort(),I.sTypoDescender=N.parseShort(),I.sTypoLineGap=N.parseShort(),I.usWinAscent=N.parseUShort(),I.usWinDescent=N.parseUShort(),1<=I.version&&(I.ulCodePageRange1=N.parseULong(),I.ulCodePageRange2=N.parseULong()),2<=I.version&&(I.sxHeight=N.parseShort(),I.sCapHeight=N.parseShort(),I.usDefaultChar=N.parseUShort(),I.usBreakChar=N.parseUShort(),I.usMaxContent=N.parseUShort()),I},make:function(w){return new Te.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],w)},unicodeRanges:To,getUnicodeRange:function(w){for(var E=0;E<To.length;E+=1){var I=To[E];if(w>=I.begin&&w<I.end)return E}return-1}},$g={parse:function(w,E){var I={},N=new De.Parser(w,E);switch(I.version=N.parseVersion(),I.italicAngle=N.parseFixed(),I.underlinePosition=N.parseShort(),I.underlineThickness=N.parseShort(),I.isFixedPitch=N.parseULong(),I.minMemType42=N.parseULong(),I.maxMemType42=N.parseULong(),I.minMemType1=N.parseULong(),I.maxMemType1=N.parseULong(),I.version){case 1:I.names=ve.slice();break;case 2:I.numberOfGlyphs=N.parseUShort(),I.glyphNameIndex=new Array(I.numberOfGlyphs);for(var B=0;B<I.numberOfGlyphs;B++)I.glyphNameIndex[B]=N.parseUShort();I.names=[];for(var $,Y=0;Y<I.numberOfGlyphs;Y++)I.glyphNameIndex[Y]>=ve.length&&($=N.parseChar(),I.names.push(N.parseString($)));break;case 2.5:I.numberOfGlyphs=N.parseUShort(),I.offset=new Array(I.numberOfGlyphs);for(var te=0;te<I.numberOfGlyphs;te++)I.offset[te]=N.parseChar()}return I},make:function(){return new Te.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},eo=new Array(9),Di=(eo[1]=function(){var w=this.offset+this.relativeOffset,E=this.parseUShort();return E===1?{substFormat:1,coverage:this.parsePointer(we.coverage),deltaGlyphId:this.parseUShort()}:E===2?{substFormat:2,coverage:this.parsePointer(we.coverage),substitute:this.parseOffset16List()}:void D.assert(!1,"0x"+w.toString(16)+": lookup type 1 format must be 1 or 2.")},eo[2]=function(){var w=this.parseUShort();return D.argument(w===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(we.coverage),sequences:this.parseListOfLists()}},eo[3]=function(){var w=this.parseUShort();return D.argument(w===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(we.coverage),alternateSets:this.parseListOfLists()}},eo[4]=function(){var w=this.parseUShort();return D.argument(w===1,"GSUB ligature table identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(we.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:we.uShort,lookupListIndex:we.uShort});eo[5]=function(){var w,E,I=this.offset+this.relativeOffset,N=this.parseUShort();return N===1?{substFormat:N,coverage:this.parsePointer(we.coverage),ruleSets:this.parseListOfLists(function(){var B=this.parseUShort(),$=this.parseUShort();return{input:this.parseUShortList(B-1),lookupRecords:this.parseRecordList($,Di)}})}:N===2?{substFormat:N,coverage:this.parsePointer(we.coverage),classDef:this.parsePointer(we.classDef),classSets:this.parseListOfLists(function(){var B=this.parseUShort(),$=this.parseUShort();return{classes:this.parseUShortList(B-1),lookupRecords:this.parseRecordList($,Di)}})}:N===3?(w=this.parseUShort(),E=this.parseUShort(),{substFormat:N,coverages:this.parseList(w,we.pointer(we.coverage)),lookupRecords:this.parseRecordList(E,Di)}):void D.assert(!1,"0x"+I.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},eo[6]=function(){var w=this.offset+this.relativeOffset,E=this.parseUShort();return E===1?{substFormat:1,coverage:this.parsePointer(we.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Di)}})}:E===2?{substFormat:2,coverage:this.parsePointer(we.coverage),backtrackClassDef:this.parsePointer(we.classDef),inputClassDef:this.parsePointer(we.classDef),lookaheadClassDef:this.parsePointer(we.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Di)}})}:E===3?{substFormat:3,backtrackCoverage:this.parseList(we.pointer(we.coverage)),inputCoverage:this.parseList(we.pointer(we.coverage)),lookaheadCoverage:this.parseList(we.pointer(we.coverage)),lookupRecords:this.parseRecordList(Di)}:void D.assert(!1,"0x"+w.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},eo[7]=function(){var w=this.parseUShort(),w=(D.argument(w===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),E=new we(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:w,extension:eo[w].call(E)}},eo[8]=function(){var w=this.parseUShort();return D.argument(w===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(we.coverage),backtrackCoverage:this.parseList(we.pointer(we.coverage)),lookaheadCoverage:this.parseList(we.pointer(we.coverage)),substitutes:this.parseUShortList()}};var Bu=new Array(9);Bu[1]=function(w){return w.substFormat===1?new Te.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Te.Coverage(w.coverage)},{name:"deltaGlyphID",type:"USHORT",value:w.deltaGlyphId}]):new Te.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Te.Coverage(w.coverage)}].concat(Te.ushortList("substitute",w.substitute)))},Bu[3]=function(w){return D.assert(w.substFormat===1,"Lookup type 3 substFormat must be 1."),new Te.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Te.Coverage(w.coverage)}].concat(Te.tableList("altSet",w.alternateSets,function(E){return new Te.Table("alternateSetTable",Te.ushortList("alternate",E))})))},Bu[4]=function(w){return D.assert(w.substFormat===1,"Lookup type 4 substFormat must be 1."),new Te.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Te.Coverage(w.coverage)}].concat(Te.tableList("ligSet",w.ligatureSets,function(E){return new Te.Table("ligatureSetTable",Te.tableList("ligature",E,function(I){return new Te.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:I.ligGlyph}].concat(Te.ushortList("component",I.components,I.components.length+1)))}))})))};var Yg={parse:function(w,E){return E=(w=new we(w,E=E||0)).parseVersion(1),D.argument(E===1||E===1.1,"Unsupported GSUB table version."),E===1?{version:E,scripts:w.parseScriptList(),features:w.parseFeatureList(),lookups:w.parseLookupList(eo)}:{version:E,scripts:w.parseScriptList(),features:w.parseFeatureList(),lookups:w.parseLookupList(eo),variations:w.parseFeatureVariationsList()}},make:function(w){return new Te.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Te.ScriptList(w.scripts)},{name:"features",type:"TABLE",value:new Te.FeatureList(w.features)},{name:"lookups",type:"TABLE",value:new Te.LookupList(w.lookups,Bu)}])}},Xg={parse:function(w,E){for(var I=new De.Parser(w,E),N=I.parseULong(),B=(D.argument(N===1,"Unsupported META table version."),I.parseULong(),I.parseULong(),I.parseULong()),$={},Y=0;Y<B;Y++){var te=I.parseTag(),ue=I.parseULong(),de=I.parseULong(),ue=U.UTF8(w,E+ue,de);$[te]=ue}return $},make:function(w){var E,I=Object.keys(w).length,N="",B=16+12*I,$=new Te.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:B},{name:"numTags",type:"ULONG",value:I}]);for(E in w){var Y=N.length;N+=w[E],$.fields.push({name:"tag "+E,type:"TAG",value:E}),$.fields.push({name:"offset "+E,type:"ULONG",value:B+Y}),$.fields.push({name:"length "+E,type:"ULONG",value:w[E].length})}return $.fields.push({name:"stringPool",type:"CHARARRAY",value:N}),$}};function Zg(w){return Math.log(w)/Math.log(2)|0}function Fh(w){for(;w.length%4!=0;)w.push(0);for(var E=0,I=0;I<w.length;I+=4)E+=(w[I]<<24)+(w[I+1]<<16)+(w[I+2]<<8)+w[I+3];return E%=Math.pow(2,32)}function Qg(w,E,I,N){return new Te.Record("Table Record",[{name:"tag",type:"TAG",value:w!==void 0?w:""},{name:"checkSum",type:"ULONG",value:E!==void 0?E:0},{name:"offset",type:"ULONG",value:I!==void 0?I:0},{name:"length",type:"ULONG",value:N!==void 0?N:0}])}function Kg(w){for(var E=new Te.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),I=(E.tables=w,E.numTables=w.length,Math.pow(2,Zg(E.numTables))),N=(E.searchRange=16*I,E.entrySelector=Zg(I),E.rangeShift=16*E.numTables-E.searchRange,[]),B=[],$=E.sizeOf()+Qg().sizeOf()*E.numTables;$%4!=0;)$+=1,B.push({name:"padding",type:"BYTE",value:0});for(var Y=0;Y<w.length;Y+=1){var te=w[Y],de=(D.argument(te.tableName.length===4,"Table name"+te.tableName+" is invalid."),te.sizeOf()),ue=Qg(te.tableName,Fh(te.encode()),$,de);for(N.push({name:ue.tag+" Table Record",type:"RECORD",value:ue}),B.push({name:te.tableName+" table",type:"RECORD",value:te}),$+=de,D.argument(!isNaN($),"Something went wrong calculating the offset.");$%4!=0;)$+=1,B.push({name:"padding",type:"BYTE",value:0})}return N.sort(function(be,Me){return be.value.tag>Me.value.tag?1:-1}),E.fields=E.fields.concat(N),E.fields=E.fields.concat(B),E}function Jg(w,E,I){for(var N=0;N<E.length;N+=1){var B=w.charToGlyphIndex(E[N]);if(0<B)return w.glyphs.get(B).getMetrics()}return I}var bE={make:Kg,fontToTable:function(w){for(var E,I=[],N=[],B=[],$=[],Y=[],te=[],de=[],ue=0,be=0,Me=0,Ce=0,me=0,Fe=0;Fe<w.glyphs.length;Fe+=1){var Oe=w.glyphs.get(Fe),Ne=0|Oe.unicode;if(isNaN(Oe.advanceWidth))throw new Error("Glyph "+Oe.name+" ("+Fe+"): advanceWidth is not a number.");(Ne<E||E===void 0)&&0<Ne&&(E=Ne),ue<Ne&&(ue=Ne);var Ne=Br.getUnicodeRange(Ne);if(Ne<32)be|=1<<Ne;else if(Ne<64)Me|=1<<Ne-32;else if(Ne<96)Ce|=1<<Ne-64;else{if(!(Ne<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");me|=1<<Ne-96}Oe.name!==".notdef"&&(Ne=Oe.getMetrics(),I.push(Ne.xMin),N.push(Ne.yMin),B.push(Ne.xMax),$.push(Ne.yMax),te.push(Ne.leftSideBearing),de.push(Ne.rightSideBearing),Y.push(Oe.advanceWidth))}var je,Ae={xMin:Math.min.apply(null,I),yMin:Math.min.apply(null,N),xMax:Math.max.apply(null,B),yMax:Math.max.apply(null,$),advanceWidthMax:Math.max.apply(null,Y),advanceWidthAvg:function(Gr){for(var yl=0,Ai=0;Ai<Gr.length;Ai+=1)yl+=Gr[Ai];return yl/Gr.length}(Y),minLeftSideBearing:Math.min.apply(null,te),maxLeftSideBearing:Math.max.apply(null,te),minRightSideBearing:Math.min.apply(null,de)},at=(Ae.ascender=w.ascender,Ae.descender=w.descender,fl.make({flags:3,unitsPerEm:w.unitsPerEm,xMin:Ae.xMin,yMin:Ae.yMin,xMax:Ae.xMax,yMax:Ae.yMax,lowestRecPPEM:3,createdTimestamp:w.createdTimestamp})),bt=ge.make({ascender:Ae.ascender,descender:Ae.descender,advanceWidthMax:Ae.advanceWidthMax,minLeftSideBearing:Ae.minLeftSideBearing,minRightSideBearing:Ae.minRightSideBearing,xMaxExtent:Ae.maxLeftSideBearing+(Ae.xMax-Ae.xMin),numberOfHMetrics:w.glyphs.length}),lt=Ve.make(w.glyphs.length),ut=Br.make({xAvgCharWidth:Math.round(Ae.advanceWidthAvg),usWeightClass:w.tables.os2.usWeightClass,usWidthClass:w.tables.os2.usWidthClass,usFirstCharIndex:E,usLastCharIndex:ue,ulUnicodeRange1:be,ulUnicodeRange2:Me,ulUnicodeRange3:Ce,ulUnicodeRange4:me,fsSelection:w.tables.os2.fsSelection,sTypoAscender:Ae.ascender,sTypoDescender:Ae.descender,sTypoLineGap:0,usWinAscent:Ae.yMax,usWinDescent:Math.abs(Ae.yMin),ulCodePageRange1:1,sxHeight:Jg(w,"xyvw",{yMax:Math.round(Ae.ascender/2)}).yMax,sCapHeight:Jg(w,"HIKLEFJMNTZBDPRAGOQSUVWXY",Ae).yMax,usDefaultChar:w.hasChar(" ")?32:0,usBreakChar:w.hasChar(" ")?32:0}),Tt=Be.make(w.glyphs),nr=K.make(w.glyphs),ir=w.getEnglishName("fontFamily"),Xt=w.getEnglishName("fontSubfamily"),er=ir+" "+Xt,hr=(hr=w.getEnglishName("postScriptName"))||ir.replace(/\s/g,"")+"-"+Xt,Cr={};for(je in w.names)Cr[je]=w.names[je];Cr.uniqueID||(Cr.uniqueID={en:w.getEnglishName("manufacturer")+":"+er}),Cr.postScriptName||(Cr.postScriptName={en:hr}),Cr.preferredFamily||(Cr.preferredFamily=w.names.fontFamily),Cr.preferredSubfamily||(Cr.preferredSubfamily=w.names.fontSubfamily);var on=[],nn=jn.make(Cr,on),on=0<on.length?tt.make(on):void 0,ro=$g.make(),er=hl.make(w.glyphs,{version:w.getEnglishName("version"),fullName:er,familyName:ir,weightName:Xt,postScriptName:hr,unitsPerEm:w.unitsPerEm,fontBBox:[0,Ae.yMin,Ae.ascender,Ae.advanceWidthMax]}),ir=w.metas&&0<Object.keys(w.metas).length?Xg.make(w.metas):void 0,Xt=[at,bt,lt,ut,nn,nr,ro,er,Tt];on&&Xt.push(on),w.tables.gsub&&Xt.push(Yg.make(w.tables.gsub)),ir&&Xt.push(ir);for(var sn=Fh((hr=Kg(Xt)).encode()),cr=hr.fields,$r=!1,ar=0;ar<cr.length;ar+=1)if(cr[ar].name==="head table"){cr[ar].value.checkSumAdjustment=2981146554-sn,$r=!0;break}if($r)return hr;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:Fh};function Lh(w,E){for(var I=0,N=w.length-1;I<=N;){var B=I+N>>>1,$=w[B].tag;if($===E)return B;$<E?I=1+B:N=B-1}return-I-1}function ey(w,E){for(var I=0,N=w.length-1;I<=N;){var B=I+N>>>1,$=w[B];if($===E)return B;$<E?I=1+B:N=B-1}return-I-1}function ty(w,E){for(var I=0,N=w.length-1;I<=N;){var B,$=I+N>>>1,Y=(B=w[$]).start;if(Y===E)return B;Y<E?I=1+$:N=$-1}if(0<I)return E>(B=w[I-1]).end?0:B}function Gu(w,E){this.font=w,this.tableName=E}function zu(w){Gu.call(this,w,"gpos")}function Do(w){Gu.call(this,w,"gsub")}function ry(w,E,I){for(var N=w.subtables,B=0;B<N.length;B++){var $=N[B];if($.substFormat===E)return $}if(I)return N.push(I),I}function ny(w){for(var E=new ArrayBuffer(w.length),I=new Uint8Array(E),N=0;N<w.length;++N)I[N]=w[N];return E}function Mi(w,E){if(!w)throw E}function oy(w,E,I,N,B){var $=0<(E&N)?($=w.parseByte(),I+($=E&B?$:-$)):0<(E&B)?I:I+w.parseShort();return $}function _E(w,E,I){var N,B=new De.Parser(E,I);if(w.numberOfContours=B.parseShort(),w._xMin=B.parseShort(),w._yMin=B.parseShort(),w._xMax=B.parseShort(),w._yMax=B.parseShort(),0<w.numberOfContours){for(var $=w.endPointIndices=[],Y=0;Y<w.numberOfContours;Y+=1)$.push(B.parseUShort());w.instructionLength=B.parseUShort(),w.instructions=[];for(var te=0;te<w.instructionLength;te+=1)w.instructions.push(B.parseByte());for(var de=$[$.length-1]+1,ue=[],be=0;be<de;be+=1)if(N=B.parseByte(),ue.push(N),0<(8&N))for(var Me=B.parseByte(),Ce=0;Ce<Me;Ce+=1)ue.push(N),be+=1;if(D.argument(ue.length===de,"Bad flags."),0<$.length){var me,Fe=[];if(0<de){for(var Oe=0;Oe<de;Oe+=1)N=ue[Oe],(me={}).onCurve=!!(1&N),me.lastPointOfContour=0<=$.indexOf(Oe),Fe.push(me);for(var Ne=0,je=0;je<de;je+=1)N=ue[je],(me=Fe[je]).x=oy(B,N,Ne,2,16),Ne=me.x;for(var Ae=0,at=0;at<de;at+=1)N=ue[at],(me=Fe[at]).y=oy(B,N,Ae,4,32),Ae=me.y}w.points=Fe}else w.points=[]}else if(w.numberOfContours===0)w.points=[];else{w.isComposite=!0,w.points=[],w.components=[];for(var bt=!0;bt;){ue=B.parseUShort();var lt={glyphIndex:B.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&ue)?0<(2&ue)?(lt.dx=B.parseShort(),lt.dy=B.parseShort()):lt.matchedPoints=[B.parseUShort(),B.parseUShort()]:0<(2&ue)?(lt.dx=B.parseChar(),lt.dy=B.parseChar()):lt.matchedPoints=[B.parseByte(),B.parseByte()],0<(8&ue)?lt.xScale=lt.yScale=B.parseF2Dot14():0<(64&ue)?(lt.xScale=B.parseF2Dot14(),lt.yScale=B.parseF2Dot14()):0<(128&ue)&&(lt.xScale=B.parseF2Dot14(),lt.scale01=B.parseF2Dot14(),lt.scale10=B.parseF2Dot14(),lt.yScale=B.parseF2Dot14()),w.components.push(lt),bt=!!(32&ue)}if(256&ue){w.instructionLength=B.parseUShort(),w.instructions=[];for(var ut=0;ut<w.instructionLength;ut+=1)w.instructions.push(B.parseByte())}}}function Vh(w,E){for(var I=[],N=0;N<w.length;N+=1){var B=w[N],B={x:E.xScale*B.x+E.scale01*B.y+E.dx,y:E.scale10*B.x+E.yScale*B.y+E.dy,onCurve:B.onCurve,lastPointOfContour:B.lastPointOfContour};I.push(B)}return I}function sy(w){var E=new Z;if(w)for(var I=function(Me){for(var Ce=[],me=[],Fe=0;Fe<Me.length;Fe+=1){var Oe=Me[Fe];me.push(Oe),Oe.lastPointOfContour&&(Ce.push(me),me=[])}return D.argument(me.length===0,"There are still points left in the current contour."),Ce}(w),N=0;N<I.length;++N){var B,$=I[N],Y=$[$.length-1],te=$[0];Y.onCurve?E.moveTo(Y.x,Y.y):te.onCurve?E.moveTo(te.x,te.y):(B={x:.5*(Y.x+te.x),y:.5*(Y.y+te.y)},E.moveTo(B.x,B.y));for(var de=0;de<$.length;++de){var ue,be=Y,Y=te,te=$[(de+1)%$.length];Y.onCurve?E.lineTo(Y.x,Y.y):(ue=te,be.onCurve||(Y.x,be.x,Y.y,be.y),te.onCurve||(ue={x:.5*(Y.x+te.x),y:.5*(Y.y+te.y)}),E.quadraticCurveTo(Y.x,Y.y,ue.x,ue.y))}E.closePath()}return E}function xE(w,E){if(E.isComposite)for(var I=0;I<E.components.length;I+=1){var N=E.components[I],B=w.get(N.glyphIndex);if(B.getPath(),B.points){var $=void 0;if(N.matchedPoints===void 0)$=Vh(B.points,N);else{if(N.matchedPoints[0]>E.points.length-1||N.matchedPoints[1]>B.points.length-1)throw Error("Matched points out of range in "+E.name);var Y=E.points[N.matchedPoints[0]],te=B.points[N.matchedPoints[1]],N={xScale:N.xScale,scale01:N.scale01,scale10:N.scale10,yScale:N.yScale,dx:0,dy:0},te=Vh([te],N)[0];N.dx=Y.x-te.x,N.dy=Y.y-te.y,$=Vh(B.points,N)}E.points=E.points.concat($)}}return sy(E.points)}(zu.prototype=Gu.prototype={searchTag:Lh,binSearch:ey,getTable:function(w){var E=this.font.tables[this.tableName];return E=!E&&w?this.font.tables[this.tableName]=this.createDefaultTable():E},getScriptNames:function(){var w=this.getTable();return w?w.scripts.map(function(E){return E.tag}):[]},getDefaultScriptName:function(){var w=this.getTable();if(w){for(var E=!1,I=0;I<w.scripts.length;I++){var N=w.scripts[I].tag;if(N==="DFLT")return N;N==="latn"&&(E=!0)}return E?"latn":void 0}},getScriptTable:function(w,E){var I,N=this.getTable(E);if(N)return I=N.scripts,0<=(N=Lh(N.scripts,w=w||"DFLT"))?I[N].script:E?(I.splice(-1-N,0,E={tag:w,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),E.script):void 0},getLangSysTable:function(B,E,I){var N,B=this.getScriptTable(B,I);if(B)return E&&E!=="dflt"&&E!=="DFLT"?0<=(N=Lh(B.langSysRecords,E))?B.langSysRecords[N].langSys:I?(B.langSysRecords.splice(-1-N,0,I={tag:E,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),I.langSys):void 0:B.defaultLangSys},getFeatureTable:function(w,E,I,N){if(w=this.getLangSysTable(w,E,N),w){for(var B,$=w.featureIndexes,Y=this.font.tables[this.tableName].features,te=0;te<$.length;te++)if((B=Y[$[te]]).tag===I)return B.feature;if(N)return E=Y.length,D.assert(E===0||I>=Y[E-1].tag,"Features must be added in alphabetical order."),Y.push(B={tag:I,feature:{params:0,lookupListIndexes:[]}}),$.push(E),B.feature}},getLookupTables:function($,E,I,N,B){var $=this.getFeatureTable($,E,I,B),Y=[];if($){for(var te,de=$.lookupListIndexes,ue=this.font.tables[this.tableName].lookups,be=0;be<de.length;be++)(te=ue[de[be]]).lookupType===N&&Y.push(te);if(Y.length===0&&B)return E=ue.length,ue.push(te={lookupType:N,lookupFlag:0,subtables:[],markFilteringSet:void 0}),de.push(E),[te]}return Y},getGlyphClass:function(w,E){switch(w.format){case 1:return w.startGlyph<=E&&E<w.startGlyph+w.classes.length?w.classes[E-w.startGlyph]:0;case 2:var I=ty(w.ranges,E);return I?I.classId:0}},getCoverageIndex:function(w,E){switch(w.format){case 1:var I=ey(w.glyphs,E);return 0<=I?I:-1;case 2:return I=ty(w.ranges,E),I?I.index+E-I.start:-1}},expandCoverage:function(w){if(w.format===1)return w.glyphs;for(var E=[],I=w.ranges,N=0;N<I.length;N++)for(var B=I[N],$=B.start,Y=B.end,te=$;te<=Y;te++)E.push(te);return E}}).init=function(){var w=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(w)},zu.prototype.getKerningValue=function(w,E,I){for(var N=0;N<w.length;N++)for(var B=w[N].subtables,$=0;$<B.length;$++){var Y=B[$],te=this.getCoverageIndex(Y.coverage,E);if(!(te<0))switch(Y.posFormat){case 1:for(var de=Y.pairSets[te],ue=0;ue<de.length;ue++){var be=de[ue];if(be.secondGlyph===I)return be.value1&&be.value1.xAdvance||0}break;case 2:var Ce=this.getGlyphClass(Y.classDef1,E),Me=this.getGlyphClass(Y.classDef2,I),Ce=Y.classRecords[Ce][Me];return Ce.value1&&Ce.value1.xAdvance||0}}return 0},zu.prototype.getKerningTables=function(w,E){if(this.font.tables.gpos)return this.getLookupTables(w,E,"kern",2)},(Do.prototype=Gu.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Do.prototype.getSingle=function(w,E,I){for(var N=[],B=this.getLookupTables(E,I,w,1),$=0;$<B.length;$++)for(var Y=B[$].subtables,te=0;te<Y.length;te++){var de=Y[te],ue=this.expandCoverage(de.coverage),be=void 0;if(de.substFormat===1)for(var Me=de.deltaGlyphId,be=0;be<ue.length;be++){var Ce=ue[be];N.push({sub:Ce,by:Ce+Me})}else{var me=de.substitute;for(be=0;be<ue.length;be++)N.push({sub:ue[be],by:me[be]})}}return N},Do.prototype.getAlternates=function(w,E,I){for(var N=[],B=this.getLookupTables(E,I,w,3),$=0;$<B.length;$++)for(var Y=B[$].subtables,te=0;te<Y.length;te++)for(var de=Y[te],ue=this.expandCoverage(de.coverage),be=de.alternateSets,Me=0;Me<ue.length;Me++)N.push({sub:ue[Me],by:be[Me]});return N},Do.prototype.getLigatures=function(w,E,I){for(var N=[],B=this.getLookupTables(E,I,w,4),$=0;$<B.length;$++)for(var Y=B[$].subtables,te=0;te<Y.length;te++)for(var de=Y[te],ue=this.expandCoverage(de.coverage),be=de.ligatureSets,Me=0;Me<ue.length;Me++)for(var Ce=ue[Me],me=be[Me],Fe=0;Fe<me.length;Fe++){var Oe=me[Fe];N.push({sub:[Ce].concat(Oe.components),by:Oe.ligGlyph})}return N},Do.prototype.addSingle=function(w,E,I,N){I=ry(this.getLookupTables(I,N,w,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),D.assert(I.coverage.format===1,"Ligature: unable to modify coverage table format "+I.coverage.format),N=E.sub,w=this.binSearch(I.coverage.glyphs,N),w<0&&(I.coverage.glyphs.splice(w=-1-w,0,N),I.substitute.splice(w,0,0)),I.substitute[w]=E.by},Do.prototype.addAlternate=function(w,E,I,N){I=ry(this.getLookupTables(I,N,w,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),D.assert(I.coverage.format===1,"Ligature: unable to modify coverage table format "+I.coverage.format),N=E.sub,w=this.binSearch(I.coverage.glyphs,N),w<0&&(I.coverage.glyphs.splice(w=-1-w,0,N),I.alternateSets.splice(w,0,0)),I.alternateSets[w]=E.by},Do.prototype.addLigature=function($,de,te,B){var te=this.getLookupTables(te,B,$,4,!0)[0],B=te.subtables[0],$=(B||(te.subtables[0]=B={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),D.assert(B.coverage.format===1,"Ligature: unable to modify coverage table format "+B.coverage.format),de.sub[0]),Y=de.sub.slice(1),te={ligGlyph:de.by,components:Y},de=this.binSearch(B.coverage.glyphs,$);if(0<=de){for(var ue=B.ligatureSets[de],be=0;be<ue.length;be++)if(function(Me,Ce){var me=Me.length;if(me===Ce.length){for(var Fe=0;Fe<me;Fe++)if(Me[Fe]!==Ce[Fe])return;return 1}}(ue[be].components,Y))return;ue.push(te)}else B.coverage.glyphs.splice(de=-1-de,0,$),B.ligatureSets.splice(de,0,[te])},Do.prototype.getFeature=function(w,E,I){if(/ss\d\d/.test(w))return this.getSingle(w,E,I);switch(w){case"aalt":case"salt":return this.getSingle(w,E,I).concat(this.getAlternates(w,E,I));case"dlig":case"liga":case"rlig":return this.getLigatures(w,E,I)}},Do.prototype.add=function(w,E,I,N){if(/ss\d\d/.test(w))return this.addSingle(w,E,I,N);switch(w){case"aalt":case"salt":return typeof E.by=="number"?this.addSingle(w,E,I,N):this.addAlternate(w,E,I,N);case"dlig":case"liga":case"rlig":return this.addLigature(w,E,I,N)}};var iy={getPath:sy,parse:function(w,E,I,N){for(var B=new ot.GlyphSet(N),$=0;$<I.length-1;$+=1){var Y=I[$];Y!==I[$+1]?B.push($,ot.ttfGlyphLoader(N,$,_E,w,E+Y,xE)):B.push($,ot.glyphLoader(N,$))}return B}};function ay(w){this.font=w,this.getCommands=function(E){return iy.getPath(E).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function wE(w){return w}function ly(w){return Math.sign(w)*Math.round(Math.abs(w))}function SE(w){return Math.sign(w)*Math.round(Math.abs(2*w))/2}function CE(w){return Math.sign(w)*(Math.round(Math.abs(w)+.5)-.5)}function EE(w){return Math.sign(w)*Math.ceil(Math.abs(w))}function TE(w){return Math.sign(w)*Math.floor(Math.abs(w))}function uy(w){var E=this.srPeriod,I=this.srPhase,N=1;return w<0&&(w=-w,N=-1),w+=this.srThreshold-I,w=Math.trunc(w/E)*E,(w+=I)<0?I*N:w*N}var Mo={x:1,y:0,axis:"x",distance:function(w,E,I,N){return(I?w.xo:w.x)-(N?E.xo:E.x)},interpolate:function(w,E,I,N){var B,$,Y,te,de,ue,be;if(!N||N===this)return B=w.xo-E.xo,$=w.xo-I.xo,de=E.x-E.xo,ue=I.x-I.xo,(be=(Y=Math.abs(B))+(te=Math.abs($)))===0?void(w.x=w.xo+(de+ue)/2):void(w.x=w.xo+(de*te+ue*Y)/be);B=N.distance(w,E,!0,!0),$=N.distance(w,I,!0,!0),de=N.distance(E,E,!1,!0),ue=N.distance(I,I,!1,!0),(be=(Y=Math.abs(B))+(te=Math.abs($)))===0?Mo.setRelative(w,w,(de+ue)/2,N,!0):Mo.setRelative(w,w,(de*te+ue*Y)/be,N,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(w,E,I,N,B){var $,Y;N&&N!==this?($=B?E.xo:E.x,Y=B?E.yo:E.y,$+=I*N.x,Y+=I*N.y,w.x=$+(w.y-Y)/N.normalSlope):w.x=(B?E.xo:E.x)+I},slope:0,touch:function(w){w.xTouched=!0},touched:function(w){return w.xTouched},untouch:function(w){w.xTouched=!1}},Wo={x:0,y:1,axis:"y",distance:function(w,E,I,N){return(I?w.yo:w.y)-(N?E.yo:E.y)},interpolate:function(w,E,I,N){var B,$,Y,te,de,ue,be;if(!N||N===this)return B=w.yo-E.yo,$=w.yo-I.yo,de=E.y-E.yo,ue=I.y-I.yo,(be=(Y=Math.abs(B))+(te=Math.abs($)))===0?void(w.y=w.yo+(de+ue)/2):void(w.y=w.yo+(de*te+ue*Y)/be);B=N.distance(w,E,!0,!0),$=N.distance(w,I,!0,!0),de=N.distance(E,E,!1,!0),ue=N.distance(I,I,!1,!0),(be=(Y=Math.abs(B))+(te=Math.abs($)))===0?Wo.setRelative(w,w,(de+ue)/2,N,!0):Wo.setRelative(w,w,(de*te+ue*Y)/be,N,!0)},normalSlope:0,setRelative:function(w,E,I,N,B){var $,Y;N&&N!==this?($=B?E.xo:E.x,Y=B?E.yo:E.y,$+=I*N.x,Y+=I*N.y,w.y=Y+N.normalSlope*(w.x-$)):w.y=(B?E.yo:E.y)+I},slope:Number.POSITIVE_INFINITY,touch:function(w){w.yTouched=!0},touched:function(w){return w.yTouched},untouch:function(w){w.yTouched=!1}};function pl(w,E){this.x=w,this.y=E,this.axis=void 0,this.slope=E/w,this.normalSlope=-w/E,Object.freeze(this)}function ml(w,E){var I=Math.sqrt(w*w+E*E);return E/=I,(w/=I)===1&&E===0?Mo:w===0&&E===1?Wo:new pl(w,E)}function $o(w,E,I,N){this.x=this.xo=Math.round(64*w)/64,this.y=this.yo=Math.round(64*E)/64,this.lastPointOfContour=I,this.onCurve=N,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Mo),Object.freeze(Wo),pl.prototype.distance=function(w,E,I,N){return this.x*Mo.distance(w,E,I,N)+this.y*Wo.distance(w,E,I,N)},pl.prototype.interpolate=function(w,B,$,N){var Y=N.distance(w,B,!0,!0),te=N.distance(w,$,!0,!0),B=N.distance(B,B,!1,!0),$=N.distance($,$,!1,!0),Y=Math.abs(Y),te=Math.abs(te),de=Y+te;de===0?this.setRelative(w,w,(B+$)/2,N,!0):this.setRelative(w,w,(B*te+$*Y)/de,N,!0)},pl.prototype.setRelative=function(w,$,de,ue,te){var Y=te?$.xo:$.x,te=te?$.yo:$.y,$=Y+de*(ue=ue||this).x,Y=te+de*ue.y,te=ue.normalSlope,de=this.slope,ue=w.x,be=w.y;w.x=(de*ue-te*$+Y-be)/(de-te),w.y=de*(w.x-ue)+be},pl.prototype.touch=function(w){w.xTouched=!0,w.yTouched=!0},$o.prototype.nextTouched=function(w){for(var E=this.nextPointOnContour;!w.touched(E)&&E!==this;)E=E.nextPointOnContour;return E},$o.prototype.prevTouched=function(w){for(var E=this.prevPointOnContour;!w.touched(E)&&E!==this;)E=E.prevPointOnContour;return E};var gl=Object.freeze(new $o(0,0)),DE={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function ms(w,E){switch(this.env=w,this.stack=[],this.prog=E,w){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Mo,this.round=ly}}function Hu(w){for(var E=w.tZone=new Array(w.gZone.length),I=0;I<E.length;I++)E[I]=new $o(0,0)}function cy(w,E){var I,N=w.prog,B=w.ip,$=1;do if((I=N[++B])===88)$++;else if(I===89)$--;else if(I===64)B+=N[B+1]+1;else if(I===65)B+=2*N[B+1]+1;else if(176<=I&&I<=183)B+=I-176+1;else if(184<=I&&I<=191)B+=2*(I-184+1);else if(E&&$===1&&I===27)break;while(0<$);w.ip=B}function dy(w,E){c.DEBUG&&console.log(E.step,"SVTCA["+w.axis+"]"),E.fv=E.pv=E.dpv=w}function hy(w,E){c.DEBUG&&console.log(E.step,"SPVTCA["+w.axis+"]"),E.pv=E.dpv=w}function fy(w,E){c.DEBUG&&console.log(E.step,"SFVTCA["+w.axis+"]"),E.fv=w}function py(w,E){var I,B=E.stack,N=B.pop(),B=B.pop(),$=E.z2[N],Y=E.z1[B];c.DEBUG&&console.log("SPVTL["+w+"]",N,B),N=w?(I=$.y-Y.y,Y.x-$.x):(I=Y.x-$.x,Y.y-$.y),E.pv=E.dpv=ml(I,N)}function my(w,E){var I,B=E.stack,N=B.pop(),B=B.pop(),$=E.z2[N],Y=E.z1[B];c.DEBUG&&console.log("SFVTL["+w+"]",N,B),N=w?(I=$.y-Y.y,Y.x-$.x):(I=Y.x-$.x,Y.y-$.y),E.fv=ml(I,N)}function Uh(w){c.DEBUG&&console.log(w.step,"POP[]"),w.stack.pop()}function gy(w,E){var I=E.stack.pop(),N=E.z0[I],B=E.fv,$=E.pv,Y=(c.DEBUG&&console.log(E.step,"MDAP["+w+"]",I),$.distance(N,gl));w&&(Y=E.round(Y)),B.setRelative(N,gl,Y,$),B.touch(N),E.rp0=E.rp1=I}function yy(w,E){var I,N,B,$=E.z2,Y=$.length-2;c.DEBUG&&console.log(E.step,"IUP["+w.axis+"]");for(var te=0;te<Y;te++)I=$[te],w.touched(I)||(N=I.prevTouched(w))!==I&&(N===(B=I.nextTouched(w))&&w.setRelative(I,I,w.distance(N,N,!1,!0),w,!0),w.interpolate(I,N,B,w))}function vy(w,E){for(var I=E.stack,N=w?E.rp1:E.rp2,B=(w?E.z0:E.z1)[N],$=E.fv,Y=E.pv,te=E.loop,de=E.z2;te--;){var ue=I.pop(),be=de[ue],Me=Y.distance(B,B,!1,!0);$.setRelative(be,be,Me,Y),$.touch(be),c.DEBUG&&console.log(E.step,(1<E.loop?"loop "+(E.loop-te)+": ":"")+"SHP["+(w?"rp1":"rp2")+"]",ue)}E.loop=1}function by(w,E){for(var I=E.stack,Y=w?E.rp1:E.rp2,N=(w?E.z0:E.z1)[Y],B=E.fv,$=E.pv,Y=I.pop(),te=E.z2[E.contours[Y]],de=te,ue=(c.DEBUG&&console.log(E.step,"SHC["+w+"]",Y),$.distance(N,N,!1,!0));de!==N&&B.setRelative(de,de,ue,$),(de=de.nextPointOnContour)!==te;);}function _y(w,E){var I,N,te=E.stack,B=w?E.rp1:E.rp2,B=(w?E.z0:E.z1)[B],$=E.fv,Y=E.pv,te=te.pop();switch(c.DEBUG&&console.log(E.step,"SHZ["+w+"]",te),te){case 0:I=E.tZone;break;case 1:I=E.gZone;break;default:throw new Error("Invalid zone")}for(var de=Y.distance(B,B,!1,!0),ue=I.length-2,be=0;be<ue;be++)N=I[be],$.setRelative(N,N,de,Y)}function xy(w,E){var N=E.stack,I=N.pop()/64,N=N.pop(),B=E.z1[N],$=E.z0[E.rp0],Y=E.fv,te=E.pv;Y.setRelative(B,$,I,te),Y.touch(B),c.DEBUG&&console.log(E.step,"MSIRP["+w+"]",I,N),E.rp1=E.rp0,E.rp2=N,w&&(E.rp0=N)}function wy(w,E){var I=E.stack,te=I.pop(),I=I.pop(),N=E.z0[I],B=E.fv,$=E.pv,Y=E.cvt[te],te=(c.DEBUG&&console.log(E.step,"MIAP["+w+"]",te,"(",Y,")",I),$.distance(N,gl));w&&(Math.abs(te-Y)<E.cvCutIn&&(te=Y),te=E.round(te)),B.setRelative(N,gl,te,$),E.zp0===0&&(N.xo=N.x,N.yo=N.y),B.touch(N),E.rp0=E.rp1=I}function Sy(w,E){var I=E.stack,N=I.pop(),B=E.z2[N];c.DEBUG&&console.log(E.step,"GC["+w+"]",N),I.push(64*E.dpv.distance(B,gl,w,!1))}function Cy(w,E){var N=E.stack,I=N.pop(),N=N.pop(),B=E.z1[I],$=E.z0[N],$=E.dpv.distance($,B,w,w);c.DEBUG&&console.log(E.step,"MD["+w+"]",I,N,"->",$),E.stack.push(Math.round(64*$))}function Bh(w,E){var I=E.stack,N=I.pop(),B=E.fv,$=E.pv,Y=E.ppem,te=E.deltaBase+16*(w-1),de=E.deltaShift,ue=E.z0;c.DEBUG&&console.log(E.step,"DELTAP["+w+"]",N,I);for(var be=0;be<N;be++){var Me=I.pop(),Ce=I.pop();te+((240&Ce)>>4)===Y&&(0<=(Ce=(15&Ce)-8)&&Ce++,c.DEBUG&&console.log(E.step,"DELTAPFIX",Me,"by",Ce*de),Me=ue[Me],B.setRelative(Me,Me,Ce*de,$))}}function qu(w,E){var I=E.stack,N=I.pop();c.DEBUG&&console.log(E.step,"ROUND[]"),I.push(64*E.round(N/64))}function Gh(w,E){var I=E.stack,N=I.pop(),B=E.ppem,$=E.deltaBase+16*(w-1),Y=E.deltaShift;c.DEBUG&&console.log(E.step,"DELTAC["+w+"]",N,I);for(var te=0;te<N;te++){var de=I.pop(),ue=I.pop();$+((240&ue)>>4)===B&&(0<=(ue=(15&ue)-8)&&ue++,ue=ue*Y,c.DEBUG&&console.log(E.step,"DELTACFIX",de,"by",ue),E.cvt[de]+=ue)}}function Ey(w,E){var I,B=E.stack,N=B.pop(),B=B.pop(),$=E.z2[N],Y=E.z1[B];c.DEBUG&&console.log(E.step,"SDPVTL["+w+"]",N,B),N=w?(I=$.y-Y.y,Y.x-$.x):(I=Y.x-$.x,Y.y-$.y),E.dpv=ml(I,N)}function gs(w,E){var I=E.stack,N=E.prog,B=E.ip;c.DEBUG&&console.log(E.step,"PUSHB["+w+"]");for(var $=0;$<w;$++)I.push(N[++B]);E.ip=B}function ys(w,E){var I=E.ip,N=E.prog,B=E.stack;c.DEBUG&&console.log(E.ip,"PUSHW["+w+"]");for(var $=0;$<w;$++){var Y=N[++I]<<8|N[++I];32768&Y&&(Y=-(1+(65535^Y))),B.push(Y)}E.ip=I}function st(w,E,I,N,B,$){var Y,te,ue=$.stack,de=w&&ue.pop(),ue=ue.pop(),be=$.rp0,be=$.z0[be],Me=$.z1[ue],Ce=$.minDis,me=$.fv,Fe=$.dpv,Oe=Y=Fe.distance(Me,be,!0,!0),Ne=0<=Oe?1:-1;Oe=Math.abs(Oe),w&&(te=$.cvt[de],N&&Math.abs(Oe-te)<$.cvCutIn&&(Oe=te)),I&&Oe<Ce&&(Oe=Ce),N&&(Oe=$.round(Oe)),me.setRelative(Me,be,Ne*Oe,Fe),me.touch(Me),c.DEBUG&&console.log($.step,(w?"MIRP[":"MDRP[")+(E?"M":"m")+(I?">":"_")+(N?"R":"_")+(B===0?"Gr":B===1?"Bl":B===2?"Wh":"")+"]",w?de+"("+$.cvt[de]+","+te+")":"",ue,"(d =",Y,"->",Ne*Oe,")"),$.rp1=$.rp0,$.rp2=ue,E&&($.rp0=ue)}ay.prototype.exec=function(w,E){if(typeof E!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var I=this.font,N=this._prepState;if(!N||N.ppem!==E){var B=this._fpgmState;if(!B){ms.prototype=DE,(B=this._fpgmState=new ms("fpgm",I.tables.fpgm)).funcs=[],B.font=I,c.DEBUG&&(console.log("---EXEC FPGM---"),B.step=-1);try{ji(B)}catch(ue){return console.log("Hinting error in FPGM:"+ue),void(this._errorState=3)}}ms.prototype=B,(N=this._prepState=new ms("prep",I.tables.prep)).ppem=E;var $=I.tables.cvt;if($)for(var Y=N.cvt=new Array($.length),te=E/I.unitsPerEm,de=0;de<$.length;de++)Y[de]=$[de]*te;else N.cvt=[];c.DEBUG&&(console.log("---EXEC PREP---"),N.step=-1);try{ji(N)}catch(ue){this._errorState<2&&console.log("Hinting error in PREP:"+ue),this._errorState=2}}if(!(1<this._errorState))try{return ME(w,N)}catch(ue){this._errorState<1&&(console.log("Hinting error:"+ue),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var ME=function(w,E){var I=E.ppem/E.font.unitsPerEm,N=I,B=w.components;if(ms.prototype=E,B){for(var $=E.font,Y=[],te=[],de=0;de<B.length;de++){var ue=B[de],be=$.glyphs.get(ue.glyphIndex),Me=new ms("glyf",be.instructions);c.DEBUG&&(console.log("---EXEC COMP "+de+"---"),Me.step=-1),Ty(be,Me,I,N);for(var Ce=Math.round(ue.dx*I),me=Math.round(ue.dy*N),Fe=Me.gZone,Oe=Me.contours,Ne=0;Ne<Fe.length;Ne++){var je=Fe[Ne];je.xTouched=je.yTouched=!1,je.xo=je.x=je.x+Ce,je.yo=je.y=je.y+me}var Ae=Y.length;Y.push.apply(Y,Fe);for(var at=0;at<Oe.length;at++)te.push(Oe[at]+Ae)}w.instructions&&!Me.inhibitGridFit&&((Me=new ms("glyf",w.instructions)).gZone=Me.z0=Me.z1=Me.z2=Y,Me.contours=te,Y.push(new $o(0,0),new $o(Math.round(w.advanceWidth*I),0)),c.DEBUG&&(console.log("---EXEC COMPOSITE---"),Me.step=-1),ji(Me),Y.length-=2)}else Me=new ms("glyf",w.instructions),c.DEBUG&&(console.log("---EXEC GLYPH---"),Me.step=-1),Ty(w,Me,I,N),Y=Me.gZone;return Y},Ty=function(w,E,I,N){for(var B,$,Y,te=w.points||[],de=te.length,ue=E.gZone=E.z0=E.z1=E.z2=[],be=E.contours=[],Me=0;Me<de;Me++)B=te[Me],ue[Me]=new $o(B.x*I,B.y*N,B.lastPointOfContour,B.onCurve);for(var Ce=0;Ce<de;Ce++)B=ue[Ce],$||($=B,be.push(Ce)),B.lastPointOfContour?((B.nextPointOnContour=$).prevPointOnContour=B,$=void 0):(Y=ue[Ce+1],(B.nextPointOnContour=Y).prevPointOnContour=B);if(!E.inhibitGridFit){if(c.DEBUG){console.log("PROCESSING GLYPH",E.stack);for(var me=0;me<de;me++)console.log(me,ue[me].x,ue[me].y)}if(ue.push(new $o(0,0),new $o(Math.round(w.advanceWidth*I),0)),ji(E),ue.length-=2,c.DEBUG){console.log("FINISHED GLYPH",E.stack);for(var Fe=0;Fe<de;Fe++)console.log(Fe,ue[Fe].x,ue[Fe].y)}}},ji=function(w){var E=w.prog;if(E){var I,N=E.length;for(w.ip=0;w.ip<N;w.ip++){if(c.DEBUG&&w.step++,!(I=jE[E[w.ip]]))throw new Error("unknown instruction: 0x"+Number(E[w.ip]).toString(16));I(w)}}},jE=[dy.bind(void 0,Wo),dy.bind(void 0,Mo),hy.bind(void 0,Wo),hy.bind(void 0,Mo),fy.bind(void 0,Wo),fy.bind(void 0,Mo),py.bind(void 0,0),py.bind(void 0,1),my.bind(void 0,0),my.bind(void 0,1),function(w){var E=(I=w.stack).pop(),I=I.pop();c.DEBUG&&console.log(w.step,"SPVFS[]",E,I),w.pv=w.dpv=ml(I,E)},function(w){var E=(I=w.stack).pop(),I=I.pop();c.DEBUG&&console.log(w.step,"SPVFS[]",E,I),w.fv=ml(I,E)},function(w){var E=w.stack,I=w.pv;c.DEBUG&&console.log(w.step,"GPV[]"),E.push(16384*I.x),E.push(16384*I.y)},function(w){var E=w.stack,I=w.fv;c.DEBUG&&console.log(w.step,"GFV[]"),E.push(16384*I.x),E.push(16384*I.y)},function(w){w.fv=w.pv,c.DEBUG&&console.log(w.step,"SFVTPV[]")},function(E){var I=(Y=E.stack).pop(),N=Y.pop(),B=Y.pop(),$=Y.pop(),Y=Y.pop(),de=E.z0,be=E.z1,te=de[I],de=de[N],ue=be[B],be=be[$],E=E.z2[Y],I=(c.DEBUG&&console.log("ISECT[], ",I,N,B,$,Y),te.x),N=te.y,B=de.x,$=de.y,Y=ue.x,te=ue.y,de=be.x,ue=be.y,be=(I-B)*(te-ue)-(N-$)*(Y-de),Me=I*$-N*B,Ce=Y*ue-te*de;E.x=(Me*(Y-de)-Ce*(I-B))/be,E.y=(Me*(te-ue)-Ce*(N-$))/be},function(w){w.rp0=w.stack.pop(),c.DEBUG&&console.log(w.step,"SRP0[]",w.rp0)},function(w){w.rp1=w.stack.pop(),c.DEBUG&&console.log(w.step,"SRP1[]",w.rp1)},function(w){w.rp2=w.stack.pop(),c.DEBUG&&console.log(w.step,"SRP2[]",w.rp2)},function(w){var E=w.stack.pop();switch(c.DEBUG&&console.log(w.step,"SZP0[]",E),w.zp0=E){case 0:w.tZone||Hu(w),w.z0=w.tZone;break;case 1:w.z0=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){var E=w.stack.pop();switch(c.DEBUG&&console.log(w.step,"SZP1[]",E),w.zp1=E){case 0:w.tZone||Hu(w),w.z1=w.tZone;break;case 1:w.z1=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){var E=w.stack.pop();switch(c.DEBUG&&console.log(w.step,"SZP2[]",E),w.zp2=E){case 0:w.tZone||Hu(w),w.z2=w.tZone;break;case 1:w.z2=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){var E=w.stack.pop();switch(c.DEBUG&&console.log(w.step,"SZPS[]",E),w.zp0=w.zp1=w.zp2=E){case 0:w.tZone||Hu(w),w.z0=w.z1=w.z2=w.tZone;break;case 1:w.z0=w.z1=w.z2=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){w.loop=w.stack.pop(),c.DEBUG&&console.log(w.step,"SLOOP[]",w.loop)},function(w){c.DEBUG&&console.log(w.step,"RTG[]"),w.round=ly},function(w){c.DEBUG&&console.log(w.step,"RTHG[]"),w.round=CE},function(w){var E=w.stack.pop();c.DEBUG&&console.log(w.step,"SMD[]",E),w.minDis=E/64},function(w){c.DEBUG&&console.log(w.step,"ELSE[]"),cy(w,!1)},function(w){var E=w.stack.pop();c.DEBUG&&console.log(w.step,"JMPR[]",E),w.ip+=E-1},function(w){var E=w.stack.pop();c.DEBUG&&console.log(w.step,"SCVTCI[]",E),w.cvCutIn=E/64},void 0,void 0,function(w){var E=w.stack;c.DEBUG&&console.log(w.step,"DUP[]"),E.push(E[E.length-1])},Uh,function(w){c.DEBUG&&console.log(w.step,"CLEAR[]"),w.stack.length=0},function(w){var E=w.stack,I=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"SWAP[]"),E.push(I),E.push(N)},function(w){var E=w.stack;c.DEBUG&&console.log(w.step,"DEPTH[]"),E.push(E.length)},function(w){var E=w.stack,I=E.pop();c.DEBUG&&console.log(w.step,"CINDEX[]",I),E.push(E[E.length-I])},function(w){var E=w.stack,I=E.pop();c.DEBUG&&console.log(w.step,"MINDEX[]",I),E.push(E.splice(E.length-I,1)[0])},void 0,void 0,void 0,function(w){var E=(N=w.stack).pop(),I=N.pop(),N=(c.DEBUG&&console.log(w.step,"LOOPCALL[]",E,I),w.ip),B=w.prog;w.prog=w.funcs[E];for(var $=0;$<I;$++)ji(w),c.DEBUG&&console.log(++w.step,$+1<I?"next loopcall":"done loopcall",$);w.ip=N,w.prog=B},function(w){var E=w.stack.pop(),I=(c.DEBUG&&console.log(w.step,"CALL[]",E),w.ip),N=w.prog;w.prog=w.funcs[E],ji(w),w.ip=I,w.prog=N,c.DEBUG&&console.log(++w.step,"returning from",E)},function(w){if(w.env!=="fpgm")throw new Error("FDEF not allowed here");var N=w.stack,E=w.prog,I=w.ip,N=N.pop(),B=I;for(c.DEBUG&&console.log(w.step,"FDEF[]",N);E[++I]!==45;);w.ip=I,w.funcs[N]=E.slice(B+1,I)},void 0,gy.bind(void 0,0),gy.bind(void 0,1),yy.bind(void 0,Wo),yy.bind(void 0,Mo),vy.bind(void 0,0),vy.bind(void 0,1),by.bind(void 0,0),by.bind(void 0,1),_y.bind(void 0,0),_y.bind(void 0,1),function(w){for(var E=w.stack,I=w.loop,N=w.fv,B=E.pop()/64,$=w.z2;I--;){var Y=E.pop(),te=$[Y];c.DEBUG&&console.log(w.step,(1<w.loop?"loop "+(w.loop-I)+": ":"")+"SHPIX[]",Y,B),N.setRelative(te,te,B),N.touch(te)}w.loop=1},function(w){for(var E=w.stack,I=w.rp1,N=w.rp2,B=w.loop,$=w.z0[I],Y=w.z1[N],te=w.fv,de=w.dpv,ue=w.z2;B--;){var be=E.pop(),Me=ue[be];c.DEBUG&&console.log(w.step,(1<w.loop?"loop "+(w.loop-B)+": ":"")+"IP[]",be,I,"<->",N),te.interpolate(Me,$,Y,de),te.touch(Me)}w.loop=1},xy.bind(void 0,0),xy.bind(void 0,1),function(w){for(var E=w.stack,I=w.rp0,N=w.z0[I],B=w.loop,$=w.fv,Y=w.pv,te=w.z1;B--;){var de=E.pop(),ue=te[de];c.DEBUG&&console.log(w.step,(1<w.loop?"loop "+(w.loop-B)+": ":"")+"ALIGNRP[]",de),$.setRelative(ue,N,0,Y),$.touch(ue)}w.loop=1},function(w){c.DEBUG&&console.log(w.step,"RTDG[]"),w.round=SE},wy.bind(void 0,0),wy.bind(void 0,1),function(w){var E=w.prog,I=w.ip,N=w.stack,B=E[++I];c.DEBUG&&console.log(w.step,"NPUSHB[]",B);for(var $=0;$<B;$++)N.push(E[++I]);w.ip=I},function(w){var E=w.ip,I=w.prog,N=w.stack,B=I[++E];c.DEBUG&&console.log(w.step,"NPUSHW[]",B);for(var $=0;$<B;$++){var Y=I[++E]<<8|I[++E];32768&Y&&(Y=-(1+(65535^Y))),N.push(Y)}w.ip=E},function(w){var N=w.stack,E=(E=w.store)||(w.store=[]),I=N.pop(),N=N.pop();c.DEBUG&&console.log(w.step,"WS",I,N),E[N]=I},function(B){var E=B.stack,I=B.store,N=E.pop(),B=(c.DEBUG&&console.log(B.step,"RS",N),I&&I[N]||0);E.push(B)},function(w){var E=(I=w.stack).pop(),I=I.pop();c.DEBUG&&console.log(w.step,"WCVTP",E,I),w.cvt[I]=E/64},function(w){var E=w.stack,I=E.pop();c.DEBUG&&console.log(w.step,"RCVT",I),E.push(64*w.cvt[I])},Sy.bind(void 0,0),Sy.bind(void 0,1),void 0,Cy.bind(void 0,0),Cy.bind(void 0,1),function(w){c.DEBUG&&console.log(w.step,"MPPEM[]"),w.stack.push(w.ppem)},void 0,function(w){c.DEBUG&&console.log(w.step,"FLIPON[]"),w.autoFlip=!0},void 0,void 0,function(w){var E=w.stack,I=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"LT[]",I,N),E.push(N<I?1:0)},function(w){var E=w.stack,I=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"LTEQ[]",I,N),E.push(N<=I?1:0)},function(w){var E=w.stack,I=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"GT[]",I,N),E.push(I<N?1:0)},function(w){var E=w.stack,I=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"GTEQ[]",I,N),E.push(I<=N?1:0)},function(w){var E=w.stack,I=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"EQ[]",I,N),E.push(I===N?1:0)},function(w){var E=w.stack,I=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"NEQ[]",I,N),E.push(I!==N?1:0)},function(w){var E=w.stack,I=E.pop();c.DEBUG&&console.log(w.step,"ODD[]",I),E.push(Math.trunc(I)%2?1:0)},function(w){var E=w.stack,I=E.pop();c.DEBUG&&console.log(w.step,"EVEN[]",I),E.push(Math.trunc(I)%2?0:1)},function(w){var E=w.stack.pop();c.DEBUG&&console.log(w.step,"IF[]",E),E||(cy(w,!0),c.DEBUG&&console.log(w.step,"EIF[]"))},function(w){c.DEBUG&&console.log(w.step,"EIF[]")},function(w){var E=w.stack,I=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"AND[]",I,N),E.push(I&&N?1:0)},function(w){var E=w.stack,I=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"OR[]",I,N),E.push(I||N?1:0)},function(w){var E=w.stack,I=E.pop();c.DEBUG&&console.log(w.step,"NOT[]",I),E.push(I?0:1)},Bh.bind(void 0,1),function(w){var E=w.stack.pop();c.DEBUG&&console.log(w.step,"SDB[]",E),w.deltaBase=E},function(w){var E=w.stack.pop();c.DEBUG&&console.log(w.step,"SDS[]",E),w.deltaShift=Math.pow(.5,E)},function(w){var E=w.stack,I=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"ADD[]",I,N),E.push(N+I)},function(w){var E=w.stack,I=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"SUB[]",I,N),E.push(N-I)},function(w){var E=w.stack,I=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"DIV[]",I,N),E.push(64*N/I)},function(w){var E=w.stack,I=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"MUL[]",I,N),E.push(N*I/64)},function(w){var E=w.stack,I=E.pop();c.DEBUG&&console.log(w.step,"ABS[]",I),E.push(Math.abs(I))},function(w){var E=w.stack,I=E.pop();c.DEBUG&&console.log(w.step,"NEG[]",I),E.push(-I)},function(w){var E=w.stack,I=E.pop();c.DEBUG&&console.log(w.step,"FLOOR[]",I),E.push(64*Math.floor(I/64))},function(w){var E=w.stack,I=E.pop();c.DEBUG&&console.log(w.step,"CEILING[]",I),E.push(64*Math.ceil(I/64))},qu.bind(void 0,0),qu.bind(void 0,1),qu.bind(void 0,2),qu.bind(void 0,3),void 0,void 0,void 0,void 0,function(w){var E=(I=w.stack).pop(),I=I.pop();c.DEBUG&&console.log(w.step,"WCVTF[]",E,I),w.cvt[I]=E*w.ppem/w.font.unitsPerEm},Bh.bind(void 0,2),Bh.bind(void 0,3),Gh.bind(void 0,1),Gh.bind(void 0,2),Gh.bind(void 0,3),function(w){var E,I=w.stack.pop();switch(c.DEBUG&&console.log(w.step,"SROUND[]",I),w.round=uy,192&I){case 0:E=.5;break;case 64:E=1;break;case 128:E=2;break;default:throw new Error("invalid SROUND value")}switch(w.srPeriod=E,48&I){case 0:w.srPhase=0;break;case 16:w.srPhase=.25*E;break;case 32:w.srPhase=.5*E;break;case 48:w.srPhase=.75*E;break;default:throw new Error("invalid SROUND value")}w.srThreshold=(I&=15)===0?0:(I/8-.5)*E},function(w){var E,I=w.stack.pop();switch(c.DEBUG&&console.log(w.step,"S45ROUND[]",I),w.round=uy,192&I){case 0:E=Math.sqrt(2)/2;break;case 64:E=Math.sqrt(2);break;case 128:E=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(w.srPeriod=E,48&I){case 0:w.srPhase=0;break;case 16:w.srPhase=.25*E;break;case 32:w.srPhase=.5*E;break;case 48:w.srPhase=.75*E;break;default:throw new Error("invalid S45ROUND value")}w.srThreshold=(I&=15)===0?0:(I/8-.5)*E},void 0,void 0,function(w){c.DEBUG&&console.log(w.step,"ROFF[]"),w.round=wE},void 0,function(w){c.DEBUG&&console.log(w.step,"RUTG[]"),w.round=EE},function(w){c.DEBUG&&console.log(w.step,"RDTG[]"),w.round=TE},Uh,Uh,void 0,void 0,void 0,void 0,void 0,function(w){var E=w.stack.pop();c.DEBUG&&console.log(w.step,"SCANCTRL[]",E)},Ey.bind(void 0,0),Ey.bind(void 0,1),function(w){var E=w.stack,I=E.pop(),N=0;c.DEBUG&&console.log(w.step,"GETINFO[]",I),1&I&&(N=35),32&I&&(N|=4096),E.push(N)},void 0,function(w){var E=w.stack,I=E.pop(),N=E.pop(),B=E.pop();c.DEBUG&&console.log(w.step,"ROLL[]"),E.push(N),E.push(I),E.push(B)},function(w){var E=w.stack,I=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"MAX[]",I,N),E.push(Math.max(N,I))},function(w){var E=w.stack,I=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"MIN[]",I,N),E.push(Math.min(N,I))},function(w){var E=w.stack.pop();c.DEBUG&&console.log(w.step,"SCANTYPE[]",E)},function(w){var E=w.stack.pop(),I=w.stack.pop();switch(c.DEBUG&&console.log(w.step,"INSTCTRL[]",E,I),E){case 1:return void(w.inhibitGridFit=!!I);case 2:return void(w.ignoreCvt=!!I);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,gs.bind(void 0,1),gs.bind(void 0,2),gs.bind(void 0,3),gs.bind(void 0,4),gs.bind(void 0,5),gs.bind(void 0,6),gs.bind(void 0,7),gs.bind(void 0,8),ys.bind(void 0,1),ys.bind(void 0,2),ys.bind(void 0,3),ys.bind(void 0,4),ys.bind(void 0,5),ys.bind(void 0,6),ys.bind(void 0,7),ys.bind(void 0,8),st.bind(void 0,0,0,0,0,0),st.bind(void 0,0,0,0,0,1),st.bind(void 0,0,0,0,0,2),st.bind(void 0,0,0,0,0,3),st.bind(void 0,0,0,0,1,0),st.bind(void 0,0,0,0,1,1),st.bind(void 0,0,0,0,1,2),st.bind(void 0,0,0,0,1,3),st.bind(void 0,0,0,1,0,0),st.bind(void 0,0,0,1,0,1),st.bind(void 0,0,0,1,0,2),st.bind(void 0,0,0,1,0,3),st.bind(void 0,0,0,1,1,0),st.bind(void 0,0,0,1,1,1),st.bind(void 0,0,0,1,1,2),st.bind(void 0,0,0,1,1,3),st.bind(void 0,0,1,0,0,0),st.bind(void 0,0,1,0,0,1),st.bind(void 0,0,1,0,0,2),st.bind(void 0,0,1,0,0,3),st.bind(void 0,0,1,0,1,0),st.bind(void 0,0,1,0,1,1),st.bind(void 0,0,1,0,1,2),st.bind(void 0,0,1,0,1,3),st.bind(void 0,0,1,1,0,0),st.bind(void 0,0,1,1,0,1),st.bind(void 0,0,1,1,0,2),st.bind(void 0,0,1,1,0,3),st.bind(void 0,0,1,1,1,0),st.bind(void 0,0,1,1,1,1),st.bind(void 0,0,1,1,1,2),st.bind(void 0,0,1,1,1,3),st.bind(void 0,1,0,0,0,0),st.bind(void 0,1,0,0,0,1),st.bind(void 0,1,0,0,0,2),st.bind(void 0,1,0,0,0,3),st.bind(void 0,1,0,0,1,0),st.bind(void 0,1,0,0,1,1),st.bind(void 0,1,0,0,1,2),st.bind(void 0,1,0,0,1,3),st.bind(void 0,1,0,1,0,0),st.bind(void 0,1,0,1,0,1),st.bind(void 0,1,0,1,0,2),st.bind(void 0,1,0,1,0,3),st.bind(void 0,1,0,1,1,0),st.bind(void 0,1,0,1,1,1),st.bind(void 0,1,0,1,1,2),st.bind(void 0,1,0,1,1,3),st.bind(void 0,1,1,0,0,0),st.bind(void 0,1,1,0,0,1),st.bind(void 0,1,1,0,0,2),st.bind(void 0,1,1,0,0,3),st.bind(void 0,1,1,0,1,0),st.bind(void 0,1,1,0,1,1),st.bind(void 0,1,1,0,1,2),st.bind(void 0,1,1,0,1,3),st.bind(void 0,1,1,1,0,0),st.bind(void 0,1,1,1,0,1),st.bind(void 0,1,1,1,0,2),st.bind(void 0,1,1,1,0,3),st.bind(void 0,1,1,1,1,0),st.bind(void 0,1,1,1,1,1),st.bind(void 0,1,1,1,1,2),st.bind(void 0,1,1,1,1,3)],AE=Array.from||function(w){return w.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Jt(w){(w=w||{}).empty||(Mi(w.familyName,"When creating a new Font object, familyName is required."),Mi(w.styleName,"When creating a new Font object, styleName is required."),Mi(w.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Mi(w.ascender,"When creating a new Font object, ascender is required."),Mi(w.descender,"When creating a new Font object, descender is required."),Mi(w.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:w.familyName||" "},fontSubfamily:{en:w.styleName||" "},fullName:{en:w.fullName||w.familyName+" "+w.styleName},postScriptName:{en:w.postScriptName||(w.familyName+w.styleName).replace(/\s/g,"")},designer:{en:w.designer||" "},designerURL:{en:w.designerURL||" "},manufacturer:{en:w.manufacturer||" "},manufacturerURL:{en:w.manufacturerURL||" "},license:{en:w.license||" "},licenseURL:{en:w.licenseURL||" "},version:{en:w.version||"Version 0.1"},description:{en:w.description||" "},copyright:{en:w.copyright||" "},trademark:{en:w.trademark||" "}},this.unitsPerEm=w.unitsPerEm||1e3,this.ascender=w.ascender,this.descender=w.descender,this.createdTimestamp=w.createdTimestamp,this.tables={os2:{usWeightClass:w.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:w.widthClass||this.usWidthClasses.MEDIUM,fsSelection:w.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new ot.GlyphSet(this,w.glyphs||[]),this.encoding=new Ee(this),this.position=new zu(this),this.substitution=new Do(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new ay(this):void 0)}})}function Dy(w,E){var I,N=JSON.stringify(w),B=256;for(I in E){var $=parseInt(I);if($&&!($<256)){if(JSON.stringify(E[I])===N)return $;B<=$&&(B=$+1)}}return E[B]=w,B}Jt.prototype.hasChar=function(w){return this.encoding.charToGlyphIndex(w)!==null},Jt.prototype.charToGlyphIndex=function(w){return this.encoding.charToGlyphIndex(w)},Jt.prototype.charToGlyph=function(w){return w=this.charToGlyphIndex(w),this.glyphs.get(w)||this.glyphs.get(0)},Jt.prototype.stringToGlyphs=function(w,E){E=E||this.defaultRenderOptions;for(var I=AE(w),N=[],B=0;B<I.length;B+=1){var $=I[B];N.push(this.charToGlyphIndex($))}var Y=N.length;if(E.features){var w=E.script||this.substitution.getDefaultScriptName(),te=[];E.features.liga&&(te=te.concat(this.substitution.getFeature("liga",w,E.language))),E.features.rlig&&(te=te.concat(this.substitution.getFeature("rlig",w,E.language)));for(var de=0;de<Y;de+=1)for(var ue=0;ue<te.length;ue++){for(var be=te[ue],Me=be.sub,Ce=Me.length,me=0;me<Ce&&Me[me]===N[de+me];)me++;me===Ce&&(N.splice(de,Ce,be.by),Y=Y-Ce+1)}}for(var Fe=new Array(Y),Oe=this.glyphs.get(0),Ne=0;Ne<Y;Ne+=1)Fe[Ne]=this.glyphs.get(N[Ne])||Oe;return Fe},Jt.prototype.nameToGlyphIndex=function(w){return this.glyphNames.nameToGlyphIndex(w)},Jt.prototype.nameToGlyph=function(w){return w=this.nameToGlyphIndex(w),this.glyphs.get(w)||this.glyphs.get(0)},Jt.prototype.glyphIndexToName=function(w){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(w):""},Jt.prototype.getKerningValue=function(w,E){w=w.index||w,E=E.index||E;var I=this.position.defaultKerningTables;return I?this.position.getKerningValue(I,w,E):this.kerningPairs[w+","+E]||0},Jt.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Jt.prototype.forEachGlyph=function(w,E,I,N,B,$){E=E!==void 0?E:0,I=I!==void 0?I:0,B=B||this.defaultRenderOptions;var Y,te=1/this.unitsPerEm*(N=N!==void 0?N:72),de=this.stringToGlyphs(w,B);B.kerning&&(w=B.script||this.position.getDefaultScriptName(),Y=this.position.getKerningTables(w,B.language));for(var ue=0;ue<de.length;ue+=1){var be=de[ue];$.call(this,be,E,I,N,B),be.advanceWidth&&(E+=be.advanceWidth*te),B.kerning&&ue<de.length-1&&(E+=(Y?this.position.getKerningValue(Y,be.index,de[ue+1].index):this.getKerningValue(be,de[ue+1]))*te),B.letterSpacing?E+=B.letterSpacing*N:B.tracking&&(E+=B.tracking/1e3*N)}return E},Jt.prototype.getPath=function(w,E,I,N,B){var $=new Z;return this.forEachGlyph(w,E,I,N,B,function(Y,te,de,ue){Y=Y.getPath(te,de,ue,B,this),$.extend(Y)}),$},Jt.prototype.getPaths=function(w,E,I,N,B){var $=[];return this.forEachGlyph(w,E,I,N,B,function(Y,te,de,ue){Y=Y.getPath(te,de,ue,B,this),$.push(Y)}),$},Jt.prototype.getAdvanceWidth=function(w,E,I){return this.forEachGlyph(w,0,0,E,I,function(){})},Jt.prototype.draw=function(w,E,I,N,B,$){this.getPath(E,I,N,B,$).draw(w)},Jt.prototype.drawPoints=function(w,E,I,N,B,$){this.forEachGlyph(E,I,N,B,$,function(Y,te,de,ue){Y.drawPoints(w,te,de,ue)})},Jt.prototype.drawMetrics=function(w,E,I,N,B,$){this.forEachGlyph(E,I,N,B,$,function(Y,te,de,ue){Y.drawMetrics(w,te,de,ue)})},Jt.prototype.getEnglishName=function(w){if(w=this.names[w],w)return w.en},Jt.prototype.validate=function(){var w=this;function E(I){I=w.getEnglishName(I),I&&I.trim().length}E("fontFamily"),E("weightName"),E("manufacturer"),E("copyright"),E("version"),this.unitsPerEm},Jt.prototype.toTables=function(){return bE.fontToTable(this)},Jt.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Jt.prototype.toArrayBuffer=function(){for(var w=this.toTables().encode(),E=new ArrayBuffer(w.length),I=new Uint8Array(E),N=0;N<w.length;N++)I[N]=w[N];return E},Jt.prototype.download=function(w){var E=this.getEnglishName("fontFamily"),I=this.getEnglishName("fontSubfamily"),N=(w=w||E.replace(/\s/g,"")+"-"+I+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,N.byteLength,function(B){B.root.getFile(w,{create:!0},function($){$.createWriter(function(Y){var te=new DataView(N),te=new Blob([te],{type:"font/opentype"});Y.write(te),Y.addEventListener("writeend",function(){location.href=$.toURL()},!1)})})},function(B){throw new Error(B.name+": "+B.message)})):(E=t("fs"),I=function(B){for(var $=new s(B.byteLength),Y=new Uint8Array(B),te=0;te<$.length;++te)$[te]=Y[te];return $}(N),E.writeFileSync(w,I))},Jt.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Jt.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Jt.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var IE={make:function(w,E){var I=new Te.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:w.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:w.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*w.axes.length}]);I.offsetToData=I.sizeOf();for(var N,B,$,Y=0;Y<w.axes.length;Y++)I.fields=I.fields.concat((N=Y,B=w.axes[Y],$=E,$=Dy(B.name,E),[{name:"tag_"+N,type:"TAG",value:B.tag},{name:"minValue_"+N,type:"FIXED",value:B.minValue<<16},{name:"defaultValue_"+N,type:"FIXED",value:B.defaultValue<<16},{name:"maxValue_"+N,type:"FIXED",value:B.maxValue<<16},{name:"flags_"+N,type:"USHORT",value:0},{name:"nameID_"+N,type:"USHORT",value:$}]));for(var te=0;te<w.instances.length;te++)I.fields=I.fields.concat(function(de,ue,be,Me){for(var Ce=[{name:"nameID_"+de,type:"USHORT",value:Dy(ue.name,Me)},{name:"flags_"+de,type:"USHORT",value:0}],me=0;me<be.length;++me){var Fe=be[me].tag;Ce.push({name:"axis_"+de+" "+Fe,type:"FIXED",value:ue.coordinates[Fe]<<16})}return Ce}(te,w.instances[te],w.axes,E));return I},parse:function(w,E,I){for(var N,B,$,Y,te=new De.Parser(w,E),de=te.parseULong(),ue=(D.argument(de===65536,"Unsupported fvar table version."),te.parseOffset16()),be=(te.skip("uShort",1),te.parseUShort()),Me=te.parseUShort(),Ce=te.parseUShort(),me=te.parseUShort(),Fe=[],Oe=0;Oe<be;Oe++)Fe.push((N=w,B=E+ue+Oe*Me,$=I,Y={},N=new De.Parser(N,B),Y.tag=N.parseTag(),Y.minValue=N.parseFixed(),Y.defaultValue=N.parseFixed(),Y.maxValue=N.parseFixed(),N.skip("uShort",1),Y.name=$[N.parseUShort()]||{},Y));for(var Ne=[],je=E+ue+be*Me,Ae=0;Ae<Ce;Ae++)Ne.push(function(at,bt,lt,ut){var Tt={},nr=new De.Parser(at,bt);Tt.name=ut[nr.parseUShort()]||{},nr.skip("uShort",1),Tt.coordinates={};for(var hr=0;hr<lt.length;++hr)Tt.coordinates[lt[hr].tag]=nr.parseFixed();return Tt}(w,je+Ae*me,Fe,I));return{axes:Fe,instances:Ne}}},to=new Array(10);to[1]=function(){var w=this.offset+this.relativeOffset,E=this.parseUShort();return E===1?{posFormat:1,coverage:this.parsePointer(we.coverage),value:this.parseValueRecord()}:E===2?{posFormat:2,coverage:this.parsePointer(we.coverage),values:this.parseValueRecordList()}:void D.assert(!1,"0x"+w.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},to[2]=function(){var w,E,I,N,$=this.offset+this.relativeOffset,B=this.parseUShort(),$=(D.assert(B===1||B===2,"0x"+$.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(we.coverage)),Y=this.parseUShort(),te=this.parseUShort();return B===1?{posFormat:B,coverage:$,valueFormat1:Y,valueFormat2:te,pairSets:this.parseList(we.pointer(we.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(Y),value2:this.parseValueRecord(te)}})))}:B===2?(w=this.parsePointer(we.classDef),E=this.parsePointer(we.classDef),I=this.parseUShort(),N=this.parseUShort(),{posFormat:B,coverage:$,valueFormat1:Y,valueFormat2:te,classDef1:w,classDef2:E,class1Count:I,class2Count:N,classRecords:this.parseList(I,we.list(N,function(){return{value1:this.parseValueRecord(Y),value2:this.parseValueRecord(te)}}))}):void 0},to[3]=function(){return{error:"GPOS Lookup 3 not supported"}},to[4]=function(){return{error:"GPOS Lookup 4 not supported"}},to[5]=function(){return{error:"GPOS Lookup 5 not supported"}},to[6]=function(){return{error:"GPOS Lookup 6 not supported"}},to[7]=function(){return{error:"GPOS Lookup 7 not supported"}},to[8]=function(){return{error:"GPOS Lookup 8 not supported"}},to[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var OE=new Array(10),kE={parse:function(w,E){return E=(w=new we(w,E=E||0)).parseVersion(1),D.argument(E===1||E===1.1,"Unsupported GPOS table version "+E),E===1?{version:E,scripts:w.parseScriptList(),features:w.parseFeatureList(),lookups:w.parseLookupList(to)}:{version:E,scripts:w.parseScriptList(),features:w.parseFeatureList(),lookups:w.parseLookupList(to),variations:w.parseFeatureVariationsList()}},make:function(w){return new Te.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Te.ScriptList(w.scripts)},{name:"features",type:"TABLE",value:new Te.FeatureList(w.features)},{name:"lookups",type:"TABLE",value:new Te.LookupList(w.lookups,OE)}])}},NE={parse:function(w,E){if(w=new De.Parser(w,E),(E=w.parseUShort())===0){var I=w,N={},Me=(I.skip("uShort"),I.parseUShort()),B=(D.argument(Me===0,"Unsupported kern sub-table version."),I.skip("uShort",2),I.parseUShort());I.skip("uShort",3);for(var $=0;$<B;$+=1){var Y=I.parseUShort(),te=I.parseUShort(),de=I.parseShort();N[Y+","+te]=de}return N}if(E!==1)throw new Error("Unsupported kern table version ("+E+").");var ue=w,be={},Me=(ue.skip("uShort"),1<ue.parseULong()&&console.warn("Only the first kern subtable is supported."),ue.skip("uLong"),255&ue.parseUShort());if(ue.skip("uShort"),Me==0){var Ce=ue.parseUShort();ue.skip("uShort",3);for(var me=0;me<Ce;me+=1){var Fe=ue.parseUShort(),Oe=ue.parseUShort(),Ne=ue.parseShort();be[Fe+","+Oe]=Ne}}return be}},RE={parse:function(w,E,I,N){for(var B=new De.Parser(w,E),$=N?B.parseUShort:B.parseULong,Y=[],te=0;te<I+1;te+=1){var de=$.call(B);N&&(de*=2),Y.push(de)}return Y}};function PE(w,E){t("fs").readFile(w,function(I,N){if(I)return E(I.message);E(null,ny(N))})}function FE(w,E){var I=new XMLHttpRequest;I.open("get",w,!0),I.responseType="arraybuffer",I.onload=function(){return I.response?E(null,I.response):E("Font could not be loaded: "+I.statusText)},I.onerror=function(){E("Font could not be loaded")},I.send()}function My(w,E){for(var I=[],N=12,B=0;B<E;B+=1){var $=De.getTag(w,N),Y=De.getULong(w,N+4),te=De.getULong(w,N+8),de=De.getULong(w,N+12);I.push({tag:$,checksum:Y,offset:te,length:de,compression:!1}),N+=16}return I}function Sr(I,E){if(E.compression!=="WOFF")return{data:I,offset:E.offset};var I=new Uint8Array(I.buffer,E.offset+2,E.compressedLength-2),N=new Uint8Array(E.length);if(q(I,N),N.byteLength!==E.length)throw new Error("Decompression error: "+E.tag+" decompressed length doesn't match recorded length");return{data:new DataView(N.buffer,0),offset:0}}function zh(Ae){var E,I,N,B,$,Y,te,de,ue,be,Me,Ce,me,Fe,Oe=new Jt({empty:!0}),Ne=new DataView(Ae,0),je=[],Ae=De.getTag(Ne,0);if(Ae==="\0\0\0"||Ae==="true"||Ae==="typ1")Oe.outlinesFormat="truetype",je=My(Ne,N=De.getUShort(Ne,4));else if(Ae==="OTTO")Oe.outlinesFormat="cff",je=My(Ne,N=De.getUShort(Ne,4));else{if(Ae!=="wOFF")throw new Error("Unsupported OpenType signature "+Ae);var at=De.getTag(Ne,4);if(at==="\0\0\0")Oe.outlinesFormat="truetype";else{if(at!=="OTTO")throw new Error("Unsupported OpenType flavor "+Ae);Oe.outlinesFormat="cff"}je=function(ir,Xt){for(var sn=[],cr=44,$r=0;$r<Xt;$r+=1){var ar=De.getTag(ir,cr),Gr=De.getULong(ir,cr+4),yl=De.getULong(ir,cr+8),Ai=De.getULong(ir,cr+12),jy=void 0,jy=yl<Ai&&"WOFF";sn.push({tag:ar,offset:Gr,compression:jy,compressedLength:yl,length:Ai}),cr+=20}return sn}(Ne,N=De.getUShort(Ne,12))}for(var bt=0;bt<N;bt+=1){var lt=je[bt],ut=void 0;switch(lt.tag){case"cmap":ut=Sr(Ne,lt),Oe.tables.cmap=K.parse(ut.data,ut.offset),Oe.encoding=new ke(Oe.tables.cmap);break;case"cvt ":ut=Sr(Ne,lt),Fe=new De.Parser(ut.data,ut.offset),Oe.tables.cvt=Fe.parseShortList(lt.length/2);break;case"fvar":$=lt;break;case"fpgm":ut=Sr(Ne,lt),Fe=new De.Parser(ut.data,ut.offset),Oe.tables.fpgm=Fe.parseByteList(lt.length);break;case"head":ut=Sr(Ne,lt),Oe.tables.head=fl.parse(ut.data,ut.offset),Oe.unitsPerEm=Oe.tables.head.unitsPerEm,E=Oe.tables.head.indexToLocFormat;break;case"hhea":ut=Sr(Ne,lt),Oe.tables.hhea=ge.parse(ut.data,ut.offset),Oe.ascender=Oe.tables.hhea.ascender,Oe.descender=Oe.tables.hhea.descender,Oe.numberOfHMetrics=Oe.tables.hhea.numberOfHMetrics;break;case"hmtx":ue=lt;break;case"ltag":ut=Sr(Ne,lt),I=tt.parse(ut.data,ut.offset);break;case"maxp":ut=Sr(Ne,lt),Oe.tables.maxp=Ve.parse(ut.data,ut.offset),Oe.numGlyphs=Oe.tables.maxp.numGlyphs;break;case"name":Ce=lt;break;case"OS/2":ut=Sr(Ne,lt),Oe.tables.os2=Br.parse(ut.data,ut.offset);break;case"post":ut=Sr(Ne,lt),Oe.tables.post=$g.parse(ut.data,ut.offset),Oe.glyphNames=new He(Oe.tables.post);break;case"prep":ut=Sr(Ne,lt),Fe=new De.Parser(ut.data,ut.offset),Oe.tables.prep=Fe.parseByteList(lt.length);break;case"glyf":Y=lt;break;case"loca":Me=lt;break;case"CFF ":B=lt;break;case"kern":be=lt;break;case"GPOS":te=lt;break;case"GSUB":de=lt;break;case"meta":me=lt}}if(at=Sr(Ne,Ce),Oe.tables.name=jn.parse(at.data,at.offset,I),Oe.names=Oe.tables.name,Y&&Me)Ae=E===0,at=Sr(Ne,Me),at=RE.parse(at.data,at.offset,Oe.numGlyphs,Ae),Ae=Sr(Ne,Y),Oe.glyphs=iy.parse(Ae.data,Ae.offset,at,Oe);else{if(!B)throw new Error("Font doesn't contain TrueType or CFF outlines.");Ae=Sr(Ne,B),hl.parse(Ae.data,Ae.offset,Oe)}for(var at=Sr(Ne,ue),Tt=(Be.parse(at.data,at.offset,Oe.numberOfHMetrics,Oe.numGlyphs,Oe.glyphs),Oe),nr=Tt.tables.cmap.glyphIndexMap,hr=Object.keys(nr),Cr=0;Cr<hr.length;Cr+=1){var nn,on=hr[Cr],ro=nr[on];(nn=Tt.glyphs.get(ro)).addUnicode(parseInt(on))}for(var er=0;er<Tt.glyphs.length;er+=1)nn=Tt.glyphs.get(er),Tt.cffEncoding?Tt.isCIDFont?nn.name="gid"+er:nn.name=Tt.cffEncoding.charset[er]:Tt.glyphNames.names&&(nn.name=Tt.glyphNames.glyphIndexToName(er));return be?(Ae=Sr(Ne,be),Oe.kerningPairs=NE.parse(Ae.data,Ae.offset)):Oe.kerningPairs={},te&&(at=Sr(Ne,te),Oe.tables.gpos=kE.parse(at.data,at.offset),Oe.position.init()),de&&(Ae=Sr(Ne,de),Oe.tables.gsub=Yg.parse(Ae.data,Ae.offset)),$&&(at=Sr(Ne,$),Oe.tables.fvar=IE.parse(at.data,at.offset,Oe.names)),me&&(Ae=Sr(Ne,me),Oe.tables.meta=Xg.parse(Ae.data,Ae.offset),Oe.metas=Oe.tables.meta),Oe}c.Font=Jt,c.Glyph=Je,c.Path=Z,c.BoundingBox=W,c._parse=De,c.parse=zh,c.load=function(w,E){(typeof window>"u"?PE:FE)(w,function(I,N){if(I)return E(I);var B;try{B=zh(N)}catch($){return E($,null)}return E(null,B)})},c.loadSync=function(w){return zh(ny(t("fs").readFileSync(w)))},Object.defineProperty(c,"__esModule",{value:!0})},typeof u=="object"&&i!==void 0?a(u):typeof n=="function"&&n.amd?n(["exports"],a):a(l.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],258:[function(t,i,u){(function(s){function l(y,b){for(var d=0,p=y.length-1;0<=p;p--){var h=y[p];h==="."?y.splice(p,1):h===".."?(y.splice(p,1),d++):d&&(y.splice(p,1),d--)}if(b)for(;d--;)y.unshift("..");return y}function a(y,b){if(y.filter)return y.filter(b);for(var d=[],p=0;p<y.length;p++)b(y[p],p,y)&&d.push(y[p]);return d}u.resolve=function(){for(var y="",b=!1,d=arguments.length-1;-1<=d&&!b;d--){var p=0<=d?arguments[d]:s.cwd();if(typeof p!="string")throw new TypeError("Arguments to path.resolve must be strings");p&&(y=p+"/"+y,b=p.charAt(0)==="/")}return(b?"/":"")+(y=l(a(y.split("/"),function(h){return!!h}),!b).join("/"))||"."},u.normalize=function(y){var b=u.isAbsolute(y),d=c(y,-1)==="/";return(y=(y=l(a(y.split("/"),function(p){return!!p}),!b).join("/"))||b?y:".")&&d&&(y+="/"),(b?"/":"")+y},u.isAbsolute=function(y){return y.charAt(0)==="/"},u.join=function(){var y=Array.prototype.slice.call(arguments,0);return u.normalize(a(y,function(b,d){if(typeof b!="string")throw new TypeError("Arguments to path.join must be strings");return b}).join("/"))},u.relative=function(y,b){function d(_){for(var x=0;x<_.length&&_[x]==="";x++);for(var S=_.length-1;0<=S&&_[S]==="";S--);return S<x?[]:_.slice(x,S-x+1)}y=u.resolve(y).substr(1),b=u.resolve(b).substr(1);for(var p=d(y.split("/")),h=d(b.split("/")),g=Math.min(p.length,h.length),m=g,f=0;f<g;f++)if(p[f]!==h[f]){m=f;break}for(var v=[],f=m;f<p.length;f++)v.push("..");return(v=v.concat(h.slice(m))).join("/")},u.sep="/",u.delimiter=":",u.dirname=function(y){if(typeof y!="string"&&(y+=""),y.length===0)return".";for(var b=y.charCodeAt(0)===47,d=-1,p=!0,h=y.length-1;1<=h;--h)if(y.charCodeAt(h)===47){if(!p){d=h;break}}else p=!1;return d===-1?b?"/":".":b&&d===1?"/":y.slice(0,d)},u.basename=function(y,b){return y=function(d){typeof d!="string"&&(d+="");for(var p=0,h=-1,g=!0,m=d.length-1;0<=m;--m)if(d.charCodeAt(m)===47){if(!g){p=m+1;break}}else h===-1&&(g=!1,h=m+1);return h===-1?"":d.slice(p,h)}(y),y=b&&y.substr(-1*b.length)===b?y.substr(0,y.length-b.length):y},u.extname=function(y){typeof y!="string"&&(y+="");for(var b=-1,d=0,p=-1,h=!0,g=0,m=y.length-1;0<=m;--m){var f=y.charCodeAt(m);if(f===47){if(h)continue;d=m+1;break}p===-1&&(h=!1,p=m+1),f===46?b===-1?b=m:g!==1&&(g=1):b!==-1&&(g=-1)}return b===-1||p===-1||g===0||g===1&&b===p-1&&b===d+1?"":y.slice(b,p)};var c="ab".substr(-1)==="b"?function(y,b,d){return y.substr(b,d)}:function(y,b,d){return b<0&&(b=y.length+b),y.substr(b,d)}}).call(this,t("_process"))},{_process:259}],259:[function(t,a,u){var s,l,a=a.exports={};function c(){throw new Error("setTimeout has not been defined")}function y(){throw new Error("clearTimeout has not been defined")}try{s=typeof setTimeout=="function"?setTimeout:c}catch{s=c}try{l=typeof clearTimeout=="function"?clearTimeout:y}catch{l=y}function b(x){if(s===setTimeout)return setTimeout(x,0);if((s===c||!s)&&setTimeout)return(s=setTimeout)(x,0);try{return s(x,0)}catch{try{return s.call(null,x,0)}catch{return s.call(this,x,0)}}}var d,p=[],h=!1,g=-1;function m(){h&&d&&(h=!1,d.length?p=d.concat(p):g=-1,p.length&&f())}function f(){if(!h){for(var x=b(m),S=(h=!0,p.length);S;){for(d=p,p=[];++g<S;)d&&d[g].run();g=-1,S=p.length}d=null,h=!1,function(j){if(l===clearTimeout)return clearTimeout(j);if((l===y||!l)&&clearTimeout)return(l=clearTimeout)(j);try{l(j)}catch{try{return l.call(null,j)}catch{return l.call(this,j)}}}(x)}}function v(x,S){this.fun=x,this.array=S}function _(){}a.nextTick=function(x){var S=new Array(arguments.length-1);if(1<arguments.length)for(var j=1;j<arguments.length;j++)S[j-1]=arguments[j];p.push(new v(x,S)),p.length!==1||h||b(f)},v.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=_,a.addListener=_,a.once=_,a.off=_,a.removeListener=_,a.removeAllListeners=_,a.emit=_,a.prependListener=_,a.prependOnceListener=_,a.listeners=function(x){return[]},a.binding=function(x){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(x){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],260:[function(t,i,u){i=function(s){"use strict";var l,a=Object.prototype,c=a.hasOwnProperty,T=typeof Symbol=="function"?Symbol:{},y=T.iterator||"@@iterator",b=T.asyncIterator||"@@asyncIterator",d=T.toStringTag||"@@toStringTag";function p(z,U,G,H){var Z,ae,L,D,U=U&&U.prototype instanceof x?U:x,U=Object.create(U.prototype),H=new V(H||[]);return U._invoke=(Z=z,ae=G,L=H,D=g,function(X,J){if(D===f)throw new Error("Generator is already running");if(D===v){if(X==="throw")throw J;return R()}for(L.method=X,L.arg=J;;){var le=L.delegate;if(le&&(le=function se(ne,ce){var he=ne.iterator[ce.method];if(he===l){if(ce.delegate=null,ce.method==="throw"){if(ne.iterator.return&&(ce.method="return",ce.arg=l,se(ne,ce),ce.method==="throw"))return _;ce.method="throw",ce.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}if(he=h(he,ne.iterator,ce.arg),he.type==="throw")return ce.method="throw",ce.arg=he.arg,ce.delegate=null,_;if(he=he.arg,!he)return ce.method="throw",ce.arg=new TypeError("iterator result is not an object"),ce.delegate=null,_;{if(!he.done)return he;ce[ne.resultName]=he.value,ce.next=ne.nextLoc,ce.method!=="return"&&(ce.method="next",ce.arg=l)}return ce.delegate=null,_}(le,L),le)){if(le===_)continue;return le}if(L.method==="next")L.sent=L._sent=L.arg;else if(L.method==="throw"){if(D===g)throw D=v,L.arg;L.dispatchException(L.arg)}else L.method==="return"&&L.abrupt("return",L.arg);if(D=f,le=h(Z,ae,L),le.type==="normal"){if(D=L.done?v:m,le.arg!==_)return{value:le.arg,done:L.done}}else le.type==="throw"&&(D=v,L.method="throw",L.arg=le.arg)}}),U}function h(z,q,G){try{return{type:"normal",arg:z.call(q,G)}}catch(W){return{type:"throw",arg:W}}}s.wrap=p;var g="suspendedStart",m="suspendedYield",f="executing",v="completed",_={};function x(){}function S(){}function j(){}var T={},C=(T[y]=function(){return this},Object.getPrototypeOf),C=C&&C(C(F([]))),M=(C&&C!==a&&c.call(C,y)&&(T=C),j.prototype=x.prototype=Object.create(T));function k(z){["next","throw","return"].forEach(function(q){z[q]=function(G){return this._invoke(q,G)}})}function A(z){var q;this._invoke=function(G,W){function Z(){return new Promise(function(ae,L){(function D(se,H,X,J){var le,se=h(z[se],z,H);if(se.type!=="throw")return(H=(le=se.arg).value)&&typeof H=="object"&&c.call(H,"__await")?Promise.resolve(H.__await).then(function(ne){D("next",ne,X,J)},function(ne){D("throw",ne,X,J)}):Promise.resolve(H).then(function(ne){le.value=ne,X(le)},function(ne){return D("throw",ne,X,J)});J(se.arg)})(G,W,ae,L)})}return q=q?q.then(Z,Z):Z()}}function P(z){var q={tryLoc:z[0]};1 in z&&(q.catchLoc=z[1]),2 in z&&(q.finallyLoc=z[2],q.afterLoc=z[3]),this.tryEntries.push(q)}function O(z){var q=z.completion||{};q.type="normal",delete q.arg,z.completion=q}function V(z){this.tryEntries=[{tryLoc:"root"}],z.forEach(P,this),this.reset(!0)}function F(z){if(z){var q,G=z[y];if(G)return G.call(z);if(typeof z.next=="function")return z;if(!isNaN(z.length))return q=-1,(G=function W(){for(;++q<z.length;)if(c.call(z,q))return W.value=z[q],W.done=!1,W;return W.value=l,W.done=!0,W}).next=G}return{next:R}}function R(){return{value:l,done:!0}}return(S.prototype=M.constructor=j).constructor=S,j[d]=S.displayName="GeneratorFunction",s.isGeneratorFunction=function(z){return z=typeof z=="function"&&z.constructor,!!z&&(z===S||(z.displayName||z.name)==="GeneratorFunction")},s.mark=function(z){return Object.setPrototypeOf?Object.setPrototypeOf(z,j):(z.__proto__=j,d in z||(z[d]="GeneratorFunction")),z.prototype=Object.create(M),z},s.awrap=function(z){return{__await:z}},k(A.prototype),A.prototype[b]=function(){return this},s.AsyncIterator=A,s.async=function(z,q,G,W){var Z=new A(p(z,q,G,W));return s.isGeneratorFunction(q)?Z:Z.next().then(function(ae){return ae.done?ae.value:Z.next()})},k(M),M[d]="Generator",M[y]=function(){return this},M.toString=function(){return"[object Generator]"},s.keys=function(z){var q,G=[];for(q in z)G.push(q);return G.reverse(),function W(){for(;G.length;){var Z=G.pop();if(Z in z)return W.value=Z,W.done=!1,W}return W.done=!0,W}},s.values=F,V.prototype={constructor:V,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(O),!z)for(var q in this)q.charAt(0)==="t"&&c.call(this,q)&&!isNaN(+q.slice(1))&&(this[q]=l)},stop:function(){this.done=!0;var z=this.tryEntries[0].completion;if(z.type==="throw")throw z.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var q=this;function G(U,H){return ae.type="throw",ae.arg=z,q.next=U,H&&(q.method="next",q.arg=l),!!H}for(var W=this.tryEntries.length-1;0<=W;--W){var Z=this.tryEntries[W],ae=Z.completion;if(Z.tryLoc==="root")return G("end");if(Z.tryLoc<=this.prev){var L=c.call(Z,"catchLoc"),D=c.call(Z,"finallyLoc");if(L&&D){if(this.prev<Z.catchLoc)return G(Z.catchLoc,!0);if(this.prev<Z.finallyLoc)return G(Z.finallyLoc)}else if(L){if(this.prev<Z.catchLoc)return G(Z.catchLoc,!0)}else{if(!D)throw new Error("try statement without catch or finally");if(this.prev<Z.finallyLoc)return G(Z.finallyLoc)}}}},abrupt:function(z,q){for(var G=this.tryEntries.length-1;0<=G;--G){var W=this.tryEntries[G];if(W.tryLoc<=this.prev&&c.call(W,"finallyLoc")&&this.prev<W.finallyLoc){var Z=W;break}}var ae=(Z=Z&&(z==="break"||z==="continue")&&Z.tryLoc<=q&&q<=Z.finallyLoc?null:Z)?Z.completion:{};return ae.type=z,ae.arg=q,Z?(this.method="next",this.next=Z.finallyLoc,_):this.complete(ae)},complete:function(z,q){if(z.type==="throw")throw z.arg;return z.type==="break"||z.type==="continue"?this.next=z.arg:z.type==="return"?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):z.type==="normal"&&q&&(this.next=q),_},finish:function(z){for(var q=this.tryEntries.length-1;0<=q;--q){var G=this.tryEntries[q];if(G.finallyLoc===z)return this.complete(G.completion,G.afterLoc),O(G),_}},catch:function(z){for(var q=this.tryEntries.length-1;0<=q;--q){var G,W,Z=this.tryEntries[q];if(Z.tryLoc===z)return(G=Z.completion).type==="throw"&&(W=G.arg,O(Z)),W}throw new Error("illegal catch attempt")},delegateYield:function(z,q,G){return this.delegate={iterator:F(z),resultName:q,nextLoc:G},this.method==="next"&&(this.arg=l),_}},s}(typeof i=="object"?i.exports:{});try{regeneratorRuntime=i}catch{Function("r","regeneratorRuntime = r")(i)}},{}],261:[function(t,i,u){(function(s){"use strict";var l,a,c,y,b,d,p,h,g,m;function f(O){if(typeof O!="string"&&(O=String(O)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(O))throw new TypeError("Invalid character in header field name");return O.toLowerCase()}function v(O){return O=typeof O!="string"?String(O):O}function _(O){var V={next:function(){var F=O.shift();return{done:F===void 0,value:F}}};return a&&(V[Symbol.iterator]=function(){return V}),V}function x(O){this.map={},O instanceof x?O.forEach(function(V,F){this.append(F,V)},this):Array.isArray(O)?O.forEach(function(V){this.append(V[0],V[1])},this):O&&Object.getOwnPropertyNames(O).forEach(function(V){this.append(V,O[V])},this)}function S(O){if(O.bodyUsed)return Promise.reject(new TypeError("Already read"));O.bodyUsed=!0}function j(O){return new Promise(function(V,F){O.onload=function(){V(O.result)},O.onerror=function(){F(O.error)}})}function T(O){var V=new FileReader,F=j(V);return V.readAsArrayBuffer(O),F}function C(O){var V;return O.slice?O.slice(0):((V=new Uint8Array(O.byteLength)).set(new Uint8Array(O)),V.buffer)}function M(){return this.bodyUsed=!1,this._initBody=function(O){if(this._bodyInit=O)if(typeof O=="string")this._bodyText=O;else if(c&&Blob.prototype.isPrototypeOf(O))this._bodyBlob=O;else if(y&&FormData.prototype.isPrototypeOf(O))this._bodyFormData=O;else if(l&&URLSearchParams.prototype.isPrototypeOf(O))this._bodyText=O.toString();else if(b&&c&&p(O))this._bodyArrayBuffer=C(O.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!b||!ArrayBuffer.prototype.isPrototypeOf(O)&&!h(O))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=C(O)}else this._bodyText="";this.headers.get("content-type")||(typeof O=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l&&URLSearchParams.prototype.isPrototypeOf(O)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c&&(this.blob=function(){var O=S(this);if(O)return O;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?S(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(T)}),this.text=function(){var O,V,F=S(this);if(F)return F;if(this._bodyBlob)return F=this._bodyBlob,O=new FileReader,V=j(O),O.readAsText(F),V;if(this._bodyArrayBuffer)return Promise.resolve(function(R){for(var z=new Uint8Array(R),q=new Array(z.length),G=0;G<z.length;G++)q[G]=String.fromCharCode(z[G]);return q.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},y&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}function k(O,V){var F,R=(V=V||{}).body;if(O instanceof k){if(O.bodyUsed)throw new TypeError("Already read");this.url=O.url,this.credentials=O.credentials,V.headers||(this.headers=new x(O.headers)),this.method=O.method,this.mode=O.mode,R||O._bodyInit==null||(R=O._bodyInit,O.bodyUsed=!0)}else this.url=String(O);if(this.credentials=V.credentials||this.credentials||"omit",!V.headers&&this.headers||(this.headers=new x(V.headers)),this.method=(O=V.method||this.method||"GET",F=O.toUpperCase(),-1<g.indexOf(F)?F:O),this.mode=V.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&R)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(R)}function A(O){var V=new FormData;return O.trim().split("&").forEach(function(F){var R;F&&(R=(F=F.split("=")).shift().replace(/\+/g," "),F=F.join("=").replace(/\+/g," "),V.append(decodeURIComponent(R),decodeURIComponent(F)))}),V}function P(O,V){V=V||{},this.type="default",this.status=V.status===void 0?200:V.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in V?V.statusText:"OK",this.headers=new x(V.headers),this.url=V.url||"",this._initBody(O)}s.fetch||(l="URLSearchParams"in s,a="Symbol"in s&&"iterator"in Symbol,c="FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),y="FormData"in s,(b="ArrayBuffer"in s)&&(d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=function(O){return O&&DataView.prototype.isPrototypeOf(O)},h=ArrayBuffer.isView||function(O){return O&&-1<d.indexOf(Object.prototype.toString.call(O))}),x.prototype.append=function(O,V){O=f(O),V=v(V);var F=this.map[O];this.map[O]=F?F+","+V:V},x.prototype.delete=function(O){delete this.map[f(O)]},x.prototype.get=function(O){return O=f(O),this.has(O)?this.map[O]:null},x.prototype.has=function(O){return this.map.hasOwnProperty(f(O))},x.prototype.set=function(O,V){this.map[f(O)]=v(V)},x.prototype.forEach=function(O,V){for(var F in this.map)this.map.hasOwnProperty(F)&&O.call(V,this.map[F],F,this)},x.prototype.keys=function(){var O=[];return this.forEach(function(V,F){O.push(F)}),_(O)},x.prototype.values=function(){var O=[];return this.forEach(function(V){O.push(V)}),_(O)},x.prototype.entries=function(){var O=[];return this.forEach(function(V,F){O.push([F,V])}),_(O)},a&&(x.prototype[Symbol.iterator]=x.prototype.entries),g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],k.prototype.clone=function(){return new k(this,{body:this._bodyInit})},M.call(k.prototype),M.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},P.error=function(){var O=new P(null,{status:0,statusText:""});return O.type="error",O},m=[301,302,303,307,308],P.redirect=function(O,V){if(m.indexOf(V)===-1)throw new RangeError("Invalid status code");return new P(null,{status:V,headers:{location:O}})},s.Headers=x,s.Request=k,s.Response=P,s.fetch=function(O,V){return new Promise(function(F,R){var z=new k(O,V),q=new XMLHttpRequest;q.onload=function(){var G,W={status:q.status,statusText:q.statusText,headers:(W=q.getAllResponseHeaders()||"",G=new x,W.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(L){var L=L.split(":"),D=L.shift().trim();D&&(L=L.join(":").trim(),G.append(D,L))}),G)},Z=(W.url="responseURL"in q?q.responseURL:W.headers.get("X-Request-URL"),"response"in q?q.response:q.responseText);F(new P(Z,W))},q.onerror=function(){R(new TypeError("Network request failed"))},q.ontimeout=function(){R(new TypeError("Network request failed"))},q.open(z.method,z.url,!0),z.credentials==="include"?q.withCredentials=!0:z.credentials==="omit"&&(q.withCredentials=!1),"responseType"in q&&c&&(q.responseType="blob"),z.headers.forEach(function(G,W){q.setRequestHeader(W,G)}),q.send(z._bodyInit===void 0?null:z._bodyInit)})},s.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],262:[function(t,i,u){"use strict";t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s,l=c(t("../core/main")),a=c(t("../color/color_conversion"));function c(d){return d&&d.__esModule?d:{default:d}}var y=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],b=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];l.default.prototype._rgbColorName=function(g){var p,h,g=a.default._rgbaToHSBA(g),m=[(s=g)[0],g[1],g[2]];m[0]!==0&&(m[0]=Math.round(100*m[0]),(g=m[0].toString().split(""))[h=g.length-1]=parseInt(g[h]),g[h]<2.5?g[h]=0:2.5<=g[h]&&g[h]<7.5&&(g[h]=5),g.length===2?(g[0]=parseInt(g[0]),7.5<=g[h]&&(g[h]=0,g[0]=g[0]+1),m[0]=10*g[0]+g[1]):7.5<=g[h]?m[0]=10:m[0]=g[h]),m[2]=m[2]/255;for(var f=m.length-1;1<=f;f--)m[f]<=.25?m[f]=0:.25<m[f]&&m[f]<.75?m[f]=.5:m[f]=1;if(m[0]===0&&m[1]===0&&m[2]===1){for(var v=2;0<=v;v--)s[v]=Math.round(1e4*s[v])/1e4;for(var _=0;_<y.length;_++){if(y[_].h===s[0]&&y[_].s===s[1]&&y[_].b===s[2]){p=y[_].name;break}p="white"}}else for(var x=0;x<b.length;x++)if(b[x].h===m[0]&&b[x].s===m[1]&&b[x].b===m[2]){p=b[x].name;break}return p},t=l.default,u.default=t},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(t,i,u){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t},l="_Description",a="_fallbackDesc",c="_fallbackTable",y="_Label",b="_labelDesc",d="_labelTable";function p(h){if(h==="label"||h==="fallback")throw new Error("description should not be LABEL or FALLBACK");return h.endsWith(".")||h.endsWith(";")||h.endsWith(",")||h.endsWith("?")||h.endsWith("!")||(h+="."),h}s.default.prototype.describe=function(h,g){var m;s.default._validateParameters("describe",arguments),typeof h=="string"&&(m=this.canvas.id,h=p(h),this.dummyDOM||(this.dummyDOM=document.getElementById(m).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==h&&(this.descriptions.fallback.innerHTML=h):this._describeHTML("fallback",h),g===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==h&&(this.descriptions.label.innerHTML=h):this._describeHTML("label",h)))},s.default.prototype.describeElement=function(h,g,m){var f,v;s.default._validateParameters("describeElement",arguments),typeof g=="string"&&typeof h=="string"&&(f=this.canvas.id,g=p(g),v=function(_){if(_==="label"||_==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return _.endsWith(".")||_.endsWith(";")||_.endsWith(",")?_=_.replace(/.$/,":"):_.endsWith(":")||(_+=":"),_}(h),h=h.replace(/[^a-zA-Z0-9]/g,""),v='<th scope="row">'.concat(v,"</th><td>").concat(g,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(f).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[h]?this.descriptions.fallbackElements[h].innerHTML!==v&&(this.descriptions.fallbackElements[h].innerHTML=v):this._describeElementHTML("fallback",h,v),m===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[h]?this.descriptions.labelElements[h].innerHTML!==v&&(this.descriptions.labelElements[h].innerHTML=v):this._describeElementHTML("label",h,v)))},s.default.prototype._describeHTML=function(h,g){var m,f=this.canvas.id;h==="fallback"?(this.dummyDOM.querySelector("#".concat(f+l))?this.dummyDOM.querySelector("#"+f+c).insertAdjacentHTML("beforebegin",'<p id="'.concat(f+a,'"></p>')):(m='<div id="'.concat(f).concat(l,'" role="region" aria-label="Canvas Description"><p id="').concat(f).concat(a,'"></p></div>'),this.dummyDOM.querySelector("#".concat(f,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(f,"accessibleOutput")).insertAdjacentHTML("beforebegin",m):this.dummyDOM.querySelector("#".concat(f)).innerHTML=m),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(f).concat(a)),this.descriptions.fallback.innerHTML=g):h==="label"&&(this.dummyDOM.querySelector("#".concat(f+y))?this.dummyDOM.querySelector("#".concat(f+d))&&this.dummyDOM.querySelector("#".concat(f+d)).insertAdjacentHTML("beforebegin",'<p id="'.concat(f).concat(b,'"></p>')):(m='<div id="'.concat(f).concat(y,'" class="p5Label"><p id="').concat(f).concat(b,'"></p></div>'),this.dummyDOM.querySelector("#".concat(f,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(f,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",m):this.dummyDOM.querySelector("#"+f).insertAdjacentHTML("afterend",m)),this.descriptions.label=this.dummyDOM.querySelector("#"+f+b),this.descriptions.label.innerHTML=g)},s.default.prototype._describeElementHTML=function(h,g,m){var f,v=this.canvas.id;h==="fallback"?(this.dummyDOM.querySelector("#".concat(v+l))?this.dummyDOM.querySelector("#"+v+c)||this.dummyDOM.querySelector("#"+v+a).insertAdjacentHTML("afterend",'<table id="'.concat(v).concat(c,'"><caption>Canvas elements and their descriptions</caption></table>')):(f='<div id="'.concat(v).concat(l,'" role="region" aria-label="Canvas Description"><table id="').concat(v).concat(c,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutput")).insertAdjacentHTML("beforebegin",f):this.dummyDOM.querySelector("#"+v).innerHTML=f),(f=document.createElement("tr")).id=v+"_fte_"+g,this.dummyDOM.querySelector("#"+v+c).appendChild(f),this.descriptions.fallbackElements[g]=this.dummyDOM.querySelector("#".concat(v).concat("_fte_").concat(g)),this.descriptions.fallbackElements[g].innerHTML=m):h==="label"&&(this.dummyDOM.querySelector("#".concat(v+y))?this.dummyDOM.querySelector("#".concat(v+d))||this.dummyDOM.querySelector("#"+v+b).insertAdjacentHTML("afterend",'<table id="'.concat(v+d,'"></table>')):(f='<div id="'.concat(v).concat(y,'" class="p5Label"><table id="').concat(v).concat(d,'"></table></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",f):this.dummyDOM.querySelector("#"+v).insertAdjacentHTML("afterend",f)),(h=document.createElement("tr")).id=v+"_lte_"+g,this.dummyDOM.querySelector("#"+v+d).appendChild(h),this.descriptions.labelElements[g]=this.dummyDOM.querySelector("#".concat(v).concat("_lte_").concat(g)),this.descriptions.labelElements[g].innerHTML=m)},t=s.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(t,i,u){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(s){var l,a,c,y;this.dummyDOM.querySelector("#".concat(s,"_summary"))&&(l=this._accessibleOutputs[s],c=function(b,d,p,h){return d="".concat(d," canvas, ").concat(p," by ").concat(h," pixels, contains ").concat(b[0]),d=(b[0]===1?"".concat(d," shape: "):"".concat(d," shapes: ")).concat(b[1]),d}((a=function(b,d){var p,h="",g="",m=0;for(p in d){var f,v=0;for(f in d[p]){var _='<li id="'.concat(b,"shape").concat(m,'">').concat(d[p][f].color," ").concat(p,",");p==="line"?_+=" location = ".concat(d[p][f].pos,", length = ").concat(d[p][f].length," pixels"):(_+=" location = ".concat(d[p][f].pos),p!=="point"&&(_+=", area = ".concat(d[p][f].area," %")),_+="</li>"),h+=_,v++,m++}g=1<v?"".concat(g," ").concat(v," ").concat(p,"s"):"".concat(g," ").concat(v," ").concat(p)}return{numShapes:[m,g],details:h}}(s,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),y=function(b,d){var p,h,g=0,m="",f=Array.from(Array(10),function(){return Array(10)});for(p in d)for(var v in d[p]){var _=void 0;_=p!=="line"?'<a href="#'.concat(b,"shape").concat(g,'">').concat(d[p][v].color," ").concat(p,"</a>"):'<a href="#'.concat(b,"shape").concat(g,'">').concat(d[p][v].color," ").concat(p," midpoint</a>"),d[p][v].loc.locY<f.length&&d[p][v].loc.locX<f[d[p][v].loc.locY].length&&(f[d[p][v].loc.locY][d[p][v].loc.locX]?f[d[p][v].loc.locY][d[p][v].loc.locX]=f[d[p][v].loc.locY][d[p][v].loc.locX]+"  "+_:f[d[p][v].loc.locY][d[p][v].loc.locX]=_,g++)}for(h in f){var x,S="<tr>";for(x in f[h])S+="<td>",f[h][x]!==void 0&&(S+=f[h][x]),S+="</td>";m=m+S+"</tr>"}return m}(s,this.ingredients.shapes),c!==l.summary.innerHTML&&(l.summary.innerHTML=c),y!==l.map.innerHTML&&(l.map.innerHTML=y),a.details!==l.shapeDetails.innerHTML&&(l.shapeDetails.innerHTML=a.details),this._accessibleOutputs[s]=l)},t=t.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(t,i,u){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(c){return function(y){if(Array.isArray(y)){for(var b=0,d=new Array(y.length);b<y.length;b++)d[b]=y[b];return d}}(c)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(c,y,b){return y=Math.floor(c[0]/y*10),c=Math.floor(c[1]/b*10),y===10&&(y-=1),c===10&&(c-=1),{locX:y,locY:c}}s.default.prototype.textOutput=function(c){s.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),c===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},s.default.prototype.gridOutput=function(c){s.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),c===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},s.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},s.default.prototype._createOutput=function(c,y){var b,d,p,h=this.canvas.id,g=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(h).parentNode),"");y==="Fallback"?(b=h+c,this.dummyDOM.querySelector("#".concat(d=h+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(h,"_Description"))?this.dummyDOM.querySelector("#".concat(h,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(d,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(h)).innerHTML='<div id="'.concat(d,'" role="region" aria-label="Canvas Outputs"></div>'))):y==="Label"&&(b=h+c+(g=y),this.dummyDOM.querySelector("#".concat(d=h+"accessibleOutput"+y))||(this.dummyDOM.querySelector("#".concat(h,"_Label"))?this.dummyDOM.querySelector("#".concat(h,"_Label")):this.dummyDOM.querySelector("#".concat(h))).insertAdjacentHTML("afterend",'<div id="'.concat(d,'"></div>'))),this._accessibleOutputs[b]={},c==="textOutput"?(g="#".concat(h,"gridOutput").concat(g),p='<div id="'.concat(b,'">Text Output<div id="').concat(b,'Summary" aria-label="text output summary"><p id="').concat(b,'_summary"></p><ul id="').concat(b,'_list"></ul></div><table id="').concat(b,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(g)?this.dummyDOM.querySelector(g).insertAdjacentHTML("beforebegin",p):this.dummyDOM.querySelector("#".concat(d)).innerHTML=p,this._accessibleOutputs[b].list=this.dummyDOM.querySelector("#".concat(b,"_list"))):c==="gridOutput"&&(g="#".concat(h,"textOutput").concat(g),p='<div id="'.concat(b,'">Grid Output<p id="').concat(b,'_summary" aria-label="grid output summary"><table id="').concat(b,'_map" summary="grid output content"></table><ul id="').concat(b,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(g)?this.dummyDOM.querySelector(g).insertAdjacentHTML("afterend",p):this.dummyDOM.querySelector("#".concat(d)).innerHTML=p,this._accessibleOutputs[b].map=this.dummyDOM.querySelector("#".concat(b,"_map"))),this._accessibleOutputs[b].shapeDetails=this.dummyDOM.querySelector("#".concat(b,"_shapeDetails")),this._accessibleOutputs[b].summary=this.dummyDOM.querySelector("#".concat(b,"_summary"))},s.default.prototype._updateAccsOutput=function(){var c=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(c+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(c+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(c+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(c+"gridOutputLabel"))},s.default.prototype._accsBackground=function(c){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==c&&(this.ingredients.colors.backgroundRGBA=c,this.ingredients.colors.background=this._rgbColorName(c))},s.default.prototype._accsCanvasColors=function(c,y){c==="fill"?this.ingredients.colors.fillRGBA!==y&&(this.ingredients.colors.fillRGBA=y,this.ingredients.colors.fill=this._rgbColorName(y)):c==="stroke"&&this.ingredients.colors.strokeRGBA!==y&&(this.ingredients.colors.strokeRGBA=y,this.ingredients.colors.stroke=this._rgbColorName(y))},s.default.prototype._accsOutput=function(c,y){c==="ellipse"&&y[2]===y[3]?c="circle":c==="rectangle"&&y[2]===y[3]&&(c="square");var b,d,p={},h=!0,g=function(f,v){var _;return f=f==="rectangle"||f==="ellipse"||f==="arc"||f==="circle"||f==="square"?(_=Math.round(v[0]+v[2]/2),Math.round(v[1]+v[3]/2)):f==="triangle"?(_=(v[0]+v[2]+v[4])/3,(v[1]+v[3]+v[5])/3):f==="quadrilateral"?(_=(v[0]+v[2]+v[4]+v[6])/4,(v[1]+v[3]+v[5]+v[7])/4):f==="line"?(_=(v[0]+v[2])/2,(v[1]+v[3])/2):(_=v[0],v[1]),[_,f]}(c,y);if(c==="line"?(p.color=this.ingredients.colors.stroke,p.length=Math.round(this.dist(y[0],y[1],y[2],y[3])),b=this._getPos(y[0],[1]),d=this._getPos(y[2],[3]),p.loc=a(g,this.width,this.height),p.pos=b===d?"at ".concat(b):"from ".concat(b," to ").concat(d)):(c==="point"?p.color=this.ingredients.colors.stroke:(p.color=this.ingredients.colors.fill,p.area=this._getArea(c,y)),p.pos=this._getPos.apply(this,l(g)),p.loc=a(g,this.width,this.height)),this.ingredients.shapes[c]){if(this.ingredients.shapes[c]!==[p]){for(var m in this.ingredients.shapes[c])JSON.stringify(this.ingredients.shapes[c][m])===JSON.stringify(p)&&(h=!1);h===!0&&this.ingredients.shapes[c].push(p)}}else this.ingredients.shapes[c]=[p]},s.default.prototype._getPos=function(d,b){var d=new DOMPointReadOnly(d,b),b=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),d=d.matrixTransform(b),b=d.x,d=d.y,p=this.width*this._pixelDensity,h=this.height*this._pixelDensity;return b<.4*p?d<.4*h?"top left":.6*h<d?"bottom left":"mid left":.6*p<b?d<.4*h?"top right":.6*h<d?"bottom right":"mid right":d<.4*h?"top middle":.6*h<d?"bottom middle":"middle"},s.default.prototype._getArea=function(c,y){var b,d,p=0,h=(c==="arc"?(p=(b=((y[5]-y[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*y[2]*y[3]/8,y[6]!=="open"&&y[6]!=="chord"||(d=y[0],v=y[1],h=y[0]+y[2]/2*Math.cos(y[4]).toFixed(2),_=y[1]+y[3]/2*Math.sin(y[4]).toFixed(2),m=y[0]+y[2]/2*Math.cos(y[5]).toFixed(2),g=y[1]+y[3]/2*Math.sin(y[5]).toFixed(2),d=Math.abs(d*(_-g)+h*(g-v)+m*(v-_))/2,b>Math.PI?p+=d:p-=d)):c==="ellipse"||c==="circle"?p=3.14*y[2]/2*y[3]/2:c==="line"||c==="point"?p=0:c==="quadrilateral"?p=Math.abs((y[6]+y[0])*(y[7]-y[1])+(y[0]+y[2])*(y[1]-y[3])+(y[2]+y[4])*(y[3]-y[5])+(y[4]+y[6])*(y[5]-y[7]))/2:c==="rectangle"||c==="square"?p=y[2]*y[3]:c==="triangle"&&(p=Math.abs(y[0]*(y[3]-y[5])+y[2]*(y[5]-y[1])+y[4]*(y[1]-y[3]))/2),this.width*this._pixelDensity),g=this.height*this._pixelDensity,m=[new DOMPoint(0,0),new DOMPoint(h,0),new DOMPoint(h,g),new DOMPoint(0,g)],f=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),v=m.map(function(x){return x.matrixTransform(f)}),_=Math.abs((v[3].x+v[0].x)*(v[3].y-v[0].y)+(v[0].x+v[1].x)*(v[0].y-v[1].y)+(v[1].x+v[2].x)*(v[1].y-v[2].y)+(v[2].x+v[3].x)*(v[2].y-v[3].y))/2;return Math.round(100*p/_)},t=s.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(t,i,u){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(s){var l,a,c,y;this.dummyDOM.querySelector("#".concat(s,"_summary"))&&(l=this._accessibleOutputs[s],c=function(b,d,p,h){return p="Your output is a, ".concat(p," by ").concat(h," pixels, ").concat(d," canvas containing the following"),p=b===1?"".concat(p," shape:"):"".concat(p," ").concat(b," shapes:"),p}((a=function(b,d){var p,h="",g=0;for(p in d)for(var m in d[p]){var f='<li><a href="#'.concat(b,"shape").concat(g,'">').concat(d[p][m].color," ").concat(p,"</a>");p==="line"?f+=", ".concat(d[p][m].pos,", ").concat(d[p][m].length," pixels long.</li>"):(f+=", at ".concat(d[p][m].pos),p!=="point"&&(f+=", covering ".concat(d[p][m].area,"% of the canvas")),f+=".</li>"),h+=f,g++}return{numShapes:g,listShapes:h}}(s,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),y=function(b,d){var p,h="",g=0;for(p in d)for(var m in d[p]){var f='<tr id="'.concat(b,"shape").concat(g,'"><th>').concat(d[p][m].color," ").concat(p,"</th>");p==="line"?f+="<td>location = ".concat(d[p][m].pos,"</td><td>length = ").concat(d[p][m].length," pixels</td></tr>"):(f+="<td>location = ".concat(d[p][m].pos,"</td>"),p!=="point"&&(f+="<td> area = ".concat(d[p][m].area,"%</td>")),f+="</tr>"),h+=f,g++}return h}(s,this.ingredients.shapes),c!==l.summary.innerHTML&&(l.summary.innerHTML=c),a.listShapes!==l.list.innerHTML&&(l.list.innerHTML=a.listShapes),y!==l.shapeDetails.innerHTML&&(l.shapeDetails.innerHTML=y),this._accessibleOutputs[s]=l)},t=t.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(t,i,u){"use strict";var s=(s=t("./core/main"))&&s.__esModule?s:{default:s};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.DataArray"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.Quat"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),i.exports=s.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(t,i,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={_hsbaToHSLA:function(s){var l=s[0],a=s[1],c=s[2],y=(2-a)*c/2;return y!=0&&(y==1?a=0:y<.5?a/=2-a:a=a*c/(2-2*y)),[l,a,y,s[3]]},_hsbaToRGBA:function(s){var l,a,c,y,b,d=6*s[0],p=s[1],h=s[2];return p===0?[h,h,h,s[3]]:(a=h*(1-p),c=h*(1-p*(d-(l=Math.floor(d)))),p=h*(1-p*(1+l-d)),d=l===1?(y=c,b=h,a):l===2?(y=a,b=h,p):l===3?(y=a,b=c,h):l===4?(y=p,b=a,h):l===5?(y=h,b=a,c):(y=h,b=p,a),[y,b,d,s[3]])},_hslaToHSBA:function(s){var l=s[0],a=s[1],c=s[2],y=c<.5?(1+a)*c:c+a-c*a;return[l,a=2*(y-c)/y,y,s[3]]},_hslaToRGBA:function(s){var l,a=6*s[0],c=s[1],y=s[2];return c===0?[y,y,y,s[3]]:[(l=function(b,d,p){return b<0?b+=6:6<=b&&(b-=6),b<1?d+(p-d)*b:b<3?p:b<4?d+(p-d)*(4-b):d})(2+a,c=2*y-(y=y<.5?(1+c)*y:y+c-y*c),y),l(a,c,y),l(a-2,c,y),s[3]]},_rgbaToHSBA:function(s){var l,a,c=s[0],y=s[1],b=s[2],d=Math.max(c,y,b),p=d-Math.min(c,y,b);return p==0?a=l=0:(a=p/d,c===d?l=(y-b)/p:y===d?l=2+(b-c)/p:b===d&&(l=4+(c-y)/p),l<0?l+=6:6<=l&&(l-=6)),[l/6,a,d,s[3]]},_rgbaToHSLA:function(s){var l,a,c=s[0],y=s[1],b=s[2],d=Math.max(c,y,b),h=Math.min(c,y,b),p=d+h,h=d-h;return h==0?a=l=0:(a=p<1?h/p:h/(2-p),c===d?l=(y-b)/h:y===d?l=2+(b-c)/h:b===d&&(l=4+(c-y)/h),l<0?l+=6:6<=l&&(l-=6)),[l/6,a,p/2,s[3]]}},t=t.default.ColorConversion,u.default=t},{"../core/main":283}],269:[function(t,i,u){"use strict";function s(d){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}function l(d){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(p){return s(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":s(p)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=(b=t("../core/main"))&&b.__esModule?b:{default:b},c=function(d){if(d&&d.__esModule)return d;if(d===null||l(d)!=="object"&&typeof d!="function")return{default:d};var p=y();if(p&&p.has(d))return p.get(d);var h,g={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in d){var f;Object.prototype.hasOwnProperty.call(d,h)&&((f=m?Object.getOwnPropertyDescriptor(d,h):null)&&(f.get||f.set)?Object.defineProperty(g,h,f):g[h]=d[h])}return g.default=d,p&&p.set(d,g),g}(t("../core/constants"));function y(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,y=function(){return d},d)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),a.default.prototype.alpha=function(d){return a.default._validateParameters("alpha",arguments),this.color(d)._getAlpha()},a.default.prototype.blue=function(d){return a.default._validateParameters("blue",arguments),this.color(d)._getBlue()},a.default.prototype.brightness=function(d){return a.default._validateParameters("brightness",arguments),this.color(d)._getBrightness()},a.default.prototype.color=function(){for(var d,p=arguments.length,h=new Array(p),g=0;g<p;g++)h[g]=arguments[g];return a.default._validateParameters("color",h),h[0]instanceof a.default.Color?h[0]:(d=Array.isArray(h[0])?h[0]:h,new a.default.Color(this,d))},a.default.prototype.green=function(d){return a.default._validateParameters("green",arguments),this.color(d)._getGreen()},a.default.prototype.hue=function(d){return a.default._validateParameters("hue",arguments),this.color(d)._getHue()},a.default.prototype.lerpColor=function(d,p,h){a.default._validateParameters("lerpColor",arguments),d instanceof a.default.Color||(d=color(d)),p instanceof a.default.Color||(p=color(p));var g,m,f,v=this._colorMode,_=this._colorMaxes;if(v===c.RGB)m=d.levels.map(function(x){return x/255}),f=p.levels.map(function(x){return x/255});else if(v===c.HSB)d._getBrightness(),p._getBrightness(),m=d.hsba,f=p.hsba;else{if(v!==c.HSL)throw new Error("".concat(v," cannot be used for interpolation."));d._getLightness(),p._getLightness(),m=d.hsla,f=p.hsla}return h=Math.max(Math.min(h,1),0),this.lerp===void 0&&(this.lerp=function(x,S,j){return j*(S-x)+x}),v===c.RGB?g=this.lerp(m[0],f[0],h):(.5<Math.abs(m[0]-f[0])&&(m[0]>f[0]?f[0]+=1:m[0]+=1),1<=(g=this.lerp(m[0],f[0],h))&&--g),d=this.lerp(m[1],f[1],h),p=this.lerp(m[2],f[2],h),m=this.lerp(m[3],f[3],h),g*=_[v][0],d*=_[v][1],p*=_[v][2],m*=_[v][3],this.color(g,d,p,m)},a.default.prototype.paletteLerp=function(d,p){var h=d[0];if(p<h[1])return this.color(h[0]);for(var g=1;g<d.length;g++){var m,f=d[g];if(p<f[1])return m=d[g-1],this.lerpColor(this.color(m[0]),this.color(f[0]),(p-m[1])/(f[1]-m[1]))}return this.color(d[d.length-1][0])},a.default.prototype.lightness=function(d){return a.default._validateParameters("lightness",arguments),this.color(d)._getLightness()},a.default.prototype.red=function(d){return a.default._validateParameters("red",arguments),this.color(d)._getRed()},a.default.prototype.saturation=function(d){return a.default._validateParameters("saturation",arguments),this.color(d)._getSaturation()};var b=a.default;u.default=b},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(g,i,u){"use strict";function s(x){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(x)}function l(x){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(S){return s(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":s(S)})(x)}g("core-js/modules/es.symbol"),g("core-js/modules/es.symbol.description"),g("core-js/modules/es.symbol.iterator"),g("core-js/modules/es.array.includes"),g("core-js/modules/es.array.iterator"),g("core-js/modules/es.array.join"),g("core-js/modules/es.array.map"),g("core-js/modules/es.array.slice"),g("core-js/modules/es.object.get-own-property-descriptor"),g("core-js/modules/es.object.to-string"),g("core-js/modules/es.regexp.constructor"),g("core-js/modules/es.regexp.exec"),g("core-js/modules/es.regexp.to-string"),g("core-js/modules/es.string.includes"),g("core-js/modules/es.string.iterator"),g("core-js/modules/es.string.trim"),g("core-js/modules/es.weak-map"),g("core-js/modules/web.dom-collections.iterator"),g("core-js/modules/es.array.includes"),g("core-js/modules/es.array.join"),g("core-js/modules/es.array.map"),g("core-js/modules/es.array.slice"),g("core-js/modules/es.object.to-string"),g("core-js/modules/es.regexp.constructor"),g("core-js/modules/es.regexp.exec"),g("core-js/modules/es.regexp.to-string"),g("core-js/modules/es.string.includes"),g("core-js/modules/es.string.trim"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=d(g("../core/main")),c=function(x){if(x&&x.__esModule)return x;if(x===null||l(x)!=="object"&&typeof x!="function")return{default:x};var S=b();if(S&&S.has(x))return S.get(x);var j,T={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(j in x){var M;Object.prototype.hasOwnProperty.call(x,j)&&((M=C?Object.getOwnPropertyDescriptor(x,j):null)&&(M.get||M.set)?Object.defineProperty(T,j,M):T[j]=x[j])}return T.default=x,S&&S.set(x,T),T}(g("../core/constants")),y=d(g("./color_conversion"));function b(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,b=function(){return x},x)}function d(x){return x&&x.__esModule?x:{default:x}}function p(x,S){for(var j=0;j<S.length;j++){var T=S[j];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(x,T.key,T)}}var h={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},g=/\s*/,_=/(\d{1,3})/,m=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,f=new RegExp("".concat(m.source,"%")),v={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",_.source,",",_.source,",",_.source,"\\)$"].join(g.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",f.source,",",f.source,",",f.source,"\\)$"].join(g.source),"i"),RGBA:new RegExp(["^rgba\\(",_.source,",",_.source,",",_.source,",",m.source,"\\)$"].join(g.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",f.source,",",f.source,",",f.source,",",m.source,"\\)$"].join(g.source),"i"),HSL:new RegExp(["^hsl\\(",_.source,",",f.source,",",f.source,"\\)$"].join(g.source),"i"),HSLA:new RegExp(["^hsla\\(",_.source,",",f.source,",",f.source,",",m.source,"\\)$"].join(g.source),"i"),HSB:new RegExp(["^hsb\\(",_.source,",",f.source,",",f.source,"\\)$"].join(g.source),"i"),HSBA:new RegExp(["^hsba\\(",_.source,",",f.source,",",f.source,",",m.source,"\\)$"].join(g.source),"i")},_=(a.default.Color=function(){function x(C,M){if(!(this instanceof x))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(C._colorMode,C._colorMaxes),![c.RGB,c.HSL,c.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=x._parseInputs.apply(this,M),this._calculateLevels()}var S,j,T;return S=x,T=[{key:"_parseInputs",value:function(C,M,k,A){var P,O=arguments.length,V=this.mode,F=this.maxes[V],R=[];if(3<=O){for(R[0]=C/F[0],R[1]=M/F[1],R[2]=k/F[2],R[3]=typeof A=="number"?A/F[3]:1,P=R.length-1;0<=P;--P){var z=R[P];z<0?R[P]=0:1<z&&(R[P]=1)}return V===c.HSL?y.default._hslaToRGBA(R):V===c.HSB?y.default._hsbaToRGBA(R):R}if(O===1&&typeof C=="string"){if(k=C.trim().toLowerCase(),h[k])return x._parseInputs.call(this,h[k]);if(v.HEX3.test(k))return(R=v.HEX3.exec(k).slice(1).map(function(q){return parseInt(q+q,16)/255}))[3]=1,R;if(v.HEX6.test(k))return(R=v.HEX6.exec(k).slice(1).map(function(q){return parseInt(q,16)/255}))[3]=1,R;if(v.HEX4.test(k))return R=v.HEX4.exec(k).slice(1).map(function(q){return parseInt(q+q,16)/255});if(v.HEX8.test(k))return R=v.HEX8.exec(k).slice(1).map(function(q){return parseInt(q,16)/255});if(v.RGB.test(k))return(R=v.RGB.exec(k).slice(1).map(function(q){return q/255}))[3]=1,R;if(v.RGB_PERCENT.test(k))return(R=v.RGB_PERCENT.exec(k).slice(1).map(function(q){return parseFloat(q)/100}))[3]=1,R;if(v.RGBA.test(k))return R=v.RGBA.exec(k).slice(1).map(function(q,G){return G===3?parseFloat(q):q/255});if(v.RGBA_PERCENT.test(k))return R=v.RGBA_PERCENT.exec(k).slice(1).map(function(q,G){return G===3?parseFloat(q):parseFloat(q)/100});if(v.HSL.test(k)?(R=v.HSL.exec(k).slice(1).map(function(q,G){return G===0?parseInt(q,10)/360:parseInt(q,10)/100}))[3]=1:v.HSLA.test(k)&&(R=v.HSLA.exec(k).slice(1).map(function(q,G){return G===0?parseInt(q,10)/360:G===3?parseFloat(q):parseInt(q,10)/100})),(R=R.map(function(q){return Math.max(Math.min(q,1),0)})).length)return y.default._hslaToRGBA(R);if(v.HSB.test(k)?(R=v.HSB.exec(k).slice(1).map(function(q,G){return G===0?parseInt(q,10)/360:parseInt(q,10)/100}))[3]=1:v.HSBA.test(k)&&(R=v.HSBA.exec(k).slice(1).map(function(q,G){return G===0?parseInt(q,10)/360:G===3?parseFloat(q):parseInt(q,10)/100})),R.length){for(P=R.length-1;0<=P;--P)R[P]=Math.max(Math.min(R[P],1),0);return y.default._hsbaToRGBA(R)}R=[1,1,1,1]}else{if(O!==1&&O!==2||typeof C!="number")throw new Error("".concat(arguments,"is not a valid color representation."));R[0]=C/F[2],R[1]=C/F[2],R[2]=C/F[2],R[3]=typeof M=="number"?M/F[3]:1,R=R.map(function(q){return Math.max(Math.min(q,1),0)})}return R}}],(j=[{key:"toString",value:function(C){var M=this.levels,k=this._array,A=k[3];switch(C){case"#rrggbb":return"#".concat(M[0]<16?"0".concat(M[0].toString(16)):M[0].toString(16),M[1]<16?"0".concat(M[1].toString(16)):M[1].toString(16),M[2]<16?"0".concat(M[2].toString(16)):M[2].toString(16));case"#rrggbbaa":return"#".concat(M[0]<16?"0".concat(M[0].toString(16)):M[0].toString(16),M[1]<16?"0".concat(M[1].toString(16)):M[1].toString(16),M[2]<16?"0".concat(M[2].toString(16)):M[2].toString(16),M[3]<16?"0".concat(M[3].toString(16)):M[3].toString(16));case"#rgb":return"#".concat(Math.round(15*k[0]).toString(16),Math.round(15*k[1]).toString(16),Math.round(15*k[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*k[0]).toString(16),Math.round(15*k[1]).toString(16),Math.round(15*k[2]).toString(16),Math.round(15*k[3]).toString(16));case"rgb":return"rgb(".concat(M[0],", ",M[1],", ",M[2],")");case"rgb%":return"rgb(".concat((100*k[0]).toPrecision(3),"%, ",(100*k[1]).toPrecision(3),"%, ",(100*k[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*k[0]).toPrecision(3),"%, ",(100*k[1]).toPrecision(3),"%, ",(100*k[2]).toPrecision(3),"%, ",(100*k[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[c.HSB][0],", ",this.hsba[1]*this.maxes[c.HSB][1],", ",this.hsba[2]*this.maxes[c.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[c.HSB][0],", ",this.hsba[1]*this.maxes[c.HSB][1],", ",this.hsba[2]*this.maxes[c.HSB][2],", ",A,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*A).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[c.HSL][0],", ",this.hsla[1]*this.maxes[c.HSL][1],", ",this.hsla[2]*this.maxes[c.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[c.HSL][0],", ",this.hsla[1]*this.maxes[c.HSL][1],", ",this.hsla[2]*this.maxes[c.HSL][2],", ",A,")");case"hsla%":return this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*A).toPrecision(3),"%)");default:return"rgba(".concat(M[0],",",M[1],",",M[2],",",A,")")}}},{key:"setRed",value:function(C){this._array[0]=C/this.maxes[c.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(C){this._array[1]=C/this.maxes[c.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(C){this._array[2]=C/this.maxes[c.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(C){this._array[3]=C/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var C=this._array,M=this.levels=new Array(C.length),k=C.length-1;0<=k;--k)M[k]=Math.round(255*C[k]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(C,M){this.mode=C,this.maxes=M}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[c.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[c.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[c.RGB][1]}},{key:"_getHue",value:function(){return this.mode===c.HSB?(this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[c.HSB][0]):(this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[c.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[c.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[c.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===c.HSB?(this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[c.HSB][1]):(this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[c.HSL][1])}}])&&p(S.prototype,j),T&&p(S,T),x}(),a.default.Color);u.default=_},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(t,i,u){"use strict";function s(d){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}function l(d){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(p){return s(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":s(p)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=(b=t("../core/main"))&&b.__esModule?b:{default:b},c=function(d){if(d&&d.__esModule)return d;if(d===null||l(d)!=="object"&&typeof d!="function")return{default:d};var p=y();if(p&&p.has(d))return p.get(d);var h,g={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in d){var f;Object.prototype.hasOwnProperty.call(d,h)&&((f=m?Object.getOwnPropertyDescriptor(d,h):null)&&(f.get||f.set)?Object.defineProperty(g,h,f):g[h]=d[h])}return g.default=d,p&&p.set(d,g),g}(t("../core/constants"));function y(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,y=function(){return d},d)}t("./p5.Color"),a.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},a.default.prototype.endClip=function(){this._renderer.endClip()},a.default.prototype.clip=function(d,p){this._renderer.beginClip(p),d(),this._renderer.endClip(p)},a.default.prototype.background=function(){var d;return(d=this._renderer).background.apply(d,arguments),this},a.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},a.default.prototype.colorMode=function(d,p,h,g,m){return a.default._validateParameters("colorMode",arguments),d!==c.RGB&&d!==c.HSB&&d!==c.HSL||(this._colorMode=d,d=this._colorMaxes[d],arguments.length===2?(d[0]=p,d[1]=p,d[2]=p,d[3]=p):arguments.length===4?(d[0]=p,d[1]=h,d[2]=g):arguments.length===5&&(d[0]=p,d[1]=h,d[2]=g,d[3]=m)),this},a.default.prototype.fill=function(){var d;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(d=this._renderer).fill.apply(d,arguments),this},a.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},a.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},a.default.prototype.stroke=function(){var d;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(d=this._renderer).stroke.apply(d,arguments),this},a.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},a.default.prototype.noErase=function(){return this._renderer.noErase(),this};var b=a.default;u.default=b},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(t,i,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.QUADRATIC=u.LINEAR=u._CTX_MIDDLE=u._DEFAULT_LEADMULT=u._DEFAULT_TEXT_FILL=u.WORD=u.CHAR=u.BOLDITALIC=u.BOLD=u.ITALIC=u.NORMAL=u.BLUR=u.ERODE=u.DILATE=u.POSTERIZE=u.INVERT=u.OPAQUE=u.GRAY=u.THRESHOLD=u.BURN=u.DODGE=u.SOFT_LIGHT=u.HARD_LIGHT=u.OVERLAY=u.REPLACE=u.SCREEN=u.MULTIPLY=u.EXCLUSION=u.SUBTRACT=u.DIFFERENCE=u.LIGHTEST=u.DARKEST=u.ADD=u.REMOVE=u.BLEND=u.UP_ARROW=u.TAB=u.SHIFT=u.RIGHT_ARROW=u.RETURN=u.OPTION=u.LEFT_ARROW=u.ESCAPE=u.ENTER=u.DOWN_ARROW=u.DELETE=u.CONTROL=u.BACKSPACE=u.ALT=u.AUTO=u.HSL=u.HSB=u.RGB=u.MITER=u.BEVEL=u.ROUND=u.SQUARE=u.PROJECT=u.PIE=u.CHORD=u.OPEN=u.CLOSE=u.TESS=u.QUAD_STRIP=u.QUADS=u.TRIANGLE_STRIP=u.TRIANGLE_FAN=u.TRIANGLES=u.LINE_LOOP=u.LINE_STRIP=u.LINES=u.POINTS=u.BASELINE=u.BOTTOM=u.TOP=u.CENTER=u.LEFT=u.RIGHT=u.RADIUS=u.CORNERS=u.CORNER=u.RAD_TO_DEG=u.DEG_TO_RAD=u.RADIANS=u.DEGREES=u.TWO_PI=u.TAU=u.QUARTER_PI=u.PI=u.HALF_PI=u.WAIT=u.TEXT=u.MOVE=u.HAND=u.CROSS=u.ARROW=u.WEBGL2=u.WEBGL=u.P2D=u.VERSION=void 0,u.RGBA=u.HALF_FLOAT=u.FLOAT=u.UNSIGNED_INT=u.UNSIGNED_BYTE=u.COVER=u.CONTAIN=u.FALLBACK=u.LABEL=u.AXES=u.GRID=u._DEFAULT_FILL=u._DEFAULT_STROKE=u.PORTRAIT=u.LANDSCAPE=u.SMOOTH=u.FLAT=u.MIRROR=u.CLAMP=u.REPEAT=u.NEAREST=u.IMAGE=u.IMMEDIATE=u.TEXTURE=u.FILL=u.STROKE=u.CURVE=u.BEZIER=void 0;var s=Math.PI,l=(u.VERSION="1.11.0",u.P2D="p2d",u.WEBGL="webgl",u.WEBGL2="webgl2",u.ARROW="default",u.CROSS="crosshair",u.HAND="pointer",u.MOVE="move",u.TEXT="text",u.WAIT="wait",s/2),l=(u.HALF_PI=l,s),l=(u.PI=l,s/4),l=(u.QUARTER_PI=l,2*s),l=(u.TAU=l,2*s),l=(u.TWO_PI=l,u.DEGREES="degrees",u.RADIANS="radians",s/180),l=(u.DEG_TO_RAD=l,180/s);u.RAD_TO_DEG=l,u.CORNER="corner",u.CORNERS="corners",u.RADIUS="radius",u.RIGHT="right",u.LEFT="left",u.CENTER="center",u.TOP="top",u.BOTTOM="bottom",u.BASELINE="alphabetic",u.POINTS=0,u.LINES=1,u.LINE_STRIP=3,u.LINE_LOOP=2,u.TRIANGLES=4,u.TRIANGLE_FAN=6,u.TRIANGLE_STRIP=5,u.QUADS="quads",u.QUAD_STRIP="quad_strip",u.TESS="tess",u.CLOSE="close",u.OPEN="open",u.CHORD="chord",u.PIE="pie",u.PROJECT="square",u.SQUARE="butt",u.ROUND="round",u.BEVEL="bevel",u.MITER="miter",u.RGB="rgb",u.HSB="hsb",u.HSL="hsl",u.AUTO="auto",u.ALT=18,u.BACKSPACE=8,u.CONTROL=17,u.DELETE=46,u.DOWN_ARROW=40,u.ENTER=13,u.ESCAPE=27,u.LEFT_ARROW=37,u.OPTION=18,u.RETURN=13,u.RIGHT_ARROW=39,u.SHIFT=16,u.TAB=9,u.UP_ARROW=38,u.BLEND="source-over",u.REMOVE="destination-out",u.ADD="lighter",u.DARKEST="darken",u.LIGHTEST="lighten",u.DIFFERENCE="difference",u.SUBTRACT="subtract",u.EXCLUSION="exclusion",u.MULTIPLY="multiply",u.SCREEN="screen",u.REPLACE="copy",u.OVERLAY="overlay",u.HARD_LIGHT="hard-light",u.SOFT_LIGHT="soft-light",u.DODGE="color-dodge",u.BURN="color-burn",u.THRESHOLD="threshold",u.GRAY="gray",u.OPAQUE="opaque",u.INVERT="invert",u.POSTERIZE="posterize",u.DILATE="dilate",u.ERODE="erode",u.BLUR="blur",u.NORMAL="normal",u.ITALIC="italic",u.BOLD="bold",u.BOLDITALIC="bold italic",u.CHAR="CHAR",u.WORD="WORD",u._DEFAULT_TEXT_FILL="#000000",u._DEFAULT_LEADMULT=1.25,u._CTX_MIDDLE="middle",u.LINEAR="linear",u.QUADRATIC="quadratic",u.BEZIER="bezier",u.CURVE="curve",u.STROKE="stroke",u.FILL="fill",u.TEXTURE="texture",u.IMMEDIATE="immediate",u.IMAGE="image",u.NEAREST="nearest",u.REPEAT="repeat",u.CLAMP="clamp",u.MIRROR="mirror",u.FLAT="flat",u.SMOOTH="smooth",u.LANDSCAPE="landscape",u.PORTRAIT="portrait",u._DEFAULT_STROKE="#000000",u._DEFAULT_FILL="#FFFFFF",u.GRID="grid",u.AXES="axes",u.LABEL="label",u.FALLBACK="fallback",u.CONTAIN="contain",u.COVER="cover",u.UNSIGNED_BYTE="unsigned-byte",u.UNSIGNED_INT="unsigned-int",u.FLOAT="float",u.HALF_FLOAT="half-float",u.RGBA="rgba"},{}],273:[function(t,i,u){"use strict";function s(m){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(m)}function l(m){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(f){return s(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":s(f)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=(c=t("./main"))&&c.__esModule?c:{default:c},c=function(m){if(m&&m.__esModule)return m;if(m===null||l(m)!=="object"&&typeof m!="function")return{default:m};var f=y();if(f&&f.has(m))return f.get(m);var v,_={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in m){var S;Object.prototype.hasOwnProperty.call(m,v)&&((S=x?Object.getOwnPropertyDescriptor(m,v):null)&&(S.get||S.set)?Object.defineProperty(_,v,S):_[v]=m[v])}return _.default=m,f&&f.set(m,_),_}(t("./constants"));function y(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,y=function(){return m},m)}var b=[c.ARROW,c.CROSS,c.HAND,c.MOVE,c.TEXT,c.WAIT],d=(a.default.prototype._frameRate=0,a.default.prototype._lastFrameTime=window.performance.now(),a.default.prototype._targetFrameRate=60,window.print),p=!1;function h(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function g(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}a.default.prototype.print=function(){var m;arguments.length?(m=console).log.apply(m,arguments):p||(d(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(p=!0))},a.default.prototype.frameCount=0,a.default.prototype.deltaTime=0,a.default.prototype.focused=document.hasFocus(),a.default.prototype.cursor=function(m,f,v){var _,x="auto",S=this._curElement.elt;b.includes(m)?x=m:typeof m=="string"&&(_="",f&&v&&typeof f=="number"&&typeof v=="number"&&(_="".concat(f," ").concat(v)),x=m.substring(0,7)==="http://"||m.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(m)?"url(".concat(m,") ").concat(_,", auto"):m),S.style.cursor=x},a.default.prototype.frameRate=function(m){return a.default._validateParameters("frameRate",arguments),typeof m!="number"||m<0?this._frameRate:(this._setProperty("_targetFrameRate",m),m===0&&this._setProperty("_frameRate",m),this)},a.default.prototype.getFrameRate=function(){return this.frameRate()},a.default.prototype.setFrameRate=function(m){return this.frameRate(m)},a.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},a.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},a.default.prototype.webglVersion=c.P2D,a.default.prototype.displayWidth=screen.width,a.default.prototype.displayHeight=screen.height,a.default.prototype.windowWidth=0,a.default.prototype.windowHeight=0,a.default.prototype._onresize=function(m){this._setProperty("windowWidth",h()),this._setProperty("windowHeight",g());var f=this._isGlobal?window:this;typeof f.windowResized!="function"||(f=f.windowResized(m))===void 0||f||m.preventDefault()},a.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",h()),this._setProperty("windowHeight",g())},a.default.prototype.width=0,a.default.prototype.height=0,a.default.prototype.fullscreen=function(m){if(a.default._validateParameters("fullscreen",arguments),m===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(m){if(m=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");m.requestFullscreen?m.requestFullscreen():m.mozRequestFullScreen?m.mozRequestFullScreen():m.webkitRequestFullscreen?m.webkitRequestFullscreen():m.msRequestFullscreen&&m.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},a.default.prototype.pixelDensity=function(m){var f;return a.default._validateParameters("pixelDensity",arguments),typeof m=="number"?(m!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=m),(f=this).resizeCanvas(this.width,this.height,!0)):f=this._pixelDensity,f},a.default.prototype.displayDensity=function(){return window.devicePixelRatio},a.default.prototype.getURL=function(){return location.href},a.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(m){return m!==""})},a.default.prototype.getURLParams=function(){for(var m,f=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,v={};(m=f.exec(location.search))!=null;)m.index===f.lastIndex&&f.lastIndex++,v[m[1]]=m[2];return v},t=a.default,u.default=t},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(t,i,u){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=(b=t("../main"))&&b.__esModule?b:{default:b};t("../internationalization");function l(d,p){p=p||console.log.bind(console),a||y(),a.some(function(h){var g;if(d.message&&d.message.match("\\W?".concat(h.name,"\\W"))!==null)return g=h.type==="function"?"".concat(h.name,"()"):h.name,p("Did you just try to use p5.js's ".concat(g," ").concat(h.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(c)),!0})}var a=null,y=null,c=(s.default._friendlyError=s.default._checkForUserDefinedFunctions=s.default._fesErrorMonitor=function(){},a=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),y=function(){function d(h){return Object.getOwnPropertyNames(h).filter(function(g){return g[0]!=="_"&&!(g in p)&&(p[g]=!0)}).map(function(g){var m=typeof h[g]=="function"?"function":g===g.toUpperCase()?"constant":"variable";return{name:g,type:m}})}var p={};(a=[].concat(d(s.default.prototype),d(t("../constants")))).sort(function(h,g){return g.name.length-h.name.length})},b=(s.default.prototype._helpForMisusedAtTopLevelCode=l,document.readyState!=="complete"&&(window.addEventListener("error",l,!1),window.addEventListener("load",function(){window.removeEventListener("error",l,!1)})),s.default);u.default=b},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(t,i,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=(s=t("../main"))&&s.__esModule?s:{default:s};t("../internationalization"),s.default._friendlyFileLoadError=function(){},t=s.default,u.default=t},{"../internationalization":281,"../main":283}],276:[function(t,i,u){"use strict";function s(D){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(D)}function l(D){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(U){return s(U)}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":s(U)})(D)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=q(t("../main")),c=t("../internationalization"),y=z(t("../constants")),b,d,p,h,g,m,f,v,_,x,S,j,T,C,M,k,A,P,O,V,F;function R(){var D;return typeof WeakMap!="function"?null:(D=new WeakMap,R=function(){return D},D)}function z(D){if(D&&D.__esModule)return D;if(D===null||l(D)!=="object"&&typeof D!="function")return{default:D};var U=R();if(U&&U.has(D))return U.get(D);var H,X,J={},le=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(H in D)Object.prototype.hasOwnProperty.call(D,H)&&((X=le?Object.getOwnPropertyDescriptor(D,H):null)&&(X.get||X.set)?Object.defineProperty(J,H,X):J[H]=D[H]);return J.default=D,U&&U.set(D,J),J}function q(D){return D&&D.__esModule?D:{default:D}}function G(D){return ae(D)||Z(D)||W()}function W(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Z(D){if(Symbol.iterator in Object(D)||Object.prototype.toString.call(D)==="[object Arguments]")return Array.from(D)}function ae(D){if(Array.isArray(D)){for(var U=0,H=new Array(D.length);U<D.length;U++)H[U]=D[U];return H}}a.default._fesCodeReader=function(){};var L=a.default;u.default=L},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(t,i,u){"use strict";t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function s(){var l=/(^|@)\S+:\d+/,a=/^\s*at .*(\S+:\d+|\(native\))/m,c=/^(eval@)?(\[native code])?$/;return{parse:function(y){return y.stacktrace!==void 0||y["opera#sourceloc"]!==void 0?this.parseOpera(y):y.stack&&y.stack.match(a)?this.parseV8OrIE(y):y.stack?this.parseFFOrSafari(y):void 0},extractLocation:function(y){return y.indexOf(":")===-1?[y]:[(y=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(y.replace(/[()]/g,"")))[1],y[2]||void 0,y[3]||void 0]},parseV8OrIE:function(y){return y.stack.split(`
`).filter(function(b){return!!b.match(a)},this).map(function(b){var d=(b=-1<b.indexOf("(eval ")?b.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):b).replace(/^\s+/,"").replace(/\(eval code/g,"("),p=d.match(/ (\((.+):(\d+):(\d+)\)$)/),d=(d=p?d.replace(p[0],""):d).split(/\s+/).slice(1),p=this.extractLocation(p?p[1]:d.pop());return{functionName:d.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(p[0])?void 0:p[0],lineNumber:p[1],columnNumber:p[2],source:b}},this)},parseFFOrSafari:function(y){return y.stack.split(`
`).filter(function(b){return!b.match(c)},this).map(function(b){var d,p;return(b=-1<b.indexOf(" > eval")?b.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):b).indexOf("@")===-1&&b.indexOf(":")===-1?{functionName:b}:{functionName:(p=b.match(d=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&p[1]?p[1]:void 0,fileName:(p=this.extractLocation(b.replace(d,"")))[0],lineNumber:p[1],columnNumber:p[2],source:b}},this)},parseOpera:function(y){return!y.stacktrace||-1<y.message.indexOf(`
`)&&y.message.split(`
`).length>y.stacktrace.split(`
`).length?this.parseOpera9(y):y.stack?this.parseOpera11(y):this.parseOpera10(y)},parseOpera9:function(y){for(var b=/Line (\d+).*script (?:in )?(\S+)/i,d=y.message.split(`
`),p=[],h=2,g=d.length;h<g;h+=2){var m=b.exec(d[h]);m&&p.push({fileName:m[2],lineNumber:m[1],source:d[h]})}return p},parseOpera10:function(y){for(var b=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,d=y.stacktrace.split(`
`),p=[],h=0,g=d.length;h<g;h+=2){var m=b.exec(d[h]);m&&p.push({functionName:m[3]||void 0,fileName:m[2],lineNumber:m[1],source:d[h]})}return p},parseOpera11:function(y){return y.stack.split(`
`).filter(function(b){return!!b.match(l)&&!b.match(/^Error created at/)},this).map(function(b){var d,h=b.split("@"),p=this.extractLocation(h.pop()),h=h.shift()||"";return{functionName:h.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(d=h.match(/\(([^)]*)\)/)?h.replace(/^[^(]+\(([^)]*)\)$/,"$1"):d)===void 0||d==="[arguments not available]"?void 0:d.split(","),fileName:p[0],lineNumber:p[1],columnNumber:p[2],source:b}},this)}}}t.default._getErrorStackParser=function(){return new s},t=t.default,u.default=t},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(t,i,u){"use strict";function s(y){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var l=(l=t("../main"))&&l.__esModule?l:{default:l};(function(y){if(!(y&&y.__esModule)&&!(y===null||c(y)!=="object"&&typeof y!="function")){var b=a();if(b&&b.has(y))return b.get(y);var d,p={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in y){var g;Object.prototype.hasOwnProperty.call(y,d)&&((g=h?Object.getOwnPropertyDescriptor(y,d):null)&&(g.get||g.set)?Object.defineProperty(p,d,g):p[d]=y[d])}p.default=y,b&&b.set(y,p)}})(t("../constants")),t("../internationalization");function a(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,a=function(){return y},y)}function c(y){return(c=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(b){return s(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":s(b)})(y)}l.default._validateParameters=l.default._clearValidateParamsCache=function(){},t=l.default,u.default=t},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(t,i,u){"use strict";function s(y){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(y)}function l(y){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(b){return s(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":s(b)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=function(y){if(y&&y.__esModule)return y;if(y===null||l(y)!=="object"&&typeof y!="function")return{default:y};var b=c();if(b&&b.has(y))return b.get(y);var d,p={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in y){var g;Object.prototype.hasOwnProperty.call(y,d)&&((g=h?Object.getOwnPropertyDescriptor(y,d):null)&&(g.get||g.set)?Object.defineProperty(p,d,g):p[d]=y[d])}return p.default=y,b&&b.set(y,p),p}(t("./constants"));function c(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,c=function(){return y},y)}u.default={modeAdjust:function(y,b,d,p,h){return h===a.CORNER?{x:y,y:b,w:d,h:p}:h===a.CORNERS?{x:y,y:b,w:d-y,h:p-b}:h===a.RADIUS?{x:y-d,y:b-p,w:2*d,h:2*p}:h===a.CENTER?{x:y-.5*d,y:b-.5*p,w:d,h:p}:void 0}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(t,i,u){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var s=(l=t("../core/main"))&&l.__esModule?l:{default:l};t("./internationalization");var l=Promise.resolve();Promise.all([new Promise(function(a,c){document.readyState==="complete"?a():window.addEventListener("load",a,!1)}),l]).then(function(){var a;window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(a=new Event("p5Ready"),window.dispatchEvent(a),(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!s.default.instance&&new s.default)})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(t,i,u){"use strict";t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.setTranslatorLanguage=u.currentTranslatorLanguage=u.availableTranslatorLanguages=u.initialize=u.translator=void 0;var s,l,a=y(t("i18next")),c=y(t("i18next-browser-languagedetector"));function y(p){return p&&p.__esModule?p:{default:p}}function b(p,h){for(var g=0;g<h.length;g++){var m=h[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}var d=function(){function p(f,v){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.init(f,v)}var h,g,m;return h=p,(g=[{key:"fetchWithTimeout",value:function(f,v){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(f,v),new Promise(function(x,S){return setTimeout(function(){return S(new Error("timeout"))},_)})])}},{key:"init",value:function(f){var v=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=f,this.options=v}},{key:"read",value:function(f,v,_){var x=this.options.loadPath;f===this.options.fallback?_(null,s[f][v]):l.includes(f)?(x=this.services.interpolator.interpolate(x,{lng:f,ns:v}),this.loadUrl(x,_)):_("Not found",!1)}},{key:"loadUrl",value:function(f,v){this.fetchWithTimeout(f).then(function(_){if(_.ok)return _.json();throw new Error("failed loading ".concat(f))},function(){throw new Error("failed loading ".concat(f))}).then(function(_){return v(null,_)}).catch(v)}}])&&b(h.prototype,g),m&&b(h,m),p}();d.type="backend",u.translator=function(p,h){console.debug("p5.js translator called before translations were loaded"),a.default.t(p,h)},u.initialize=function(){return a.default.use(c.default).use(d).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:s}).then(function(p){u.translator=p},function(p){return console.debug("Translations failed to load (".concat(p,")"))})},u.availableTranslatorLanguages=function(){return a.default.languages},u.currentTranslatorLanguage=function(p){return a.default.language},u.setTranslatorLanguage=function(p){return a.default.changeLanguage(p||void 0,function(h){return console.debug("Translations failed to load (".concat(h,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(t,i,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,u.default=t},{"./main":283}],283:[function(t,i,u){"use strict";function s(p){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(p)}function l(p){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(h){return s(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":s(h)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t("./shim");var a=function(p){if(p&&p.__esModule)return p;if(p===null||l(p)!=="object"&&typeof p!="function")return{default:p};var h=c();if(h&&h.has(p))return h.get(p);var g,m={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in p){var v;Object.prototype.hasOwnProperty.call(p,g)&&((v=f?Object.getOwnPropertyDescriptor(p,g):null)&&(v.get||v.set)?Object.defineProperty(m,g,v):m[g]=p[g])}return m.default=p,h&&h.set(p,m),m}(t("./constants"));function c(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,c=function(){return p},p)}function y(p,h){for(var g=0;g<h.length;g++){var m=h[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}var b,d=function(){function p(f,x){var _=this;if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=x,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var x=Object.getOwnPropertyNames(p.prototype._registeredMethods),S=!0,j=!1,T=void 0;try{for(var C,M=x[Symbol.iterator]();!(S=(C=M.next()).done);S=!0){var k=C.value;this._registeredMethods[k]=p.prototype._registeredMethods[k].slice()}}catch(G){j=!0,T=G}finally{try{S||M.return==null||M.return()}finally{if(j)throw T}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),p.prototype.callRegisteredHooksFor=function(G){var W=this||p.prototype,Z=this._isGlobal?window:this;if(W._registeredMethods.hasOwnProperty(G)){var W=W._registeredMethods[G],ae=!0,G=!1,L=void 0;try{for(var D,U=W[Symbol.iterator]();!(ae=(D=U.next()).done);ae=!0){var H=D.value;typeof H=="function"&&H.call(Z)}}catch(le){G=!0,L=le}finally{try{ae||U.return==null||U.return()}finally{if(G)throw L}}}},this._start=function(){_._userNode&&typeof _._userNode=="string"&&(_._userNode=document.getElementById(_._userNode));var G=_._isGlobal?window:_;if(G.preload){_.callRegisteredHooksFor("beforePreload");var W,Z=document.getElementById(_._loadingScreenId),ae=(Z||((Z=document.createElement("div")).innerHTML="Loading...",Z.style.position="absolute",Z.id=_._loadingScreenId,(_._userNode||document.body).appendChild(Z)),_._preloadMethods);for(W in ae){ae[W]=ae[W]||p;var L=ae[W];L!==p.prototype&&L!==p||(_._isGlobal&&(window[W]=_._wrapPreload(_,W)),L=_),_._registeredPreloadMethods[W]=L[W],L[W]=_._wrapPreload(L,W)}G.preload(),_._runIfPreloadsAreDone()}else _._setup(),_._recording||_._draw()},this._runIfPreloadsAreDone=function(){var G,W=this._isGlobal?window:this;W._preloadCount===0&&((G=document.getElementById(W._loadingScreenId))&&G.parentNode.removeChild(G),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),W._setup(),this._recording||W._draw()))},this._decrementPreload=function(){var G=this._isGlobal?window:this;G._preloadDone||typeof G.preload!="function"||(G._setProperty("_preloadCount",G._preloadCount-1),G._runIfPreloadsAreDone())},this._wrapPreload=function(G,W){var Z=this;return function(){Z._incrementPreload();for(var ae=arguments.length,L=new Array(ae),D=0;D<ae;D++)L[D]=arguments[D];return Z._registeredPreloadMethods[W].apply(G,L)}},this._incrementPreload=function(){var G=this._isGlobal?window:this;G._preloadDone||G._setProperty("_preloadCount",G._preloadCount+1)},this._setup=function(){_.callRegisteredHooksFor("beforeSetup"),_.createCanvas(_._defaultCanvasSize.width,_._defaultCanvasSize.height,"p2d");var G=_._isGlobal?window:_;if(typeof G.preload=="function")for(var W in _._preloadMethods)G[W]=_._preloadMethods[W][W],G[W]&&_&&(G[W]=G[W].bind(_));_._millisStart=window.performance.now(),G._preloadDone=!0,typeof G.setup=="function"&&G.setup();var Z=document.getElementsByTagName("canvas"),ae=!0,L=!1,D=void 0;try{for(var U,H=Z[Symbol.iterator]();!(ae=(U=H.next()).done);ae=!0){var X=U.value;X.dataset.hidden==="true"&&(X.style.visibility="",delete X.dataset.hidden)}}catch(J){L=!0,D=J}finally{try{ae||H.return==null||H.return()}finally{if(L)throw D}}_._lastTargetFrameTime=window.performance.now(),_._lastRealFrameTime=window.performance.now(),_._setupDone=!0,(_._accessibleOutputs.grid||_._accessibleOutputs.text)&&_._updateAccsOutput(),_.callRegisteredHooksFor("afterSetup")},this._draw=function(W){var W=W||window.performance.now(),Z=W-_._lastTargetFrameTime,ae=1e3/_._targetFrameRate;(!_._loop||ae-5<=Z)&&(_.deltaTime=W-_._lastRealFrameTime,_._setProperty("deltaTime",_.deltaTime),_._frameRate=1e3/_.deltaTime,_.redraw(),_._lastTargetFrameTime=Math.max(_._lastTargetFrameTime+ae,W),_._lastRealFrameTime=W,_._updateMouseCoords!==void 0&&(_._updateMouseCoords(),_._setProperty("movedX",0),_._setProperty("movedY",0))),_._loop&&(_._requestAnimId=window.requestAnimationFrame(_._draw))},this._setProperty=function(G,W){_[G]=W,_._isGlobal&&(window[G]=W)},this.remove=function(){_._startListener&&window.removeEventListener("load",_._startListener,!1);var G=document.getElementById(_._loadingScreenId);if(G&&(G.parentNode.removeChild(G),_._incrementPreload()),_._curElement){for(var W in _._loop=!1,_._requestAnimId&&window.cancelAnimationFrame(_._requestAnimId),_._events)window.removeEventListener(W,_._events[W]);var Z=!0,G=!1,ae=void 0;try{for(var L,D=_._elements[Symbol.iterator]();!(Z=(L=D.next()).done);Z=!0){var U,H=L.value;for(U in H.elt&&H.elt.parentNode&&H.elt.parentNode.removeChild(H.elt),H._events)H.elt.removeEventListener(U,H._events[U])}}catch(ne){G=!0,ae=ne}finally{try{Z||D.return==null||D.return()}finally{if(G)throw ae}}var X=_;_._registeredMethods.remove.forEach(function(ne){ne!==void 0&&ne.call(X)})}if(_._isGlobal){for(var J in p.prototype)try{delete window[J]}catch{window[J]=void 0}for(var le in _)if(_.hasOwnProperty(le))try{delete window[le]}catch{window[le]=void 0}p.instance=null}},this._updateWindowSize(),this._registeredMethods.init.forEach(function(G){G!==void 0&&G.call(this)},this),this._setupPromisePreloads();var A,P,O=this._createFriendlyGlobalFunctionBinder();if(f)f(this),p._checkForUserDefinedFunctions(this);else{for(var V in this._isGlobal=!0,p.instance=this,p.prototype)typeof p.prototype[V]=="function"?(A=V.substring(2),this._events.hasOwnProperty(A)||(Math.hasOwnProperty(V)&&Math[V]===p.prototype[V]?O(V,p.prototype[V]):O(V,p.prototype[V].bind(this)))):O(V,p.prototype[V]);for(var F in this)this.hasOwnProperty(F)&&O(F,this[F])}for(P in this._events){var R=this["_on".concat(P)];R&&(R=R.bind(this),window.addEventListener(P,R,{passive:!1}),this._events[P]=R)}function z(){_._setProperty("focused",!0)}function q(){_._setProperty("focused",!1)}window.addEventListener("focus",z),window.addEventListener("blur",q),this.registerMethod("remove",function(){window.removeEventListener("focus",z),window.removeEventListener("blur",q)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var h,g,m;return h=p,(g=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=a.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(f,v){p.prototype._preloadMethods.hasOwnProperty(f)||(p.prototype._preloadMethods[f]=v)}},{key:"registerMethod",value:function(f,v){var _=this||p.prototype;_._registeredMethods.hasOwnProperty(f)||(_._registeredMethods[f]=[]),_._registeredMethods[f].push(v)}},{key:"unregisterMethod",value:function(f,v){var _=this||p.prototype;if(_._registeredMethods.hasOwnProperty(f)){for(var x=_._registeredMethods[f],S=[],j=0;j<x.length;j++)x[j]===v&&S.push(j);for(var T=S.length-1;0<=T;T--)x.splice(S[T],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var f=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},v=f.globalObject||window;return f.log||console.log.bind(console),function(_,x){p.disableFriendlyErrors,v[_]=x}}}])&&y(h.prototype,g),m&&y(h,m),p}();for(b in d.instance=null,d.disableFriendlyErrors=!1,a)d.prototype[b]=a[b];d.VERSION=a.VERSION,d.prototype._preloadMethods={loadJSON:d.prototype,loadImage:d.prototype,loadStrings:d.prototype,loadXML:d.prototype,loadBytes:d.prototype,loadTable:d.prototype,loadFont:d.prototype,loadModel:d.prototype,loadShader:d.prototype},d.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},d.prototype._registeredPreloadMethods={},u.default=d},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(t,i,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=(t=t("./main"))&&t.__esModule?t:{default:t};function l(a,c){for(var y=0;y<c.length;y++){var b=c[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(a,b.key,b)}}s.default.Element=function(){function a(d,p){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.elt=d,this._pInst=this._pixelsState=p,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var c,y,b;return c=a,b=[{key:"_adjustListener",value:function(d,p,h){return p===!1?s.default.Element._detachListener(d,h):s.default.Element._attachListener(d,p,h),this}},{key:"_attachListener",value:function(d,p,h){h._events[d]&&s.default.Element._detachListener(d,h),p=p.bind(h),h.elt.addEventListener(d,p,!1),h._events[d]=p}},{key:"_detachListener",value:function(d,p){var h=p._events[d];p.elt.removeEventListener(d,h,!1),p._events[d]=null}}],(y=[{key:"parent",value:function(d){return d===void 0?this.elt.parentNode:(typeof d=="string"?(d[0]==="#"&&(d=d.substring(1)),d=document.getElementById(d)):d instanceof s.default.Element&&(d=d.elt),d.appendChild(this.elt),this)}},{key:"id",value:function(d){return d===void 0?this.elt.id:(this.elt.id=d,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(d){return d===void 0?this.elt.className:(this.elt.className=d,this)}},{key:"mousePressed",value:function(d){return s.default.Element._adjustListener("mousedown",function(p){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(p),d.call(this,p)},this),this}},{key:"doubleClicked",value:function(d){return s.default.Element._adjustListener("dblclick",d,this),this}},{key:"mouseWheel",value:function(d){return s.default.Element._adjustListener("wheel",d,this),this}},{key:"mouseReleased",value:function(d){return s.default.Element._adjustListener("mouseup",d,this),this}},{key:"mouseClicked",value:function(d){return s.default.Element._adjustListener("click",d,this),this}},{key:"mouseMoved",value:function(d){return s.default.Element._adjustListener("mousemove",d,this),this}},{key:"mouseOver",value:function(d){return s.default.Element._adjustListener("mouseover",d,this),this}},{key:"mouseOut",value:function(d){return s.default.Element._adjustListener("mouseout",d,this),this}},{key:"touchStarted",value:function(d){return s.default.Element._adjustListener("touchstart",d,this),this}},{key:"touchMoved",value:function(d){return s.default.Element._adjustListener("touchmove",d,this),this}},{key:"touchEnded",value:function(d){return s.default.Element._adjustListener("touchend",d,this),this}},{key:"dragOver",value:function(d){return s.default.Element._adjustListener("dragover",d,this),this}},{key:"dragLeave",value:function(d){return s.default.Element._adjustListener("dragleave",d,this),this}},{key:"_setProperty",value:function(d,p){this[d]=p}}])&&l(c.prototype,y),b&&l(c,b),a}(),t=s.default.Element,u.default=t},{"./main":283}],285:[function(t,i,u){"use strict";function s(v){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(v)}function l(v){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(_){return s(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":s(_)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=(f=t("./main"))&&f.__esModule?f:{default:f},c=function(v){if(v&&v.__esModule)return v;if(v===null||l(v)!=="object"&&typeof v!="function")return{default:v};var _=y();if(_&&_.has(v))return _.get(v);var x,S={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in v){var T;Object.prototype.hasOwnProperty.call(v,x)&&((T=j?Object.getOwnPropertyDescriptor(v,x):null)&&(T.get||T.set)?Object.defineProperty(S,x,T):S[x]=v[x])}return S.default=v,_&&_.set(v,S),S}(t("./constants"));function y(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,y=function(){return v},v)}function b(v,_){for(var x=0;x<_.length;x++){var S=_[x];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}function d(v,_){return(d=Object.setPrototypeOf||function(x,S){return x.__proto__=S,x})(v,_)}function p(v){return function(){var _,x=m(v);return h(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(_=m(this).constructor,Reflect.construct(x,arguments,_)):x.apply(this,arguments))}}function h(v,_){return!_||l(_)!=="object"&&typeof _!="function"?g(v):_}function g(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function m(v){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(v)}a.default.Graphics=function(v){var _=j;if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),v&&d(_,v);var x,S=p(j);function j(T,C,F,k,A){var P;if(!(this instanceof j))throw new TypeError("Cannot call a class as a function");V=A||document.createElement("canvas"),(P=S.call(this,V,k)).canvas=V;var O,V=F||c.P2D,F=k._userNode||document.body;for(O in A||F.appendChild(P.canvas),a.default.prototype)P[O]||(typeof a.default.prototype[O]=="function"?P[O]=a.default.prototype[O].bind(g(P)):P[O]=a.default.prototype[O]);return a.default.prototype._initializeInstanceVariables.apply(g(P)),P.width=T,P.height=C,P._pixelDensity=k._pixelDensity,V===c.WEBGL?(P._renderer=new a.default.RendererGL(P.canvas,g(P),!1),T=(A=P._renderer._adjustDimensions(T,C)).adjustedWidth,C=A.adjustedHeight):P._renderer=new a.default.Renderer2D(P.canvas,g(P),!1),k._elements.push(g(P)),Object.defineProperty(g(P),"deltaTime",{get:function(){return this._pInst.deltaTime}}),P._renderer.resize(T,C),P._renderer._applyDefaults(),h(P,g(P))}return _=j,(v=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var T,C=this._pInst._elements.indexOf(this);for(T in C!==-1&&this._pInst._elements.splice(C,1),this._events)this.elt.removeEventListener(T,this._events[T]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(T){return new a.default.Framebuffer(this,T)}}])&&b(_.prototype,v),x&&b(_,x),j}(a.default.Element);var f=a.default.Graphics;u.default=f},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(t,i,u){"use strict";function s(v){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var l=(m=t("./main"))&&m.__esModule?m:{default:m},a=function(v){if(v&&v.__esModule)return v;if(v===null||y(v)!=="object"&&typeof v!="function")return{default:v};var _=c();if(_&&_.has(v))return _.get(v);var x,S={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in v){var T;Object.prototype.hasOwnProperty.call(v,x)&&((T=j?Object.getOwnPropertyDescriptor(v,x):null)&&(T.get||T.set)?Object.defineProperty(S,x,T):S[x]=v[x])}return S.default=v,_&&_.set(v,S),S}(t("../core/constants"));function c(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,c=function(){return v},v)}function y(v){return(y=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(_){return s(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":s(_)})(v)}function b(v,_){for(var x=0;x<_.length;x++){var S=_[x];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}function d(v,_){return(d=Object.setPrototypeOf||function(x,S){return x.__proto__=S,x})(v,_)}function p(v){return function(){var _,x,S=g(v);return _=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(_=g(this).constructor,Reflect.construct(S,arguments,_)):S.apply(this,arguments),S=this,!(x=_)||y(x)!=="object"&&typeof x!="function"?h(S):x}}function h(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function g(v){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(v)}var m=function(v){var _=j;if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),v&&d(_,v);var x,S=p(j);function j(T,C,M){var k;if(this instanceof j)return(k=S.call(this,T,C)).canvas=T,k._pixelsState=C,M?(k._isMainCanvas=!0,k._pInst._setProperty("_curElement",h(k)),k._pInst._setProperty("canvas",k.canvas),k._pInst._setProperty("width",k.width),k._pInst._setProperty("height",k.height)):(k.canvas.style.display="none",k._styles=[]),k._clipping=!1,k._clipInvert=!1,k._textSize=12,k._textLeading=15,k._textFont="sans-serif",k._textStyle=a.NORMAL,k._textAscent=null,k._textDescent=null,k._textAlign=a.LEFT,k._textBaseline=a.BASELINE,k._textWrap=a.WORD,k._rectMode=a.CORNER,k._ellipseMode=a.CENTER,k._curveTightness=0,k._imageMode=a.CORNER,k._tint=null,k._doStroke=!0,k._doFill=!0,k._strokeSet=!1,k._fillSet=!1,k._leadingSet=!1,k._pushPopDepth=0,k;throw new TypeError("Cannot call a class as a function")}return _=j,(v=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(T){this._pushPopDepth--,T.properties&&Object.assign(this,T.properties)}},{key:"beginClip",value:function(){var T=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=T.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(T,C){this.width=T,this.height=C,this.elt.width=T*this._pInst._pixelDensity,this.elt.height=C*this._pInst._pixelDensity,this.elt.style.width="".concat(T,"px"),this.elt.style.height="".concat(C,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(T,C,M,k){var A=this._pixelsState,P=A._pixelDensity,O=this.canvas;if(T===void 0&&C===void 0)T=C=0,M=A.width,k=A.height;else if(T*=P,C*=P,M===void 0&&k===void 0)return T<0||C<0||T>=O.width||C>=O.height?[0,0,0,0]:this._getPixel(T,C);return A=new l.default.Image(M*P,k*P),A.pixelDensity(P),A.canvas.getContext("2d").drawImage(O,T,C,M*P,k*P,0,0,M*P,k*P),A}},{key:"textLeading",value:function(T){return typeof T=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",T),this._pInst):this._textLeading}},{key:"textStyle",value:function(T){return T?(T!==a.NORMAL&&T!==a.ITALIC&&T!==a.BOLD&&T!==a.BOLDITALIC||this._setProperty("_textStyle",T),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(T,C){return T!==void 0?(this._setProperty("_textAlign",T),C!==void 0&&this._setProperty("_textBaseline",C),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(T){return this._setProperty("_textWrap",T),this._textWrap}},{key:"text",value:function(T,C,M,k,A){var P,O,V,F,R=this._pInst,z=this._textWrap,q=Number.MAX_VALUE,G=M;if((this._doFill||this._doStroke)&&T!==void 0){if(P=(T=(T=typeof T!="string"?T.toString():T).replace(/(\t)/g,"  ")).split(`
`),k!==void 0){switch(this._rectMode===a.CENTER&&(C-=k/2),this._textAlign){case a.CENTER:C+=k/2;break;case a.RIGHT:C+=k}if(A!==void 0){this._rectMode===a.CENTER&&(M-=A/2,G-=A/2);var T=M,W=R.textAscent();switch(this._textBaseline){case a.BOTTOM:F=M+A,M=Math.max(F,M),G+=W;break;case a.CENTER:F=M+A/2,M=Math.max(F,M),G+=W/2}q=M+A-W,this._textBaseline===a.CENTER&&(q=T+A-W/2)}else this._textBaseline!==a.BOTTOM&&this._textBaseline!==a.CENTER||(G=M-(T=R.textSize()*this._textLeading)/2,q=M+T/2);if(z===a.WORD){for(var Z=[],ae=0;ae<P.length;ae++){for(var L="",D=P[ae].split(" "),U=0;U<D.length;U++)O="".concat(L+D[U])+" ",L=k<(V=this.textWidth(O))&&0<L.length?(Z.push(L),"".concat(D[U])+" "):O;Z.push(L)}var H=0;this._textBaseline===a.CENTER?H=(Z.length-1)*R.textLeading()/2:this._textBaseline===a.BOTTOM&&(H=(Z.length-1)*R.textLeading());for(var X=0;X<P.length;X++){L="",D=P[X].split(" ");for(var J=0;J<D.length;J++)O="".concat(L+D[J])+" ",k<(V=this.textWidth(O))&&0<L.length?(this._renderText(R,L.trim(),C,M-H,q,G),L="".concat(D[J])+" ",M+=R.textLeading()):L=O;this._renderText(R,L.trim(),C,M-H,q,G),M+=R.textLeading()}}else{for(var le=[],se=0;se<P.length;se++)for(var ne=P[se].split(L=""),ce=0;ce<ne.length;ce++)O="".concat(L+ne[ce]),(V=this.textWidth(O))<=k?L+=ne[ce]:k<V&&0<L.length&&(le.push(L),L="".concat(ne[ce]));le.push(L);var he=0;this._textBaseline===a.CENTER?he=(le.length-1)*R.textLeading()/2:this._textBaseline===a.BOTTOM&&(he=(le.length-1)*R.textLeading());for(var ee=0;ee<P.length;ee++){ne=P[ee].split(L="");for(var oe=0;oe<ne.length;oe++)O="".concat(L+ne[oe]),(V=this.textWidth(O))<=k?L+=ne[oe]:k<V&&0<L.length&&(this._renderText(R,L.trim(),C,M-he,q,G),M+=R.textLeading(),L="".concat(ne[oe]))}this._renderText(R,L.trim(),C,M-he,q,G),M+=R.textLeading()}}else{var fe=0;this._textBaseline===a.CENTER?fe=(P.length-1)*R.textLeading()/2:this._textBaseline===a.BOTTOM&&(fe=(P.length-1)*R.textLeading());for(var _e=0;_e<P.length;_e++)this._renderText(R,P[_e],C,M-fe,q,G-fe),M+=R.textLeading()}return R}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var T=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return y(T)==="object"&&T.font&&T.font.supported}},{key:"_updateTextMetrics",value:function(){var T,C,M,k,A,P;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((T=document.createElement("span")).style.fontFamily=this._textFont,T.style.fontSize="".concat(this._textSize,"px"),T.innerHTML="ABCjgq|",(P=document.createElement("div")).style.display="inline-block",P.style.width="1px",P.style.height="0px",k=((C=document.createElement("div")).appendChild(T),C.appendChild(P),C.style.height="0px",C.style.overflow="hidden",document.body.appendChild(C),P.style.verticalAlign="baseline",f(P)),A=f(T),M=k[1]-A[1],k=(P.style.verticalAlign="bottom",f(P)),A=f(T),P=k[1]-A[1]-M,document.body.removeChild(C),this._setProperty("_textAscent",M),this._setProperty("_textDescent",P)),this}}])&&b(_.prototype,v),x&&b(_,x),j}(l.default.Element);function f(v){var _=0,x=0;if(v.offsetParent)for(;_+=v.offsetLeft,x+=v.offsetTop,v=v.offsetParent;);else _+=v.offsetLeft,x+=v.offsetTop;return[_,x]}m.prototype.textSize=function(v){return typeof v=="number"?(this._setProperty("_textSize",v),this._leadingSet||this._setProperty("_textLeading",v*a._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},l.default.Renderer=m,t=l.default.Renderer,u.default=t},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(v,i,u){"use strict";function s(_){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(_)}function l(_){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(x){return s(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":s(x)})(_)}v("core-js/modules/es.symbol"),v("core-js/modules/es.symbol.description"),v("core-js/modules/es.symbol.iterator"),v("core-js/modules/es.array.concat"),v("core-js/modules/es.array.fill"),v("core-js/modules/es.array.iterator"),v("core-js/modules/es.array.join"),v("core-js/modules/es.array.slice"),v("core-js/modules/es.function.name"),v("core-js/modules/es.object.get-own-property-descriptor"),v("core-js/modules/es.object.get-prototype-of"),v("core-js/modules/es.object.to-string"),v("core-js/modules/es.reflect.construct"),v("core-js/modules/es.reflect.get"),v("core-js/modules/es.regexp.exec"),v("core-js/modules/es.regexp.to-string"),v("core-js/modules/es.string.iterator"),v("core-js/modules/es.weak-map"),v("core-js/modules/web.dom-collections.iterator"),v("core-js/modules/es.array.concat"),v("core-js/modules/es.array.fill"),v("core-js/modules/es.array.join"),v("core-js/modules/es.array.slice"),v("core-js/modules/es.function.name"),v("core-js/modules/es.object.get-prototype-of"),v("core-js/modules/es.object.to-string"),v("core-js/modules/es.regexp.exec"),v("core-js/modules/es.regexp.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=(f=v("./main"))&&f.__esModule?f:{default:f},c=function(_){if(_&&_.__esModule)return _;if(_===null||l(_)!=="object"&&typeof _!="function")return{default:_};var x=y();if(x&&x.has(_))return x.get(_);var S,j={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in _){var C;Object.prototype.hasOwnProperty.call(_,S)&&((C=T?Object.getOwnPropertyDescriptor(_,S):null)&&(C.get||C.set)?Object.defineProperty(j,S,C):j[S]=_[S])}return j.default=_,x&&x.set(_,j),j}(v("./constants"));function y(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,y=function(){return _},_)}function b(_,x){for(var S=0;S<x.length;S++){var j=x[S];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(_,j.key,j)}}function d(_,x,S){return(d=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(M,T,C){var M=function(k,A){for(;!Object.prototype.hasOwnProperty.call(k,A)&&(k=g(k))!==null;);return k}(M,T);if(M)return(M=Object.getOwnPropertyDescriptor(M,T)).get?M.get.call(C):M.value})(_,x,S||_)}function p(_,x){return(p=Object.setPrototypeOf||function(S,j){return S.__proto__=j,S})(_,x)}function h(_){return function(){var x,S=g(_),S=(x=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(x=g(this).constructor,Reflect.construct(S,arguments,x)):S.apply(this,arguments),this);if(!x||l(x)!=="object"&&typeof x!="function"){if(S!==void 0)return S;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return x}}function g(_){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(_)}v("./p5.Renderer");var m="rgba(0,0,0,0)",f=function(_){var x=T;if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(_&&_.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),_&&p(x,_);var S,j=h(T);function T(C,M,k){if(this instanceof T)return(C=j.call(this,C,M,k)).drawingContext=C.canvas.getContext("2d"),C._pInst._setProperty("drawingContext",C.drawingContext),C;throw new TypeError("Cannot call a class as a function")}return x=T,(_=[{key:"getFilterGraphicsLayer",value:function(){var C;return this.filterGraphicsLayer||(C=(this._pInst instanceof a.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new a.default.Graphics(this.width,this.height,c.WEBGL,C)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=c.BLEND,this._setFill(c._DEFAULT_FILL),this._setStroke(c._DEFAULT_STROKE),this.drawingContext.lineCap=c.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(C,M){d(g(T.prototype),"resize",this).call(this,C,M),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var C,M;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof a.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(C=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(C,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(C=this._getFill(),M=(M=this._pInst).color.apply(M,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(M.levels),M=M.toString(),this._setFill(M),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(C),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var C=(C=this._pInst).color.apply(C,arguments);this._setFill(C.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",C.levels)}},{key:"stroke",value:function(){var C=(C=this._pInst).color.apply(C,arguments);this._setStroke(C.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",C.levels)}},{key:"erase",value:function(C,M){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,C=this._pInst.color(255,C).toString(),this.drawingContext.fillStyle=C,this._cachedStrokeStyle=this.drawingContext.strokeStyle,C=this._pInst.color(255,M).toString(),this.drawingContext.strokeStyle=C,M=this._cachedBlendMode,this.blendMode(c.REMOVE),this._cachedBlendMode=M,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var C=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},C=(d(g(T.prototype),"beginClip",this).call(this,C),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),C=(this.drawingContext.fillStyle=C,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),C=(this.drawingContext.strokeStyle=C,this._cachedBlendMode);this.blendMode(c.BLEND),this._cachedBlendMode=C,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),d(g(T.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(C,M,k,A,P,O,V,F,R){C.gifProperties&&C._animateGif(this._pInst);try{a.default.MediaElement&&C instanceof a.default.MediaElement&&C._ensureCanvas();var z=(z=this._tint&&C.canvas?this._getTintedImageCanvas(C):z)||C.canvas||C.elt,q=1;C.width&&0<C.width&&(q=z.width/C.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(z,q*M,q*k,q*A,q*P,O,V,F,R),this._isErasing&&this._pInst.erase()}catch(G){if(G.name!=="NS_ERROR_NOT_AVAILABLE")throw G}}},{key:"_getTintedImageCanvas",value:function(C){if(!C.canvas)return C;C.tintCanvas||(C.tintCanvas=document.createElement("canvas")),C.tintCanvas.width!==C.canvas.width&&(C.tintCanvas.width=C.canvas.width),C.tintCanvas.height!==C.canvas.height&&(C.tintCanvas.height=C.canvas.height);var M=C.tintCanvas.getContext("2d");return M.save(),M.clearRect(0,0,C.canvas.width,C.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(M.drawImage(C.canvas,0,0),M.globalCompositeOperation="luminosity",M.drawImage(C.canvas,0,0),M.globalCompositeOperation="color",M.drawImage(C.canvas,0,0),M.globalCompositeOperation="multiply",M.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),M.fillRect(0,0,C.canvas.width,C.canvas.height),M.globalCompositeOperation="destination-in"),M.globalAlpha=this._tint[3]/255,M.drawImage(C.canvas,0,0),M.restore(),C.tintCanvas}},{key:"blendMode",value:function(C){if(C===c.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(C!==c.BLEND&&C!==c.REMOVE&&C!==c.DARKEST&&C!==c.LIGHTEST&&C!==c.DIFFERENCE&&C!==c.MULTIPLY&&C!==c.EXCLUSION&&C!==c.SCREEN&&C!==c.REPLACE&&C!==c.OVERLAY&&C!==c.HARD_LIGHT&&C!==c.SOFT_LIGHT&&C!==c.DODGE&&C!==c.BURN&&C!==c.ADD)throw new Error("Mode ".concat(C," not recognized."));this._cachedBlendMode=C,this.drawingContext.globalCompositeOperation=C}}},{key:"blend",value:function(){for(var C=this.drawingContext.globalCompositeOperation,M=arguments.length,k=new Array(M),A=0;A<M;A++)k[A]=arguments[A];var P=k[k.length-1],O=Array.prototype.slice.call(k,0,k.length-1);this.drawingContext.globalCompositeOperation=P,a.default.prototype.copy.apply(this,O),this.drawingContext.globalCompositeOperation=C}},{key:"_getPixel",value:function(C,M){return C=this.drawingContext.getImageData(C,M,1,1).data,[C[0],C[1],C[2],C[3]]}},{key:"loadPixels",value:function(){var C=this._pixelsState,M=C._pixelDensity,k=this.width*M,M=this.height*M,k=this.drawingContext.getImageData(0,0,k,M);C._setProperty("imageData",k),C._setProperty("pixels",k.data)}},{key:"set",value:function(C,M,k){C=Math.floor(C),M=Math.floor(M);var A=this._pixelsState;if(k instanceof a.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(A._pixelDensity,A._pixelDensity),this.drawingContext.clearRect(C,M,k.width,k.height),this.drawingContext.drawImage(k.canvas,C,M),this.drawingContext.restore();else{var P=0,O=0,V=0,F=0,R=4*(M*A._pixelDensity*(this.width*A._pixelDensity)+C*A._pixelDensity);if(A.imageData||A.loadPixels(),typeof k=="number")R<A.pixels.length&&(V=O=P=k,F=255);else if(Array.isArray(k)){if(k.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");R<A.pixels.length&&(P=k[0],O=k[1],V=k[2],F=k[3])}else k instanceof a.default.Color&&R<A.pixels.length&&(P=k.levels[0],O=k.levels[1],V=k.levels[2],F=k.levels[3]);for(var z=0;z<A._pixelDensity;z++)for(var q=0;q<A._pixelDensity;q++)R=4*((M*A._pixelDensity+q)*this.width*A._pixelDensity+(C*A._pixelDensity+z)),A.pixels[R]=P,A.pixels[R+1]=O,A.pixels[R+2]=V,A.pixels[R+3]=F}}},{key:"updatePixels",value:function(C,M,k,A){var P=this._pixelsState,O=P._pixelDensity;C===void 0&&M===void 0&&k===void 0&&A===void 0&&(M=C=0,k=this.width,A=this.height),C*=O,M*=O,k*=O,A*=O,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=P.imageData),this.drawingContext.putImageData(P.imageData,0,0,C,M,k,A)}},{key:"arc",value:function(R,z,q,G,P,O,V){var F=this.drawingContext,R=R+q/2,z=z+G/2,q=q/2,G=G/2,W=!(V===c.CHORD||V===c.OPEN||(O-P)%c.TWO_PI==0);return this._doFill&&(this._clipping||F.beginPath(),F.ellipse(R,z,q,G,0,P,O),W&&F.lineTo(R,z),F.closePath(),this._clipping||F.fill()),this._doStroke&&(this._clipping||F.beginPath(),F.ellipse(R,z,q,G,0,P,O),V===c.PIE&&W&&F.lineTo(R,z),V!==c.PIE&&V!==c.CHORD||F.closePath(),this._clipping||F.stroke()),this}},{key:"ellipse",value:function(F){var M=this.drawingContext,k=this._doFill,A=this._doStroke,P=parseFloat(F[0]),O=parseFloat(F[1]),V=parseFloat(F[2]),F=parseFloat(F[3]);if(k&&!A){if(this._getFill()===m)return this}else if(!k&&A&&this._getStroke()===m)return this;P+=V/2,O+=F/2,V/=2,F/=2,this._clipping||M.beginPath(),M.ellipse(P,O,V,F,0,0,2*Math.PI),M.closePath(),!this._clipping&&k&&M.fill(),!this._clipping&&A&&M.stroke()}},{key:"line",value:function(C,M,k,A){var P=this.drawingContext;return this._doStroke&&this._getStroke()!==m&&(this._clipping||P.beginPath(),P.moveTo(C,M),P.lineTo(k,A),P.stroke()),this}},{key:"point",value:function(C,M){var k,A,P=this.drawingContext;return!this._doStroke||this._getStroke()===m?this:(k=this._getStroke(),A=this._getFill(),this._clipping||this._setFill(k),this._clipping||P.beginPath(),P.arc(C,M,P.lineWidth/2,0,c.TWO_PI,!1),void(this._clipping||(P.fill(),this._setFill(A))))}},{key:"quad",value:function(C,M,k,A,P,O,V,F){var R=this.drawingContext,z=this._doFill,q=this._doStroke;if(z&&!q){if(this._getFill()===m)return this}else if(!z&&q&&this._getStroke()===m)return this;return this._clipping||R.beginPath(),R.moveTo(C,M),R.lineTo(k,A),R.lineTo(P,O),R.lineTo(V,F),R.closePath(),!this._clipping&&z&&R.fill(),!this._clipping&&q&&R.stroke(),this}},{key:"rect",value:function(q){var M,k,A=q[0],P=q[1],O=q[2],V=q[3],F=q[4],R=q[5],z=q[6],q=q[7],G=this.drawingContext,W=this._doFill,Z=this._doStroke;if(W&&!Z){if(this._getFill()===m)return this}else if(!W&&Z&&this._getStroke()===m)return this;return this._clipping||G.beginPath(),F===void 0?G.rect(A,P,O,V):(R===void 0&&(R=F),z===void 0&&(z=R),q===void 0&&(q=z),Z=(W=Math.abs(O))/2,k=(M=Math.abs(V))/2,G.roundRect(A,P,O,V,[F=M<2*(F=W<2*F?Z:F)?k:F,R=M<2*(R=W<2*R?Z:R)?k:R,z=M<2*(z=W<2*z?Z:z)?k:z,q=M<2*(q=W<2*q?Z:q)?k:q])),!this._clipping&&this._doFill&&G.fill(),!this._clipping&&this._doStroke&&G.stroke(),this}},{key:"triangle",value:function(z){var M=this.drawingContext,k=this._doFill,A=this._doStroke,P=z[0],O=z[1],V=z[2],F=z[3],R=z[4],z=z[5];if(k&&!A){if(this._getFill()===m)return this}else if(!k&&A&&this._getStroke()===m)return this;this._clipping||M.beginPath(),M.moveTo(P,O),M.lineTo(V,F),M.lineTo(R,z),M.closePath(),!this._clipping&&k&&M.fill(),!this._clipping&&A&&M.stroke()}},{key:"endShape",value:function(C,M,k,A,P,O,V){if(M.length!==0&&(this._doStroke||this._doFill)){var F,R,z,q=C===c.CLOSE,G=(q&&!O&&M.push(M[0]),M.length);if(k&&V===null){if(3<G){var W=[],Z=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(M[1][0],M[1][1]),R=1;R+2<G;R++)F=M[R],W[0]=[F[0],F[1]],W[1]=[F[0]+(Z*M[R+1][0]-Z*M[R-1][0])/6,F[1]+(Z*M[R+1][1]-Z*M[R-1][1])/6],W[2]=[M[R+1][0]+(Z*M[R][0]-Z*M[R+2][0])/6,M[R+1][1]+(Z*M[R][1]-Z*M[R+2][1])/6],W[3]=[M[R+1][0],M[R+1][1]],this.drawingContext.bezierCurveTo(W[1][0],W[1][1],W[2][0],W[2][1],W[3][0],W[3][1]);q&&this.drawingContext.lineTo(M[R+1][0],M[R+1][1]),this._doFillStrokeClose(q)}}else if(A&&V===null){for(this._clipping||this.drawingContext.beginPath(),R=0;R<G;R++)M[R].isVert?M[R].moveTo?this.drawingContext.moveTo(M[R][0],M[R][1]):this.drawingContext.lineTo(M[R][0],M[R][1]):this.drawingContext.bezierCurveTo(M[R][0],M[R][1],M[R][2],M[R][3],M[R][4],M[R][5]);this._doFillStrokeClose(q)}else if(P&&V===null){for(this._clipping||this.drawingContext.beginPath(),R=0;R<G;R++)M[R].isVert?M[R].moveTo?this.drawingContext.moveTo(M[R][0],M[R][1]):this.drawingContext.lineTo(M[R][0],M[R][1]):this.drawingContext.quadraticCurveTo(M[R][0],M[R][1],M[R][2],M[R][3]);this._doFillStrokeClose(q)}else if(V===c.POINTS)for(R=0;R<G;R++)F=M[R],this._doStroke&&this._pInst.stroke(F[6]),this._pInst.point(F[0],F[1]);else if(V===c.LINES)for(R=0;R+1<G;R+=2)F=M[R],this._doStroke&&this._pInst.stroke(M[R+1][6]),this._pInst.line(F[0],F[1],M[R+1][0],M[R+1][1]);else if(V===c.TRIANGLES)for(R=0;R+2<G;R+=3)F=M[R],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(F[0],F[1]),this.drawingContext.lineTo(M[R+1][0],M[R+1][1]),this.drawingContext.lineTo(M[R+2][0],M[R+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(M[R+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(M[R+2][6]),this.drawingContext.stroke());else if(V===c.TRIANGLE_STRIP)for(R=0;R+1<G;R++)F=M[R],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(M[R+1][0],M[R+1][1]),this.drawingContext.lineTo(F[0],F[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(M[R+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(M[R+1][5]),R+2<G&&(this.drawingContext.lineTo(M[R+2][0],M[R+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(M[R+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(M[R+2][5])),this._doFillStrokeClose(q);else if(V===c.TRIANGLE_FAN){if(2<G){for(this._clipping||this.drawingContext.beginPath(),R=2;R<G;R++)F=M[R],this.drawingContext.moveTo(M[0][0],M[0][1]),this.drawingContext.lineTo(M[R-1][0],M[R-1][1]),this.drawingContext.lineTo(F[0],F[1]),this.drawingContext.lineTo(M[0][0],M[0][1]),R<G-1&&(this._doFill&&F[5]!==M[R+1][5]||this._doStroke&&F[6]!==M[R+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(F[5]),this.drawingContext.fill(),this._pInst.fill(M[R+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(F[6]),this.drawingContext.stroke(),this._pInst.stroke(M[R+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(q)}}else if(V===c.QUADS)for(R=0;R+3<G;R+=4){for(F=M[R],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(F[0],F[1]),z=1;z<4;z++)this.drawingContext.lineTo(M[R+z][0],M[R+z][1]);this.drawingContext.lineTo(F[0],F[1]),!this._clipping&&this._doFill&&this._pInst.fill(M[R+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(M[R+3][6]),this._doFillStrokeClose(q)}else if(V===c.QUAD_STRIP){if(3<G)for(R=0;R+1<G;R+=2)F=M[R],this._clipping||this.drawingContext.beginPath(),R+3<G?(this.drawingContext.moveTo(M[R+2][0],M[R+2][1]),this.drawingContext.lineTo(F[0],F[1]),this.drawingContext.lineTo(M[R+1][0],M[R+1][1]),this.drawingContext.lineTo(M[R+3][0],M[R+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(M[R+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(M[R+3][6])):(this.drawingContext.moveTo(F[0],F[1]),this.drawingContext.lineTo(M[R+1][0],M[R+1][1])),this._doFillStrokeClose(q)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(M[0][0],M[0][1]),R=1;R<G;R++)(F=M[R]).isVert&&(F.moveTo?(q&&this.drawingContext.closePath(),this.drawingContext.moveTo(F[0],F[1])):this.drawingContext.lineTo(F[0],F[1]));this._doFillStrokeClose(q)}O=P=A=k=!1,q&&M.pop()}return this}},{key:"strokeCap",value:function(C){return C!==c.ROUND&&C!==c.SQUARE&&C!==c.PROJECT||(this.drawingContext.lineCap=C),this}},{key:"strokeJoin",value:function(C){return C!==c.ROUND&&C!==c.BEVEL&&C!==c.MITER||(this.drawingContext.lineJoin=C),this}},{key:"strokeWeight",value:function(C){return this.drawingContext.lineWidth=C===void 0||C===0?1e-4:C,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(C){C!==this._cachedFillStyle&&(this.drawingContext.fillStyle=C,this._cachedFillStyle=C)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(C){C!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=C,this._cachedStrokeStyle=C)}},{key:"bezier",value:function(C,M,k,A,P,O,V,F){return this._pInst.beginShape(),this._pInst.vertex(C,M),this._pInst.bezierVertex(k,A,P,O,V,F),this._pInst.endShape(),this}},{key:"curve",value:function(C,M,k,A,P,O,V,F){return this._pInst.beginShape(),this._pInst.curveVertex(C,M),this._pInst.curveVertex(k,A),this._pInst.curveVertex(P,O),this._pInst.curveVertex(V,F),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(C){C&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(C,M,k,A,P,O){this.drawingContext.transform(C,M,k,A,P,O)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(C){this.drawingContext.rotate(C)}},{key:"scale",value:function(C,M){return this.drawingContext.scale(C,M),this}},{key:"translate",value:function(C,M){return C instanceof a.default.Vector&&(M=C.y,C=C.x),this.drawingContext.translate(C,M),this}},{key:"_renderText",value:function(C,M,k,A,P,O){if(!(A<O||P<=A))return C.push(),this._isOpenType()?this._textFont._renderPath(M,k,A,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(M,k,A),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(c._DEFAULT_TEXT_FILL),this.drawingContext.fillText(M,k,A))),C.pop(),C}},{key:"textWidth",value:function(C){return this._isOpenType()?this._textFont._textWidth(C,this._textSize):this.drawingContext.measureText(C).width}},{key:"_applyTextProperties",value:function(){var C=this._pInst,M=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),M=this._textFont,this._isOpenType()&&(M=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),M||"sans-serif");return/\s/.exec(M)&&(M='"'.concat(M,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(M),this.drawingContext.textAlign=this._textAlign,this._textBaseline===c.CENTER?this.drawingContext.textBaseline=c._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,C}},{key:"push",value:function(){return this.drawingContext.save(),d(g(T.prototype),"push",this).call(this)}},{key:"pop",value:function(C){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,d(g(T.prototype),"pop",this).call(this,C)}}])&&b(x.prototype,_),S&&b(x,S),T}(a.default.Renderer),v=(f.prototype.text=function(_,x,S,M,T){M!==void 0&&this.drawingContext.textBaseline===c.BASELINE&&(C=!0,this.drawingContext.textBaseline=c.TOP);var C,M=a.default.Renderer.prototype.text.apply(this,arguments);return C&&(this.drawingContext.textBaseline=c.BASELINE),M},a.default.Renderer2D=f,a.default.Renderer2D);u.default=v},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(t,i,u){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var s=(t=t("./main"))&&t.__esModule?t:{default:t};s.default.prototype._promisePreloads=[];function l(){return{}}var a=!(s.default.prototype.registerPromisePreload=function(c){s.default.prototype._promisePreloads.push(c)});s.default.prototype._setupPromisePreloads=function(){var c=!0,y=!1,b=void 0;try{for(var d,p=this._promisePreloads[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var h=d.value,g=this,m=h.method,f=h.addCallbacks,v=h.legacyPreloadSetup,_=h.target||this,x=_[m].bind(_);if(_===s.default.prototype){if(a)continue;g=null,x=_[m]}_[m]=this._wrapPromisePreload(g,x,f),v&&(_[v.method]=this._legacyPreloadGenerator(g,v,_[m]))}}catch(S){y=!0,b=S}finally{try{c||p.return==null||p.return()}finally{if(y)throw b}}a=!0},s.default.prototype._wrapPromisePreload=function(c,y,b){var d=function(){for(var p=this,h=(this._incrementPreload(),null),g=null,m=arguments.length,f=new Array(m),v=0;v<m;v++)f[v]=arguments[v];if(b)for(var _=f.length-1;0<=_&&!g&&typeof f[_]=="function";_--)g=h,h=f.pop();var x=Promise.resolve(y.apply(this,f));return h&&x.then(h),g&&x.catch(g),x.then(function(){return p._decrementPreload()}),x};return d=c?d.bind(c):d},s.default.prototype._legacyPreloadGenerator=function(c,p,b){var d=p.createBaseObject||l,p=function(){var h=this;this._incrementPreload();for(var g=arguments.length,m=new Array(g),f=0;f<g;f++)m[f]=arguments[f];var v=d.apply(this,m);return b.apply(this,m).then(function(_){Object.assign(v,_),h._decrementPreload()}),v};return p=c?p.bind(c):p}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(t,i,u){"use strict";function s(p){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var l=(d=t("./main"))&&d.__esModule?d:{default:d},a=function(p){if(p&&p.__esModule)return p;if(p===null||y(p)!=="object"&&typeof p!="function")return{default:p};var h=c();if(h&&h.has(p))return h.get(p);var g,m={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in p){var v;Object.prototype.hasOwnProperty.call(p,g)&&((v=f?Object.getOwnPropertyDescriptor(p,g):null)&&(v.get||v.set)?Object.defineProperty(m,g,v):m[g]=p[g])}return m.default=p,h&&h.set(p,m),m}(t("./constants"));function c(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,c=function(){return p},p)}function y(p){return(y=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(h){return s(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":s(h)})(p)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var b="defaultCanvas0",d=(l.default.prototype.createCanvas=function(p,h,g,m){var f,v,_;if(l.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(g=a.P2D,m=arguments[2]):f=g||a.P2D,m)(_=document.getElementById(b))&&_.parentNode.removeChild(_),_=m,this._defaultGraphicsCreated=!1;else{if(f===a.WEBGL)(_=document.getElementById(b))&&(_.parentNode.removeChild(_),v=this._renderer,this._elements=this._elements.filter(function(S){return S!==v})),(_=document.createElement("canvas")).id=b,_.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)_=this.canvas;else{_=m||document.createElement("canvas");for(var x=0;document.getElementById("defaultCanvas".concat(x));)x++;b="defaultCanvas".concat(x),_.id=b,_.classList.add("p5Canvas")}this._setupDone||(_.dataset.hidden=!0,_.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(g=document.createElement("main"),document.body.appendChild(g)),document.getElementsByTagName("main")[0])).appendChild(_)}return f===a.WEBGL?(this._setProperty("_renderer",new l.default.RendererGL(_,this,!0)),this._elements.push(this._renderer),p=(m=this._renderer._adjustDimensions(p,h)).adjustedWidth,h=m.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new l.default.Renderer2D(_,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(p,h),this._renderer._applyDefaults(),this._renderer},l.default.prototype.resizeCanvas=function(p,h,g){if(l.default._validateParameters("resizeCanvas",arguments),this._renderer){var m,f,v,_={};for(m in this.drawingContext){var x=this.drawingContext[m];y(x)!=="object"&&typeof x!="function"&&(_[m]=x)}for(v in this._renderer instanceof l.default.RendererGL&&(p=(f=this._renderer._adjustDimensions(p,h)).adjustedWidth,h=f.adjustedHeight),this.width=p,this.height=h,this._renderer.resize(p,h),_)try{this.drawingContext[v]=_[v]}catch{}g||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},l.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},l.default.prototype.createGraphics=function(p,h){for(var g=arguments.length,m=new Array(2<g?g-2:0),f=2;f<g;f++)m[f-2]=arguments[f];return m[0]instanceof HTMLCanvasElement&&(m[1]=m[0],m[0]=a.P2D),l.default._validateParameters("createGraphics",arguments),new l.default.Graphics(p,h,m[0],this,m[1])},l.default.prototype.createFramebuffer=function(p){return new l.default.Framebuffer(this,p)},l.default.prototype.clearDepth=function(p){this._assert3d("clearDepth"),this._renderer.clearDepth(p)},l.default.prototype.blendMode=function(p){l.default._validateParameters("blendMode",arguments),p===a.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),p=a.BLEND),this._renderer.blendMode(p)},l.default);u.default=d},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(t,i,u){"use strict";function s(h){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}function l(h){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(g){return s(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":s(g)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=d(t("../main")),c=function(h){if(h&&h.__esModule)return h;if(h===null||l(h)!=="object"&&typeof h!="function")return{default:h};var g=b();if(g&&g.has(h))return g.get(h);var m,f={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in h){var _;Object.prototype.hasOwnProperty.call(h,m)&&((_=v?Object.getOwnPropertyDescriptor(h,m):null)&&(_.get||_.set)?Object.defineProperty(f,m,_):f[m]=h[m])}return f.default=h,g&&g.set(h,f),f}(t("../constants")),y=d(t("../helpers"));function b(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,b=function(){return h},h)}function d(h){return h&&h.__esModule?h:{default:h}}function p(h){return function(g){if(Array.isArray(g)){for(var m=0,f=new Array(g.length);m<g.length;m++)f[m]=g[m];return f}}(h)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),a.default.prototype._normalizeArcAngles=function(h,g,m,f,v){var _;return h-=c.TWO_PI*Math.floor(h/c.TWO_PI),g-=c.TWO_PI*Math.floor(g/c.TWO_PI),_=Math.min(Math.abs(h-g),c.TWO_PI-Math.abs(h-g)),v&&(h=h<=c.HALF_PI?Math.atan(m/f*Math.tan(h)):h>c.HALF_PI&&h<=3*c.HALF_PI?Math.atan(m/f*Math.tan(h))+c.PI:Math.atan(m/f*Math.tan(h))+c.TWO_PI,g=g<=c.HALF_PI?Math.atan(m/f*Math.tan(g)):g>c.HALF_PI&&g<=3*c.HALF_PI?Math.atan(m/f*Math.tan(g))+c.PI:Math.atan(m/f*Math.tan(g))+c.TWO_PI),g<h&&(g+=c.TWO_PI),{start:h,stop:g,correspondToSamePoint:_<1e-5}},a.default.prototype.arc=function(h,g,m,f,v,_,x,S){return a.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&v!==_&&(v=this._toRadians(v),_=this._toRadians(_),m=Math.abs(m),f=Math.abs(f),h=y.default.modeAdjust(h,g,m,f,this._renderer._ellipseMode),(g=this._normalizeArcAngles(v,_,h.w,h.h,!0)).correspondToSamePoint?this._renderer.ellipse([h.x,h.y,h.w,h.h,S]):(this._renderer.arc(h.x,h.y,h.w,h.h,g.start,g.stop,x,S),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[h.x,h.y,h.w,h.h,g.start,g.stop,x]))),this},a.default.prototype.ellipse=function(h,g,m,f,v){return a.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},a.default.prototype.circle=function(){for(var h=arguments.length,g=new Array(h),m=0;m<h;m++)g[m]=arguments[m];a.default._validateParameters("circle",g);var f=g.slice(0,2);return f.push(g[2],g[2]),this._renderEllipse.apply(this,p(f))},a.default.prototype._renderEllipse=function(h,g,m,f,v){return(this._renderer._doStroke||this._renderer._doFill)&&(m<0&&(m=Math.abs(m)),f===void 0?f=m:f<0&&(f=Math.abs(f)),h=y.default.modeAdjust(h,g,m,f,this._renderer._ellipseMode),this._renderer.ellipse([h.x,h.y,h.w,h.h,v]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[h.x,h.y,h.w,h.h])),this},a.default.prototype.line=function(){for(var h,g=arguments.length,m=new Array(g),f=0;f<g;f++)m[f]=arguments[f];return a.default._validateParameters("line",m),this._renderer._doStroke&&(h=this._renderer).line.apply(h,m),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",m),this},a.default.prototype.point=function(){for(var h,g=arguments.length,m=new Array(g),f=0;f<g;f++)m[f]=arguments[f];return a.default._validateParameters("point",m),this._renderer._doStroke&&(m.length===1&&m[0]instanceof a.default.Vector?this._renderer.point.call(this._renderer,m[0].x,m[0].y,m[0].z):((h=this._renderer).point.apply(h,m),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",m))),this},a.default.prototype.quad=function(){for(var h,g=arguments.length,m=new Array(g),f=0;f<g;f++)m[f]=arguments[f];return a.default._validateParameters("quad",m),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&m.length<12?this._renderer.quad.call(this._renderer,m[0],m[1],0,m[2],m[3],0,m[4],m[5],0,m[6],m[7],0,m[8],m[9]):((h=this._renderer).quad.apply(h,m),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",m))),this},a.default.prototype.rect=function(){for(var h=arguments.length,g=new Array(h),m=0;m<h;m++)g[m]=arguments[m];return a.default._validateParameters("rect",g),this._renderRect.apply(this,g)},a.default.prototype.square=function(h,g,m,f,v,_,x){return a.default._validateParameters("square",arguments),this._renderRect.call(this,h,g,m,m,f,v,_,x)},a.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var h=y.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),g=[h.x,h.y,h.w,h.h],m=4;m<arguments.length;m++)g[m]=arguments[m];this._renderer.rect(g),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[h.x,h.y,h.w,h.h])}return this},a.default.prototype.triangle=function(){for(var h=arguments.length,g=new Array(h),m=0;m<h;m++)g[m]=arguments[m];return a.default._validateParameters("triangle",g),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(g),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",g),this},t=a.default,u.default=t},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(t,i,u){"use strict";function s(d){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}function l(d){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(p){return s(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":s(p)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=(b=t("../main"))&&b.__esModule?b:{default:b},c=function(d){if(d&&d.__esModule)return d;if(d===null||l(d)!=="object"&&typeof d!="function")return{default:d};var p=y();if(p&&p.has(d))return p.get(d);var h,g={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in d){var f;Object.prototype.hasOwnProperty.call(d,h)&&((f=m?Object.getOwnPropertyDescriptor(d,h):null)&&(f.get||f.set)?Object.defineProperty(g,h,f):g[h]=d[h])}return g.default=d,p&&p.set(d,g),g}(t("../constants"));function y(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,y=function(){return d},d)}a.default.prototype.ellipseMode=function(d){return a.default._validateParameters("ellipseMode",arguments),d!==c.CORNER&&d!==c.CORNERS&&d!==c.RADIUS&&d!==c.CENTER||(this._renderer._ellipseMode=d),this},a.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},a.default.prototype.rectMode=function(d){return a.default._validateParameters("rectMode",arguments),d!==c.CORNER&&d!==c.CORNERS&&d!==c.RADIUS&&d!==c.CENTER||(this._renderer._rectMode=d),this},a.default.prototype.smooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!0):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},a.default.prototype.strokeCap=function(d){return a.default._validateParameters("strokeCap",arguments),d!==c.ROUND&&d!==c.SQUARE&&d!==c.PROJECT||this._renderer.strokeCap(d),this},a.default.prototype.strokeJoin=function(d){return a.default._validateParameters("strokeJoin",arguments),d!==c.ROUND&&d!==c.BEVEL&&d!==c.MITER||this._renderer.strokeJoin(d),this},a.default.prototype.strokeWeight=function(d){return a.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(d),this};var b=a.default;u.default=b},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(t,i,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=(l=t("../main"))&&l.__esModule?l:{default:l};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),s.default.prototype.bezier=function(){for(var a,c=arguments.length,y=new Array(c),b=0;b<c;b++)y[b]=arguments[b];return s.default._validateParameters("bezier",y),(this._renderer._doStroke||this._renderer._doFill)&&(a=this._renderer).bezier.apply(a,y),this},s.default.prototype.bezierDetail=function(a){return s.default._validateParameters("bezierDetail",arguments),this._bezierDetail=a,this},s.default.prototype.bezierPoint=function(a,c,y,b,d){s.default._validateParameters("bezierPoint",arguments);var p=1-d;return Math.pow(p,3)*a+3*Math.pow(p,2)*d*c+3*p*Math.pow(d,2)*y+Math.pow(d,3)*b},s.default.prototype.bezierTangent=function(a,c,y,b,d){s.default._validateParameters("bezierTangent",arguments);var p=1-d;return 3*b*Math.pow(d,2)-3*y*Math.pow(d,2)+6*y*p*d-6*c*p*d+3*c*Math.pow(p,2)-3*a*Math.pow(p,2)},s.default.prototype.curve=function(){for(var a,c=arguments.length,y=new Array(c),b=0;b<c;b++)y[b]=arguments[b];return s.default._validateParameters("curve",y),this._renderer._doStroke&&(a=this._renderer).curve.apply(a,y),this},s.default.prototype.curveDetail=function(a){return s.default._validateParameters("curveDetail",arguments),this._curveDetail=a<3?3:a,this},s.default.prototype.curveTightness=function(a){return s.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=a,this},s.default.prototype.curvePoint=function(a,c,y,b,d){s.default._validateParameters("curvePoint",arguments);var p=this._renderer._curveTightness,h=d*d*d,g=d*d;return a*((p-1)/2*h+(1-p)*g+(p-1)/2*d)+c*((p+3)/2*h+(-5-p)/2*g+1)+y*((-3-p)/2*h+(p+2)*g+(1-p)/2*d)+b*((1-p)/2*h+(p-1)/2*g)},s.default.prototype.curveTangent=function(a,c,y,b,g){s.default._validateParameters("curveTangent",arguments);var p=this._renderer._curveTightness,h=g*g*3,g=2*g;return a*((p-1)/2*h+(1-p)*g+(p-1)/2)+c*((p+3)/2*h+(-5-p)/2*g)+y*((-3-p)/2*h+(p+2)*g+(1-p)/2)+b*((1-p)/2*h+(p-1)/2*g)};var l=s.default;u.default=l},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(t,i,u){"use strict";function s(x){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(x)}function l(x){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(S){return s(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":s(S)})(x)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=(_=t("../main"))&&_.__esModule?_:{default:_},c=function(x){if(x&&x.__esModule)return x;if(x===null||l(x)!=="object"&&typeof x!="function")return{default:x};var S=y();if(S&&S.has(x))return S.get(x);var j,T={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(j in x){var M;Object.prototype.hasOwnProperty.call(x,j)&&((M=C?Object.getOwnPropertyDescriptor(x,j):null)&&(M.get||M.set)?Object.defineProperty(T,j,M):T[j]=x[j])}return T.default=x,S&&S.set(x,T),T}(t("../constants"));function y(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,y=function(){return x},x)}var b=null,d=[],p=[],h=!1,g=!1,m=!1,f=!1,v=!0,_=(a.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(p=[],f=!0),this},a.default.prototype.beginShape=function(x){var S;return a.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(S=this._renderer).beginShape.apply(S,arguments):(b=x===c.POINTS||x===c.LINES||x===c.TRIANGLES||x===c.TRIANGLE_FAN||x===c.TRIANGLE_STRIP||x===c.QUADS||x===c.QUAD_STRIP?x:null,d=[],p=[]),this},a.default.prototype.bezierVertex=function(){for(var x,S=arguments.length,j=new Array(S),T=0;T<S;T++)j[T]=arguments[T];if(a.default._validateParameters("bezierVertex",j),this._renderer.isP3D)(x=this._renderer).bezierVertex.apply(x,j);else if(d.length===0)a.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{h=!0;for(var C=[],M=0;M<j.length;M++)C[M]=j[M];C.isVert=!1,(f?p:d).push(C)}return this},a.default.prototype.curveVertex=function(){for(var x,S=arguments.length,j=new Array(S),T=0;T<S;T++)j[T]=arguments[T];return a.default._validateParameters("curveVertex",j),this._renderer.isP3D?(x=this._renderer).curveVertex.apply(x,j):(g=!0,this.vertex(j[0],j[1])),this},a.default.prototype.endContour=function(){if(!this._renderer.isP3D){var x=p[0].slice();x.isVert=p[0].isVert,x.moveTo=!1,p.push(x),v&&(d.push(d[0]),v=!1);for(var S=0;S<p.length;S++)d.push(p[S])}return this},a.default.prototype.endShape=function(x){var S=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(a.default._validateParameters("endShape",arguments),S<1&&(console.log("\u{1F338} p5.js says: You can not have less than one instance"),S=1),this._renderer.isP3D)this._renderer.endShape(x,g,h,m,f,b,S);else{if(S!==1&&console.log("\u{1F338} p5.js says: Instancing is only supported in WebGL2 mode"),d.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;S=x===c.CLOSE,S&&!f&&d.push(d[0]),this._renderer.endShape(x,d,g,h,m,f,b),v=!(f=m=h=g=!1),S&&d.pop()}return this},a.default.prototype.quadraticVertex=function(){for(var x,S=arguments.length,j=new Array(S),T=0;T<S;T++)j[T]=arguments[T];if(a.default._validateParameters("quadraticVertex",j),this._renderer.isP3D)(x=this._renderer).quadraticVertex.apply(x,j);else{if(this._contourInited)return(x={}).x=j[0],x.y=j[1],x.x3=j[2],x.y3=j[3],x.type=c.QUADRATIC,this._contourVertices.push(x),this;if(0<d.length){m=!0;for(var C=[],M=0;M<j.length;M++)C[M]=j[M];C.isVert=!1,(f?p:d).push(C)}else a.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},a.default.prototype.vertex=function(x,S,j,T,C){var M;return this._renderer.isP3D?(M=this._renderer).vertex.apply(M,arguments):((M=[]).isVert=!0,M[0]=x,M[1]=S,M[2]=0,M[3]=0,M[4]=0,M[5]=this._renderer._getFill(),M[6]=this._renderer._getStroke(),j&&(M.moveTo=j),(f?(p.length===0&&(M.moveTo=!0),p):d).push(M)),this},a.default.prototype.normal=function(x,S,j){var T;return this._assert3d("normal"),a.default._validateParameters("normal",arguments),(T=this._renderer).normal.apply(T,arguments),this},a.default);u.default=_},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(t,i,u){},{}],295:[function(t,i,u){"use strict";t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.assign"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var s=this._styles.pop();s?(this._renderer.pop(s.renderer),Object.assign(this,s.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(s){if(!this._inUserDraw&&this._setupDone){var l=parseInt(s),a=((isNaN(l)||l<1)&&(l=1),this._isGlobal?window:this);if(typeof a.draw=="function"){a.setup===void 0&&a.scale(a._pixelDensity,a._pixelDensity);for(var c=0;c<l;c++){a.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),a._renderer.isP3D&&a._renderer._update(),a._setProperty("frameCount",a.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{a.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},t=t.default,u.default=t},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(t,i,u){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=(t=t("./main"))&&t.__esModule?t:{default:t};function l(a){return function(c){if(Array.isArray(c)){for(var y=0,b=new Array(c.length);y<c.length;y++)b[y]=c[y];return b}}(a)||function(c){if(Symbol.iterator in Object(c)||Object.prototype.toString.call(c)==="[object Arguments]")return Array.from(c)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}s.default.prototype.applyMatrix=function(){var a=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||a?(a=this._renderer).applyMatrix.apply(a,l(arguments.length<=0?void 0:arguments[0])):(a=this._renderer).applyMatrix.apply(a,arguments),this},s.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},s.default.prototype.rotate=function(a,c){return s.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(a),c),this},s.default.prototype.rotateX=function(a){return this._assert3d("rotateX"),s.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(a)),this},s.default.prototype.rotateY=function(a){return this._assert3d("rotateY"),s.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(a)),this},s.default.prototype.rotateZ=function(a){return this._assert3d("rotateZ"),s.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(a)),this},s.default.prototype.scale=function(a,c,y){var b;return s.default._validateParameters("scale",arguments),a instanceof s.default.Vector?(a=(b=a).x,c=b.y,y=b.z):Array.isArray(a)&&(a=(b=a)[0],c=b[1],y=b[2]||1),isNaN(c)?c=y=a:isNaN(y)&&(y=1),this._renderer.scale(a,c,y),this},s.default.prototype.shearX=function(a){return s.default._validateParameters("shearX",arguments),a=this._toRadians(a),this._renderer.applyMatrix(1,0,Math.tan(a),1,0,0),this},s.default.prototype.shearY=function(a){return s.default._validateParameters("shearY",arguments),a=this._toRadians(a),this._renderer.applyMatrix(1,Math.tan(a),0,1,0,0),this},s.default.prototype.translate=function(a,c,y){return s.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(a,c,y):this._renderer.translate(a,c),this},t=s.default,u.default=t},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(t,i,u){"use strict";function s(y){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator");var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(y){return function(b){if(Array.isArray(b)){for(var d=0,p=new Array(b.length);d<b.length;d++)p[d]=b[d];return p}}(y)||function(b){if(Symbol.iterator in Object(b)||Object.prototype.toString.call(b)==="[object Arguments]")return Array.from(b)}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(y){return(c=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(b){return s(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":s(b)})(y)}l.default.prototype.storeItem=function(y,b){typeof y!="string"&&console.log("The argument that you passed to storeItem() - ".concat(y," is not a string.")),y.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(y," must not end with 'p5TypeID'.")),b===void 0&&console.log("You cannot store undefined variables using storeItem().");var d=c(b);switch(d){case"number":case"boolean":b=b.toString();break;case"object":b instanceof l.default.Color?d="p5.Color":b instanceof l.default.Vector&&(d="p5.Vector",b=[b.x,b.y,b.z]),b=JSON.stringify(b)}localStorage.setItem(y,b),y="".concat(y,"p5TypeID"),localStorage.setItem(y,d)},l.default.prototype.getItem=function(y){var b=localStorage.getItem(y),d=localStorage.getItem("".concat(y,"p5TypeID"));if(d===void 0)console.log("Unable to determine type of item stored under ".concat(y,"in local storage. Did you save the item with something other than setItem()?"));else if(b!==null)switch(d){case"number":b=parseFloat(b);break;case"boolean":b=b==="true";break;case"object":b=JSON.parse(b);break;case"p5.Color":b=JSON.parse(b),b=this.color.apply(this,a(b.levels));break;case"p5.Vector":b=JSON.parse(b),b=this.createVector.apply(this,a(b))}return b},l.default.prototype.clearStorage=function(){var y=this;Object.keys(localStorage).forEach(function(b){b.endsWith("p5TypeID")&&y.removeItem(b.replace("p5TypeID",""))})},l.default.prototype.removeItem=function(y){typeof y!="string"&&console.log("The argument that you passed to removeItem() - ".concat(y," is not a string.")),localStorage.removeItem(y),localStorage.removeItem("".concat(y,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(t,i,u){"use strict";function s(m){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(m)}function l(m){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(f){return s(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":s(f)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(m,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(f&&f.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),f&&y(m,f)}function y(m,f){return(y=Object.setPrototypeOf||function(v,_){return v.__proto__=_,v})(m,f)}function b(m){return function(){var f,v=d(m),v=(f=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(f=d(this).constructor,Reflect.construct(v,arguments,f)):v.apply(this,arguments),this);if(!f||l(f)!=="object"&&typeof f!="function"){if(v!==void 0)return v;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return f}}function d(m){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(m)}function p(m,f){if(!(m instanceof f))throw new TypeError("Cannot call a class as a function")}function h(m,f){for(var v=0;v<f.length;v++){var _=f[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}function g(m,f,v){f&&h(m.prototype,f),v&&h(m,v)}a.default.prototype.createStringDict=function(m,f){return a.default._validateParameters("createStringDict",arguments),new a.default.StringDict(m,f)},a.default.prototype.createNumberDict=function(m,f){return a.default._validateParameters("createNumberDict",arguments),new a.default.NumberDict(m,f)},a.default.TypedDict=function(){function m(f,v){return p(this,m),f instanceof Object?this.data=f:(this.data={},this.data[f]=v),this}return g(m,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(f){return this.data.hasOwnProperty(f)}},{key:"get",value:function(f){if(this.data.hasOwnProperty(f))return this.data[f];console.log("".concat(f," does not exist in this Dictionary"))}},{key:"set",value:function(f,v){this._validate(v)?this.data[f]=v:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(f){for(var v in f)this.set(v,f[v])}},{key:"create",value:function(f,v){f instanceof Object&&v===void 0?this._addObj(f):f!==void 0?this.set(f,v):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(f){if(!this.data.hasOwnProperty(f))throw new Error("".concat(f," does not exist in this Dictionary"));delete this.data[f]}},{key:"print",value:function(){for(var f in this.data)console.log("key:".concat(f," value:").concat(this.data[f]))}},{key:"saveTable",value:function(f){var v,_="";for(v in this.data)_+="".concat(v,",").concat(this.data[v],`
`);var x=new Blob([_],{type:"text/csv"});a.default.prototype.downloadFile(x,f||"mycsv","csv")}},{key:"saveJSON",value:function(f,v){a.default.prototype.saveJSON(this.data,f,v)}},{key:"_validate",value:function(f){return!0}}]),m}(),a.default.StringDict=function(){c(f,a.default.TypedDict);var m=b(f);function f(){p(this,f);for(var v=arguments.length,_=new Array(v),x=0;x<v;x++)_[x]=arguments[x];return m.call.apply(m,[this].concat(_))}return g(f,[{key:"_validate",value:function(v){return typeof v=="string"}}]),f}(),a.default.NumberDict=function(){c(f,a.default.TypedDict);var m=b(f);function f(){p(this,f);for(var v=arguments.length,_=new Array(v),x=0;x<v;x++)_[x]=arguments[x];return m.call.apply(m,[this].concat(_))}return g(f,[{key:"_validate",value:function(v){return typeof v=="number"}},{key:"add",value:function(v,_){this.data.hasOwnProperty(v)?this.data[v]+=_:console.log("The key - ".concat(v," does not exist in this dictionary."))}},{key:"sub",value:function(v,_){this.add(v,-_)}},{key:"mult",value:function(v,_){this.data.hasOwnProperty(v)?this.data[v]*=_:console.log("The key - ".concat(v," does not exist in this dictionary."))}},{key:"div",value:function(v,_){this.data.hasOwnProperty(v)?this.data[v]/=_:console.log("The key - ".concat(v," does not exist in this dictionary."))}},{key:"_valueTest",value:function(v){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var _,x=this.data[Object.keys(this.data)[0]];for(_ in this.data)this.data[_]*v<x*v&&(x=this.data[_]);return x}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(v){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var _=Object.keys(this.data)[0],x=1;x<Object.keys(this.data).length;x++)Object.keys(this.data)[x]*v<_*v&&(_=Object.keys(this.data)[x]);return _}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),f}(),t=a.default.TypedDict,u.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(t,i,u){"use strict";function s(x){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(x)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(x,S){for(var j=0;j<S.length;j++){var T=S[j];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(x,T.key,T)}}function c(x,S,j){S&&a(x.prototype,S),j&&a(x,j)}function y(x,S){return(y=Object.setPrototypeOf||function(j,T){return j.__proto__=T,j})(x,S)}function b(x){return function(){var S,j,T=p(x);return S=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(S=p(this).constructor,Reflect.construct(T,arguments,S)):T.apply(this,arguments),T=this,!(j=S)||g(j)!=="object"&&typeof j!="function"?d(T):j}}function d(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function p(x){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)})(x)}function h(x,S){if(!(x instanceof S))throw new TypeError("Cannot call a class as a function")}function g(x){return(g=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(S){return s(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":s(S)})(x)}function m(x,S,j){return(S._userNode||document.body).appendChild(x),j=new(j?l.default.MediaElement:l.default.Element)(x,S),S._elements.push(j),j}l.default.prototype.select=function(x,S){return l.default._validateParameters("select",arguments),S=this._getContainer(S).querySelector(x),S?this._wrapElement(S):null},l.default.prototype.selectAll=function(x,S){l.default._validateParameters("selectAll",arguments);var j=[],T=this._getContainer(S).querySelectorAll(x);if(T)for(var C=0;C<T.length;C++){var M=this._wrapElement(T[C]);j.push(M)}return j},l.default.prototype._getContainer=function(x){var S=document;return typeof x=="string"?S=document.querySelector(x)||document:x instanceof l.default.Element?S=x.elt:x instanceof HTMLElement&&(S=x),S},l.default.prototype._wrapElement=function(x){var S,j=Array.prototype.slice.call(x.children);return x.tagName==="INPUT"&&x.type==="checkbox"?((S=new l.default.Element(x,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},S):x.tagName==="VIDEO"||x.tagName==="AUDIO"?new l.default.MediaElement(x,this):x.tagName==="SELECT"?this.createSelect(new l.default.Element(x,this)):0<j.length&&j.every(function(T){return T.tagName==="INPUT"||T.tagName==="LABEL"})&&(x.tagName==="DIV"||x.tagName==="SPAN")?this.createRadio(new l.default.Element(x,this)):new l.default.Element(x,this)},l.default.prototype.removeElements=function(x){l.default._validateParameters("removeElements",arguments),this._elements.filter(function(S){return!(S.elt instanceof HTMLCanvasElement)}).map(function(S){return S.remove()})},l.default.Element.prototype.changed=function(x){return l.default.Element._adjustListener("change",x,this),this},l.default.Element.prototype.input=function(x){return l.default.Element._adjustListener("input",x,this),this},l.default.prototype.createDiv=function(){var x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",S=document.createElement("div");return S.innerHTML=x,m(S,this)},l.default.prototype.createP=function(){var x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",S=document.createElement("p");return S.innerHTML=x,m(S,this)},l.default.prototype.createSpan=function(){var x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",S=document.createElement("span");return S.innerHTML=x,m(S,this)},l.default.prototype.createImg=function(){l.default._validateParameters("createImg",arguments);var x,S=document.createElement("img"),j=arguments;return 1<j.length&&typeof j[1]=="string"&&(S.alt=j[1]),2<j.length&&typeof j[2]=="string"&&(S.crossOrigin=j[2]),S.src=j[0],x=m(S,this),S.addEventListener("load",function(){x.width=S.offsetWidth||S.width,x.height=S.offsetHeight||S.height;var T=j[j.length-1];typeof T=="function"&&T(x)}),x},l.default.prototype.createA=function(x,S,j){l.default._validateParameters("createA",arguments);var T=document.createElement("a");return T.href=x,T.innerHTML=S,j&&(T.target=j),m(T,this)},l.default.prototype.createSlider=function(x,S,j,T){l.default._validateParameters("createSlider",arguments);var C=document.createElement("input");return C.type="range",C.min=x,C.max=S,T===0?C.step=1e-18:T&&(C.step=T),typeof j=="number"&&(C.value=j),m(C,this)},l.default.prototype.createButton=function(x,S){l.default._validateParameters("createButton",arguments);var j=document.createElement("button");return j.innerHTML=x,S&&(j.value=S),m(j,this)},l.default.prototype.createCheckbox=function(){for(var x=arguments.length,S=new Array(x),j=0;j<x;j++)S[j]=arguments[j];l.default._validateParameters("createCheckbox",S);var T=document.createElement("div"),C=document.createElement("input"),M=(C.type="checkbox",document.createElement("label")),k=(M.appendChild(C),T.appendChild(M),m(T,this));return k.checked=function(){var A=k.elt.firstElementChild.getElementsByTagName("input")[0];if(A){if(arguments.length===0)return A.checked;A.checked=!(arguments.length<=0||!arguments[0])}return k},this.value=function(A){return k.value=A,this},S[0]&&(k.value(S[0]),(T=document.createElement("span")).innerHTML=S[0],M.appendChild(T)),S[1]&&(C.checked=!0),k},l.default.prototype.createSelect=function(){for(var x,S=arguments.length,j=new Array(S),T=0;T<S;T++)j[T]=arguments[T];l.default._validateParameters("createSelect",j);var C,M=j[0];return M instanceof l.default.Element&&M.elt instanceof HTMLSelectElement?this.elt=(x=M).elt:M instanceof HTMLSelectElement?(x=m(M,this),this.elt=M):(C=document.createElement("select"),M&&typeof M=="boolean"&&C.setAttribute("multiple","true"),x=m(C,this),this.elt=C),x.option=function(k,A){var P;if(k!==void 0){for(var O,V=0;V<this.elt.length;V+=1)if(this.elt[V].textContent===k){P=V;break}P!==void 0?A===!1?this.elt.remove(P):this.elt[P].value=A:((O=document.createElement("option")).textContent=k,O.value=A===void 0?k:A,this.elt.appendChild(O),this._pInst._elements.push(O))}},x.selected=function(k){if(k!==void 0){for(var A=0;A<this.elt.length;A+=1)this.elt[A].value.toString()===k.toString()&&(this.elt.selectedIndex=A);return this}if(this.elt.getAttribute("multiple")){var P=[],O=!0,V=!1,F=void 0;try{for(var R,z=this.elt.selectedOptions[Symbol.iterator]();!(O=(R=z.next()).done);O=!0){var q=R.value;P.push(q.value)}}catch(G){V=!0,F=G}finally{try{O||z.return==null||z.return()}finally{if(V)throw F}}return P}return this.elt.value},x.disable=function(k){if(typeof k=="string")for(var A=0;A<this.elt.length;A++)this.elt[A].value.toString()===k&&(this.elt[A].disabled=!0,this.elt[A].selected=!1);else this.elt.disabled=!0;return this},x.enable=function(k){if(typeof k=="string")for(var A=0;A<this.elt.length;A++)this.elt[A].value.toString()===k&&(this.elt[A].disabled=!1,this.elt[A].selected=!1);else{this.elt.disabled=!1;for(var P=0;P<this.elt.length;P++)this.elt[P].disabled=!1,this.elt[P].selected=!1}return this},x};var f=0;function v(x,k,j,T){var C=document.createElement(k),M=(typeof(j=j||"")=="string"&&(j=[j]),!0),k=!1,A=void 0;try{for(var P,O=j[Symbol.iterator]();!(M=(P=O.next()).done);M=!0){var V=P.value,F=document.createElement("source");F.setAttribute("src",V),C.appendChild(F)}}catch(z){k=!0,A=z}finally{try{M||O.return==null||O.return()}finally{if(k)throw A}}typeof T=="function"&&C.addEventListener("canplaythrough",function z(){T(),C.removeEventListener("canplaythrough",z)});var R=m(C,x,!0);return R.loadedmetadata=!1,C.addEventListener("loadedmetadata",function(){R.width=C.videoWidth,R.height=C.videoHeight,R.elt.width===0&&(R.elt.width=C.videoWidth),R.elt.height===0&&(R.elt.height=C.videoHeight),R.presetPlaybackRate&&(R.elt.playbackRate=R.presetPlaybackRate,delete R.presetPlaybackRate),R.loadedmetadata=!0}),R}l.default.prototype.createRadio=function(){function x(k){return k instanceof HTMLInputElement&&k.type==="radio"}function S(k){return k instanceof HTMLLabelElement}var j,T,C,M=arguments.length<=0?void 0:arguments[0];return M instanceof l.default.Element&&(M.elt instanceof HTMLDivElement||M.elt instanceof HTMLSpanElement)?(j=M,this.elt=M.elt):M instanceof HTMLDivElement||M instanceof HTMLSpanElement?(j=m(M,this),T=this.elt=M,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(C=arguments.length<=1?void 0:arguments[1])):(typeof M=="string"&&(C=M),T=document.createElement("div"),j=m(T,this),this.elt=T),j._name=C||"radioOption_".concat(f++),j._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(k){return x(k)||S(k)&&x(k.firstElementChild)}).map(function(k){return x(k)?k:k.firstElementChild})},j.option=function(k,A){var P,O,V,F=!0,R=!1,z=void 0;try{for(var q,G=j._getOptionsArray()[Symbol.iterator]();!(F=(q=G.next()).done);F=!0){var W=q.value;if(W.value===k){P=W;break}}}catch(Z){R=!0,z=Z}finally{try{F||G.return==null||G.return()}finally{if(R)throw z}}return P===void 0&&((P=document.createElement("input")).setAttribute("type","radio"),P.setAttribute("value",k)),P.setAttribute("name",j._name),S(P.parentElement)?O=P.parentElement:(O=document.createElement("label")).insertAdjacentElement("afterbegin",P),O.lastElementChild instanceof HTMLSpanElement?V=O.lastElementChild:(V=document.createElement("span"),P.insertAdjacentElement("afterend",V)),V.innerHTML=A===void 0?k:A,this.elt.appendChild(O),P},j.remove=function(k){var A=!0,P=!1,O=void 0;try{for(var V,F=j._getOptionsArray()[Symbol.iterator]();!(A=(V=F.next()).done);A=!0){var R=V.value;if(R.value===k)return void(S(R.parentElement)?R.parentElement:R).remove()}}catch(z){P=!0,O=z}finally{try{A||F.return==null||F.return()}finally{if(P)throw O}}},j.value=function(){var k="",A=!0,P=!1,O=void 0;try{for(var V,F=j._getOptionsArray()[Symbol.iterator]();!(A=(V=F.next()).done);A=!0){var R=V.value;if(R.checked){k=R.value;break}}}catch(z){P=!0,O=z}finally{try{A||F.return==null||F.return()}finally{if(P)throw O}}return k},j.selected=function(k){var A=null;if(k===void 0){var P=!0,O=!1,V=void 0;try{for(var F,R=j._getOptionsArray()[Symbol.iterator]();!(P=(F=R.next()).done);P=!0){var z=F.value;if(z.checked){A=z;break}}}catch(ae){O=!0,V=ae}finally{try{P||R.return==null||R.return()}finally{if(O)throw V}}}else{j._getOptionsArray().forEach(function(D){D.checked=!1,D.removeAttribute("checked")});var q=!0,O=!1,V=void 0;try{for(var G,W=j._getOptionsArray()[Symbol.iterator]();!(q=(G=W.next()).done);q=!0){var Z=G.value;Z.value===k&&(Z.setAttribute("checked",!0),Z.checked=!0,A=Z)}}catch(D){O=!0,V=D}finally{try{q||W.return==null||W.return()}finally{if(O)throw V}}}return A},j.disable=function(){var k=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],A=!0,P=!1,O=void 0;try{for(var V,F=j._getOptionsArray()[Symbol.iterator]();!(A=(V=F.next()).done);A=!0)V.value.setAttribute("disabled",k)}catch(R){P=!0,O=R}finally{try{A||F.return==null||F.return()}finally{if(P)throw O}}},j},l.default.prototype.createColorPicker=function(x){l.default._validateParameters("createColorPicker",arguments);var S=document.createElement("input");return S.type="color",x?x instanceof l.default.Color?S.value=x.toString("#rrggbb"):(l.default.prototype._colorMode="rgb",l.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},S.value=l.default.prototype.color(x).toString("#rrggbb")):S.value="#000000",(S=m(S,this)).color=function(){return x&&(x.mode&&(l.default.prototype._colorMode=x.mode),x.maxes&&(l.default.prototype._colorMaxes=x.maxes)),l.default.prototype.color(this.elt.value)},S},l.default.prototype.createInput=function(){var x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",S=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",j=(l.default._validateParameters("createInput",arguments),document.createElement("input"));return j.setAttribute("value",x),j.setAttribute("type",S),m(j,this)},l.default.prototype.createFileInput=function(x){var S,j=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(l.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(S=document.createElement("input")).setAttribute("type","file"),j&&S.setAttribute("multiple",!0),S.addEventListener("change",function(T){var C=!0,M=!1,k=void 0;try{for(var A,P=T.target.files[Symbol.iterator]();!(C=(A=P.next()).done);C=!0){var O=A.value;l.default.File._load(O,x)}}catch(V){M=!0,k=V}finally{try{C||P.return==null||P.return()}finally{if(M)throw k}}},!1),m(S,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},l.default.prototype.createVideo=function(x,S){return l.default._validateParameters("createVideo",arguments),v(this,"video",x,S)},l.default.prototype.createAudio=function(x,S){return l.default._validateParameters("createAudio",arguments),v(this,"audio",x,S)},l.default.prototype.VIDEO="video",l.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(x){var S=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return S?new Promise(function(j,T){S.call(navigator,x,j,T)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),l.default.prototype.createCapture=function(){for(var x=arguments.length,S=new Array(x),j=0;j<x;j++)S[j]=arguments[j];if(l.default._validateParameters("createCapture",S),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var T,C=!0,M=!0,k=!1,A=0,P=S;A<P.length;A++){var O=P[A];O===l.default.prototype.VIDEO?M=!1:O===l.default.prototype.AUDIO?C=!1:g(O)==="object"?(O.flipped!==void 0&&(k=O.flipped,delete O.flipped),V=Object.assign({},V,O)):typeof O=="function"&&(T=O)}var V=Object.assign({},{video:C,audio:M},V),F=document.createElement("video"),R=(F.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(V).then(function(z){try{"srcObject"in F?F.srcObject=z:F.src=window.URL.createObjectURL(z)}catch{F.src=z}}).catch(function(z){z.name==="NotFoundError"&&l.default._friendlyError("No webcam found on this device","createCapture"),z.name==="NotAllowedError"&&l.default._friendlyError("Access to the camera was denied","createCapture"),console.error(z)}),m(F,this,!0));return R.loadedmetadata=!1,F.addEventListener("loadedmetadata",function(){F.play(),F.width?(R.width=F.width,R.height=F.height,k&&(R.elt.style.transform="scaleX(-1)")):(R.width=R.elt.width=F.videoWidth,R.height=R.elt.height=F.videoHeight),R.loadedmetadata=!0,T&&T(F.srcObject)}),R.flipped=k,R},l.default.prototype.createElement=function(x,S){return l.default._validateParameters("createElement",arguments),x=document.createElement(x),S!==void 0&&(x.innerHTML=S),m(x,this)},l.default.Element.prototype.addClass=function(x){return this.elt.className?this.hasClass(x)||(this.elt.className=this.elt.className+" "+x):this.elt.className=x,this},l.default.Element.prototype.removeClass=function(x){return this.elt.classList.remove(x),this},l.default.Element.prototype.hasClass=function(x){return this.elt.classList.contains(x)},l.default.Element.prototype.toggleClass=function(x){return this.elt.classList.contains(x)?this.elt.classList.remove(x):this.elt.classList.add(x),this},l.default.Element.prototype.child=function(x){return x===void 0?this.elt.childNodes:(typeof x=="string"?(x[0]==="#"&&(x=x.substring(1)),x=document.getElementById(x)):x instanceof l.default.Element&&(x=x.elt),x instanceof HTMLElement&&this.elt.appendChild(x),this)},l.default.Element.prototype.center=function(x){var S=this.elt.style.display,j=this.elt.style.display==="none",T=this.parent().style.display==="none",C={x:this.elt.offsetLeft,y:this.elt.offsetTop},M=(j&&this.show(),T&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),k=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return x==="both"||x===void 0?this.position(M/2+this.parent().offsetLeft,k/2+this.parent().offsetTop):x==="horizontal"?this.position(M/2+this.parent().offsetLeft,C.y):x==="vertical"&&this.position(C.x,k/2+this.parent().offsetTop),this.style("display",S),j&&this.hide(),T&&this.parent().hide(),this},l.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},l.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},l.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var x="";return this.elt.style.transform&&(x=(x=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=x,this},l.default.Element.prototype._rotate=function(){var x="";return this.elt.style.transform&&(x=(x=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=x,this},l.default.Element.prototype.style=function(x,S){if((S=S instanceof l.default.Color?"rgba("+S.levels[0]+","+S.levels[1]+","+S.levels[2]+","+S.levels[3]/255+")":S)===void 0){if(x.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(x);for(var j=x.split(";"),T=0;T<j.length;T++){var C=j[T].split(":");C[0]&&C[1]&&(this.elt.style[C[0].trim()]=C[1].trim())}}else this.elt.style[x]=S,x!=="width"&&x!=="height"&&x!=="left"&&x!=="top"||(S=window.getComputedStyle(this.elt).getPropertyValue(x).replace(/[^\d.]/g,""),this[x]=Math.round(parseFloat(S,10)));return this},l.default.Element.prototype.attribute=function(x,S){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return S===void 0?this.elt.getAttribute(x):(this.elt.setAttribute(x,S),this);if(S===void 0)return this.elt.firstChild.getAttribute(x);for(var j=0;j<this.elt.childNodes.length;j++)this.elt.childNodes[j].setAttribute(x,S)},l.default.Element.prototype.removeAttribute=function(x){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var S=0;S<this.elt.childNodes.length;S++)this.elt.childNodes[S].removeAttribute(x);return this.elt.removeAttribute(x),this},l.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},l.default.Element.prototype.show=function(){return this.elt.style.display="block",this},l.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},l.default.Element.prototype.size=function(x,S){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var j=x,T=S,C=l.default.prototype.AUTO;if(j!==C||T!==C){if(j===C?j=S*this.width/this.height:T===C&&(T=x*this.height/this.width),this.elt instanceof HTMLCanvasElement){var M,k={},A=this.elt.getContext("2d");for(M in A)k[M]=A[M];for(M in this.elt.setAttribute("width",j*this._pInst._pixelDensity),this.elt.setAttribute("height",T*this._pInst._pixelDensity),this.elt.style.width=j+"px",this.elt.style.height=T+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),k)this.elt.getContext("2d")[M]=k[M]}else this.elt.style.width=j+"px",this.elt.style.height=T+"px",this.elt.width=j,this.elt.height=T;this.width=j,this.height=T,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",j),this._pInst._setProperty("height",T))}return this},l.default.Element.prototype.remove=function(){this instanceof l.default.MediaElement&&(this.stop(),(S=this.elt.srcObject)!==null&&S.getTracks().forEach(function(j){j.stop()}));var x,S=this._pInst._elements.indexOf(this);for(x in S!==-1&&this._pInst._elements.splice(S,1),this._events)this.elt.removeEventListener(x,this._events[x]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},l.default.Element.prototype.drop=function(x,S){var j;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",j=function(T){T.preventDefault()}),this.elt.addEventListener("dragleave",j)),l.default.Element._attachListener("drop",function(C){C.preventDefault(),typeof S=="function"&&S.call(this,C);var C=C.dataTransfer.files,M=!0,k=!1,A=void 0;try{for(var P,O=C[Symbol.iterator]();!(M=(P=O.next()).done);M=!0){var V=P.value;l.default.File._load(V,x)}}catch(F){k=!0,A=F}finally{try{M||O.return==null||O.return()}finally{if(k)throw A}}},this)):console.log("The File APIs are not fully supported in this browser."),this},l.default.Element.prototype.draggable=function(x){var S,j="ontouchstart"in window,T=0,C=0,M=0,k=0,A=j?"touchend":"mouseup",P=j?"touchmove":"mousemove";function O(F){var R;F=F||window.event,k=j?(R=F.changedTouches,T=M-parseInt(R[0].clientX),C=k-parseInt(R[0].clientY),M=parseInt(R[0].clientX),parseInt(R[0].clientY)):(T=M-parseInt(F.clientX),C=k-parseInt(F.clientY),M=parseInt(F.clientX),parseInt(F.clientY)),x.style.left=x.offsetLeft-T+"px",x.style.top=x.offsetTop-C+"px"}function V(){document.removeEventListener(A,V,!1),document.removeEventListener(P,O,!1)}return x===void 0?S=x=this.elt:x!==this.elt&&x.elt!==this.elt&&(x=x.elt,S=this.elt),S.addEventListener(j?"touchstart":"mousedown",function(F){{var R;F=F||window.event,k=j?(R=F.changedTouches,M=parseInt(R[0].clientX),parseInt(R[0].clientY)):(M=parseInt(F.clientX),parseInt(F.clientY))}return document.addEventListener(A,V,!1),document.addEventListener(P,O,!1),!1},!1),S.style.cursor="move",this};function _(x,S,j,T){h(this,_),this.callback=x,this.time=S,this.id=j,this.val=T}t=function(x){var S=T;if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(x&&x.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),x&&y(S,x);var j=b(T);function T(C,M){h(this,T);var k=d(M=j.call(this,C,M));return M.elt.crossOrigin="anonymous",M._prevTime=0,M._cueIDCounter=0,M._cues=[],M.pixels=[],M._pixelsState=d(M),M._pixelDensity=1,M._modified=!1,M._frameOnCanvas=-1,Object.defineProperty(k,"src",{get:function(){var A=k.elt.children[0].src,P=k.elt.src===window.location.href?"":k.elt.src;return A===window.location.href?P:A},set:function(A){for(var P=0;P<k.elt.children.length;P++)k.elt.removeChild(k.elt.children[P]);var O=document.createElement("source");O.src=A,C.appendChild(O),k.elt.src=A,k.modified=!0}}),k._onended=function(){},k.elt.onended=function(){k._onended(k)},M}return c(T,[{key:"play",value:function(){var C;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(C=this.elt.play())&&C.catch&&C.catch(function(M){M.name==="NotAllowedError"?console.error(M):console.error("Media play method encountered an unexpected error",M)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var C=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(C)},{passive:!0,once:!0})}},{key:"autoplay",value:function(C){var M=this,k=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",C),C&&!k&&(C=function(){return M._setupAutoplayFailDetection()},this.elt.readyState===4?C():this.elt.addEventListener("canplay",C,{passive:!0,once:!0})),this}},{key:"volume",value:function(C){if(C===void 0)return this.elt.volume;this.elt.volume=C}},{key:"speed",value:function(C){if(C===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=C:this.presetPlaybackRate=C}},{key:"time",value:function(C){return C===void 0?this.elt.currentTime:(this.elt.currentTime=C,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var C=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&C&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var C=arguments.length,M=new Array(C),k=0;k<C;k++)M[k]=arguments[k];return l.default.Renderer2D.prototype.loadPixels.apply(this,M)}},{key:"updatePixels",value:function(C,M,k,A){return this.loadedmetadata&&(this._ensureCanvas(),l.default.Renderer2D.prototype.updatePixels.call(this,C,M,k,A)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var C=arguments.length,M=new Array(C),k=0;k<C;k++)M[k]=arguments[k];return l.default.Renderer2D.prototype.get.apply(this,M)}},{key:"_getPixel",value:function(){this.loadPixels();for(var C=arguments.length,M=new Array(C),k=0;k<C;k++)M[k]=arguments[k];return l.default.Renderer2D.prototype._getPixel.apply(this,M)}},{key:"set",value:function(C,M,k){this.loadedmetadata&&(this._ensureCanvas(),l.default.Renderer2D.prototype.set.call(this,C,M,k),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var C=arguments.length,M=new Array(C),k=0;k<C;k++)M[k]=arguments[k];l.default.prototype.copy.apply(this,M)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var C=arguments.length,M=new Array(C),k=0;k<C;k++)M[k]=arguments[k];l.default.Image.prototype.mask.apply(this,M)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(C){this._modified=C}},{key:"onended",value:function(C){return this._onended=C,this}},{key:"connect",value:function(C){var M,k;if(typeof l.default.prototype.getAudioContext=="function")M=l.default.prototype.getAudioContext(),k=l.default.soundOut.input;else try{k=(M=C.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=M.createMediaElementSource(this.elt),this.audioSourceNode.connect(k)),C?C.input?this.audioSourceNode.connect(C.input):this.audioSourceNode.connect(C):this.audioSourceNode.connect(k)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(C,P,k){var A=this._cueIDCounter++,P=new _(P,C,A,k);return this._cues.push(P),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),A}},{key:"removeCue",value:function(C){for(var M=0;M<this._cues.length;M++)this._cues[M].id===C&&(console.log(C),this._cues.splice(M,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var C=this.time(),M=0;M<this._cues.length;M++){var k=this._cues[M].time,A=this._cues[M].val;this._prevTime<k&&k<=C&&this._cues[M].callback(A)}this._prevTime=C}}]),T}(l.default.Element),l.default.MediaElement=t,t=function(){function x(S,j){h(this,x),this.file=S,this._pInst=j,j=S.type.split("/"),this.type=j[0],this.subtype=j[1],this.name=S.name,this.size=S.size,this.data=void 0}return c(x,null,[{key:"_createLoader",value:function(S,j){var T=new FileReader;return T.onload=function(C){var M,k=new l.default.File(S);k.file.type==="application/json"?k.data=JSON.parse(C.target.result):k.file.type==="text/xml"?(M=new DOMParser().parseFromString(C.target.result,"text/xml"),k.data=new l.default.XML(M.documentElement)):k.data=C.target.result,j(k)},T}},{key:"_load",value:function(S,j){var T;/^text\//.test(S.type)||S.type==="application/json"?l.default.File._createLoader(S,j).readAsText(S):/^(video|audio)\//.test(S.type)?((T=new l.default.File(S)).data=URL.createObjectURL(S),j(T)):l.default.File._createLoader(S,j).readAsDataURL(S)}}]),x}(),l.default.File=t,t=l.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(g,i,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=(g=g("../core/main"))&&g.__esModule?g:{default:g};s.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",s.default.prototype.accelerationX=0,s.default.prototype.accelerationY=0,s.default.prototype.accelerationZ=0,s.default.prototype.pAccelerationX=0,s.default.prototype.pAccelerationY=0,s.default.prototype.pAccelerationZ=0,s.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},s.default.prototype.rotationX=0,s.default.prototype.rotationY=0,s.default.prototype.rotationZ=0,s.default.prototype.pRotationX=0,s.default.prototype.pRotationY=0;var l=s.default.prototype.pRotationZ=0,a=0,c=0,y="clockwise",b="clockwise",d="clockwise",p=(s.default.prototype.pRotateDirectionX=void 0,s.default.prototype.pRotateDirectionY=void 0,s.default.prototype.pRotateDirectionZ=void 0,s.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},s.default.prototype.turnAxis=void 0,.5),h=30,g=(s.default.prototype.setMoveThreshold=function(m){s.default._validateParameters("setMoveThreshold",arguments),p=m},s.default.prototype.setShakeThreshold=function(m){s.default._validateParameters("setShakeThreshold",arguments),h=m},s.default.prototype._ondeviceorientation=function(m){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(m.beta)),this._setProperty("rotationY",this._fromDegrees(m.gamma)),this._setProperty("rotationZ",this._fromDegrees(m.alpha)),this._handleMotion()},s.default.prototype._ondevicemotion=function(m){this._updatePAccelerations(),this._setProperty("accelerationX",2*m.acceleration.x),this._setProperty("accelerationY",2*m.acceleration.y),this._setProperty("accelerationZ",2*m.acceleration.z),this._handleMotion()},s.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var m,f,v,_,x,S=this._isGlobal?window:this;typeof S.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>p||Math.abs(this.accelerationY-this.pAccelerationY)>p||Math.abs(this.accelerationZ-this.pAccelerationZ)>p)&&S.deviceMoved(),typeof S.deviceTurned=="function"&&(f=this._toDegrees(this.rotationX)+180,v=this._toDegrees(this.pRotationX)+180,m=l+180,0<f-v&&f-v<270||f-v<-270?y="clockwise":(f-v<0||270<f-v)&&(y="counter-clockwise"),y!==this.pRotateDirectionX&&(m=f),90<Math.abs(f-m)&&Math.abs(f-m)<270&&(m=f,this._setProperty("turnAxis","X"),S.deviceTurned()),this.pRotateDirectionX=y,l=m-180,v=this._toDegrees(this.rotationY)+180,f=this._toDegrees(this.pRotationY)+180,m=a+180,0<v-f&&v-f<270||v-f<-270?b="clockwise":(v-f<0||270<v-this.pRotationY)&&(b="counter-clockwise"),b!==this.pRotateDirectionY&&(m=v),90<Math.abs(v-m)&&Math.abs(v-m)<270&&(m=v,this._setProperty("turnAxis","Y"),S.deviceTurned()),this.pRotateDirectionY=b,a=m-180,0<(f=this._toDegrees(this.rotationZ))-(v=this._toDegrees(this.pRotationZ))&&f-v<270||f-v<-270?d="clockwise":(f-v<0||270<f-v)&&(d="counter-clockwise"),d!==this.pRotateDirectionZ&&(c=f),90<Math.abs(f-c)&&Math.abs(f-c)<270&&(c=f,this._setProperty("turnAxis","Z"),S.deviceTurned()),this.pRotateDirectionZ=d,this._setProperty("turnAxis",void 0)),typeof S.deviceShaken=="function"&&(this.pAccelerationX!==null&&(_=Math.abs(this.accelerationX-this.pAccelerationX),x=Math.abs(this.accelerationY-this.pAccelerationY)),h<_+x&&S.deviceShaken())},s.default);u.default=g},{"../core/main":283}],301:[function(t,i,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};s.default.prototype.isKeyPressed=!1,s.default.prototype.keyIsPressed=!1,s.default.prototype.key="",s.default.prototype.keyCode=0,s.default.prototype._onkeydown=function(l){var a;this._downKeys[l.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",l.which),this._downKeys[l.which]=!0,this._setProperty("key",l.key||String.fromCharCode(l.which)||l.which),typeof(a=this._isGlobal?window:this).keyPressed!="function"||l.charCode||a.keyPressed(l)===!1&&l.preventDefault())},s.default.prototype._onkeyup=function(l){this._downKeys[l.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",l.key||String.fromCharCode(l.which)||l.which),this._setProperty("keyCode",l.which);var a=this._isGlobal?window:this;typeof a.keyReleased=="function"&&a.keyReleased(l)===!1&&l.preventDefault()},s.default.prototype._onkeypress=function(l){var a;l.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",l.which),this._setProperty("key",l.key||String.fromCharCode(l.which)||l.which),typeof(a=this._isGlobal?window:this).keyTyped=="function"&&a.keyTyped(l)===!1&&l.preventDefault())},s.default.prototype._onblur=function(l){this._downKeys={}},s.default.prototype.keyIsDown=function(l){return s.default._validateParameters("keyIsDown",arguments),this._downKeys[l]||!1},s.default.prototype._areDownKeys=function(){for(var l in this._downKeys)if(this._downKeys.hasOwnProperty(l)&&this._downKeys[l]===!0)return!0;return!1},t=s.default,u.default=t},{"../core/main":283}],302:[function(t,i,u){"use strict";function s(b){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(b)}function l(b){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(d){return s(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":s(d)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=(a=t("../core/main"))&&a.__esModule?a:{default:a},c=function(b){if(b&&b.__esModule)return b;if(b===null||l(b)!=="object"&&typeof b!="function")return{default:b};var d=y();if(d&&d.has(b))return d.get(b);var p,h={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in b){var m;Object.prototype.hasOwnProperty.call(b,p)&&((m=g?Object.getOwnPropertyDescriptor(b,p):null)&&(m.get||m.set)?Object.defineProperty(h,p,m):h[p]=b[p])}return h.default=b,d&&d.set(b,h),h}(t("../core/constants"));function y(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,y=function(){return b},b)}a.default.prototype.movedX=0,a.default.prototype.movedY=0,a.default.prototype._hasMouseInteracted=!1,a.default.prototype.mouseX=0,a.default.prototype.mouseY=0,a.default.prototype.pmouseX=0,a.default.prototype.pmouseY=0,a.default.prototype.winMouseX=0,a.default.prototype.winMouseY=0,a.default.prototype.pwinMouseX=0,a.default.prototype.pwinMouseY=0,a.default.prototype.mouseButton=0,a.default.prototype.mouseIsPressed=!1,a.default.prototype._updateNextMouseCoords=function(b){var d,p,h,g,m;this._curElement!==null&&(!b.touches||0<b.touches.length)&&(d=this._curElement.elt,p=this.width,h=this.height,(g=b)&&!g.clientX&&(g.touches?g=g.touches[0]:g.changedTouches&&(g=g.changedTouches[0])),m=d.getBoundingClientRect(),p=d.scrollWidth/p||1,d=d.scrollHeight/h||1,h={x:(g.clientX-m.left)/p,y:(g.clientY-m.top)/d,winX:g.clientX,winY:g.clientY,id:g.identifier},this._setProperty("movedX",b.movementX),this._setProperty("movedY",b.movementY),this._setProperty("mouseX",h.x),this._setProperty("mouseY",h.y),this._setProperty("winMouseX",h.winX),this._setProperty("winMouseY",h.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},a.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},a.default.prototype._setMouseButton=function(b){b.button===1?this._setProperty("mouseButton",c.CENTER):b.button===2?this._setProperty("mouseButton",c.RIGHT):this._setProperty("mouseButton",c.LEFT)},a.default.prototype._onmousemove=function(b){var d=this._isGlobal?window:this;this._updateNextMouseCoords(b),this.mouseIsPressed?typeof d.mouseDragged=="function"?d.mouseDragged(b)===!1&&b.preventDefault():typeof d.touchMoved=="function"&&d.touchMoved(b)===!1&&b.preventDefault():typeof d.mouseMoved=="function"&&d.mouseMoved(b)===!1&&b.preventDefault()},a.default.prototype._onmousedown=function(b){var d=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(b),this._updateNextMouseCoords(b),this.touchstart||(typeof d.mousePressed=="function"?d.mousePressed(b)===!1&&b.preventDefault():typeof d.touchStarted=="function"&&d.touchStarted(b)===!1&&b.preventDefault(),this.touchstart=!1)},a.default.prototype._onmouseup=function(b){var d=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||(typeof d.mouseReleased=="function"?d.mouseReleased(b)===!1&&b.preventDefault():typeof d.touchEnded=="function"&&d.touchEnded(b)===!1&&b.preventDefault(),this.touchend=!1)},a.default.prototype._ondragend=a.default.prototype._onmouseup,a.default.prototype._ondragover=a.default.prototype._onmousemove,a.default.prototype._onclick=function(b){var d=this._isGlobal?window:this;typeof d.mouseClicked=="function"&&d.mouseClicked(b)===!1&&b.preventDefault()},a.default.prototype._ondblclick=function(b){var d=this._isGlobal?window:this;typeof d.doubleClicked=="function"&&d.doubleClicked(b)===!1&&b.preventDefault()},a.default.prototype._mouseWheelDeltaY=0,a.default.prototype._pmouseWheelDeltaY=0,a.default.prototype._onwheel=function(b){var d=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",b.deltaY),typeof d.mouseWheel=="function"&&(b.delta=b.deltaY,d.mouseWheel(b)===!1&&b.preventDefault())},a.default.prototype.requestPointerLock=function(){var b=this._curElement.elt;return b.requestPointerLock=b.requestPointerLock||b.mozRequestPointerLock,b.requestPointerLock?(b.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},a.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=a.default,u.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(t,i,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(s){if(this._curElement!==null){for(var l=[],a=0;a<s.touches.length;a++)l[a]=function(m,g,f,d){var p=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,h=m.getBoundingClientRect(),g=m.scrollWidth/g||1,m=m.scrollHeight/f||1,f=d.touches[p]||d.changedTouches[p];return{x:(f.clientX-h.left)/g,y:(f.clientY-h.top)/m,winX:f.clientX,winY:f.clientY,id:f.identifier}}(this._curElement.elt,this.width,this.height,s,a);this._setProperty("touches",l)}},t.default.prototype._ontouchstart=function(s){var l=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(s),this._updateNextMouseCoords(s),this._updateMouseCoords(),typeof l.touchStarted=="function"&&(l.touchStarted(s)===!1&&s.preventDefault(),this.touchstart=!0)},t.default.prototype._ontouchmove=function(s){var l=this._isGlobal?window:this;this._updateTouchCoords(s),this._updateNextMouseCoords(s),typeof l.touchMoved=="function"?l.touchMoved(s)===!1&&s.preventDefault():typeof l.mouseDragged=="function"&&l.mouseDragged(s)===!1&&s.preventDefault()},t.default.prototype._ontouchend=function(s){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(s),this._updateNextMouseCoords(s);var l=this._isGlobal?window:this;typeof l.touchEnded=="function"&&(l.touchEnded(s)===!1&&s.preventDefault(),this.touchend=!0)},t=t.default,u.default=t},{"../core/main":283}],304:[function(t,i,u){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s,l,a,c,y={_toPixels:function(b){var d,p;return b instanceof ImageData?b.data:b.getContext("2d")?b.getContext("2d").getImageData(0,0,b.width,b.height).data:b.getContext("webgl")?(p=(d=b.getContext("webgl")).drawingBufferWidth*d.drawingBufferHeight*4,p=new Uint8Array(p),d.readPixels(0,0,b.width,b.height,d.RGBA,d.UNSIGNED_BYTE,p),p):void 0},_getARGB:function(b,d){return d*=4,b[3+d]<<24&4278190080|b[d]<<16&16711680|b[1+d]<<8&65280|255&b[2+d]},_setPixels:function(b,d){for(var p,h=0,g=b.length;h<g;h++)b[0+(p=4*h)]=(16711680&d[h])>>>16,b[1+p]=(65280&d[h])>>>8,b[2+p]=255&d[h],b[3+p]=(4278190080&d[h])>>>24},_toImageData:function(b){return b instanceof ImageData?b:b.getContext("2d").getImageData(0,0,b.width,b.height)},_createImageData:function(b,d){return y._tmpCanvas=document.createElement("canvas"),y._tmpCtx=y._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(b,d)},apply:function(b,m,p){var h=b.getContext("2d"),g=h.getImageData(0,0,b.width,b.height),m=m(g,p);m instanceof ImageData?h.putImageData(m,0,0,0,0,b.width,b.height):h.putImageData(g,0,0,0,0,b.width,b.height)},threshold:function(b){for(var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:.5,p=y._toPixels(b),h=Math.floor(255*d),g=0;g<p.length;g+=4){var m=void 0,m=h<=.2126*p[g]+.7152*p[g+1]+.0722*p[g+2]?255:0;p[g]=p[g+1]=p[g+2]=m}},gray:function(b){for(var d=y._toPixels(b),p=0;p<d.length;p+=4){var h=d[p],g=d[p+1],m=d[p+2];d[p]=d[p+1]=d[p+2]=.2126*h+.7152*g+.0722*m}},opaque:function(b){for(var d=y._toPixels(b),p=0;p<d.length;p+=4)d[p+3]=255;return d},invert:function(b){for(var d=y._toPixels(b),p=0;p<d.length;p+=4)d[p]=255-d[p],d[p+1]=255-d[p+1],d[p+2]=255-d[p+2]},posterize:function(b){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:4,p=y._toPixels(b);if(d<2||255<d)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var h=d-1,g=0;g<p.length;g+=4){var m=p[g],f=p[g+1],v=p[g+2];p[g]=255*(m*d>>8)/h,p[g+1]=255*(f*d>>8)/h,p[g+2]=255*(v*d>>8)/h}},dilate:function(b){for(var d,p,h,g,m,f,v,_,x,S=y._toPixels(b),j=0,T=S.length?S.length/4:0,C=new Int32Array(T);j<T;)for(p=(d=j)+b.width;j<p;)g=h=y._getARGB(S,j),(x=j-1)<d&&(x=j),p<=(_=j+1)&&(_=j),(m=j-b.width)<0&&(m=0),T<=(f=j+b.width)&&(f=j),m=y._getARGB(S,m),x=y._getARGB(S,x),f=y._getARGB(S,f),(g=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))<(v=77*(x>>16&255)+151*(x>>8&255)+28*(255&x))&&(h=x,g=v),g<(v=77*((x=y._getARGB(S,_))>>16&255)+151*(x>>8&255)+28*(255&x))&&(h=x,g=v),g<(_=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))&&(h=m,g=_),g<(x=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))&&(h=f,g=x),C[j++]=h;y._setPixels(S,C)},erode:function(b){for(var d,p,h,g,m,f,v,_,x,S=y._toPixels(b),j=0,T=S.length?S.length/4:0,C=new Int32Array(T);j<T;)for(p=(d=j)+b.width;j<p;)g=h=y._getARGB(S,j),(x=j-1)<d&&(x=j),p<=(_=j+1)&&(_=j),(m=j-b.width)<0&&(m=0),T<=(f=j+b.width)&&(f=j),m=y._getARGB(S,m),x=y._getARGB(S,x),f=y._getARGB(S,f),(v=77*(x>>16&255)+151*(x>>8&255)+28*(255&x))<(g=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))&&(h=x,g=v),(v=77*((x=y._getARGB(S,_))>>16&255)+151*(x>>8&255)+28*(255&x))<g&&(h=x,g=v),(_=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))<g&&(h=m,g=_),(x=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))<g&&(h=f,g=x),C[j++]=h;y._setPixels(S,C)},blur:function(b,d){for(var p,h,g,m,f,v,_,x,S,j,T=y._toPixels(b),C=b.width,M=b.height,k=C*M,A=new Int32Array(k),P=0;P<k;P++)A[P]=y._getARGB(T,P);var O,V,F,R,z,q,G,W,Z=new Int32Array(k),ae=new Int32Array(k),L=new Int32Array(k),D=new Int32Array(k),U=0,H=3.5*d|0;if(s!==(H=H<1?1:H<248?H:248)){l=1+(s=H)<<1,a=new Int32Array(l),c=new Array(l);for(var X=0;X<l;X++)c[X]=new Int32Array(256);for(var J=1,le=H-1;J<H;J++){a[H+J]=a[le]=q=le*le,G=c[H+J],W=c[le--];for(var se=0;se<256;se++)G[se]=W[se]=q*se}z=a[H]=H*H,G=c[H];for(var ne=0;ne<256;ne++)G[ne]=z*ne}for(V=0;V<M;V++){for(O=0;O<C;O++){if(m=g=h=f=p=0,(v=O-s)<0)j=-v,v=0;else{if(C<=v)break;j=0}for(F=j;F<l&&!(C<=v);F++){var ce=A[v+U];R=c[F],f+=R[(-16777216&ce)>>>24],h+=R[(16711680&ce)>>16],g+=R[(65280&ce)>>8],m+=R[255&ce],p+=a[F],v++}Z[_=U+O]=f/p,ae[_]=h/p,L[_]=g/p,D[_]=m/p}U+=C}for(S=(x=-s)*C,V=U=0;V<M;V++){for(O=0;O<C;O++){if(m=g=h=f=p=0,x<0)j=_=-x,v=O;else{if(M<=x)break;j=0,_=x,v=O+S}for(F=j;F<l&&!(M<=_);F++)R=c[F],f+=R[Z[v]],h+=R[ae[v]],g+=R[L[v]],m+=R[D[v]],p+=a[F],_++,v+=C;A[O+U]=f/p<<24|h/p<<16|g/p<<8|m/p}U+=C,S+=C,x++}y._setPixels(T,A)}};u.default=y},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(t,i,u){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=a(t("../core/main")),l=a(t("omggif"));function a(y){return y&&y.__esModule?y:{default:y}}function c(y){return function(b){if(Array.isArray(b)){for(var d=0,p=new Array(b.length);d<b.length;d++)p[d]=b[d];return p}}(y)||function(b){if(Symbol.iterator in Object(b)||Object.prototype.toString.call(b)==="[object Arguments]")return Array.from(b)}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}s.default.prototype.createImage=function(y,b){return s.default._validateParameters("createImage",arguments),new s.default.Image(y,b)},s.default.prototype.saveCanvas=function(){for(var y,b,d,p,h,g,m=arguments.length,f=new Array(m),v=0;v<m;v++)f[v]=arguments[v];switch(s.default._validateParameters("saveCanvas",f),f[0]instanceof HTMLCanvasElement?(y=f[0],f.shift()):f[0]instanceof s.default.Element?(y=f[0].elt,f.shift()):f[0]instanceof s.default.Framebuffer?(p=f[0],(h=this.createGraphics(p.width,p.height)).pixelDensity(pixelDensity()),p.loadPixels(),h.loadPixels(),h.pixels.set(p.pixels),h.updatePixels(),y=h.elt,f.shift()):y=this._curElement&&this._curElement.elt,1<=f.length&&(b=f[0]),d=(d=2<=f.length?f[1]:d)||s.default.prototype._checkFileExtension(b,d)[1]||"png"){default:g="image/png";break;case"webp":g="image/webp";break;case"jpeg":case"jpg":g="image/jpeg"}y.toBlob(function(_){s.default.prototype.downloadFile(_,b,d),h&&h.remove()},g)},s.default.prototype.encodeAndDownloadGif=function(y,b){for(var d=y.gifProperties,p=d.loopLimit,h=(p===1?p=null:p===null&&(p=0),new Uint8Array(y.width*y.height*d.numFrames)),g=[],m={},f=0;f<d.numFrames;f++){for(var v=new Set,_=d.frames[f].image.data,x=_.length,S=new Uint32Array(y.width*y.height),j=0,T=0;j<x;j+=4,T++){var C=_[j+0]<<16|_[j+1]<<8|_[j+2]<<0;v.add(C),S[T]=C}var M=c(v).sort().toString();m[M]===void 0?m[M]={freq:1,frames:[f]}:(m[M].freq+=1,m[M].frames.push(f)),g.push(S)}for(var P=[],k=Object.keys(m).sort(function(L,D){return m[D].freq-m[L].freq}),A=k[0].split(",").map(function(L){return parseInt(L)}),P=P.concat(m[A].frames),O=new Set(A),V=1;V<k.length;V++){var F=k[V].split(",").map(function(L){return parseInt(L)}).filter(function(L){return!O.has(L)});if(A.length+F.length<=256){for(var R=0;R<F.length;R++)A.push(F[R]),O.add(F[R]);P=P.concat(m[k[V]].frames)}}P=new Set(P);for(var z={},q=0;q<A.length;q++)z[A[q]]||(z[A[q]]=q);for(var G=1;G<A.length;)G<<=1;A.length=G;for(var p={loop:p,palette:new Uint32Array(A)},W=new l.default.GifWriter(h,y.width,y.height,p),Z={},ae=0;ae<d.numFrames;ae++)(function(D){var U=!P.has(D),H=U?[]:A,X=new Uint8Array(y.width*y.height),J={},le=new Set,se=(g[D].forEach(function(oe,fe){U?(J[oe]===void 0&&(J[oe]=H.length,H.push(oe)),X[fe]=J[oe]):X[fe]=z[oe],0<D&&g[D-1][fe]!==oe&&le.add(oe)}),{}),ne=H.filter(function(oe){return!le.has(oe)});if(0<ne.length){var ne=ne[0],ce=(U?J:z)[ne];if(0<D){for(var he=0;he<g[D].length;he++)g[D-1][he]===g[D][he]&&(X[he]=ce);se.transparent=ce,Z.frameOpts.disposal=1}}if(se.delay=d.frames[D].delay/10,U){for(var ee=1;ee<H.length;)ee<<=1;H.length=ee,se.palette=new Uint32Array(H)}0<D&&W.addFrame(0,0,y.width,y.height,Z.pixelPaletteIndex,Z.frameOpts),Z={pixelPaletteIndex:X,frameOpts:se}})(ae);Z.frameOpts.disposal=1,W.addFrame(0,0,y.width,y.height,Z.pixelPaletteIndex,Z.frameOpts),p=new Blob([h.slice(0,W.end())],{type:"image/gif"}),s.default.prototype.downloadFile(p,b,"gif")},s.default.prototype.saveFrames=function(y,b,d,g,h){s.default._validateParameters("saveFrames",arguments),d=s.default.prototype.constrain(d=d||3,0,15),d*=1e3;var g=s.default.prototype.constrain(g||15,0,22),m=0,f=s.default.prototype._makeFrame,v=this._curElement.elt,_=[],x=setInterval(function(){_.push(f(y+m,b,v)),m++},1e3/g);setTimeout(function(){if(clearInterval(x),h)h(_);else for(var S=0,j=_;S<j.length;S++){var T=j[S];s.default.prototype.downloadFile(T.imageData,T.filename,T.ext)}_=[]},.01+d)},s.default.prototype._makeFrame=function(y,b,h){var p,h=this?this._curElement.elt:h;if(b)switch(b.toLowerCase()){case"png":p="image/png";break;case"jpeg":case"jpg":p="image/jpeg";break;default:p="image/png"}else b="png",p="image/png";var h=(h=h.toDataURL(p)).replace(p,"image/octet-stream"),g={};return g.imageData=h,g.filename=y,g.ext=b,g},t=s.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(t,i,u){"use strict";function s(v){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(v)}function l(v){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(_){return s(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":s(_)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t("regenerator-runtime/runtime");var a=h(t("../core/main")),c=h(t("../core/helpers")),y=function(v){if(v&&v.__esModule)return v;if(v===null||l(v)!=="object"&&typeof v!="function")return{default:v};var _=p();if(_&&_.has(v))return _.get(v);var x,S={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in v){var T;Object.prototype.hasOwnProperty.call(v,x)&&((T=j?Object.getOwnPropertyDescriptor(v,x):null)&&(T.get||T.set)?Object.defineProperty(S,x,T):S[x]=v[x])}return S.default=v,_&&_.set(v,S),S}(t("../core/constants")),b=h(t("omggif")),d=t("gifenc");function p(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,p=function(){return v},v)}function h(v){return v&&v.__esModule?v:{default:v}}function g(v,_,x,S,j,T,C){try{var M=v[T](C),k=M.value}catch(A){return void x(A)}M.done?_(k):Promise.resolve(k).then(S,j)}function m(v,_,x,S,j,T,C,M,k,A,P){var O,V,F,R,z,q,G,W,Z;return v===y.COVER&&(O=_,F=x,G=T,W=C,q=M,Z=k,V=A,R=P,z=Math.max(G/V,W/R),G/=z,W/=z,z=q,q=Z,O===y.CENTER?z+=(V-G)/2:O===y.RIGHT&&(z+=V-G),F===y.CENTER?q+=(R-W)/2:F===y.BOTTOM&&(q+=R-W),M=(Z={x:z,y:q,w:G,h:W}).x,k=Z.y,A=Z.w,P=Z.h),v===y.CONTAIN&&(O=_,V=x,F=S,R=j,z=T,q=C,G=A,W=P,Z=Math.max(G/z,W/q),G/=Z,W/=Z,Z=F,F=R,O===y.CENTER?Z+=(z-G)/2:O===y.RIGHT&&(Z+=z-G),V===y.CENTER?F+=(q-W)/2:V===y.BOTTOM&&(F+=q-W),S=(v={x:Z,y:F,w:G,h:W}).x,j=v.y,T=v.w,C=v.h),{sx:M,sy:k,sw:A,sh:P,dx:S,dy:j,dw:T,dh:C}}function f(v,_){return 0<v&&v<_?v:_}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),a.default.prototype.loadImage=function(v,_,x){a.default._validateParameters("loadImage",arguments);var S=new a.default.Image(1,1,this),j=this,T=new Request(v,{method:"GET",mode:"cors"});return fetch(v,T).then(function(C){var M,k=C.headers.get("content-type");k===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),k&&k.includes("image/gif")?C.arrayBuffer().then(function(A){if(A){for(var A=new Uint8Array(A),P=S,O=_,V=x,F=function(U){j._decrementPreload()}.bind(j),R=new b.default.GifReader(A),z=(P.width=P.canvas.width=R.width,P.height=P.canvas.height=R.height,[]),q=R.numFrames(),G=new Uint8ClampedArray(P.width*P.height*4),W=0;W<q;W++){var Z=R.frameInfo(W),ae=P.drawingContext.getImageData(0,0,P.width,P.height),L=(G=ae.data.slice(),function(U,H){try{H.decodeAndBlitFrameRGBA(U,G)}catch(X){a.default._friendlyFileLoadError(8,P.src),typeof V=="function"?V(X):console.error(X)}}(W,R),new ImageData(G,P.width,P.height)),L=(P.drawingContext.putImageData(L,0,0),Z.delay);L===0&&(L=10),z.push({image:P.drawingContext.getImageData(0,0,P.width,P.height),delay:10*L}),Z.disposal===2?P.drawingContext.clearRect(Z.x,Z.y,Z.width,Z.height):Z.disposal===3&&P.drawingContext.putImageData(ae,0,0,Z.x,Z.y,Z.width,Z.height)}(A=R.loopCount())===null?A=1:A===0&&(A=null),P.drawingContext.putImageData(z[0].image,0,0),1<z.length&&(P.gifProperties={displayIndex:0,loopLimit:A,loopCount:0,frames:z,numFrames:q,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof O=="function"&&O(P),F()}},function(A){typeof x=="function"?(x(A),j._decrementPreload()):console.error(A)}):((M=new Image).onload=function(){S.width=S.canvas.width=M.width,S.height=S.canvas.height=M.height,S.drawingContext.drawImage(M,0,0),S.modified=!0,typeof _=="function"&&_(S),j._decrementPreload()},M.onerror=function(A){a.default._friendlyFileLoadError(0,M.src),typeof x=="function"?(x(A),j._decrementPreload()):console.error(A)},v.indexOf("data:image/")!==0&&(M.crossOrigin="Anonymous"),M.src=v),S.modified=!0}).catch(function(C){a.default._friendlyFileLoadError(0,v),typeof x=="function"?(x(C),j._decrementPreload()):console.error(C)}),S},a.default.prototype.saveGif=function(){v=regeneratorRuntime.mark(function x(S,j){var T,C,M,k,A,P,O,V,F,R,z,q,G,W,Z,ae,L,D,U,H,X,J,le,se,ne,ce,he=arguments;return regeneratorRuntime.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(T=2<he.length&&he[2]!==void 0?he[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof S!="string")throw TypeError("fileName parameter must be a string");ee.next=3;break;case 3:if(typeof j!="number")throw TypeError("Duration parameter must be a number");ee.next=5;break;case 5:if(C=T&&T.delay||0,M=T&&T.units||"seconds",k=T&&T.silent||!1,A=T&&T.notificationDuration||0,P=T&&T.notificationID||"progressBar",typeof C!="number")throw TypeError("Delay parameter must be a number");ee.next=12;break;case 12:if(M!=="seconds"&&M!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');ee.next=14;break;case 14:if(typeof k!="boolean")throw TypeError("Silent parameter must be a boolean");ee.next=16;break;case 16:if(typeof A!="number")throw TypeError("Notification duration parameter must be a number");ee.next=18;break;case 18:if(typeof P!="string")throw TypeError("Notification ID parameter must be a string");ee.next=20;break;case 20:return this._recording=!0,R=this._targetFrameRate,O=(O=1/(R=R!==1/0&&R!==void 0&&R!==0?R:60)*1e3)<20?20:O,F=(V=M==="seconds"?j*R:j)+(R=M==="seconds"?C*R:C),R=R,this.frameCount=R,z=this._pixelDensity,this.pixelDensity(1),q=[],document.getElementById(P)!==null&&document.getElementById(P).remove(),k||((G=this.createP("")).id(P),G.style("font-size","16px"),G.style("font-family","Montserrat"),G.style("background-color","#ffffffa0"),G.style("padding","8px"),G.style("border-radius","10px"),G.position(0,0)),this._renderer instanceof a.default.RendererGL&&(Z=this.drawingContext,W=new Uint8Array(Z.drawingBufferWidth*Z.drawingBufferHeight*4)),this.noLoop(),ee.next=39,Promise.resolve();case 39:if(R<F)return this.redraw(),se=void 0,se=this._renderer instanceof a.default.RendererGL?(W=new Uint8Array(Z.drawingBufferWidth*Z.drawingBufferHeight*4),Z.readPixels(0,0,Z.drawingBufferWidth,Z.drawingBufferHeight,Z.RGBA,Z.UNSIGNED_BYTE,W),function(oe,fe,_e){for(var pe=parseInt(_e/2),ye=4*fe,xe=new Uint8Array(4*fe),Re=0;Re<pe;++Re){var Te=Re*ye,We=(_e-Re-1)*ye;xe.set(oe.subarray(Te,Te+ye)),oe.copyWithin(Te,We,We+ye),oe.set(xe,We)}return oe}(W,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,q.push(se),R++,k||G.html("Saved frame <b>"+q.length.toString()+"</b> out of "+V.toString()),ee.next=48,new Promise(function(oe){return setTimeout(oe,0)});ee.next=50;break;case 48:ee.next=39;break;case 50:k||G.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(z),ae=(0,d.GIFEncoder)(),L=function(oe){for(var fe=new Uint8Array(oe.length*oe[0].length),_e=0;_e<oe.length;_e++)fe.set(oe[_e],_e*oe[0].length);var pe=(0,d.quantize)(fe,256,{format:"rgba4444",oneBitAlpha:!0});return pe.length===256?pe[pe.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:pe.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),pe}(q),D={},U=function(oe){for(var fe=oe.length/4,_e=new Uint8Array(fe),pe=0;pe<fe;pe++){var ye=oe[4*pe]<<24|oe[4*pe+1]<<16|oe[4*pe+2]<<8|oe[4*pe+3];D[ye]===void 0&&(D[ye]=(0,d.nearestColorIndex)(L,oe.slice(4*pe,4*(pe+1)))),_e[pe]=D[ye]}return _e},H=L.length-1,X=[],J=0;case 60:if(!(J<q.length)){ee.next=71;break}if(le=U(q[J]),se=le.slice(),J===0)ae.writeFrame(le,this.width,this.height,{palette:L,delay:O,dispose:1});else{for(ne=0;ne<le.length;ne++)le[ne]===X[ne]&&(le[ne]=H);ae.writeFrame(le,this.width,this.height,{delay:O,transparent:!0,transparentIndex:H,dispose:1})}return X=se,k||G.html("Rendered frame <b>"+J.toString()+"</b> out of "+V.toString()),ee.next=68,new Promise(function(oe){return setTimeout(oe,0)});case 68:J++,ee.next=60;break;case 71:ae.finish(),ce=ae.bytesView(),ce=new Blob([ce],{type:"image/gif"}),q=[],this._recording=!1,this.loop(),k||(G.html("Done. Downloading your gif!\u{1F338}"),0<A&&setTimeout(function(){return G.remove()},1e3*A)),a.default.prototype.downloadFile(ce,S,"gif");case 80:case"end":return ee.stop()}},x,this)});var v,_=function(){var x=this,S=arguments;return new Promise(function(j,T){var C=v.apply(x,S);function M(A){g(C,j,T,M,k,"next",A)}function k(A){g(C,j,T,M,k,"throw",A)}M(void 0)})};return function(x,S){return _.apply(this,arguments)}}(),a.default.prototype.image=function(v,_,x,S,R,z,q,G,Z,A,P,O){a.default._validateParameters("image",arguments);var W=v.width,V=v.height,F=(O=O||y.CENTER,P=P||y.CENTER,v.elt&&(W=W!==void 0?W:v.elt.width,V=V!==void 0?V:v.elt.height),v.elt&&v.elt.videoWidth&&!v.canvas&&(W=W!==void 0?W:v.elt.videoWidth,V=V!==void 0?V:v.elt.videoHeight),S||W),R=R||V,z=z||0,q=q||0,G=f(G!==void 0?G:W,W),W=f(Z!==void 0?Z:V,V),Z=1;v.elt&&!v.canvas&&v.elt.style.width&&(Z=v.elt.videoWidth&&!S?v.elt.videoWidth:v.elt.width,Z/=parseInt(v.elt.style.width,10)),z*=Z,q*=Z,W*=Z,G*=Z,V=m(A,P,O,(V=c.default.modeAdjust(_,x,F,R,this._renderer._imageMode)).x,V.y,V.w,V.h,z,q,G,W),this._renderer.image(v,V.sx,V.sy,V.sw,V.sh,V.dx,V.dy,V.dw,V.dh)},a.default.prototype.tint=function(){for(var v=arguments.length,_=new Array(v),x=0;x<v;x++)_[x]=arguments[x];a.default._validateParameters("tint",_);var S=this.color.apply(this,_);this._renderer._tint=S.levels},a.default.prototype.noTint=function(){this._renderer._tint=null},a.default.prototype._getTintedImageCanvas=a.default.Renderer2D.prototype._getTintedImageCanvas,a.default.prototype.imageMode=function(v){a.default._validateParameters("imageMode",arguments),v!==y.CORNER&&v!==y.CORNERS&&v!==y.CENTER||(this._renderer._imageMode=v)},t=a.default,u.default=t},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(t,i,u){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=a(t("../core/main")),l=a(t("./filters"));function a(y){return y&&y.__esModule?y:{default:y}}function c(y,b){for(var d=0;d<b.length;d++){var p=b[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}s.default.Image=function(){function y(h,g){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");this.width=h,this.height=g,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var b,d,p;return b=y,(d=[{key:"pixelDensity",value:function(h){return h!==void 0?(h<=0&&(s.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),h=1),this._pixelDensity=h,this.width/=h,this.height/=h,this):this._pixelDensity}},{key:"_animateGif",value:function(f){var g,m=this.gifProperties,f=f._lastRealFrameTime||window.performance.now();m.lastChangeTime===0&&(m.lastChangeTime=f),m.playing&&(m.timeDisplayed=f-m.lastChangeTime,g=m.frames[m.displayIndex].delay,m.timeDisplayed>=g&&(g=Math.floor(m.timeDisplayed/g),m.timeDisplayed=0,m.lastChangeTime=f,m.displayIndex+=g,m.loopCount=Math.floor(m.displayIndex/m.numFrames),m.loopLimit!==null&&m.loopCount>=m.loopLimit?m.playing=!1:(f=m.displayIndex%m.numFrames,this.drawingContext.putImageData(m.frames[f].image,0,0),m.displayIndex=f,this.setModified(!0))))}},{key:"_setProperty",value:function(h,g){this[h]=g,this.setModified(!0)}},{key:"loadPixels",value:function(){s.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(h,g,m,f){s.default.Renderer2D.prototype.updatePixels.call(this,h,g,m,f),this.setModified(!0)}},{key:"get",value:function(h,g,m,f){return s.default._validateParameters("p5.Image.get",arguments),s.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var h=arguments.length,g=new Array(h),m=0;m<h;m++)g[m]=arguments[m];return s.default.Renderer2D.prototype._getPixel.apply(this,g)}},{key:"set",value:function(h,g,m){s.default.Renderer2D.prototype.set.call(this,h,g,m),this.setModified(!0)}},{key:"resize",value:function(h,g){h===0&&g===0?(h=this.canvas.width,g=this.canvas.height):h===0?h=this.canvas.width*g/this.canvas.height:g===0&&(g=this.canvas.height*h/this.canvas.width),h=Math.floor(h),g=Math.floor(g);var m=document.createElement("canvas");if(m.width=h,m.height=g,this.gifProperties)for(var f=this.gifProperties,v=0;v<f.numFrames;v++){for(var _=this.drawingContext.createImageData(h,g),x=(M=M=C=T=j=void 0,f.frames[v].image),S=_,j=0,T=0;T<S.height;T++)for(var C=0;C<S.width;C++){var M=Math.floor(C*x.width/S.width),M=4*(Math.floor(T*x.height/S.height)*x.width+M);S.data[j++]=x.data[M++],S.data[j++]=x.data[M++],S.data[j++]=x.data[M++],S.data[j++]=x.data[+M]}f.frames[v].image=_}m.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,m.width,m.height),this.canvas.width=this.width=h,this.canvas.height=this.height=g,this.drawingContext.drawImage(m,0,0,h,g,0,0,h,g),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var h=arguments.length,g=new Array(h),m=0;m<h;m++)g[m]=arguments[m];s.default.prototype.copy.apply(this,g)}},{key:"mask",value:function(h){var g=this.drawingContext.globalCompositeOperation,m=this._pixelDensity,f=1,v=[h=h===void 0?this:h,0,0,(f=h instanceof s.default.Renderer?h._pInst._pixelDensity:f)*h.width,f*h.height,0,0,m*this.width,m*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var _=0;_<this.gifProperties.frames.length;_++)this.drawingContext.putImageData(this.gifProperties.frames[_].image,0,0),this.copy.apply(this,v),this.gifProperties.frames[_].image=this.drawingContext.getImageData(0,0,m*this.width,m*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,v);this.drawingContext.globalCompositeOperation=g,this.setModified(!0)}},{key:"filter",value:function(h,g){l.default.apply(this.canvas,l.default[h],g),this.setModified(!0)}},{key:"blend",value:function(){for(var h=arguments.length,g=new Array(h),m=0;m<h;m++)g[m]=arguments[m];s.default._validateParameters("p5.Image.blend",arguments),s.default.prototype.blend.apply(this,g),this.setModified(!0)}},{key:"setModified",value:function(h){this._modified=h}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(h,g){this.gifProperties?s.default.prototype.encodeAndDownloadGif(this,h):s.default.prototype.saveCanvas(this.canvas,h,g)}},{key:"reset",value:function(){var h;this.gifProperties&&((h=this.gifProperties).playing=!0,h.timeSinceStart=0,h.timeDisplayed=0,h.lastChangeTime=0,h.loopCount=0,h.displayIndex=0,this.drawingContext.putImageData(h.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var h;if(this.gifProperties)return(h=this.gifProperties).displayIndex%h.numFrames}},{key:"setFrame",value:function(h){var g;this.gifProperties&&(h<(g=this.gifProperties).numFrames&&0<=h?(g.timeDisplayed=0,g.lastChangeTime=0,g.displayIndex=h,this.drawingContext.putImageData(g.frames[h].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(h,g){if(this.gifProperties){var m=this.gifProperties;if(g<m.numFrames&&0<=g)m.frames[g].delay=h;else{var f=!0,g=!1,v=void 0;try{for(var _,x=m.frames[Symbol.iterator]();!(f=(_=x.next()).done);f=!0)_.value.delay=h}catch(j){g=!0,v=j}finally{try{f||x.return==null||x.return()}finally{if(g)throw v}}}}}}])&&c(b.prototype,d),p&&c(b,p),y}(),t=s.default.Image,u.default=t},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(t,i,u){"use strict";t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=a(t("../core/main")),l=a(t("./filters"));function a(c){return c&&c.__esModule?c:{default:c}}t("../color/p5.Color"),s.default.prototype.pixels=[],s.default.prototype.blend=function(){for(var c,y=arguments.length,b=new Array(y),d=0;d<y;d++)b[d]=arguments[d];s.default._validateParameters("blend",b),this._renderer?(c=this._renderer).blend.apply(c,b):s.default.Renderer2D.prototype.blend.apply(this,b)},s.default.prototype.copy=function(){for(var c,y,b,d,p,h,g,m,f,v=arguments.length,_=new Array(v),x=0;x<v;x++)_[x]=arguments[x];if(s.default._validateParameters("copy",_),_.length===9)c=_[0],y=_[1],b=_[2],d=_[3],p=_[4],h=_[5],g=_[6],m=_[7],f=_[8];else{if(_.length!==8)throw new Error("Signature not supported");c=this,y=_[0],b=_[1],d=_[2],p=_[3],h=_[4],g=_[5],m=_[6],f=_[7]}s.default.prototype._copyHelper(this,c,y,b,d,p,h,g,m,f)},s.default.prototype._copyHelper=function(c,y,b,d,p,h,g,m,f,v){var _=y.canvas.width/y.width,x=0,S=0;y._renderer&&y._renderer.isP3D&&(x=y.width/2,S=y.height/2),c._renderer&&c._renderer.isP3D?(c.push(),c.resetMatrix(),c.noLights(),c.blendMode(c.BLEND),c.imageMode(c.CORNER),s.default.RendererGL.prototype.image.call(c._renderer,y,b+x,d+S,p,h,g,m,f,v),c.pop()):c.drawingContext.drawImage(y.canvas,_*(b+x),_*(d+S),_*p,_*h,g,m,f,v)},s.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},s.default.prototype.filter=function(){for(var c=arguments.length,y=new Array(c),b=0;b<c;b++)y[b]=arguments[b];s.default._validateParameters("filter",y);var g=function(){var m,f={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof s.default.Shader?f.shader=arguments.length<=0?void 0:arguments[0]:(f.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(f.value=arguments.length<=1?void 0:arguments[1]),((m=arguments.length-1)<0||arguments.length<=m?void 0:arguments[m])===!1&&(f.useWebGL=!1)),f}.apply(void 0,y),d=g.shader,p=g.operation,h=g.value,g=g.useWebGL;this._renderer.isP3D&&d?s.default.RendererGL.prototype.filter.call(this._renderer,d):g||this._renderer.isP3D?(!g&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?s.default.RendererGL.prototype.filter.call(this._renderer,p,h):((d=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),d.filter.apply(d,y),this.copy(d._renderer,0,0,this.width,this.height,0,0,this.width,this.height),d.clear())):this.canvas!==void 0?l.default.apply(this.canvas,l.default[p],h):l.default.apply(this.elt,l.default[p],h)},s.default.prototype.get=function(c,y,b,d){var p;return s.default._validateParameters("get",arguments),(p=this._renderer).get.apply(p,arguments)},s.default.prototype.loadPixels=function(){for(var c=arguments.length,y=new Array(c),b=0;b<c;b++)y[b]=arguments[b];s.default._validateParameters("loadPixels",y),this._renderer.loadPixels()},s.default.prototype.set=function(c,y,b){this._renderer.set(c,y,b)},s.default.prototype.updatePixels=function(c,y,b,d){s.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(c,y,b,d)},t=s.default,u.default=t},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(t,i,u){"use strict";function s(h){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var l=y(t("../core/main")),a=(t("whatwg-fetch"),t("es6-promise/auto"),y(t("fetch-jsonp"))),c=y(t("file-saver"));function y(h){return h&&h.__esModule?h:{default:h}}function b(h){return(b=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(g){return s(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":s(g)})(h)}function d(h){return h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function p(h,g){g&&g!==!0&&g!=="true"||(g="");var m="";return(h=h||"untitled")&&h.includes(".")&&(m=h.split(".").pop()),g&&m!==g&&(m=g,h="".concat(h,".").concat(m)),[h,m]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),l.default.prototype.loadJSON=function(){for(var h=arguments.length,g=new Array(h),m=0;m<h;m++)g[m]=arguments[m];l.default._validateParameters("loadJSON",g);for(var f,v,_,x=g[0],S={},j="json",T=1;T<g.length;T++){var C=g[T];typeof C=="string"?C!=="jsonp"&&C!=="json"||(j=C):typeof C=="function"?f?v=C:f=C:b(C)==="object"&&(C.hasOwnProperty("jsonpCallback")||C.hasOwnProperty("jsonpCallbackFunction"))&&(j="jsonp",_=C)}var M=this;return this.httpDo(x,"GET",_,j,function(k){for(var A in k)S[A]=k[A];f!==void 0&&f(k),M._decrementPreload()},function(k){if(l.default._friendlyFileLoadError(5,x),!v)throw k;v(k)}),S},l.default.prototype.loadStrings=function(){for(var h=arguments.length,g=new Array(h),m=0;m<h;m++)g[m]=arguments[m];l.default._validateParameters("loadStrings",g);for(var f,v,_=[],x=1;x<g.length;x++){var S=g[x];typeof S=="function"&&(f===void 0?f=S:v===void 0&&(v=S))}var j=this;return l.default.prototype.httpDo.call(this,g[0],"GET","text",function(T){for(var C=T.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),M=0,k=C.length;M<k;M+=32768)Array.prototype.push.apply(_,C.slice(M,Math.min(M+32768,k)));f!==void 0&&f(_),j._decrementPreload()},function(T){if(l.default._friendlyFileLoadError(3,T),!v)throw T;v(T)}),_},l.default.prototype.loadTable=function(h){var g,m,f,v=[],_=!1,x=h.substring(h.lastIndexOf(".")+1,h.length);x==="csv"?f=",":x==="ssv"?f=";":x==="tsv"&&(f="	");for(var S=1;S<arguments.length;S++)typeof arguments[S]=="function"?g===void 0?g=arguments[S]:m===void 0&&(m=arguments[S]):typeof arguments[S]=="string"&&(v.push(arguments[S]),arguments[S]==="header"&&(_=!0),arguments[S]==="csv"?f=",":arguments[S]==="ssv"?f=";":arguments[S]==="tsv"&&(f="	"));var j=new l.default.Table,T=this;return this.httpDo(h,"GET","table",function(C){for(var M,k,A={},P=0,O=[],V=0,F=null,R=function(){A.currentState=P,A.token=""},z=function(){F.push(A.token),R()},q=function(){A.currentState=4,O.push(F),F=null};;){if((M=C[V++])==null){if(A.escaped)throw new Error("Unclosed quote in file.");if(F){z(),q();break}}if(F===null&&(A.escaped=!1,F=[],R()),A.currentState===P){if(M==='"'){A.escaped=!0,A.currentState=1;continue}A.currentState=1}if(A.currentState===1&&A.escaped)if(M==='"')C[V]==='"'?(A.token+='"',V++):(A.escaped=!1,A.currentState=2);else{if(M==="\r")continue;A.token+=M}else M==="\r"?(C[V]===`
`&&V++,z(),q()):M===`
`?(z(),q()):M===f?z():A.currentState===1&&(A.token+=M)}if(_)j.columns=O.shift();else for(var G=0;G<O[0].length;G++)j.columns[G]="null";for(var W=0;W<O.length;W++)(O[W].length!==1||O[W][0]!=="undefined"&&O[W][0]!=="")&&((k=new l.default.TableRow).arr=O[W],k.obj=function(Z,ae){if((ae=ae||[])===void 0)for(var L=0;L<Z.length;L++)ae[L.toString()]=L;return Object.fromEntries(ae.map(function(D,U){return[D,Z[U]]}))}(O[W],j.columns),j.addRow(k));typeof g=="function"&&g(j),T._decrementPreload()},function(C){l.default._friendlyFileLoadError(2,h),m?m(C):console.error(C)}),j},l.default.prototype.loadXML=function(){for(var h=arguments.length,g=new Array(h),m=0;m<h;m++)g[m]=arguments[m];for(var f,v,_=new l.default.XML,x=1;x<g.length;x++){var S=g[x];typeof S=="function"&&(f===void 0?f=S:v===void 0&&(v=S))}var j=this;return this.httpDo(g[0],"GET","xml",function(T){for(var C in T)_[C]=T[C];f!==void 0&&f(_),j._decrementPreload()},function(T){if(l.default._friendlyFileLoadError(1,T),!v)throw T;v(T)}),_},l.default.prototype.loadBytes=function(h,g,m){var f={},v=this;return this.httpDo(h,"GET","arrayBuffer",function(_){f.bytes=new Uint8Array(_),typeof g=="function"&&g(f),v._decrementPreload()},function(_){if(l.default._friendlyFileLoadError(6,h),!m)throw _;m(_)}),f},l.default.prototype.httpGet=function(){for(var h=arguments.length,g=new Array(h),m=0;m<h;m++)g[m]=arguments[m];return l.default._validateParameters("httpGet",g),g.splice(1,0,"GET"),l.default.prototype.httpDo.apply(this,g)},l.default.prototype.httpPost=function(){for(var h=arguments.length,g=new Array(h),m=0;m<h;m++)g[m]=arguments[m];return l.default._validateParameters("httpPost",g),g.splice(1,0,"POST"),l.default.prototype.httpDo.apply(this,g)},l.default.prototype.httpDo=function(){for(var h,g,m,f={},v=0,_="text/plain",x=arguments.length-1;0<x&&typeof(x<0||arguments.length<=x?void 0:arguments[x])=="function";x--)v++;var S=arguments.length-v,j=arguments.length<=0?void 0:arguments[0];if(S==2&&typeof j=="string"&&b(arguments.length<=1?void 0:arguments[1])==="object")P=new Request(j,arguments.length<=1?void 0:arguments[1]),g=arguments.length<=2?void 0:arguments[2],m=arguments.length<=3?void 0:arguments[3];else{for(var T,C="GET",M=1;M<arguments.length;M++){var k=M<0||arguments.length<=M?void 0:arguments[M];if(typeof k=="string")k==="GET"||k==="POST"||k==="PUT"||k==="DELETE"?C=k:k==="json"||k==="jsonp"||k==="binary"||k==="arrayBuffer"||k==="xml"||k==="text"||k==="table"?h=k:T=k;else if(typeof k=="number")T=k.toString();else if(b(k)==="object")if(k.hasOwnProperty("jsonpCallback")||k.hasOwnProperty("jsonpCallbackFunction"))for(var A in k)f[A]=k[A];else _=k instanceof l.default.XML?(T=k.serialize(),"application/xml"):(T=JSON.stringify(k),"application/json");else typeof k=="function"&&(g?m=k:g=k)}var S=C==="GET"?new Headers:new Headers({"Content-Type":_}),P=new Request(j,{method:C,mode:"cors",body:T,headers:S})}return(S=(S=(h=h||(j.includes("json")?"json":j.includes("xml")?"xml":"text"))==="jsonp"?(0,a.default)(j,f):fetch(P)).then(function(O){if(!O.ok)throw(V=new Error(O.body)).status=O.status,V.ok=!1,V;var V=0;switch((V=h!=="jsonp"?O.headers.get("content-length"):V)&&64e6<V&&l.default._friendlyFileLoadError(7,j),h){case"json":case"jsonp":return O.json();case"binary":return O.blob();case"arrayBuffer":return O.arrayBuffer();case"xml":return O.text().then(function(F){return F=new DOMParser().parseFromString(F,"text/xml"),new l.default.XML(F.documentElement)});default:return O.text()}})).then(g||function(){}),S.catch(m||console.error),S},window.URL=window.URL||window.webkitURL,l.default.prototype._pWriters=[],l.default.prototype.createWriter=function(h,g){var m,f;for(f in l.default.prototype._pWriters)if(l.default.prototype._pWriters[f].name===h)return m=new l.default.PrintWriter(h+this.millis(),g),l.default.prototype._pWriters.push(m),m;return m=new l.default.PrintWriter(h,g),l.default.prototype._pWriters.push(m),m},l.default.PrintWriter=function(h,g){var m=this;this.name=h,this.content="",this.write=function(f){this.content+=f},this.print=function(f){this.content+="".concat(f,`
`)},this.clear=function(){this.content=""},this.close=function(){var f,v=[];for(f in v.push(this.content),l.default.prototype.writeFile(v,h,g),l.default.prototype._pWriters)l.default.prototype._pWriters[f].name===this.name&&l.default.prototype._pWriters.splice(f,1);m.clear(),m={}}},l.default.prototype.save=function(h,g,m){var f=arguments,v=(this._curElement||this).elt;if(f.length===0)l.default.prototype.saveCanvas(v);else if(f[0]instanceof l.default.Renderer||f[0]instanceof l.default.Graphics)l.default.prototype.saveCanvas(f[0].elt,f[1],f[2]);else if(f.length===1&&typeof f[0]=="string")l.default.prototype.saveCanvas(v,f[0]);else switch(p(f[1],f[2])[1]){case"json":return void l.default.prototype.saveJSON(f[0],f[1],f[2]);case"txt":return void l.default.prototype.saveStrings(f[0],f[1],f[2]);default:f[0]instanceof Array?l.default.prototype.saveStrings(f[0],f[1],f[2]):f[0]instanceof l.default.Table?l.default.prototype.saveTable(f[0],f[1],f[2]):f[0]instanceof l.default.Image?l.default.prototype.saveCanvas(f[0].canvas,f[1]):f[0]instanceof l.default.SoundFile&&l.default.prototype.saveSound(f[0],f[1],f[2],f[3])}},l.default.prototype.saveJSON=function(h,g,m){l.default._validateParameters("saveJSON",arguments),m=m?JSON.stringify(h):JSON.stringify(h,void 0,2),this.saveStrings(m.split(`
`),g,"json")},l.default.prototype.saveJSONObject=l.default.prototype.saveJSON,l.default.prototype.saveJSONArray=l.default.prototype.saveJSON,l.default.prototype.saveStrings=function(h,g,m,f){l.default._validateParameters("saveStrings",arguments);for(var v=this.createWriter(g,m||"txt"),_=0;_<h.length;_++)f?v.write(h[_]+`\r
`):v.write(h[_]+`
`);v.close(),v.clear()},l.default.prototype.saveTable=function(h,g,m){l.default._validateParameters("saveTable",arguments),f=m===void 0?g.substring(g.lastIndexOf(".")+1,g.length):m;var f,v=this.createWriter(g,f),_=h.columns,x=f==="tsv"?"	":",";if(f!=="html"){if(_[0]!=="0"){for(var S=0;S<_.length;S++)S<_.length-1?v.write(_[S]+x):v.write(_[S]);v.write(`
`)}for(var j=0;j<h.rows.length;j++){for(var T=void 0,T=0;T<h.rows[j].arr.length;T++)T<h.rows[j].arr.length-1?f==="csv"&&String(h.rows[j].arr[T]).includes(",")?v.write('"'+h.rows[j].arr[T]+'"'+x):v.write(h.rows[j].arr[T]+x):f==="csv"&&String(h.rows[j].arr[T]).includes(",")?v.write('"'+h.rows[j].arr[T]+'"'):v.write(h.rows[j].arr[T]);v.write(`
`)}}else{if(v.print("<html>"),v.print("<head>"),v.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),v.print("</head>"),v.print("<body>"),v.print("  <table>"),_[0]!=="0"){v.print("    <tr>");for(var C=0;C<_.length;C++){var M=d(_[C]);v.print("      <td>".concat(M)),v.print("      </td>")}v.print("    </tr>")}for(var k=0;k<h.rows.length;k++){v.print("    <tr>");for(var A=0;A<h.columns.length;A++){var P=d(h.rows[k].getString(A));v.print("      <td>".concat(P)),v.print("      </td>")}v.print("    </tr>")}v.print("  </table>"),v.print("</body>"),v.print("</html>")}v.close(),v.clear()},l.default.prototype.writeFile=function(v,g,m){var f="application/octet-stream",v=(l.default.prototype._isSafari()&&(f="text/plain"),new Blob(v,{type:f}));l.default.prototype.downloadFile(v,g,m)},l.default.prototype.downloadFile=function(h,v,_){var f,v=p(v,_),_=v[0];h instanceof Blob?c.default.saveAs(h,_):((f=document.createElement("a")).href=h,f.download=_,f.onclick=function(x){document.body.removeChild(x.target),x.stopPropagation()},f.style.display="none",document.body.appendChild(f),l.default.prototype._isSafari()&&(h=(h=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(v[1],'"'),alert(h)),f.click())},l.default.prototype._checkFileExtension=p,l.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},t=l.default,u.default=t},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(t,i,u){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(a,c){for(var y=0;y<c.length;y++){var b=c[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(a,b.key,b)}}s.default.Table=function(){function a(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],p=this,h=a;if(!(p instanceof h))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=d}var c,y,b;return c=a,(y=[{key:"addRow",value:function(d){if(d=d||new s.default.TableRow,d.arr===void 0||d.obj===void 0)throw new Error("invalid TableRow: ".concat(d));return(d.table=this).rows.push(d),d}},{key:"removeRow",value:function(d){this.rows[d].table=null,d=this.rows.splice(d+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(d)}},{key:"getRow",value:function(d){return this.rows[d]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(d,p){if(typeof p=="string"){for(var h=0;h<this.rows.length;h++)if(this.rows[h].obj[p]===d)return this.rows[h]}else for(var g=0;g<this.rows.length;g++)if(this.rows[g].arr[p]===d)return this.rows[g];return null}},{key:"findRows",value:function(d,p){var h=[];if(typeof p=="string")for(var g=0;g<this.rows.length;g++)this.rows[g].obj[p]===d&&h.push(this.rows[g]);else for(var m=0;m<this.rows.length;m++)this.rows[m].arr[p]===d&&h.push(this.rows[m]);return h}},{key:"matchRow",value:function(d,p){if(typeof p=="number"){for(var h=0;h<this.rows.length;h++)if(this.rows[h].arr[p].match(d))return this.rows[h]}else for(var g=0;g<this.rows.length;g++)if(this.rows[g].obj[p].match(d))return this.rows[g];return null}},{key:"matchRows",value:function(d,p){var h=[];if(typeof p=="number")for(var g=0;g<this.rows.length;g++)this.rows[g].arr[p].match(d)&&h.push(this.rows[g]);else for(var m=0;m<this.rows.length;m++)this.rows[m].obj[p].match(d)&&h.push(this.rows[m]);return h}},{key:"getColumn",value:function(d){var p=[];if(typeof d=="string")for(var h=0;h<this.rows.length;h++)p.push(this.rows[h].obj[d]);else for(var g=0;g<this.rows.length;g++)p.push(this.rows[g].arr[d]);return p}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(d){this.columns.push(d||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(d,p){for(var h=[],g=0;g<d.length;g++)h.push(d.charAt(g).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var m=new RegExp(h.join("|"),"g");if(p===void 0)for(var f=0;f<this.columns.length;f++)for(var v=0;v<this.rows.length;v++){var _=(_=this.rows[v].arr[f]).replace(m,"");this.rows[v].arr[f]=_,this.rows[v].obj[this.columns[f]]=_}else if(typeof p=="string")for(var x=0;x<this.rows.length;x++){var S=(S=this.rows[x].obj[p]).replace(m,""),j=(this.rows[x].obj[p]=S,this.columns.indexOf(p));this.rows[x].arr[j]=S}else for(var T=0;T<this.rows.length;T++){var C=(C=this.rows[T].arr[p]).replace(m,"");this.rows[T].arr[p]=C,this.rows[T].obj[this.columns[p]]=C}}},{key:"trim",value:function(d){var p=new RegExp(" ","g");if(d===void 0)for(var h=0;h<this.columns.length;h++)for(var g=0;g<this.rows.length;g++){var m=(m=this.rows[g].arr[h]).replace(p,"");this.rows[g].arr[h]=m,this.rows[g].obj[this.columns[h]]=m}else if(typeof d=="string")for(var f=0;f<this.rows.length;f++){var v=(v=this.rows[f].obj[d]).replace(p,""),_=(this.rows[f].obj[d]=v,this.columns.indexOf(d));this.rows[f].arr[_]=v}else for(var x=0;x<this.rows.length;x++){var S=(S=this.rows[x].arr[d]).replace(p,"");this.rows[x].arr[d]=S,this.rows[x].obj[this.columns[d]]=S}}},{key:"removeColumn",value:function(g){typeof g=="string"?h=this.columns.indexOf(p=g):p=this.columns[h=g];var p,h,g=this.columns.splice(h+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(g);for(var m=0;m<this.rows.length;m++){var f=this.rows[m].arr,v=f.splice(h+1,f.length);f.pop(),this.rows[m].arr=f.concat(v),delete this.rows[m].obj[p]}}},{key:"set",value:function(d,p,h){this.rows[d].set(p,h)}},{key:"setNum",value:function(d,p,h){this.rows[d].setNum(p,h)}},{key:"setString",value:function(d,p,h){this.rows[d].setString(p,h)}},{key:"get",value:function(d,p){return this.rows[d].get(p)}},{key:"getNum",value:function(d,p){return this.rows[d].getNum(p)}},{key:"getString",value:function(d,p){return this.rows[d].getString(p)}},{key:"getObject",value:function(d){for(var p,h={},g=0;g<this.rows.length;g++)if(p=this.rows[g].obj,typeof d=="string"){if(!(0<=this.columns.indexOf(d)))throw new Error('This table has no column named "'.concat(d,'"'));h[p[d]]=p}else h[g]=this.rows[g].obj;return h}},{key:"getArray",value:function(){for(var d=[],p=0;p<this.rows.length;p++)d.push(this.rows[p].arr);return d}}])&&l(c.prototype,y),b&&l(c,b),a}(),t=s.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(t,i,u){"use strict";t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(l,a){for(var c=0;c<a.length;c++){var y=a[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(l,y.key,y)}}t.default.TableRow=function(){function l(b,d){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");var p=[];b&&(p=b.split(d=d||",")),this.arr=p,this.obj=Object.fromEntries(p.entries()),this.table=null}var a,c,y;return a=l,(c=[{key:"set",value:function(b,d){if(typeof b=="string"){var p=this.table.columns.indexOf(b);if(!(0<=p))throw new Error('This table has no column named "'.concat(b,'"'));this.obj[b]=d,this.arr[p]=d}else{if(!(b<this.table.columns.length))throw new Error("Column #".concat(b," is out of the range of this table"));this.arr[b]=d,p=this.table.columns[b],this.obj[p]=d}}},{key:"setNum",value:function(b,d){d=parseFloat(d),this.set(b,d)}},{key:"setString",value:function(b,d){d=d.toString(),this.set(b,d)}},{key:"get",value:function(b){return(typeof b=="string"?this.obj:this.arr)[b]}},{key:"getNum",value:function(b){var d=parseFloat(typeof b=="string"?this.obj[b]:this.arr[b]);if(d.toString()==="NaN")throw"Error: ".concat(this.obj[b]," is NaN (Not a Number)");return d}},{key:"getString",value:function(b){return(typeof b=="string"?this.obj:this.arr)[b].toString()}}])&&s(a.prototype,c),y&&s(a,y),l}(),t=t.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(t,i,u){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(c,y){for(var b=0;b<y.length;b++){var d=y[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}function a(c){for(var y=[],b=0;b<c.length;b++)y.push(new s.default.XML(c[b]));return y}s.default.XML=function(){function c(p){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");p?this.DOM=p:(p=document.implementation.createDocument(null,"doc"),this.DOM=p.createElement("root"))}var y,b,d;return y=c,(b=[{key:"getParent",value:function(){return new s.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(p){var h=this.DOM.innerHTML,g=this.DOM.attributes,m=document.implementation.createDocument(null,"default").createElement(p);m.innerHTML=h;for(var f=0;f<g.length;f++)m.setAttribute(g[f].nodeName,g[f].nodeValue);this.DOM=m}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var p=[],h=0;h<this.DOM.childNodes.length;h++)p.push(this.DOM.childNodes[h].nodeName);return p}},{key:"getChildren",value:function(p){return a(p?this.DOM.getElementsByTagName(p):this.DOM.children)}},{key:"getChild",value:function(p){if(typeof p!="string")return new s.default.XML(this.DOM.children[p]);var h=!0,g=!1,m=void 0;try{for(var f,v=this.DOM.children[Symbol.iterator]();!(h=(f=v.next()).done);h=!0){var _=f.value;if(_.tagName===p)return new s.default.XML(_)}}catch(x){g=!0,m=x}finally{try{h||v.return==null||v.return()}finally{if(g)throw m}}}},{key:"addChild",value:function(p){p instanceof s.default.XML&&this.DOM.appendChild(p.DOM)}},{key:"removeChild",value:function(p){var h=-1;if(typeof p=="string"){for(var g=0;g<this.DOM.children.length;g++)if(this.DOM.children[g].tagName===p){h=g;break}}else h=p;h!==-1&&this.DOM.removeChild(this.DOM.children[h])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var p=[],h=!0,g=!1,m=void 0;try{for(var f,v=this.DOM.attributes[Symbol.iterator]();!(h=(f=v.next()).done);h=!0){var _=f.value;p.push(_.nodeName)}}catch(x){g=!0,m=x}finally{try{h||v.return==null||v.return()}finally{if(g)throw m}}return p}},{key:"hasAttribute",value:function(p){var h={},g=!0,m=!1,f=void 0;try{for(var v,_=this.DOM.attributes[Symbol.iterator]();!(g=(v=_.next()).done);g=!0){var x=v.value;h[x.nodeName]=x.nodeValue}}catch(S){m=!0,f=S}finally{try{g||_.return==null||_.return()}finally{if(m)throw f}}return!!h[p]}},{key:"getNum",value:function(p,h){var g={},m=!0,f=!1,v=void 0;try{for(var _,x=this.DOM.attributes[Symbol.iterator]();!(m=(_=x.next()).done);m=!0){var S=_.value;g[S.nodeName]=S.nodeValue}}catch(j){f=!0,v=j}finally{try{m||x.return==null||x.return()}finally{if(f)throw v}}return Number(g[p])||h||0}},{key:"getString",value:function(p,h){var g={},m=!0,f=!1,v=void 0;try{for(var _,x=this.DOM.attributes[Symbol.iterator]();!(m=(_=x.next()).done);m=!0){var S=_.value;g[S.nodeName]=S.nodeValue}}catch(j){f=!0,v=j}finally{try{m||x.return==null||x.return()}finally{if(f)throw v}}return g[p]?String(g[p]):h||null}},{key:"setAttribute",value:function(p,h){this.DOM.setAttribute(p,h)}},{key:"getContent",value:function(p){var h=this.DOM.textContent;return(h=h.replace(/\s\s+/g,","))||p||null}},{key:"setContent",value:function(p){this.DOM.children.length||(this.DOM.textContent=p)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&l(y.prototype,b),d&&l(y,d),c}(),t=s.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(t,i,u){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(a){return function(c){if(Array.isArray(c)){for(var y=0,b=new Array(c.length);y<c.length;y++)b[y]=c[y];return b}}(a)||function(c){if(Symbol.iterator in Object(c)||Object.prototype.toString.call(c)==="[object Arguments]")return Array.from(c)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}s.default.prototype.abs=Math.abs,s.default.prototype.ceil=Math.ceil,s.default.prototype.constrain=function(a,c,y){return s.default._validateParameters("constrain",arguments),Math.max(Math.min(a,y),c)},s.default.prototype.dist=function(){for(var a=arguments.length,c=new Array(a),y=0;y<a;y++)c[y]=arguments[y];return s.default._validateParameters("dist",c),c.length===4?Math.hypot(c[2]-c[0],c[3]-c[1]):c.length===6?Math.hypot(c[3]-c[0],c[4]-c[1],c[5]-c[2]):void 0},s.default.prototype.exp=Math.exp,s.default.prototype.floor=Math.floor,s.default.prototype.lerp=function(a,c,y){return s.default._validateParameters("lerp",arguments),y*(c-a)+a},s.default.prototype.log=Math.log,s.default.prototype.mag=function(a,c){return s.default._validateParameters("mag",arguments),Math.hypot(a,c)},s.default.prototype.map=function(a,c,y,b,d,p){return s.default._validateParameters("map",arguments),a=(a-c)/(y-c)*(d-b)+b,p?b<d?this.constrain(a,b,d):this.constrain(a,d,b):a},s.default.prototype.max=function(){for(var a=function(d){return Math.max.apply(Math,l(d))},c=arguments.length,y=new Array(c),b=0;b<c;b++)y[b]=arguments[b];return Array.isArray(y[0])?a(y[0]):a(y)},s.default.prototype.min=function(){for(var a=function(d){return Math.min.apply(Math,l(d))},c=arguments.length,y=new Array(c),b=0;b<c;b++)y[b]=arguments[b];return Array.isArray(y[0])?a(y[0]):a(y)},s.default.prototype.norm=function(a,c,y){return s.default._validateParameters("norm",arguments),this.map(a,c,y,0,1)},s.default.prototype.pow=Math.pow,s.default.prototype.round=function(a,c){return c?(c=Math.pow(10,c),Math.round(a*c)/c):Math.round(a)},s.default.prototype.sq=function(a){return a*a},s.default.prototype.sqrt=Math.sqrt,s.default.prototype.fract=function(b){s.default._validateParameters("fract",arguments);var c,y=0,b=Number(b);return isNaN(b)||Math.abs(b)===1/0?b:(b<0&&(b=-b,y=1),String(b).includes(".")&&!String(b).includes("e")?(c=String(b),c=+("0"+c.slice(c.indexOf("."))),Math.abs(y-c)):b<1?Math.abs(y-b):0)},t=s.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(t,i,u){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(c,y,b){return(l=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(d,p,h){var g=[null];return g.push.apply(g,p),p=new(Function.bind.apply(d,g)),h&&a(p,h.prototype),p}).apply(null,arguments)}function a(c,y){return(a=Object.setPrototypeOf||function(b,d){return b.__proto__=d,b})(c,y)}s.default.prototype.createVector=function(c,y,b){return this instanceof s.default?l(s.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new s.default.Vector(c,y,b)},t=s.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(b,i,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,b=(b=b("../core/main"))&&b.__esModule?b:{default:b};function s(d){return .5*(1-Math.cos(d*Math.PI))}var l,a=4095,c=4,y=.5,b=(b.default.prototype.noise=function(d){var p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(l==null){l=new Array(4096);for(var g=0;g<4096;g++)l[g]=Math.random()}d<0&&(d=-d),p<0&&(p=-p),h<0&&(h=-h);for(var m,f,v=Math.floor(d),_=Math.floor(p),x=Math.floor(h),S=d-v,j=p-_,T=h-x,C=0,M=.5,k=0;k<c;k++){var A=v+(_<<4)+(x<<8),P=s(S),O=s(j),V=l[A&a];V+=P*(l[A+1&a]-V),m=l[A+16&a],V+=O*((m+=P*(l[A+16+1&a]-m))-V),m=l[(A+=256)&a],m+=P*(l[A+1&a]-m),f=l[A+16&a],m+=O*((f+=P*(l[A+16+1&a]-f))-m),C+=(V+=s(T)*(m-V))*M,M*=y,v<<=1,_<<=1,x<<=1,1<=(S*=2)&&(v++,S--),1<=(j*=2)&&(_++,j--),1<=(T*=2)&&(x++,T--)}return C},b.default.prototype.noiseDetail=function(d,p){0<d&&(c=d),0<p&&(y=p)},b.default.prototype.noiseSeed=function(d){g=4294967296;var p,h,g,m={setSeed:function(v){h=p=(v??Math.random()*g)>>>0},getSeed:function(){return p},rand:function(){return(h=(1664525*h+1013904223)%g)/g}};m.setSeed(d),l=new Array(4096);for(var f=0;f<4096;f++)l[f]=m.rand()},b.default);u.default=b},{"../core/main":283}],316:[function(t,i,u){"use strict";function s(p){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(p)}function l(p){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(h){return s(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":s(h)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=(d=t("../core/main"))&&d.__esModule?d:{default:d},c=function(p){if(p&&p.__esModule)return p;if(p===null||l(p)!=="object"&&typeof p!="function")return{default:p};var h=y();if(h&&h.has(p))return h.get(p);var g,m={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in p){var v;Object.prototype.hasOwnProperty.call(p,g)&&((v=f?Object.getOwnPropertyDescriptor(p,g):null)&&(v.get||v.set)?Object.defineProperty(m,g,v):m[g]=p[g])}return m.default=p,h&&h.set(p,m),m}(t("../core/constants"));function y(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,y=function(){return p},p)}function b(p,h){for(var g=0;g<h.length;g++){var m=h[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}a.default.Vector=function(){function p(){var x=this,f=p;if(!(x instanceof f))throw new TypeError("Cannot call a class as a function");var v,_,x=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],v=(arguments.length<=2?void 0:arguments[2])||0,_=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(v=(arguments.length<=0?void 0:arguments[0])||0,_=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=v,this.y=_,this.z=x}var h,g,m;return h=p,m=[{key:"fromAngle",value:function(f){var v=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;return new a.default.Vector(v*Math.cos(f),v*Math.sin(f),0)}},{key:"fromAngles",value:function(T,S){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,x=Math.cos(S),S=Math.sin(S),j=Math.cos(T),T=Math.sin(T);return new a.default.Vector(_*T*S,-_*j,_*T*x)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*c.TWO_PI)}},{key:"random3D",value:function(){var f=Math.random()*c.TWO_PI,v=2*Math.random()-1,x=Math.sqrt(1-v*v),_=x*Math.cos(f),x=x*Math.sin(f);return new a.default.Vector(_,x,v)}},{key:"copy",value:function(f){return f.copy(f)}},{key:"add",value:function(){for(var f=arguments.length,v=new Array(f),_=0;_<f;_++)v[_]=arguments[_];var x=v[0],S=v[1],j=v[2];return j?j.set(x):(j=x.copy(),v.length===3&&a.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),j.add(S),j}},{key:"rem",value:function(f,v){if(f instanceof a.default.Vector&&v instanceof a.default.Vector)return(f=f.copy()).rem(v),f}},{key:"sub",value:function(){for(var f=arguments.length,v=new Array(f),_=0;_<f;_++)v[_]=arguments[_];var x=v[0],S=v[1],j=v[2];return j?j.set(x):(j=x.copy(),v.length===3&&a.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),j.sub(S),j}},{key:"mult",value:function(){for(var f=arguments.length,v=new Array(f),_=0;_<f;_++)v[_]=arguments[_];var x=v[0],S=v[1],j=v[2];return j?j.set(x):(j=x.copy(),v.length===3&&a.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),j.mult(S),j}},{key:"rotate",value:function(){for(var f=arguments.length,v=new Array(f),_=0;_<f;_++)v[_]=arguments[_];var x=v[0],S=v[1],j=v[2];return v.length===2?j=x.copy():(j instanceof a.default.Vector||a.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),j.set(x)),j.rotate(S),j}},{key:"div",value:function(){for(var f=arguments.length,v=new Array(f),_=0;_<f;_++)v[_]=arguments[_];var x=v[0],S=v[1],j=v[2];return j?j.set(x):(j=x.copy(),v.length===3&&a.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),j.div(S),j}},{key:"dot",value:function(f,v){return f.dot(v)}},{key:"cross",value:function(f,v){return f.cross(v)}},{key:"dist",value:function(f,v){return f.dist(v)}},{key:"lerp",value:function(){for(var f=arguments.length,v=new Array(f),_=0;_<f;_++)v[_]=arguments[_];var x=v[0],S=v[1],j=v[2],T=v[3];return T?T.set(x):(T=x.copy(),v.length===4&&a.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),T.lerp(S,j),T}},{key:"slerp",value:function(){for(var f=arguments.length,v=new Array(f),_=0;_<f;_++)v[_]=arguments[_];var x=v[0],S=v[1],j=v[2],T=v[3];return T?T.set(x):(T=x.copy(),v.length===4&&a.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),T.slerp(S,j),T}},{key:"mag",value:function(f){return f.mag()}},{key:"magSq",value:function(f){return f.magSq()}},{key:"normalize",value:function(){for(var f=arguments.length,v=new Array(f),_=0;_<f;_++)v[_]=arguments[_];var x=v[0],S=v[1];return v.length<2?S=x.copy():(S instanceof a.default.Vector||a.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),S.set(x)),S.normalize()}},{key:"limit",value:function(){for(var f=arguments.length,v=new Array(f),_=0;_<f;_++)v[_]=arguments[_];var x=v[0],S=v[1],j=v[2];return v.length<3?j=x.copy():(j instanceof a.default.Vector||a.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),j.set(x)),j.limit(S)}},{key:"setMag",value:function(){for(var f=arguments.length,v=new Array(f),_=0;_<f;_++)v[_]=arguments[_];var x=v[0],S=v[1],j=v[2];return v.length<3?j=x.copy():(j instanceof a.default.Vector||a.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),j.set(x)),j.setMag(S)}},{key:"heading",value:function(f){return f.heading()}},{key:"angleBetween",value:function(f,v){return f.angleBetween(v)}},{key:"reflect",value:function(){for(var f=arguments.length,v=new Array(f),_=0;_<f;_++)v[_]=arguments[_];var x=v[0],S=v[1],j=v[2];return v.length<3?j=x.copy():(j instanceof a.default.Vector||a.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),j.set(x)),j.reflect(S)}},{key:"array",value:function(f){return f.array()}},{key:"equals",value:function(f,v){var _;return f instanceof a.default.Vector?_=f:Array.isArray(f)?_=new a.default.Vector().set(f):a.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),_.equals(v)}}],(g=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(f,v,_){return f instanceof a.default.Vector?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0):Array.isArray(f)?(this.x=f[0]||0,this.y=f[1]||0,this.z=f[2]||0):(this.x=f||0,this.y=v||0,this.z=_||0),this}},{key:"copy",value:function(){return this.isPInst?new a.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new a.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(f,v,_){return f instanceof a.default.Vector?(this.x+=f.x||0,this.y+=f.y||0,this.z+=f.z||0):Array.isArray(f)?(this.x+=f[0]||0,this.y+=f[1]||0,this.z+=f[2]||0):(this.x+=f||0,this.y+=v||0,this.z+=_||0),this}},{key:"calculateRemainder2D",value:function(f,v){return f!==0&&(this.x=this.x%f),v!==0&&(this.y=this.y%v),this}},{key:"calculateRemainder3D",value:function(f,v,_){return f!==0&&(this.x=this.x%f),v!==0&&(this.y=this.y%v),_!==0&&(this.z=this.z%_),this}},{key:"rem",value:function(){for(var f=arguments.length,v=new Array(f),_=0;_<f;_++)v[_]=arguments[_];var x,S,j,T=v[0],C=v[1],M=v[2];if(T instanceof a.default.Vector){if([T.x,T.y,T.z].every(Number.isFinite))return x=parseFloat(T.x),S=parseFloat(T.y),j=parseFloat(T.z),this.calculateRemainder3D(x,S,j)}else if(Array.isArray(T)){if(T.every(Number.isFinite))return T.length===2?this.calculateRemainder2D(T[0],T[1]):T.length===3?this.calculateRemainder3D(T[0],T[1],T[2]):void 0}else if(v.length===1){if(Number.isFinite(T)&&T!==0)return this.x=this.x%T,this.y=this.y%T,this.z=this.z%T,this}else if(v.length===2){if(v.every(Number.isFinite))return this.calculateRemainder2D(T,C)}else if(v.length===3&&v.every(Number.isFinite))return this.calculateRemainder3D(T,C,M)}},{key:"sub",value:function(f,v,_){return f instanceof a.default.Vector?(this.x-=f.x||0,this.y-=f.y||0,this.z-=f.z||0):Array.isArray(f)?(this.x-=f[0]||0,this.y-=f[1]||0,this.z-=f[2]||0):(this.x-=f||0,this.y-=v||0,this.z-=_||0),this}},{key:"mult",value:function(){for(var f=arguments.length,v=new Array(f),_=0;_<f;_++)v[_]=arguments[_];var x,S=v[0],j=v[1],T=v[2];return S instanceof a.default.Vector?Number.isFinite(S.x)&&Number.isFinite(S.y)&&Number.isFinite(S.z)&&typeof S.x=="number"&&typeof S.y=="number"&&typeof S.z=="number"?(this.x*=S.x,this.y*=S.y,this.z*=S.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(S)?S.every(function(C){return Number.isFinite(C)})&&S.every(function(C){return typeof C=="number"})?S.length===1?(this.x*=S[0],this.y*=S[0],this.z*=S[0]):S.length===2?(this.x*=S[0],this.y*=S[1]):S.length===3&&(this.x*=S[0],this.y*=S[1],this.z*=S[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(x=v).every(function(C){return Number.isFinite(C)})&&x.every(function(C){return typeof C=="number"})?(v.length===1&&(this.x*=S,this.y*=S,this.z*=S),v.length===2&&(this.x*=S,this.y*=j),v.length===3&&(this.x*=S,this.y*=j,this.z*=T)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var f=arguments.length,v=new Array(f),_=0;_<f;_++)v[_]=arguments[_];var x=v[0],S=v[1],j=v[2];if(x instanceof a.default.Vector)if(Number.isFinite(x.x)&&Number.isFinite(x.y)&&Number.isFinite(x.z)&&typeof x.x=="number"&&typeof x.y=="number"&&typeof x.z=="number"){var T=x.z===0&&this.z===0;if(x.x===0||x.y===0||!T&&x.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=x.x,this.y/=x.y,T||(this.z/=x.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(x))if(x.every(Number.isFinite)&&x.every(function(C){return typeof C=="number"})){if(x.some(function(C){return C===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;x.length===1?(this.x/=x[0],this.y/=x[0],this.z/=x[0]):x.length===2?(this.x/=x[0],this.y/=x[1]):x.length===3&&(this.x/=x[0],this.y/=x[1],this.z/=x[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(v.every(Number.isFinite)&&v.every(function(C){return typeof C=="number"})){if(v.some(function(C){return C===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;v.length===1&&(this.x/=x,this.y/=x,this.z/=x),v.length===2&&(this.x/=x,this.y/=S),v.length===3&&(this.x/=x,this.y/=S,this.z/=j)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var f=this.x,v=this.y,_=this.z;return f*f+v*v+_*_}},{key:"dot",value:function(f,v,_){return f instanceof a.default.Vector?this.dot(f.x,f.y,f.z):this.x*(f||0)+this.y*(v||0)+this.z*(_||0)}},{key:"cross",value:function(x){var v=this.y*x.z-this.z*x.y,_=this.z*x.x-this.x*x.z,x=this.x*x.y-this.y*x.x;return this.isPInst?new a.default.Vector(this._fromRadians,this._toRadians,v,_,x):new a.default.Vector(v,_,x)}},{key:"dist",value:function(f){return f.copy().sub(this).mag()}},{key:"normalize",value:function(){var f=this.mag();return f!==0&&this.mult(1/f),this}},{key:"limit",value:function(f){var v=this.magSq();return f*f<v&&this.div(Math.sqrt(v)).mult(f),this}},{key:"setMag",value:function(f){return this.normalize().mult(f)}},{key:"heading",value:function(){var f=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(f):f}},{key:"setHeading",value:function(f){this.isPInst&&(f=this._toRadians(f));var v=this.mag();return this.x=v*Math.cos(f),this.y=v*Math.sin(f),this}},{key:"rotate",value:function(v){var v=this.heading()+v,_=(this.isPInst&&(v=this._toRadians(v)),this.mag());return this.x=Math.cos(v)*_,this.y=Math.sin(v)*_,this}},{key:"angleBetween",value:function(f){var v;return this.magSq()*f.magSq()==0?NaN:(v=this.cross(f),f=Math.atan2(v.mag(),this.dot(f))*Math.sign(v.z||1),this.isPInst?this._fromRadians(f):f)}},{key:"lerp",value:function(f,v,_,x){return f instanceof a.default.Vector?this.lerp(f.x,f.y,f.z,v):(this.x+=(f-this.x)*x||0,this.y+=(v-this.y)*x||0,this.z+=(_-this.z)*x||0,this)}},{key:"slerp",value:function(f,v){if(v!==0){if(v===1)return this.set(f);var _=this.mag(),x=f.mag();if(_*x==0)this.mult(1-v).add(f.x*v,f.y*v,f.z*v);else{var S=this.cross(f),j=S.mag(),T=Math.atan2(j,this.dot(f));if(0<j)S.x/=j,S.y/=j,S.z/=j;else{if(T<.5*Math.PI)return this.mult(1-v).add(f.x*v,f.y*v,f.z*v),this;this.z===0&&f.z===0?S.set(0,0,1):this.x!==0?S.set(this.y,-this.x,0).normalize():S.set(1,0,0)}j=S.cross(this),f=1-v+v*x/_,S=f*Math.cos(v*T),x=f*Math.sin(v*T),this.x=this.x*S+j.x*x,this.y=this.y*S+j.y*x,this.z=this.z*S+j.z*x}}return this}},{key:"reflect",value:function(f){return f=a.default.Vector.normalize(f),this.sub(f.mult(2*this.dot(f)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(j,v,_){var x,S,j=j instanceof a.default.Vector?(x=j.x||0,S=j.y||0,j.z||0):Array.isArray(j)?(x=j[0]||0,S=j[1]||0,j[2]||0):(x=j||0,S=v||0,_||0);return this.x===x&&this.y===S&&this.z===j}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(f){return Math.abs(+(f||0))<=Number.EPSILON?0:f}}])&&b(h.prototype,g),m&&b(h,m),p}();var d=a.default.Vector;u.default=d},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(y,i,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=(y=y("../core/main"))&&y.__esModule?y:{default:y},l="_lcg_random_state",a=4294967296,c=0,y=(s.default.prototype._lcg=function(b){return this[b]=(1664525*this[b]+1013904223)%a,this[b]/a},s.default.prototype._lcgSetSeed=function(b,d){this[b]=(d??Math.random()*a)>>>0},s.default.prototype.randomSeed=function(b){this._lcgSetSeed(l,b),this._gaussian_previous=!1},s.default.prototype.random=function(b,d){var p,h;return s.default._validateParameters("random",arguments),p=this[l]!=null?this._lcg(l):Math.random(),b===void 0?p:d===void 0?Array.isArray(b)?b[Math.floor(p*b.length)]:p*b:(d<b&&(h=b,b=d,d=h),p*(d-b)+b)},s.default.prototype.randomGaussian=function(b){var d,p,h,g,m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)d=c,this._gaussian_previous=!1;else{for(;1<=(g=(p=this.random(2)-1)*p+(h=this.random(2)-1)*h););d=p*(g=Math.sqrt(-2*Math.log(g)/g)),c=h*g,this._gaussian_previous=!0}return d*m+(b||0)},s.default);u.default=y},{"../core/main":283}],318:[function(t,i,u){"use strict";function s(d){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}function l(d){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(p){return s(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":s(p)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=(b=t("../core/main"))&&b.__esModule?b:{default:b},c=function(d){if(d&&d.__esModule)return d;if(d===null||l(d)!=="object"&&typeof d!="function")return{default:d};var p=y();if(p&&p.has(d))return p.get(d);var h,g={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in d){var f;Object.prototype.hasOwnProperty.call(d,h)&&((f=m?Object.getOwnPropertyDescriptor(d,h):null)&&(f.get||f.set)?Object.defineProperty(g,h,f):g[h]=d[h])}return g.default=d,p&&p.set(d,g),g}(t("../core/constants"));function y(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,y=function(){return d},d)}a.default.prototype._angleMode=c.RADIANS,a.default.prototype.acos=function(d){return this._fromRadians(Math.acos(d))},a.default.prototype.asin=function(d){return this._fromRadians(Math.asin(d))},a.default.prototype.atan=function(d){return this._fromRadians(Math.atan(d))},a.default.prototype.atan2=function(d,p){return this._fromRadians(Math.atan2(d,p))},a.default.prototype.cos=function(d){return Math.cos(this._toRadians(d))},a.default.prototype.sin=function(d){return Math.sin(this._toRadians(d))},a.default.prototype.tan=function(d){return Math.tan(this._toRadians(d))},a.default.prototype.degrees=function(d){return d*c.RAD_TO_DEG},a.default.prototype.radians=function(d){return d*c.DEG_TO_RAD},a.default.prototype.angleMode=function(d){if(a.default._validateParameters("angleMode",arguments),d===void 0)return this._angleMode;d!==c.DEGREES&&d!==c.RADIANS||d!==this._angleMode&&(d===c.RADIANS?(this._setProperty("pRotationX",this.pRotationX*c.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*c.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*c.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*c.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*c.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*c.RAD_TO_DEG)),this._angleMode=d)},a.default.prototype._toRadians=function(d){return this._angleMode===c.DEGREES?d*c.DEG_TO_RAD:d},a.default.prototype._toDegrees=function(d){return this._angleMode===c.RADIANS?d*c.RAD_TO_DEG:d},a.default.prototype._fromRadians=function(d){return this._angleMode===c.DEGREES?d*c.RAD_TO_DEG:d},a.default.prototype._fromDegrees=function(d){return this._angleMode===c.RADIANS?d*c.DEG_TO_RAD:d};var b=a.default;u.default=b},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(t,i,u){"use strict";t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};s.default.prototype.textAlign=function(l,a){var c;return s.default._validateParameters("textAlign",arguments),(c=this._renderer).textAlign.apply(c,arguments)},s.default.prototype.textLeading=function(l){var a;return s.default._validateParameters("textLeading",arguments),(a=this._renderer).textLeading.apply(a,arguments)},s.default.prototype.textSize=function(l){var a;return s.default._validateParameters("textSize",arguments),(a=this._renderer).textSize.apply(a,arguments)},s.default.prototype.textStyle=function(l){var a;return s.default._validateParameters("textStyle",arguments),(a=this._renderer).textStyle.apply(a,arguments)},s.default.prototype.textWidth=function(){for(var l=arguments.length,a=new Array(l),c=0;c<l;c++)a[c]=arguments[c];if(a[0]+="",s.default._validateParameters("textWidth",a),a[0].length===0)return 0;for(var y=a[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),b=[],d=0;d<y.length;d++)b.push(this._renderer.textWidth(y[d]));return Math.max.apply(Math,b)},s.default.prototype.textAscent=function(){for(var l=arguments.length,a=new Array(l),c=0;c<l;c++)a[c]=arguments[c];return s.default._validateParameters("textAscent",a),this._renderer.textAscent()},s.default.prototype.textDescent=function(){for(var l=arguments.length,a=new Array(l),c=0;c<l;c++)a[c]=arguments[c];return s.default._validateParameters("textDescent",a),this._renderer.textDescent()},s.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},s.default.prototype.textWrap=function(l){return s.default._validateParameters("textWrap",[l]),this._renderer.textWrap(l)},t=s.default,u.default=t},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(t,i,u){"use strict";function s(h){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}function l(h){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(g){return s(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":s(g)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=(p=t("../core/main"))&&p.__esModule?p:{default:p},c=d(t("../core/constants")),y=d(t("opentype.js"));function b(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,b=function(){return h},h)}function d(h){if(h&&h.__esModule)return h;if(h===null||l(h)!=="object"&&typeof h!="function")return{default:h};var g=b();if(g&&g.has(h))return g.get(h);var m,f,v={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&((f=_?Object.getOwnPropertyDescriptor(h,m):null)&&(f.get||f.set)?Object.defineProperty(v,m,f):v[m]=h[m]);return v.default=h,g&&g.set(h,v),v}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),a.default.prototype.loadFont=function(h,g,m){a.default._validateParameters("loadFont",arguments);var f=new a.default.Font(this),v=this;return y.load(h,function(S,j){if(S)return a.default._friendlyFileLoadError(4,h),m!==void 0?m(S):void console.error(S,h);f.font=j,g!==void 0&&g(f),v._decrementPreload();var S=h.split("\\").pop().split("/").pop(),j=S.lastIndexOf("."),T=j<1?null:S.slice(j+1);["ttf","otf","woff","woff2"].includes(T)&&(T=S.slice(0,j!==-1?j:0),(S=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(T,`;
src: url(`).concat(h,`);
}
`))),document.head.appendChild(S))}),f},a.default.prototype.text=function(h,g,m,f,v){var _;return a.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(_=this._renderer).text.apply(_,arguments):this},a.default.prototype.textFont=function(h,g){if(a.default._validateParameters("textFont",arguments),arguments.length){if(h)return this._renderer._setProperty("_textFont",h),g&&(this._renderer._setProperty("_textSize",g),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",g*c._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var p=a.default;u.default=p},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(t,i,u){"use strict";function s(C){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(C)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var l=(l=t("../core/main"))&&l.__esModule?l:{default:l},a=function(C){if(C&&C.__esModule)return C;if(C===null||y(C)!=="object"&&typeof C!="function")return{default:C};var M=c();if(M&&M.has(C))return M.get(C);var k,A={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(k in C){var O;Object.prototype.hasOwnProperty.call(C,k)&&((O=P?Object.getOwnPropertyDescriptor(C,k):null)&&(O.get||O.set)?Object.defineProperty(A,k,O):A[k]=C[k])}return A.default=C,M&&M.set(C,A),A}(t("../core/constants"));function c(){var C;return typeof WeakMap!="function"?null:(C=new WeakMap,c=function(){return C},C)}function y(C){return(y=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(M){return s(M)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":s(M)})(C)}function b(C,M){for(var k=0;k<M.length;k++){var A=M[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,A.key,A)}}function d(C,M){var k=C.length;return C[M<0?M%k+k:M%k]}function p(C,M,k,A){var P,O,V;return A?(p.tmpPoint1===void 0&&(p.tmpPoint1=[],p.tmpPoint2=[]),O=p.tmpPoint1,V=p.tmpPoint2,O.x=M.x-C.x,O.y=M.y-C.y,V.x=k.x-M.x,V.y=k.y-M.y,P=O.x*V.x+O.y*V.y,O=Math.sqrt(O.x*O.x+O.y*O.y),V=Math.sqrt(V.x*V.x+V.y*V.y),Math.acos(P/(O*V))<A):(M[0]-C[0])*(k[1]-C[1])-(k[0]-C[0])*(M[1]-C[1])==0}function h(D,H,U,X,J,O,V,F,R){var z=1-R,G=Math.pow(z,3),W=Math.pow(z,2),L=R*R,Z=L*R,q=G*D+3*W*R*U+3*z*R*R*J+Z*V,G=G*H+3*W*R*X+3*z*R*R*O+Z*F,W=D+2*R*(U-D)+L*(J-2*U+D),Z=H+2*R*(X-H)+L*(O-2*X+H),ae=U+2*R*(J-U)+L*(V-2*J+U),L=X+2*R*(O-X)+L*(F-2*O+X),D=z*D+R*U,U=z*H+R*X,H=z*J+R*V,X=z*O+R*F,J=90-180*Math.atan2(W-ae,Z-L)/Math.PI;return(ae<W||Z<L)&&(J+=180),{x:q,y:G,m:{x:W,y:Z},n:{x:ae,y:L},start:{x:D,y:U},end:{x:H,y:X},alpha:J}}function g(C,M,k,A,P,O,V,F,R){return R==null?j(C,M,k,A,P,O,V,F):h(C,M,k,A,P,O,V,F,function(z,q,G,W,Z,ae,L,D,U){if(!(U<0||j(z,q,G,W,Z,ae,L,D)<U)){var H,X=.5,J=1-X;for(H=j(z,q,G,W,Z,ae,L,D,J);.01<Math.abs(H-U);)H=j(z,q,G,W,Z,ae,L,D,J+=(H<U?1:-1)*(X/=2));return J}}(C,M,k,A,P,O,V,F,R))}function m(C,M,k){for(var A,P,O,V,F,R=0,z=0,q=(C=function(G,W){function Z(pe,ye,xe){var Re,Te;if(!pe)return["C",ye.x,ye.y,ye.x,ye.y,ye.x,ye.y];switch(pe[0]in{T:1,Q:1}||(ye.qx=ye.qy=null),pe[0]){case"M":ye.X=pe[1],ye.Y=pe[2];break;case"A":pe=["C"].concat(v.apply(0,[ye.x,ye.y].concat(pe.slice(1))));break;case"S":Te=xe==="C"||xe==="S"?(Re=2*ye.x-ye.bx,2*ye.y-ye.by):(Re=ye.x,ye.y),pe=["C",Re,Te].concat(pe.slice(1));break;case"T":xe==="Q"||xe==="T"?(ye.qx=2*ye.x-ye.qx,ye.qy=2*ye.y-ye.qy):(ye.qx=ye.x,ye.qy=ye.y),pe=["C"].concat(S(ye.x,ye.y,ye.qx,ye.qy,pe[1],pe[2]));break;case"Q":ye.qx=pe[1],ye.qy=pe[2],pe=["C"].concat(S(ye.x,ye.y,pe[1],pe[2],pe[3],pe[4]));break;case"L":pe=["C"].concat(x(ye.x,ye.y,pe[1],pe[2]));break;case"H":pe=["C"].concat(x(ye.x,ye.y,pe[1],ye.y));break;case"V":pe=["C"].concat(x(ye.x,ye.y,ye.x,pe[1]));break;case"Z":pe=["C"].concat(x(ye.x,ye.y,ye.X,ye.Y))}return pe}function ae(pe,ye){if(7<pe[ye].length){pe[ye].shift();for(var xe=pe[ye];xe.length;)le[ye]="A",H&&(se[ye]="A"),pe.splice(ye++,0,["C"].concat(xe.splice(0,6)));pe.splice(ye,1),D=Math.max(U.length,H&&H.length||0)}}function L(pe,ye,xe,Re,Te){pe&&ye&&pe[Te][0]==="M"&&ye[Te][0]!=="M"&&(ye.splice(Te,0,["M",Re.x,Re.y]),xe.bx=0,xe.by=0,xe.x=pe[Te][1],xe.y=pe[Te][2],D=Math.max(U.length,H&&H.length||0))}var D,U=f(G),H=W&&f(W),X={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},J={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},le=[],se=[],ne="",ce="";D=Math.max(U.length,H&&H.length||0);for(var he=0;he<D;he++){(ne=U[he]?U[he][0]:ne)!=="C"&&(le[he]=ne,he&&(ce=le[he-1])),U[he]=Z(U[he],X,ce),le[he]!=="A"&&ne==="C"&&(le[he]="C"),ae(U,he),H&&((ne=H[he]?H[he][0]:ne)!=="C"&&(se[he]=ne,he&&(ce=se[he-1])),H[he]=Z(H[he],J,ce),se[he]!=="A"&&ne==="C"&&(se[he]="C"),ae(H,he)),L(U,H,X,J,he),L(H,U,J,X,he);var ee=U[he],oe=H&&H[he],fe=ee.length,_e=H&&oe.length;X.x=ee[fe-2],X.y=ee[fe-1],X.bx=parseFloat(ee[fe-4])||X.x,X.by=parseFloat(ee[fe-3])||X.y,J.bx=H&&(parseFloat(oe[_e-4])||J.x),J.by=H&&(parseFloat(oe[_e-3])||J.y),J.x=H&&oe[_e-2],J.y=H&&oe[_e-1]}return H?[U,H]:U}(C)).length;z<q;z++){if((O=C[z])[0]==="M")A=+O[1],P=+O[2];else{if(M<R+(V=g(A,P,O[1],O[2],O[3],O[4],O[5],O[6]))&&!k)return{x:(F=g(A,P,O[1],O[2],O[3],O[4],O[5],O[6],M-R)).x,y:F.y,alpha:F.alpha};R+=V,A=+O[5],P=+O[6]}O.shift()}return F=(F=k?R:h(A,P,O[0],O[1],O[2],O[3],O[4],O[5],1)).alpha?{x:F.x,y:F.y,alpha:F.alpha}:F}function f(C){var M=[],k=0,A=0,P=0,O=0,V=0;if(C){C[0][0]==="M"&&(P=k=+C[0][1],O=A=+C[0][2],V++,M[0]=["M",k,A]);for(var F,R,z=C.length===3&&C[0][0]==="M"&&C[1][0].toUpperCase()==="R"&&C[2][0].toUpperCase()==="Z",q=V,G=C.length;q<G;q++){if(M.push(F=[]),(R=C[q])[0]!==R[0].toUpperCase())switch(F[0]=R[0].toUpperCase(),F[0]){case"A":F[1]=R[1],F[2]=R[2],F[3]=R[3],F[4]=R[4],F[5]=R[5],F[6]=+(R[6]+k),F[7]=+(R[7]+A);break;case"V":F[1]=+R[1]+A;break;case"H":F[1]=+R[1]+k;break;case"R":for(var W,Z=2,ae=(W=[k,A].concat(R.slice(1))).length;Z<ae;Z++)W[Z]=+W[Z]+k,W[++Z]=+W[Z]+A;M.pop(),M=M.concat(_(W,z));break;case"M":P=+R[1]+k,O=+R[2]+A;break;default:for(var L=1,D=R.length;L<D;L++)F[L]=+R[L]+(L%2?k:A)}else if(R[0]==="R")W=[k,A].concat(R.slice(1)),M.pop(),M=M.concat(_(W,z)),F=["R"].concat(R.slice(-2));else for(var U=0,H=R.length;U<H;U++)F[U]=R[U];switch(F[0]){case"Z":k=P,A=O;break;case"H":k=F[1];break;case"V":A=F[1];break;case"M":P=F[F.length-2],O=F[F.length-1];break;default:k=F[F.length-2],A=F[F.length-1]}}}return M}function v(C,M,k,A,H,le,X,F,R,z){function q(_e,pe,ye){return{x:_e*Math.cos(ye)-pe*Math.sin(ye),y:_e*Math.sin(ye)+pe*Math.cos(ye)}}var G,D=Math.PI,U=120*D/180,W=D/180*(+H||0),Z=[],ae=(z?(he=z[0],G=z[1],ne=z[2],ce=z[3]):(C=(J=q(C,M,-W)).x,M=J.y,1<(ae=(L=(C-(F=(J=q(F,R,-W)).x))/2)*L/(k*k)+(J=(M-(R=J.y))/2)*J/(A*A))&&(k*=ae=Math.sqrt(ae),A*=ae),ae=k*k,se=A*A,ne=(le=(le===X?-1:1)*Math.sqrt(Math.abs((ae*se-ae*J*J-se*L*L)/(ae*J*J+se*L*L))))*k*J/A+(C+F)/2,ce=le*-A*L/k+(M+R)/2,he=Math.asin(((M-ce)/A).toFixed(9)),G=Math.asin(((R-ce)/A).toFixed(9)),(he=C<ne?D-he:he)<0&&(he=2*D+he),(G=F<ne?D-G:G)<0&&(G=2*D+G),X&&G<he&&(he-=2*D),!X&&he<G&&(G-=2*D)),G-he),L=(Math.abs(ae)>U&&(se=G,J=F,le=R,G=he+U*(X&&he<G?1:-1),Z=v(F=ne+k*Math.cos(G),R=ce+A*Math.sin(G),k,A,H,0,X,J,le,[G,se,ne,ce])),ae=G-he,Math.cos(he)),D=Math.sin(he),U=Math.cos(G),H=Math.sin(G),X=Math.tan(ae/4),J=4/3*k*X,le=4/3*A*X,se=[C,M],ne=[C+J*D,M-le*L],ce=[F+J*H,R-le*U],he=[F,R];if(ne[0]=2*se[0]-ne[0],ne[1]=2*se[1]-ne[1],z)return[ne,ce,he].concat(Z);for(var ee=[],oe=0,fe=(Z=[ne,ce,he].concat(Z).join().split(",")).length;oe<fe;oe++)ee[oe]=oe%2?q(Z[oe-1],Z[oe],W).y:q(Z[oe],Z[oe+1],W).x;return ee}function _(C,M){for(var k=[],A=0,P=C.length;A<P-2*!M;A+=2){var O=[{x:+C[A-2],y:+C[A-1]},{x:+C[A],y:+C[A+1]},{x:+C[A+2],y:+C[A+3]},{x:+C[A+4],y:+C[A+5]}];M?A?P-4===A?O[3]={x:+C[0],y:+C[1]}:P-2===A&&(O[2]={x:+C[0],y:+C[1]},O[3]={x:+C[2],y:+C[3]}):O[0]={x:+C[P-2],y:+C[P-1]}:P-4===A?O[3]=O[2]:A||(O[0]={x:+C[A],y:+C[A+1]}),k.push(["C",(-O[0].x+6*O[1].x+O[2].x)/6,(-O[0].y+6*O[1].y+O[2].y)/6,(O[1].x+6*O[2].x-O[3].x)/6,(O[1].y+6*O[2].y-O[3].y)/6,O[2].x,O[2].y])}return k}function x(C,M,k,A){return[C,M,k,A,k,A]}function S(C,M,k,A,P,O){return[1/3*C+2/3*k,1/3*M+2/3*A,1/3*P+2/3*k,1/3*O+2/3*A,P,O]}function j(C,M,k,A,P,O,V,F,R){for(var z=(R=1<(R=R??1)?1:R<0?0:R)/2,q=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],G=0,W=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Z=0;Z<12;Z++){var L=z*q[Z]+z,ae=T(L,C,k,P,V),L=T(L,M,A,O,F);G+=W[Z]*Math.sqrt(ae*ae+L*L)}return z*G}function T(C,M,k,A,P){return C*(C*(-3*M+9*k-9*A+3*P)+6*M-12*k+6*A)-3*M+3*k}l.default.Font=function(){function C(P){if(!(this instanceof C))throw new TypeError("Cannot call a class as a function");this.parent=P,this.cache={},this.font=void 0}var M,k,A;return M=C,(k=[{key:"textBounds",value:function(P){var O=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,V=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,q=3<arguments.length?arguments[3]:void 0,F=4<arguments.length?arguments[4]:void 0,R=F&&F.renderer&&F.renderer._pInst||this.parent,z=R._renderer.drawingContext,q=(z.textAlign||a.LEFT,z.textBaseline||a.BASELINE,q||R._renderer._textSize);if(!le){for(var G=[],W=[],Z=[],ae=(Z[0]=[],[]),L=this._scale(q),D=R._renderer.textLeading(),U=0,H=(this.font.forEachGlyph(P,O,V,q,F,function(ce,he,ee,oe){var fe=ce.getMetrics();ce.index===0?Z[U+=1]=[]:(Z[U].push(he+fe.xMin*L),Z[U].push(he+fe.xMax*L),ae.push(ee+U*D+-fe.yMin*L),ae.push(ee+U*D+-fe.yMax*L))}),0<Z[U].length&&(G[U]=Math.min.apply(null,Z[U]),W[U]=Math.max.apply(null,Z[U])),0),X=0;X<=U;X++){G[X]=Math.min.apply(null,Z[X]),W[X]=Math.max.apply(null,Z[X]);var J=W[X]-G[X];H<J&&(H=J)}var z=Math.min.apply(null,G),le={x:z,y:V=Math.min.apply(null,ae),h:Math.max.apply(null,ae)-V,w:H,advance:z-O},q=this._handleAlignment(R._renderer,P,le.x,le.y,le.w+le.advance);le.x=q.x,le.y=q.y}return le}},{key:"textToPoints",value:function(P,O,V,F,R){var z,q=O,G=[],W=this.parent,Z=P.split(/\r?\n|\r|\n/g);F=F||this.parent._renderer._textSize;for(var ae,L,D,U=0;U<Z.length;U++){var H=0;O=q;for(var X=(X=Z[U]).replace("	","  "),J=this._getGlyphs(X),le=0;le<J.length;le++){if(L=X,!((D=J)[ae=le].name&&D[ae].name==="space"||L.length===D.length&&L[ae]===" "))for(var se=function(ee){for(var oe,fe=[],_e=0;_e<ee.length;_e++)ee[_e].type==="M"&&(oe&&fe.push(oe),oe=[]),oe.push(function(pe){var ye=[pe.type];return pe.type==="M"||pe.type==="L"?ye.push(pe.x,pe.y):pe.type==="C"?ye.push(pe.x1,pe.y1,pe.x2,pe.y2,pe.x,pe.y):pe.type==="Q"&&ye.push(pe.x1,pe.y1,pe.x,pe.y),ye}(ee[_e]));return fe.push(oe),fe}(J[le].getPath(O,V,F).commands),ne=0;ne<se.length;ne++)for(var ce=function(ee,oe){for(var oe=function(Re,Te){if(y(Re)!=="object")Re=Te;else for(var We in Te)Re[We]===void 0&&(Re[We]=Te[We]);return Re}(oe,{sampleFactor:.1,simplifyThreshold:0}),fe=m(ee,0,1),_e=fe/(fe*oe.sampleFactor),pe=[],ye=0;ye<fe;ye+=_e)pe.push(m(ee,ye));return oe.simplifyThreshold&&function(xe){for(var Re=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,Te=0,We=xe.length-1;3<xe.length&&0<=We;--We)p(d(xe,We-1),d(xe,We),d(xe,We+1),Re)&&(xe.splice(We%xe.length,1),Te++)}(pe,oe.simplifyThreshold),pe}(se[ne],R),he=0;he<ce.length;he++)ce[he].x+=H,z=this._handleAlignment(W._renderer,X,ce[he].x,ce[he].y),ce[he].x=z.x,ce[he].y=z.y,G.push(ce[he]);H+=J[le].advanceWidth*this._scale(F)}V+=this.parent._renderer._textLeading}return G}},{key:"_getGlyphs",value:function(P){return this.font.stringToGlyphs(P)}},{key:"_getPath",value:function(P,z,V,F){var R=(F&&F.renderer&&F.renderer._pInst||this.parent)._renderer,z=this._handleAlignment(R,P,z,V);return this.font.getPath(P,z.x,z.y,R._textSize,F)}},{key:"_getPathData",value:function(P,O,V,F){var R=3;return typeof P=="string"&&2<arguments.length?P=this._getPath(P,O,V,F):y(O)==="object"&&(F=O),F&&typeof F.decimals=="number"&&(R=F.decimals),P.toPathData(R)}},{key:"_getSVG",value:function(P,O,V,F){var R=3;return typeof P=="string"&&2<arguments.length?P=this._getPath(P,O,V,F):y(O)==="object"&&(F=O),F&&(typeof F.decimals=="number"&&(R=F.decimals),typeof F.strokeWidth=="number"&&(P.strokeWidth=F.strokeWidth),F.fill!==void 0&&(P.fill=F.fill),F.stroke!==void 0&&(P.stroke=F.stroke)),P.toSVG(R)}},{key:"_renderPath",value:function(q,W,Z,F){var R=F&&F.renderer||this.parent._renderer,z=R.drawingContext,q=(y(q)==="object"&&q.commands?q:this._getPath(q,W,Z,F)).commands,G=(R._clipping||z.beginPath(),!0),W=!1,Z=void 0;try{for(var ae,L=q[Symbol.iterator]();!(G=(ae=L.next()).done);G=!0){var D=ae.value;D.type==="M"?z.moveTo(D.x,D.y):D.type==="L"?z.lineTo(D.x,D.y):D.type==="C"?z.bezierCurveTo(D.x1,D.y1,D.x2,D.y2,D.x,D.y):D.type==="Q"?z.quadraticCurveTo(D.x1,D.y1,D.x,D.y):D.type==="Z"&&z.closePath()}}catch(U){W=!0,Z=U}finally{try{G||L.return==null||L.return()}finally{if(W)throw Z}}return R._doStroke&&R._strokeSet&&!R._clipping&&z.stroke(),R._doFill&&!R._clipping&&(R._fillSet||R._setFill(a._DEFAULT_TEXT_FILL),z.fill()),this}},{key:"_textWidth",value:function(P,O){return this.font.getAdvanceWidth(P,O)}},{key:"_textAscent",value:function(P){return this.font.ascender*this._scale(P)}},{key:"_textDescent",value:function(P){return-this.font.descender*this._scale(P)}},{key:"_scale",value:function(P){return 1/this.font.unitsPerEm*(P||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(P,O,V,F,R){var z=P._textSize;switch(R===void 0&&(R=this._textWidth(O,z)),P._textAlign){case a.CENTER:V-=R/2;break;case a.RIGHT:V-=R}switch(P._textBaseline){case a.TOP:F+=this._textAscent(z);break;case a.CENTER:F+=this._textAscent(z)/2;break;case a.BOTTOM:F-=this._textDescent(z)}return{x:V,y:F}}}])&&b(M.prototype,k),A&&b(M,A),C}(),t=l.default,u.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(t,i,u){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(s,l){return s.push(l),s},t.default.prototype.arrayCopy=function(s,l,a,c,y){var b,d;s=y!==void 0?(d=Math.min(y,s.length),b=c,s.slice(l,d+l)):(d=a!==void 0?(d=a,Math.min(d,s.length)):s.length,a=l,s.slice(b=0,d)),Array.prototype.splice.apply(a,[b,d].concat(s))},t.default.prototype.concat=function(s,l){return s.concat(l)},t.default.prototype.reverse=function(s){return s.reverse()},t.default.prototype.shorten=function(s){return s.pop(),s},t.default.prototype.shuffle=function(s,l){for(var a,c,y=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(s),b=(s=l||y?s:s.slice()).length;1<b;)a=this.random(0,1)*b|0,c=s[--b],s[b]=s[a],s[a]=c;return s},t.default.prototype.sort=function(s,c){var a=c?s.slice(0,Math.min(c,s.length)):s,c=c?s.slice(Math.min(c,s.length)):[];return(a=typeof a[0]=="string"?a.sort():a.sort(function(y,b){return y-b})).concat(c)},t.default.prototype.splice=function(s,l,a){return Array.prototype.splice.apply(s,[a,0].concat(l)),s},t.default.prototype.subset=function(s,l,a){return a!==void 0?s.slice(l,l+a):s.slice(l,s.length)},t=t.default,u.default=t},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(t,i,u){"use strict";t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};s.default.prototype.float=function(l){return l instanceof Array?l.map(parseFloat):parseFloat(l)},s.default.prototype.int=function(l){var a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return l===1/0||l==="Infinity"?1/0:l===-1/0||l==="-Infinity"?-1/0:typeof l=="string"?parseInt(l,a):typeof l=="number"?0|l:typeof l=="boolean"?l?1:0:l instanceof Array?l.map(function(c){return s.default.prototype.int(c,a)}):void 0},s.default.prototype.str=function(l){return l instanceof Array?l.map(s.default.prototype.str):String(l)},s.default.prototype.boolean=function(l){return typeof l=="number"?l!==0:typeof l=="string"?l.toLowerCase()==="true":typeof l=="boolean"?l:l instanceof Array?l.map(s.default.prototype.boolean):void 0},s.default.prototype.byte=function(l){return l=s.default.prototype.int(l,10),typeof l=="number"?(l+128)%256-128:l instanceof Array?l.map(s.default.prototype.byte):void 0},s.default.prototype.char=function(l){return typeof l!="number"||isNaN(l)?l instanceof Array?l.map(s.default.prototype.char):typeof l=="string"?s.default.prototype.char(parseInt(l,10)):void 0:String.fromCharCode(l)},s.default.prototype.unchar=function(l){return typeof l=="string"&&l.length===1?l.charCodeAt(0):l instanceof Array?l.map(s.default.prototype.unchar):void 0},s.default.prototype.hex=function(l,a){if(a=a??8,l instanceof Array)return l.map(function(y){return s.default.prototype.hex(y,a)});if(l===1/0||l===-1/0)return(l===1/0?"F":"0").repeat(a);if(typeof l=="number"){l<0&&(l=4294967295+l+1);for(var c=Number(l).toString(16).toUpperCase();c.length<a;)c="0".concat(c);return c=c.length>=a?c.substring(c.length-a,c.length):c}},s.default.prototype.unhex=function(l){return l instanceof Array?l.map(s.default.prototype.unhex):parseInt("0x".concat(l),16)},t=s.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(t,i,u){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=(d=t("../core/main"))&&d.__esModule?d:{default:d};function l(p,h){return function(g){if(Array.isArray(g))return g}(p)||function(g,m){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]"){var f=[],v=!0,_=!1,x=void 0;try{for(var S,j=g[Symbol.iterator]();!(v=(S=j.next()).done)&&(f.push(S.value),!m||f.length!==m);v=!0);}catch(T){_=!0,x=T}finally{try{v||j.return==null||j.return()}finally{if(_)throw x}}return f}}(p,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(p,h,g){var f=l(p.toString().split("."),2),m=f[0],f=f[1];return g===void 0?(m=m.padStart(h,"0"),f?m+"."+f:m):(m=(p=l(p.toFixed(g).toString().split("."),2))[0],f=p[1],m=m.padStart(h,"0"),f===void 0?m:m+"."+f)}function c(f,h){var g=(f=f.toString()).indexOf("."),m=g!==-1?f.substring(g):"",f=(f=g!==-1?f.substring(0,g):f).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(h===0)m="";else if(h!==void 0)if(h>m.length)for(var v=h-(m+=g===-1?".":"").length+1,_=0;_<v;_++)m+="0";else m=m.substring(0,h+1);return f+m}function y(p){return 0<parseFloat(p)?"+".concat(p.toString()):p.toString()}function b(p){return 0<=parseFloat(p)?" ".concat(p.toString()):p.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.join=function(p,h){return s.default._validateParameters("join",arguments),p.join(h)},s.default.prototype.match=function(p,h){return s.default._validateParameters("match",arguments),p.match(h)},s.default.prototype.matchAll=function(p,h){s.default._validateParameters("matchAll",arguments);for(var g=new RegExp(h,"g"),m=g.exec(p),f=[];m!==null;)f.push(m),m=g.exec(p);return f},s.default.prototype.nf=function(p,h,g){return s.default._validateParameters("nf",arguments),p instanceof Array?p.map(function(m){return a(m,h,g)}):Object.prototype.toString.call(p)==="[object Arguments]"?p.length===3?this.nf(p[0],p[1],p[2]):p.length===2?this.nf(p[0],p[1]):this.nf(p[0]):a(p,h,g)},s.default.prototype.nfc=function(p,h){return s.default._validateParameters("nfc",arguments),p instanceof Array?p.map(function(g){return c(g,h)}):c(p,h)},s.default.prototype.nfp=function(){for(var p=arguments.length,h=new Array(p),g=0;g<p;g++)h[g]=arguments[g];s.default._validateParameters("nfp",h);var m=s.default.prototype.nf.apply(this,h);return m instanceof Array?m.map(y):y(m)},s.default.prototype.nfs=function(){for(var p=arguments.length,h=new Array(p),g=0;g<p;g++)h[g]=arguments[g];s.default._validateParameters("nfs",h);var m=s.default.prototype.nf.apply(this,h);return m instanceof Array?m.map(b):b(m)},s.default.prototype.split=function(p,h){return s.default._validateParameters("split",arguments),p.split(h)},s.default.prototype.splitTokens=function(p,h){var g,m;return s.default._validateParameters("splitTokens",arguments),m=h!==void 0?(m=/\]/g.exec(h=h),(g=/\[/g.exec(h))&&m?(h=h.slice(0,m.index)+h.slice(m.index+1),g=/\[/g.exec(h),h=h.slice(0,g.index)+h.slice(g.index+1),new RegExp("[\\[".concat(h,"\\]]"),"g")):m?(h=h.slice(0,m.index)+h.slice(m.index+1),new RegExp("[".concat(h,"\\]]"),"g")):g?(h=h.slice(0,g.index)+h.slice(g.index+1),new RegExp("[".concat(h,"\\[]"),"g")):new RegExp("[".concat(h,"]"),"g")):/\s/g,p.split(m).filter(function(f){return f})},s.default.prototype.trim=function(p){return s.default._validateParameters("trim",arguments),p instanceof Array?p.map(this.trim):p.trim()};var d=s.default;u.default=d},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(t,i,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,u.default=t},{"../core/main":283}],326:[function(t,i,u){"use strict";function s(p){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(p)}function l(p){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(h){return s(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":s(h)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=(d=t("../core/main"))&&d.__esModule?d:{default:d},c=(t("./p5.Geometry"),function(p){if(p&&p.__esModule)return p;if(p===null||l(p)!=="object"&&typeof p!="function")return{default:p};var h=y();if(h&&h.has(p))return h.get(p);var g,m={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in p){var v;Object.prototype.hasOwnProperty.call(p,g)&&((v=f?Object.getOwnPropertyDescriptor(p,g):null)&&(v.get||v.set)?Object.defineProperty(m,g,v):m[g]=p[g])}return m.default=p,h&&h.set(p,m),m}(t("../core/constants")));function y(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,y=function(){return p},p)}a.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},a.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},a.default.prototype.buildGeometry=function(p){return this._renderer.buildGeometry(p)},a.default.prototype.freeGeometry=function(p){this._renderer._freeBuffers(p.gid)},a.default.prototype.plane=function(){var p,h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:h,m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,v=(this._assert3d("plane"),a.default._validateParameters("plane",arguments),"plane|".concat(m,"|").concat(f));return this._renderer.geometryInHash(v)||((p=new a.default.Geometry(m,f,function(){for(var _,x,S=0;S<=this.detailY;S++)for(var j=S/this.detailY,T=0;T<=this.detailX;T++)_=T/this.detailX,x=new a.default.Vector(_-.5,j-.5,0),this.vertices.push(x),this.uvs.push(_,j)})).computeFaces().computeNormals(),m<=1&&f<=1?p._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(v,p)),this._renderer.drawBuffersScaled(v,h,g,1),this},a.default.prototype.box=function(p,h,g,m,f){this._assert3d("box"),a.default._validateParameters("box",arguments),p===void 0&&(p=50),h===void 0&&(h=p),g===void 0&&(g=h);var v,_=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,_=(f===void 0&&(f=_?1:4),"box|".concat(m=m===void 0?_?1:4:m,"|").concat(f));return this._renderer.geometryInHash(_)||((v=new a.default.Geometry(m,f,function(){var x=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(S,j){for(var j=4*j,T=0;T<4;T++){var C=S[T],C=new a.default.Vector((2*(1&C)-1)/2,((2&C)-1)/2,((4&C)/2-1)/2);x.vertices.push(C),x.uvs.push(1&T,(2&T)/2)}x.faces.push([j,1+j,2+j]),x.faces.push([2+j,1+j,3+j])})})).computeNormals(),m<=4&&f<=4?v._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(_,v)),this._renderer.drawBuffersScaled(_,p,h,g),this},a.default.prototype.sphere=function(){var p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:24,g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:16;return this._assert3d("sphere"),a.default._validateParameters("sphere",arguments),this.ellipsoid(p,p,p,h,g),this};function b(p,h,g,m,f,v,_){p=p<=0?1:p,h=h<0?0:h,g=g<=0?p:g,m=m<3?3:m;for(var x,S,j=(v=v===void 0||v)?-2:0,T=(f=f<1?1:f)+((_=_===void 0?h!==0:_)?2:0),C=Math.atan2(p-h,g),M=Math.sin(C),k=Math.cos(C),A=j;A<=T;++A){var P=A/f,O=g*P,V=void 0,V=A<0?(P=O=0,p):f<A?(O=g,P=1,h):p+(h-p)*P;for(A!==-2&&A!==f+2||(V=0),O-=g/2,x=0;x<m;++x){var F=x/(m-1),z=2*Math.PI*F,R=Math.sin(z),z=Math.cos(z),q=(this.vertices.push(new a.default.Vector(R*V,O,z*V)),void 0),q=A<0?new a.default.Vector(0,-1,0):f<A&&h?new a.default.Vector(0,1,0):new a.default.Vector(R*k,M,z*k);this.vertexNormals.push(q),this.uvs.push(F,P)}}var G=0;if(v){for(S=0;S<m;++S)this.faces.push([G+S,G+m+(S+1)%m,G+m+S]);G+=2*m}for(A=0;A<f;++A){for(x=0;x<m;++x){var W=(x+1)%m;this.faces.push([G+x,G+W,G+m+W]),this.faces.push([G+x,G+m+W,G+m+x])}G+=m}if(_)for(G+=m,x=0;x<m;++x)this.faces.push([G+x,G+(x+1)%m,G+m])}a.default.prototype.cylinder=function(){var p,h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:h,m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,v=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],_=!(5<arguments.length&&arguments[5]!==void 0)||arguments[5],x=(this._assert3d("cylinder"),a.default._validateParameters("cylinder",arguments),"cylinder|".concat(m,"|").concat(f,"|").concat(v,"|").concat(_));return this._renderer.geometryInHash(x)||(p=new a.default.Geometry(m,f),b.call(p,1,1,1,m,f,v,_),m<=24&&f<=16?p._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(x,p)),this._renderer.drawBuffersScaled(x,h,g,h),this},a.default.prototype.cone=function(){var p,h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:h,m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,v=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],_=(this._assert3d("cone"),a.default._validateParameters("cone",arguments),"cone|".concat(m,"|").concat(f,"|").concat(v));return this._renderer.geometryInHash(_)||(p=new a.default.Geometry(m,f),b.call(p,1,0,1,m,f,v,!1),m<=24&&f<=16?p._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(_,p)),this._renderer.drawBuffersScaled(_,h,g,h),this},a.default.prototype.ellipsoid=function(){var p,h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:h,m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:h,f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:24,v=4<arguments.length&&arguments[4]!==void 0?arguments[4]:16,_=(this._assert3d("ellipsoid"),a.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(f,"|").concat(v));return this._renderer.geometryInHash(_)||((p=new a.default.Geometry(f,v,function(){for(var x=0;x<=this.detailY;x++)for(var S=x/this.detailY,j=Math.PI*S-Math.PI/2,T=Math.cos(j),C=Math.sin(j),M=0;M<=this.detailX;M++){var k=M/this.detailX,P=2*Math.PI*k,A=Math.cos(P),P=Math.sin(P),P=new a.default.Vector(T*P,C,T*A);this.vertices.push(P),this.vertexNormals.push(P),this.uvs.push(k,S)}})).computeFaces(),f<=24&&v<=24?p._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(_,p)),this._renderer.drawBuffersScaled(_,h,g,m),this},a.default.prototype.torus=function(p,_,g,m){if(this._assert3d("torus"),a.default._validateParameters("torus",arguments),p===void 0)p=50;else if(!p)return;if(_===void 0)_=10;else if(!_)return;g===void 0&&(g=24),m===void 0&&(m=16);var f,v=(_/p).toPrecision(4),_="torus|".concat(v,"|").concat(g,"|").concat(m);return this._renderer.geometryInHash(_)||((f=new a.default.Geometry(g,m,function(){for(var x=0;x<=this.detailY;x++)for(var S=x/this.detailY,j=2*Math.PI*S,T=Math.cos(j),C=Math.sin(j),M=1+v*T,k=0;k<=this.detailX;k++){var A=k/this.detailX,P=2*Math.PI*A,V=Math.cos(P),P=Math.sin(P),O=new a.default.Vector(M*V,M*P,v*C),V=new a.default.Vector(T*V,T*P,C);this.vertices.push(O),this.vertexNormals.push(V),this.uvs.push(A,S)}})).computeFaces(),g<=24&&m<=16?f._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(_,f)),this._renderer.drawBuffersScaled(_,p,p,p),this},a.default.RendererGL.prototype.point=function(p,h){var g=[];return g.push(new a.default.Vector(p,h,2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)),this._drawPoints(g,this.immediateMode.buffers.point),this},a.default.RendererGL.prototype.triangle=function(_){var h=_[0],g=_[1],m=_[2],f=_[3],v=_[4],_=_[5],x=(this.geometryInHash("tri")||((x=new a.default.Geometry(1,1,function(){var T=[];T.push(new a.default.Vector(0,0,0)),T.push(new a.default.Vector(1,0,0)),T.push(new a.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=T,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),x.computeNormals(),this.createBuffers("tri",x)),this.uModelMatrix.copy());try{var S=Math.sign(h*f-m*g+m*_-v*f+v*g-h*_),j=new a.default.Matrix([m-h,f-g,0,0,v-h,_-g,0,0,0,0,S,0,h,g,0,1]).mult(this.uModelMatrix);this.uModelMatrix=j,this.drawBuffers("tri")}finally{this.uModelMatrix=x}return this},a.default.RendererGL.prototype.ellipse=function(p){this.arc(p[0],p[1],p[2],p[3],0,c.TWO_PI,c.OPEN,p[4])},a.default.RendererGL.prototype.arc=function(){var p,h=arguments.length<=0?void 0:arguments[0],g=arguments.length<=1?void 0:arguments[1],m=arguments.length<=2?void 0:arguments[2],f=arguments.length<=3?void 0:arguments[3],v=arguments.length<=4?void 0:arguments[4],_=arguments.length<=5?void 0:arguments[5],x=arguments.length<=6?void 0:arguments[6],S=(arguments.length<=7?void 0:arguments[7])||25,j=(Math.abs(_-v)>=c.TWO_PI?"".concat(T="ellipse","|"):"".concat(T="arc","|").concat(v,"|").concat(_,"|").concat(x,"|")).concat(S,"|"),T=(this.geometryInHash(j)||((p=new a.default.Geometry(S,1,function(){if(v.toFixed(10)!==_.toFixed(10)){x!==c.PIE&&x!==void 0||(this.vertices.push(new a.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var C=0;C<=S;C++){var k=(_-v)*(C/S)+v,M=.5+Math.cos(k)/2,k=.5+Math.sin(k)/2;this.vertices.push(new a.default.Vector(M,k,0)),this.uvs.push([M,k]),C<S-1&&(this.faces.push([0,C+1,C+2]),this.edges.push([C+1,C+2]))}switch(x){case c.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case c.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case c.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),S<=50?p._edgesToVertices(p):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(T," with more than 50 detail")),this.createBuffers(j,p)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([h,g,0]),this.uModelMatrix.scale(m,f,1),this.drawBuffers(j)}finally{this.uModelMatrix=T}return this},a.default.RendererGL.prototype.rect=function(p){var h=p[0],g=p[1],m=p[2],f=p[3];if(p[4]===void 0){var x=this._pInst._glAttributes.perPixelLighting,v=p[4]||(x?1:24),_=p[5]||(x?1:16),x="rect|".concat(v,"|").concat(_),S=(this.geometryInHash(x)||((S=new a.default.Geometry(v,_,function(){for(var q=0;q<=this.detailY;q++)for(var G=q/this.detailY,W=0;W<=this.detailX;W++){var Z=W/this.detailX,ae=new a.default.Vector(Z,G,0);this.vertices.push(ae),this.uvs.push(Z,G)}0<v&&0<_&&(this.edges=[[0,v],[v,(v+1)*(_+1)-1],[(v+1)*(_+1)-1,(v+1)*_],[(v+1)*_,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(x,S)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([h,g,0]),this.uModelMatrix.scale(m,f,1),this.drawBuffers(x)}finally{this.uModelMatrix=S}}else{var x=p[4],S=p[5]===void 0?x:p[5],j=p[6]===void 0?S:p[6],p=p[7]===void 0?j:p[7],P=m,T=f,k=((P+=h)<h&&(k=h,h=P,P=k),(T+=g)<g&&(k=g,g=T,T=k),Math.min((P-h)/2,(T-g)/2)),C=(k<x&&(x=k),k<S&&(S=k),k<j&&(j=k),k<p&&(p=k),h),M=g,k=P,h=T,A=(this.beginShape(),S!==0?(this.vertex(k-S,M),this.quadraticVertex(k,M,k,M+S)):this.vertex(k,M),j!==0?(this.vertex(k,h-j),this.quadraticVertex(k,h,k-j,h)):this.vertex(k,h),p!==0?(this.vertex(C+p,h),this.quadraticVertex(C,h,C,h-p)):this.vertex(C,h),x!==0?(this.vertex(C,M+x),this.quadraticVertex(C,M,C+x,M)):this.vertex(C,M),!(this.immediateMode.geometry.uvs.length=0)),g=!1,P=void 0;try{for(var O,V=this.immediateMode.geometry.vertices[Symbol.iterator]();!(A=(O=V.next()).done);A=!0){var F=O.value,R=(F.x-C)/m,z=(F.y-M)/f;this.immediateMode.geometry.uvs.push(R,z)}}catch(L){g=!0,P=L}finally{try{A||V.return==null||V.return()}finally{if(g)throw P}}this.endShape(c.CLOSE)}return this},a.default.RendererGL.prototype.quad=function(p,h,g,m,f,v,_,x,S,j,T,C){var M=12<arguments.length&&arguments[12]!==void 0?arguments[12]:2,k=13<arguments.length&&arguments[13]!==void 0?arguments[13]:2,A="quad|".concat(p,"|").concat(h,"|").concat(g,"|").concat(m,"|").concat(f,"|").concat(v,"|").concat(_,"|").concat(x,"|").concat(S,"|").concat(j,"|").concat(T,"|").concat(C,"|").concat(M,"|").concat(k);if(!this.geometryInHash(A)){var P=new a.default.Geometry(M,k,function(){for(var W=1/(this.detailX-1),Z=1/(this.detailY-1),ae=0;ae<this.detailY;ae++)for(var L=0;L<this.detailX;L++){var D=L*W,U=ae*Z;this.vertices.push(new a.default.Vector((1-D)*((1-U)*p+U*j)+D*((1-U)*m+U*_),(1-D)*((1-U)*h+U*T)+D*((1-U)*f+U*x),(1-D)*((1-U)*g+U*C)+D*((1-U)*v+U*S))),this.uvs.push([D,U])}});P.faces=[];for(var O=0;O<k-1;O++)for(var V=0;V<M-1;V++){var F=V+O*M,R=V+1+(O+1)*M,z=V+(O+1)*M;P.faces.push([F,V+1+O*M,R]),P.faces.push([F,R,z])}P.computeNormals();for(var q=[P.edges.length=0,2,3,1],G=0;G<q.length;G++)P.edges.push([q[G],q[(G+1)%q.length]]);P._edgesToVertices(),this.createBuffers(A,P)}return this.drawBuffers(A),this},a.default.RendererGL.prototype.bezier=function(p,h,g,m,f,v,_,x,S,j,T,C){arguments.length===8&&(T=x,j=_,x=v,_=f,f=m,m=g,g=v=S=C=0);var M=this._pInst._bezierDetail||20;this.beginShape();for(var k=0;k<=M;k++){var A=Math.pow(1-k/M,3),P=k/M*3*Math.pow(1-k/M,2),O=3*Math.pow(k/M,2)*(1-k/M),V=Math.pow(k/M,3);this.vertex(p*A+m*P+_*O+j*V,h*A+f*P+x*O+T*V,g*A+v*P+S*O+C*V)}return this.endShape(),this},a.default.RendererGL.prototype.curve=function(p,h,g,m,f,v,_,x,S,j,T,C){arguments.length===8&&(j=_,T=x,_=f,x=m,f=m=g,g=v=S=C=0);var M=this._pInst._curveDetail;this.beginShape();for(var k=0;k<=M;k++){var A=.5*Math.pow(k/M,3),P=.5*Math.pow(k/M,2),O=k/M*.5;this.vertex(A*(3*m-p-3*_+j)+P*(2*p-5*m+4*_-j)+O*(-p+_)+2*m*.5,A*(3*f-h-3*x+T)+P*(2*h-5*f+4*x-T)+O*(-h+x)+2*f*.5,A*(3*v-g-3*S+C)+P*(2*g-5*v+4*S-C)+O*(-g+S)+2*v*.5)}return this.endShape(),this},a.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(c.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(c.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},a.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var p,h,g,m,f,v,_=[],x=[],S=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var j=1/this._lutBezierDetail,T=j,C=1,M=0;T<1;){if(v=parseFloat(T.toFixed(6)),this._lookUpTableBezier[M]=this._bezierCoefficients(v),C.toFixed(6)===j.toFixed(6)){v=parseFloat(C.toFixed(6))+parseFloat(T.toFixed(6)),++M,this._lookUpTableBezier[M]=this._bezierCoefficients(v);break}T+=j,C-=j,++M}}for(var k=this._lookUpTableBezier.length,A=[],P=0;P<4;P++)A.push([]);A[0]=this.immediateMode.geometry.vertexColors.slice(-4),A[3]=this.curFillColor.slice();var O=[];for(P=0;P<4;P++)O.push([]);if(O[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),O[3]=this.curStrokeColor.slice(),S===6){this.isBezier=!0;var _=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],x=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],V=Math.hypot(_[0]-_[1],x[0]-x[1]),R=Math.hypot(_[1]-_[2],x[1]-x[2]),F=Math.hypot(_[2]-_[3],x[2]-x[3]),R=V+R+F;for(V/=R,F/=R,f=0;f<4;f++)A[1].push(A[0][f]*(1-V)+A[3][f]*V),A[2].push(A[0][f]*F+A[3][f]*(1-F)),O[1].push(O[0][f]*(1-V)+O[3][f]*V),O[2].push(O[0][f]*F+O[3][f]*(1-F));for(m=0;m<k;m++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],P=p=h=0;P<4;P++){for(f=0;f<4;f++)this.curFillColor[f]+=this._lookUpTableBezier[m][P]*A[P][f],this.curStrokeColor[f]+=this._lookUpTableBezier[m][P]*O[P][f];p+=_[P]*this._lookUpTableBezier[m][P],h+=x[P]*this._lookUpTableBezier[m][P]}this.vertex(p,h)}this.curFillColor=A[3],this.curStrokeColor=O[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(S===9){this.isBezier=!0,_=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],x=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var z=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],q=Math.hypot(_[0]-_[1],x[0]-x[1],z[0]-z[1]),R=Math.hypot(_[1]-_[2],x[1]-x[2],z[1]-z[2]),G=Math.hypot(_[2]-_[3],x[2]-x[3],z[2]-z[3]),S=q+R+G;for(q/=S,G/=S,f=0;f<4;f++)A[1].push(A[0][f]*(1-q)+A[3][f]*q),A[2].push(A[0][f]*G+A[3][f]*(1-G)),O[1].push(O[0][f]*(1-q)+O[3][f]*q),O[2].push(O[0][f]*G+O[3][f]*(1-G));for(m=0;m<k;m++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],P=p=h=g=0;P<4;P++){for(f=0;f<4;f++)this.curFillColor[f]+=this._lookUpTableBezier[m][P]*A[P][f],this.curStrokeColor[f]+=this._lookUpTableBezier[m][P]*O[P][f];p+=_[P]*this._lookUpTableBezier[m][P],h+=x[P]*this._lookUpTableBezier[m][P],g+=z[P]*this._lookUpTableBezier[m][P]}this.vertex(p,h,g)}this.curFillColor=A[3],this.curStrokeColor=O[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},a.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var p,h,g,m,f,v,_=[],x=[],S=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var j=1/this._lutQuadraticDetail,T=j,C=1,M=0;T<1;){if(v=parseFloat(T.toFixed(6)),this._lookUpTableQuadratic[M]=this._quadraticCoefficients(v),C.toFixed(6)===j.toFixed(6)){v=parseFloat(C.toFixed(6))+parseFloat(T.toFixed(6)),++M,this._lookUpTableQuadratic[M]=this._quadraticCoefficients(v);break}T+=j,C-=j,++M}}for(var k=this._lookUpTableQuadratic.length,A=[],P=0;P<3;P++)A.push([]);A[0]=this.immediateMode.geometry.vertexColors.slice(-4),A[2]=this.curFillColor.slice();var O=[];for(P=0;P<3;P++)O.push([]);if(O[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),O[2]=this.curStrokeColor.slice(),S===4){this.isQuadratic=!0;var _=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],x=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],V=Math.hypot(_[0]-_[1],x[0]-x[1]);for(V/=V+Math.hypot(_[1]-_[2],x[1]-x[2]),f=0;f<4;f++)A[1].push(A[0][f]*(1-V)+A[2][f]*V),O[1].push(O[0][f]*(1-V)+O[2][f]*V);for(m=0;m<k;m++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],P=p=h=0;P<3;P++){for(f=0;f<4;f++)this.curFillColor[f]+=this._lookUpTableQuadratic[m][P]*A[P][f],this.curStrokeColor[f]+=this._lookUpTableQuadratic[m][P]*O[P][f];p+=_[P]*this._lookUpTableQuadratic[m][P],h+=x[P]*this._lookUpTableQuadratic[m][P]}this.vertex(p,h)}this.curFillColor=A[2],this.curStrokeColor=O[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(S===6){this.isQuadratic=!0,_=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],x=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var F=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],R=Math.hypot(_[0]-_[1],x[0]-x[1],F[0]-F[1]);for(R/=R+Math.hypot(_[1]-_[2],x[1]-x[2],F[1]-F[2]),f=0;f<4;f++)A[1].push(A[0][f]*(1-R)+A[2][f]*R),O[1].push(O[0][f]*(1-R)+O[2][f]*R);for(m=0;m<k;m++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],P=p=h=g=0;P<3;P++){for(f=0;f<4;f++)this.curFillColor[f]+=this._lookUpTableQuadratic[m][P]*A[P][f],this.curStrokeColor[f]+=this._lookUpTableQuadratic[m][P]*O[P][f];p+=_[P]*this._lookUpTableQuadratic[m][P],h+=x[P]*this._lookUpTableQuadratic[m][P],g+=F[P]*this._lookUpTableQuadratic[m][P]}this.vertex(p,h,g)}this.curFillColor=A[2],this.curStrokeColor=O[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},a.default.RendererGL.prototype.curveVertex=function(){var p,h,g,m,f,v,_=[],x=[],S=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var j=1/this._lutBezierDetail,T=j,C=1,M=0;T<1;){if(v=parseFloat(T.toFixed(6)),this._lookUpTableBezier[M]=this._bezierCoefficients(v),C.toFixed(6)===j.toFixed(6)){v=parseFloat(C.toFixed(6))+parseFloat(T.toFixed(6)),++M,this._lookUpTableBezier[M]=this._bezierCoefficients(v);break}T+=j,C-=j,++M}}var k=this._lookUpTableBezier.length;if(S===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,_=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),x=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),f=0;f<k;f++)h=_[0]*this._lookUpTableBezier[f][0]+_[1]*this._lookUpTableBezier[f][1]+_[2]*this._lookUpTableBezier[f][2]+_[3]*this._lookUpTableBezier[f][3],g=x[0]*this._lookUpTableBezier[f][0]+x[1]*this._lookUpTableBezier[f][1]+x[2]*this._lookUpTableBezier[f][2]+x[3]*this._lookUpTableBezier[f][3],this.vertex(h,g);for(f=0;f<S;f++)this.immediateMode._curveVertex.shift()}}else if(S===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,_=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),x=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),p=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),f=0;f<k;f++)h=_[0]*this._lookUpTableBezier[f][0]+_[1]*this._lookUpTableBezier[f][1]+_[2]*this._lookUpTableBezier[f][2]+_[3]*this._lookUpTableBezier[f][3],g=x[0]*this._lookUpTableBezier[f][0]+x[1]*this._lookUpTableBezier[f][1]+x[2]*this._lookUpTableBezier[f][2]+x[3]*this._lookUpTableBezier[f][3],m=p[0]*this._lookUpTableBezier[f][0]+p[1]*this._lookUpTableBezier[f][1]+p[2]*this._lookUpTableBezier[f][2]+p[3]*this._lookUpTableBezier[f][3],this.vertex(h,g,m);for(f=0;f<S;f++)this.immediateMode._curveVertex.shift()}},a.default.RendererGL.prototype.image=function(p,C,g,M,f,v,_,x,S){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(p),this._pInst.textureMode(c.NORMAL);var j=0,T=(C<=p.width&&(j=C/p.width),1),C=(C+M<=p.width&&(T=(C+M)/p.width),0),M=(g<=p.height&&(C=g/p.height),1);g+f<=p.height&&(M=(g+f)/p.height),this.beginShape(),this.vertex(v,_,0,j,C),this.vertex(v+x,_,0,T,C),this.vertex(v+x,_+S,0,T,M),this.vertex(v,_+S,0,j,M),this.endShape(c.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(c.REMOVE)};var d=a.default;u.default=d},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(t,i,u){"use strict";function s(h){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}function l(h){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(g){return s(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":s(g)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=(p=t("../core/main"))&&p.__esModule?p:{default:p},c=function(h){if(h&&h.__esModule)return h;if(h===null||l(h)!=="object"&&typeof h!="function")return{default:h};var g=y();if(g&&g.has(h))return g.get(h);var m,f={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in h){var _;Object.prototype.hasOwnProperty.call(h,m)&&((_=v?Object.getOwnPropertyDescriptor(h,m):null)&&(_.get||_.set)?Object.defineProperty(f,m,_):f[m]=h[m])}return f.default=h,g&&g.set(h,f),f}(t("../core/constants"));function y(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,y=function(){return h},h)}function b(h){return function(g){if(Array.isArray(g)){for(var m=0,f=new Array(g.length);m<g.length;m++)f[m]=g[m];return f}}(h)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(h,g){for(var m=0;m<g.length;m++){var f=g[m];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}var p=function(){function h(v){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");(this.renderer=v)._pInst.push(),this.identityMatrix=new a.default.Matrix,v.uModelMatrix=new a.default.Matrix,this.geometry=new a.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(h.nextGeometryId),h.nextGeometryId++,this.hasTransform=!1}var g,m,f;return g=h,(m=[{key:"transformVertices",value:function(v){var _=this;return this.hasTransform?v.map(function(x){return _.renderer.uModelMatrix.multiplyPoint(x)}):v}},{key:"transformNormals",value:function(v){var _=this;return this.hasTransform?v.map(function(x){return _.renderer.uNMatrix.multiplyVec3(x)}):v}},{key:"addGeometry",value:function(v){for(var _,x=this,S=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(T,C){return T===x.identityMatrix.mat4[C]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),j=((_=this.geometry.vertices).push.apply(_,b(this.transformVertices(v.vertices))),(_=this.geometry.vertexNormals).push.apply(_,b(this.transformNormals(v.vertexNormals))),(_=this.geometry.uvs).push.apply(_,b(v.uvs)),this.renderer._doFill&&(_=this.geometry.faces).push.apply(_,b(v.faces.map(function(T){return T.map(function(C){return C+S})}))),this.renderer._doStroke&&(_=this.geometry.edges).push.apply(_,b(v.edges.map(function(T){return T.map(function(C){return C+S})}))),b(v.vertexColors));j.length<4*v.vertices.length;)j.push.apply(j,b(this.renderer.curFillColor));(_=this.geometry.vertexColors).push.apply(_,b(j))}},{key:"addImmediate",value:function(){var v=this.renderer.immediateMode.geometry,_=this.renderer.immediateMode.shapeMode,x=[];if(this.renderer._doFill)if(_===c.TRIANGLE_STRIP||_===c.QUAD_STRIP)for(var S=2;S<v.vertices.length;S++)S%2==0?x.push([S,S-1,S-2]):x.push([S,S-2,S-1]);else if(_===c.TRIANGLE_FAN)for(var j=2;j<v.vertices.length;j++)x.push([0,j-1,j]);else for(var T=0;T<v.vertices.length;T+=3)x.push([T,T+1,T+2]);this.addGeometry(Object.assign({},v,{faces:x}))}},{key:"addRetained",value:function(v){this.addGeometry(v.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&d(g.prototype,m),f&&d(g,f),h}();p.nextGeometryId=0,u.default=p},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(t,i,u){"use strict";function s(d){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var l=(b=t("../core/main"))&&b.__esModule?b:{default:b},a=function(d){if(d&&d.__esModule)return d;if(d===null||y(d)!=="object"&&typeof d!="function")return{default:d};var p=c();if(p&&p.has(d))return p.get(d);var h,g={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in d){var f;Object.prototype.hasOwnProperty.call(d,h)&&((f=m?Object.getOwnPropertyDescriptor(d,h):null)&&(f.get||f.set)?Object.defineProperty(g,h,f):g[h]=d[h])}return g.default=d,p&&p.set(d,g),g}(t("../core/constants"));function c(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,c=function(){return d},d)}function y(d){return(y=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(p){return s(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":s(p)})(d)}l.default.prototype.orbitControl=function(d,p,h,S){var m=this,f=(this._assert3d("orbitControl"),l.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);d===void 0&&(d=1),p===void 0&&(p=d),h===void 0&&(h=1),y(S)!=="object"&&(S={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var T=S.disableTouchActions;this.touchActionsDisabled===!0||T!==void 0&&!T||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var v,_,x,T=S.freeRotation,S=T!==void 0&&T,j=[],T=(this.touches.forEach(function(V){m._renderer.prevTouches.forEach(function(F){V.id===F.id&&(F={x:V.x,y:V.y,px:F.x,py:F.y},j.push(F))})}),this._renderer.prevTouches=this.touches,0),C=0,M=0,k=0,A=0,P=this.height<this.width?this.height:this.width,O=!1;return 0<j.length?(O=0<j[0].x&&j[0].x<this.width&&0<j[0].y&&j[0].y<this.height,j.length===1?(C=-d*((v=j[0]).x-v.px)/P,M=p*(v.y-v.py)/P):(v=j[0],_=j[1],T=-(Math.hypot(v.x-_.x,v.y-_.y)-Math.hypot(v.px-_.px,v.py-_.py))*h*4e-4,k=.5*(v.x+_.x)-.5*(v.px+_.px),A=.5*(v.y+_.y)-.5*(v.py+_.py)),0<this.touches.length?O&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(O=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(T=Math.sign(this._mouseWheelDeltaY)*h,T*=.01,this._mouseWheelDeltaY=0,O&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(C=-d*this.movedX/P,M=p*this.movedY/P):this.mouseButton===this.RIGHT&&(k=this.movedX,A=this.movedY*f.yScale),O&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),T!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=T),.001<Math.abs(this._renderer.zoomVelocity)?(S?f._orbitFree(0,0,this._renderer.zoomVelocity):f._orbit(0,0,this._renderer.zoomVelocity),f.projMatrix.mat4[15]!==0&&(f.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),f.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=f.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=f.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,C===0&&M===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*C,.6*M),1e-6<this._renderer.rotateVelocity.magSq()?(S?f._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):f._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),k===0&&A===0||!this._renderer.executeRotateAndMove||(v=2*k/this.width,_=2*-A/this.height,this._renderer.moveVelocity.add(.15*v,.15*_)),1e-6<this._renderer.moveVelocity.magSq()?(h=f._getLocalAxes(),d=f.eyeX-f.centerX,p=f.eyeY-f.centerY,P=f.eyeZ-f.centerZ,O=Math.sqrt(d*d+p*p+P*P),T=new l.default.Vector(f.centerX,f.centerY,f.centerZ),T=f.cameraMatrix.multiplyPoint(T),(T=this._renderer.uPMatrix.multiplyAndNormalizePoint(T)).x-=this._renderer.moveVelocity.x,T.y-=this._renderer.moveVelocity.y,M=(C=this._renderer.uPMatrix.mat4)[15]===0?(x=(C[8]+T.x)/C[0]*O,(C[9]+T.y)/C[5]*O):(x=(T.x-C[12])/C[0],(T.y-C[13])/C[5]),f.setPosition(f.eyeX+x*h.x[0]+M*h.y[0],f.eyeY+x*h.x[1]+M*h.y[1],f.eyeZ+x*h.x[2]+M*h.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},l.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var d=arguments.length,p=new Array(d),h=0;h<d;h++)p[h]=arguments[h];l.default._validateParameters("debugMode",p);for(var g=this._registeredMethods.post.length-1;0<=g;g--)this._registeredMethods.post[g].toString()!==this._grid().toString()&&this._registeredMethods.post[g].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(g,1);p[0]===a.GRID?this.registerMethod("post",this._grid(p[1],p[2],p[3],p[4],p[5])):p[0]===a.AXES?this.registerMethod("post",this._axesIcon(p[1],p[2],p[3],p[4])):(this.registerMethod("post",this._grid(p[0],p[1],p[2],p[3],p[4])),this.registerMethod("post",this._axesIcon(p[5],p[6],p[7],p[8])))},l.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var d=this._registeredMethods.post.length-1;0<=d;d--)this._registeredMethods.post[d].toString()!==this._grid().toString()&&this._registeredMethods.post[d].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(d,1)},l.default.prototype._grid=function(d,p,h,g,m){d===void 0&&(d=this.width/2),p===void 0&&(p=Math.round(d/30)<4?4:Math.round(d/30)),h===void 0&&(h=0),g===void 0&&(g=0),m===void 0&&(m=0);var f=d/p,v=d/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var _=0;_<=p;_++)this.beginShape(this.LINES),this.vertex(-v+h,g,_*f-v+m),this.vertex(v+h,g,_*f-v+m),this.endShape();for(var x=0;x<=p;x++)this.beginShape(this.LINES),this.vertex(x*f-v+h,g,-v+m),this.vertex(x*f-v+h,g,v+m),this.endShape();this.pop()}},l.default.prototype._axesIcon=function(d,p,h,g){return d===void 0&&(d=40<this.width/20?this.width/20:40),p===void 0&&(p=-this.width/4),h===void 0&&(h=p),g===void 0&&(g=p),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(p,h,g),this.vertex(p+d,h,g),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(p,h,g),this.vertex(p,h+d,g),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(p,h,g),this.vertex(p,h,g+d),this.endShape(),this.pop()}};var b=l.default;u.default=b},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(t,i,u){"use strict";t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};s.default.prototype.ambientLight=function(l,a,c,y){this._assert3d("ambientLight"),s.default._validateParameters("ambientLight",arguments);var b=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(b._array[0],b._array[1],b._array[2]),this._renderer._enableLighting=!0,this},s.default.prototype.specularColor=function(l,a,c){this._assert3d("specularColor"),s.default._validateParameters("specularColor",arguments);var y=this.color.apply(this,arguments);return this._renderer.specularColors=[y._array[0],y._array[1],y._array[2]],this},s.default.prototype.directionalLight=function(l,m,g,y,b,d){this._assert3d("directionalLight"),s.default._validateParameters("directionalLight",arguments),l=l instanceof s.default.Color?l:this.color(l,m,g);var p,h,m=arguments[arguments.length-1],g=typeof m=="number"?(p=arguments[arguments.length-3],h=arguments[arguments.length-2],arguments[arguments.length-1]):(p=m.x,h=m.y,m.z),m=Math.sqrt(p*p+h*h+g*g);return this._renderer.directionalLightDirections.push(p/m,h/m,g/m),this._renderer.directionalLightDiffuseColors.push(l._array[0],l._array[1],l._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},s.default.prototype.pointLight=function(l,g,m,y,b,d){this._assert3d("pointLight"),s.default._validateParameters("pointLight",arguments),l=l instanceof s.default.Color?l:this.color(l,g,m);var p,h,g=arguments[arguments.length-1],m=typeof g=="number"?(p=arguments[arguments.length-3],h=arguments[arguments.length-2],arguments[arguments.length-1]):(p=g.x,h=g.y,g.z);return this._renderer.pointLightPositions.push(p,h,m),this._renderer.pointLightDiffuseColors.push(l._array[0],l._array[1],l._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},s.default.prototype.imageLight=function(l){this._renderer.activeImageLight=l,this._renderer._enableLighting=!0},s.default.prototype.panorama=function(l){this.filter(this._renderer._getSphereMapping(l))},s.default.prototype.lights=function(){this._assert3d("lights");var l=this.color("rgb(128,128,128)");return this.ambientLight(l),this.directionalLight(l,0,0,-1),this},s.default.prototype.lightFalloff=function(l,a,c){return this._assert3d("lightFalloff"),s.default._validateParameters("lightFalloff",arguments),l<0&&(l=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),a<0&&(a=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),c<0&&(c=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),l===0&&a===0&&c===0&&(l=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=l,this._renderer.linearAttenuation=a,this._renderer.quadraticAttenuation=c,this},s.default.prototype.spotLight=function(l,a,c,y,b,d,p,h,g,m,f){this._assert3d("spotLight"),s.default._validateParameters("spotLight",arguments);var v,_,x,S=arguments.length;switch(S){case 11:case 10:v=this.color(l,a,c),_=new s.default.Vector(y,b,d),x=new s.default.Vector(p,h,g);break;case 9:l instanceof s.default.Color?(v=l,_=new s.default.Vector(a,c,y),x=new s.default.Vector(b,d,p),m=h,f=g):y instanceof s.default.Vector?(v=this.color(l,a,c),_=y,x=new s.default.Vector(b,d,p),m=h,f=g):p instanceof s.default.Vector?(v=this.color(l,a,c),_=new s.default.Vector(y,b,d),x=p,m=h,f=g):(v=this.color(l,a,c),_=new s.default.Vector(y,b,d),x=new s.default.Vector(p,h,g));break;case 8:m=(x=l instanceof s.default.Color?(v=l,_=new s.default.Vector(a,c,y),new s.default.Vector(b,d,p)):y instanceof s.default.Vector?(v=this.color(l,a,c),_=y,new s.default.Vector(b,d,p)):(v=this.color(l,a,c),_=new s.default.Vector(y,b,d),p),h);break;case 7:l instanceof s.default.Color&&a instanceof s.default.Vector?(v=l,_=a,x=new s.default.Vector(c,y,b),m=d,f=p):l instanceof s.default.Color&&b instanceof s.default.Vector?(v=l,_=new s.default.Vector(a,c,y),x=b,m=d,f=p):y instanceof s.default.Vector&&b instanceof s.default.Vector?(v=this.color(l,a,c),_=y,x=b,m=d,f=p):x=l instanceof s.default.Color?(v=l,_=new s.default.Vector(a,c,y),new s.default.Vector(b,d,p)):y instanceof s.default.Vector?(v=this.color(l,a,c),_=y,new s.default.Vector(b,d,p)):(v=this.color(l,a,c),_=new s.default.Vector(y,b,d),p);break;case 6:y instanceof s.default.Vector&&b instanceof s.default.Vector?(v=this.color(l,a,c),_=y,x=b,m=d):l instanceof s.default.Color&&b instanceof s.default.Vector?(v=l,_=new s.default.Vector(a,c,y),x=b,m=d):l instanceof s.default.Color&&a instanceof s.default.Vector&&(v=l,_=a,x=new s.default.Vector(c,y,b),m=d);break;case 5:l instanceof s.default.Color&&a instanceof s.default.Vector&&c instanceof s.default.Vector?(v=l,_=a,x=c,m=y,f=b):y instanceof s.default.Vector&&b instanceof s.default.Vector?(v=this.color(l,a,c),_=y,x=b):l instanceof s.default.Color&&b instanceof s.default.Vector?(v=l,_=new s.default.Vector(a,c,y),x=b):l instanceof s.default.Color&&a instanceof s.default.Vector&&(v=l,_=a,x=new s.default.Vector(c,y,b));break;case 4:v=l,_=a,x=c,m=y;break;case 3:v=l,_=a,x=c;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(S<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(v._array[0],v._array[1],v._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(_.x,_.y,_.z),x.normalize(),this._renderer.spotLightDirections.push(x.x,x.y,x.z),m===void 0&&(m=Math.PI/3),f!==void 0&&f<1?(f=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):f===void 0&&(f=100),m=this._renderer._pInst._toRadians(m),this._renderer.spotLightAngle.push(Math.cos(m)),this._renderer.spotLightConc.push(f),this._renderer._enableLighting=!0,this},s.default.prototype.noLights=function(){this._assert3d("noLights");for(var l=arguments.length,a=new Array(l),c=0;c<l;c++)a[c]=arguments[c];return s.default._validateParameters("noLights",a),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},t=s.default,u.default=t},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(t,i,u){"use strict";function s(m){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t("regenerator-runtime/runtime");var l=(g=t("../core/main"))&&g.__esModule?g:{default:g};function a(m){return function(f){if(Array.isArray(f)){for(var v=0,_=new Array(f.length);v<f.length;v++)_[v]=f[v];return _}}(m)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(m,f,v,_,x,S,j){try{var T=m[S](j),C=T.value}catch(M){return void v(M)}T.done?f(C):Promise.resolve(C).then(_,x)}function y(m){return function(){var f=this,v=arguments;return new Promise(function(_,x){var S=m.apply(f,v);function j(C){c(S,_,x,j,T,"next",C)}function T(C){c(S,_,x,j,T,"throw",C)}j(void 0)})}}function b(m){return(b=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(f){return s(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":s(f)})(m)}function d(m,f,v){for(var _=2<arguments.length&&v!==void 0?v:{},x={v:[],vt:[],vn:[]},S={},j=null,T=new Set,C=!1,M=!1,k=0;k<f.length;++k){var A=f[k].trim().split(/\b\s+/);if(0<A.length){if(A[0]==="usemtl")j=A[1];else if(A[0]==="v"||A[0]==="vn"){var P=new l.default.Vector(parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3]));x[A[0]].push(P)}else if(A[0]==="vt")P=[parseFloat(A[1]),1-parseFloat(A[2])],x[A[0]].push(P);else if(A[0]==="f")for(var O=3;O<A.length;++O){for(var V=[],F=[1,O-1,O],R=0;R<F.length;++R){for(var z,q=A[F[R]],G=q.split("/"),W=0;W<G.length;W++)G[W]=parseInt(G[W])-1;S[q]||(S[q]={}),S[q][j]===void 0?(z=m.vertices.length,m.vertices.push(x.v[G[0]].copy()),m.uvs.push(x.vt[G[1]]?x.vt[G[1]].slice():[0,0]),m.vertexNormals.push(x.vn[G[2]]?x.vn[G[2]].copy():new l.default.Vector),S[q][j]=z,V.push(z),j&&_[j]&&_[j].diffuseColor&&T.add(x.v[G[0]])):V.push(S[q][j])}if(V[0]!==V[1]&&V[0]!==V[2]&&V[1]!==V[2])if(m.faces.push(V),j&&_[j]&&_[j].diffuseColor)for(var C=C=!0,Z=_[j].diffuseColor,ae=0;ae<V.length;ae++)m.vertexColors.push(Z[0]),m.vertexColors.push(Z[1]),m.vertexColors.push(Z[2]);else M=!0}}}if(m.vertexNormals.length===0&&m.computeNormals(),C===M)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")}function p(m,f){if(function(he){for(var ee=new DataView(he),oe=[115,111,108,105,100],fe=0;fe<5;fe++)if(function(_e,pe,ye){for(var xe=0,Re=_e.length;xe<Re;xe++)if(_e[xe]!==pe.getUint8(ye+xe,!1))return;return 1}(oe,ee,fe))return;return 1}(f)){for(var v,_,x,S,j,T,C,M=m,k=new DataView(f),A=k.getUint32(80,!0),P=!1,O=0;O<70;O++)k.getUint32(O,!1)===1129270351&&k.getUint8(O+4)===82&&k.getUint8(O+5)===61&&(P=!0,S=[],j=k.getUint8(O+6)/255,T=k.getUint8(O+7)/255,C=k.getUint8(O+8)/255);for(var V=0;V<A;V++){for(var F,R=84+50*V,z=k.getFloat32(R,!0),q=k.getFloat32(4+R,!0),G=k.getFloat32(8+R,!0),W=(P&&(F=k.getUint16(48+R,!0),x=32768&F?(v=j,_=T,C):(v=(31&F)/31,_=(F>>5&31)/31,(F>>10&31)/31)),new l.default.Vector(z,q,G)),Z=1;Z<=3;Z++){var ae=R+12*Z,ae=new l.default.Vector(k.getFloat32(ae,!0),k.getFloat32(4+ae,!0),k.getFloat32(8+ae,!0));M.vertices.push(ae),M.vertexNormals.push(W),P&&S.push(v,_,x)}M.faces.push([3*V,3*V+1,3*V+2]),M.uvs.push([0,0],[0,0],[0,0])}}else if(f=new DataView(f),"TextDecoder"in window)for(var L,D,U=m,H=new TextDecoder("utf-8").decode(f).split(`
`),X="",J=[],le=0;le<H.length;++le){for(var se=H[le].trim(),ne=se.split(" "),ce=0;ce<ne.length;++ce)ne[ce]===""&&ne.splice(ce,1);if(ne.length!==0)switch(X){case"":if(ne[0]!=="solid")return console.error(se),void console.error('Invalid state "'.concat(ne[0],'", should be "solid"'));X="solid";break;case"solid":if(ne[0]!=="facet"||ne[1]!=="normal")return console.error(se),void console.error('Invalid state "'.concat(ne[0],'", should be "facet normal"'));L=new l.default.Vector(parseFloat(ne[2]),parseFloat(ne[3]),parseFloat(ne[4])),U.vertexNormals.push(L,L,L),X="facet normal";break;case"facet normal":if(ne[0]!=="outer"||ne[1]!=="loop")return console.error(se),void console.error('Invalid state "'.concat(ne[0],'", should be "outer loop"'));X="vertex";break;case"vertex":if(ne[0]==="vertex")D=new l.default.Vector(parseFloat(ne[1]),parseFloat(ne[2]),parseFloat(ne[3])),U.vertices.push(D),U.uvs.push([0,0]),J.push(U.vertices.indexOf(D));else{if(ne[0]!=="endloop")return console.error(se),void console.error('Invalid state "'.concat(ne[0],'", should be "vertex" or "endloop"'));U.faces.push(J),J=[],X="endloop"}break;case"endloop":if(ne[0]!=="endfacet")return console.error(se),void console.error('Invalid state "'.concat(ne[0],'", should be "endfacet"'));X="endfacet";break;case"endfacet":if(ne[0]!=="endsolid"){if(ne[0]!=="facet"||ne[1]!=="normal")return console.error(se),void console.error('Invalid state "'.concat(ne[0],'", should be "endsolid" or "facet normal"'));L=new l.default.Vector(parseFloat(ne[2]),parseFloat(ne[3]),parseFloat(ne[4])),U.vertexNormals.push(L,L,L),X="facet normal"}break;default:console.error('Invalid state "'.concat(X,'"'))}}else console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)")}t("./p5.Geometry"),l.default.prototype.loadModel=function(m,f){l.default._validateParameters("loadModel",arguments);var v,_,x=!1,S=!1,j=!1,T=m.slice(-4),C=(f&&b(f)==="object"?(x=f.normalize||!1,v=f.successCallback,_=f.failureCallback,T=f.fileType||T,S=f.flipU||!1,j=f.flipV||!1):typeof f=="boolean"?(x=f,v=arguments[2],_=arguments[3],arguments[4]!==void 0&&(T=arguments[4])):(v=typeof f=="function"?f:void 0,_=arguments[2],arguments[3]!==void 0&&(T=arguments[3])),new l.default.Geometry),M=(C.gid="".concat(m,"|").concat(x),this);function k(){return(k=y(regeneratorRuntime.mark(function P(O){var V,F,R,z;return regeneratorRuntime.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:for(V=[],F=0;F<O.length;F++)(R=O[F].match(/^mtllib (.+)/))&&function(){var G="",W=R[1],Z=m.split("/");G=1<Z.length?(Z.pop(),Z.join("/")+"/"+W):W,V.push(function(){return A.apply(this,arguments)}(G).then(function(ae){return ae?(L=M,D=G,new Promise(function(U,H){var X=null,J={};L.loadStrings(D,function(le){for(var se=0;se<le.length;++se){var ne,ce=le[se].trim().split(/\s+/);ce[0]==="newmtl"?(ne=ce[1],J[X=ne]={}):ce[0]==="Kd"?J[X].diffuseColor=[parseFloat(ce[1]),parseFloat(ce[2]),parseFloat(ce[3])]:ce[0]==="Ka"?J[X].ambientColor=[parseFloat(ce[1]),parseFloat(ce[2]),parseFloat(ce[3])]:ce[0]==="Ks"?J[X].specularColor=[parseFloat(ce[1]),parseFloat(ce[2]),parseFloat(ce[3])]:ce[0]==="map_Kd"&&(J[X].texturePath=ce[1])}U(J)},H)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(G)),{});var L,D}).catch(function(ae){return console.warn("Error loading MTL file: ".concat(G),ae),{}}))}();return q.prev=2,q.next=5,Promise.all(V);case 5:return z=q.sent,z=Object.assign.apply(Object,[{}].concat(a(z))),q.abrupt("return",z);case 10:return q.prev=10,q.t0=q.catch(2),q.abrupt("return",{});case 13:case"end":return q.stop()}},P,null,[[2,10]])}))).apply(this,arguments)}function A(){return(A=y(regeneratorRuntime.mark(function P(O){var V;return regeneratorRuntime.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.prev=0,F.next=3,fetch(O,{method:"HEAD"});case 3:return V=F.sent,F.abrupt("return",V.ok);case 7:return F.prev=7,F.t0=F.catch(0),F.abrupt("return",!1);case 10:case"end":return F.stop()}},P,null,[[0,7]])}))).apply(this,arguments)}return T.match(/\.stl$/i)?this.httpDo(m,"GET","arrayBuffer",function(P){p(C,P),x&&C.normalize(),S&&C.flipU(),j&&C.flipV(),M._decrementPreload(),typeof v=="function"&&v(C)},_):T.match(/\.obj$/i)?this.loadStrings(m,function(){var P=y(regeneratorRuntime.mark(function O(V){var F;return regeneratorRuntime.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.prev=0,R.next=3,function(){return k.apply(this,arguments)}(V);case 3:F=R.sent,d(C,V,F),R.next=11;break;case 7:return R.prev=7,R.t0=R.catch(0),_?_(R.t0):l.default._friendlyError("Error during parsing: "+R.t0.message),R.abrupt("return");case 11:return R.prev=11,x&&C.normalize(),S&&C.flipU(),j&&C.flipV(),C._makeTriangleEdges(),M._decrementPreload(),typeof v=="function"&&v(C),R.finish(11);case 19:case"end":return R.stop()}},O,null,[[0,7,11,19]])}));return function(O){return P.apply(this,arguments)}}(),_):(l.default._friendlyFileLoadError(3,m),_?_():l.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),C},l.default.prototype.model=function(m){this._assert3d("model"),l.default._validateParameters("model",arguments),0<m.vertices.length&&(this._renderer.geometryInHash(m.gid)||(m._edgesToVertices(),this._renderer.createBuffers(m.gid,m)),this._renderer.drawBuffers(m.gid))};var h=0,g=(l.default.prototype.createModel=function(m){var f,v,_=1<arguments.length&&arguments[1]!==void 0?arguments[1]:" ",T=2<arguments.length?arguments[2]:void 0,x=(l.default._validateParameters("createModel",arguments),!1),S=!1,j=!1,T=(T&&b(T)==="object"?(x=T.normalize||!1,f=T.successCallback,v=T.failureCallback,S=T.flipU||!1,j=T.flipV||!1):v=typeof T=="boolean"?(x=T,f=arguments[3],arguments[4]):(f=typeof arguments[2]=="function"?arguments[2]:void 0,arguments[3]),new l.default.Geometry);if(T.gid="".concat(_,"|").concat(x,"|").concat(h++),_.match(/\.stl$/i))try{p(T,new TextEncoder().encode(m).buffer)}catch(C){return void(v?v(C):l.default._friendlyError("Error during parsing: "+C.message))}else if(_.match(/\.obj$/i))try{d(T,m.split(`
`))}catch(C){return void(v?v(C):l.default._friendlyError("Error during parsing: "+C.message))}else l.default._friendlyFileLoadError(3,m),v?v():l.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.");return x&&T.normalize(),S&&T.flipU(),j&&T.flipV(),T._makeTriangleEdges(),typeof f=="function"&&f(T),T},l.default);u.default=g},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(t,i,u){"use strict";function s(d){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}function l(d){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(p){return s(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":s(p)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=(b=t("../core/main"))&&b.__esModule?b:{default:b},c=function(d){if(d&&d.__esModule)return d;if(d===null||l(d)!=="object"&&typeof d!="function")return{default:d};var p=y();if(p&&p.has(d))return p.get(d);var h,g={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in d){var f;Object.prototype.hasOwnProperty.call(d,h)&&((f=m?Object.getOwnPropertyDescriptor(d,h):null)&&(f.get||f.set)?Object.defineProperty(g,h,f):g[h]=d[h])}return g.default=d,p&&p.set(d,g),g}(t("../core/constants"));function y(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,y=function(){return d},d)}t("./p5.Texture"),a.default.prototype.loadShader=function(d,p,h,g){a.default._validateParameters("loadShader",arguments),g=g||console.error;function m(){v._decrementPreload(),h&&h(f)}var f=new a.default.Shader,v=this,_=!1,x=!1;return this.loadStrings(d,function(S){f._vertSrc=S.join(`
`),x=!0,_&&m()},g),this.loadStrings(p,function(S){f._fragSrc=S.join(`
`),_=!0,x&&m()},g),f},a.default.prototype.createShader=function(d,p,h){return a.default._validateParameters("createShader",arguments),new a.default.Shader(this._renderer,d,p,h)},a.default.prototype.createFilterShader=function(d){a.default._validateParameters("createFilterShader",arguments);var p=d.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,p=new a.default.Shader(this._renderer,p,d);return this._renderer.GL?p.ensureCompiledOnContext(this):p.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),p},a.default.prototype.shader=function(d){return this._assert3d("shader"),a.default._validateParameters("shader",arguments),d.ensureCompiledOnContext(this),d.isStrokeShader()?this._renderer.userStrokeShader=d:(this._renderer.userFillShader=d,this._renderer._useNormalMaterial=!1),d.setDefaultUniforms(),this},a.default.prototype.baseMaterialShader=function(){return this._assert3d("baseMaterialShader"),this._renderer.baseMaterialShader()},a.default.prototype.baseNormalShader=function(){return this._assert3d("baseNormalShader"),this._renderer.baseNormalShader()},a.default.prototype.baseColorShader=function(){return this._assert3d("baseColorShader"),this._renderer.baseColorShader()},a.default.prototype.baseStrokeShader=function(){return this._assert3d("baseStrokeShader"),this._renderer.baseStrokeShader()},a.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},a.default.prototype.texture=function(d){return this._assert3d("texture"),a.default._validateParameters("texture",arguments),d.gifProperties&&d._animateGif(this),this._renderer.drawMode=c.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=d,this._renderer._setProperty("_doFill",!0),this},a.default.prototype.textureMode=function(d){d!==c.IMAGE&&d!==c.NORMAL?console.warn("You tried to set ".concat(d," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=d},a.default.prototype.textureWrap=function(d){var p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:d,h=(this._renderer.textureWrapX=d,this._renderer.textureWrapY=p,!0),g=!1,m=void 0;try{for(var f,v=this._renderer.textures.values()[Symbol.iterator]();!(h=(f=v.next()).done);h=!0)f.value.setWrapMode(d,p)}catch(_){g=!0,m=_}finally{try{h||v.return==null||v.return()}finally{if(g)throw m}}},a.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var d=arguments.length,p=new Array(d),h=0;h<d;h++)p[h]=arguments[h];return a.default._validateParameters("normalMaterial",p),this._renderer.drawMode=c.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},a.default.prototype.ambientMaterial=function(d,p,h){this._assert3d("ambientMaterial"),a.default._validateParameters("ambientMaterial",arguments);var g=a.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=g._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},a.default.prototype.emissiveMaterial=function(d,p,h,g){this._assert3d("emissiveMaterial"),a.default._validateParameters("emissiveMaterial",arguments);var m=a.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=m._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},a.default.prototype.specularMaterial=function(d,p,h,g){this._assert3d("specularMaterial"),a.default._validateParameters("specularMaterial",arguments);var m=a.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=m._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},a.default.prototype.shininess=function(d){return this._assert3d("shininess"),a.default._validateParameters("shininess",arguments),this._renderer._useShininess=d=d<1?1:d,this},a.default.prototype.metalness=function(d){return this._assert3d("metalness"),d=1-Math.exp(-d/100),this._renderer._useMetalness=d,this},a.default.RendererGL.prototype._applyColorBlend=function(d,m){var h=this.GL,g=this.drawMode===c.TEXTURE,m=m||this.userFillShader||this.userStrokeShader||this.userPointShader||g||this.curBlendMode!==c.BLEND||d[d.length-1]<1||this._isErasing;return m!==this._isBlending&&(m||this.curBlendMode!==c.BLEND&&this.curBlendMode!==c.ADD?h.enable(h.BLEND):h.disable(h.BLEND),h.depthMask(!0),this._isBlending=m),this._applyBlendMode(),d},a.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var d=this.GL;switch(this.curBlendMode){case c.BLEND:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ONE,d.ONE_MINUS_SRC_ALPHA);break;case c.ADD:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ONE,d.ONE);break;case c.REMOVE:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ZERO,d.ONE_MINUS_SRC_ALPHA);break;case c.MULTIPLY:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.DST_COLOR,d.ONE_MINUS_SRC_ALPHA);break;case c.SCREEN:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ONE,d.ONE_MINUS_SRC_COLOR);break;case c.EXCLUSION:d.blendEquationSeparate(d.FUNC_ADD,d.FUNC_ADD),d.blendFuncSeparate(d.ONE_MINUS_DST_COLOR,d.ONE_MINUS_SRC_COLOR,d.ONE,d.ONE);break;case c.REPLACE:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ONE,d.ZERO);break;case c.SUBTRACT:d.blendEquationSeparate(d.FUNC_REVERSE_SUBTRACT,d.FUNC_ADD),d.blendFuncSeparate(d.ONE,d.ONE,d.ONE,d.ONE_MINUS_SRC_ALPHA);break;case c.DARKEST:this.blendExt?(d.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,d.FUNC_ADD),d.blendFuncSeparate(d.ONE,d.ONE,d.ONE,d.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case c.LIGHTEST:this.blendExt?(d.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,d.FUNC_ADD),d.blendFuncSeparate(d.ONE,d.ONE,d.ONE,d.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var b=a.default;u.default=b},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(t,i,u){"use strict";t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(a,c){for(var y=0;y<c.length;y++){var b=c[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(a,b.key,b)}}s.default.prototype.camera=function(){var a;this._assert3d("camera");for(var c=arguments.length,y=new Array(c),b=0;b<c;b++)y[b]=arguments[b];return s.default._validateParameters("camera",y),(a=this._renderer._curCamera).camera.apply(a,y),this},s.default.prototype.perspective=function(){var a;this._assert3d("perspective");for(var c=arguments.length,y=new Array(c),b=0;b<c;b++)y[b]=arguments[b];return s.default._validateParameters("perspective",y),(a=this._renderer._curCamera).perspective.apply(a,y),this},s.default.prototype.linePerspective=function(a){if(s.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof s.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(a===void 0)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=a},s.default.prototype.ortho=function(){var a;this._assert3d("ortho");for(var c=arguments.length,y=new Array(c),b=0;b<c;b++)y[b]=arguments[b];return s.default._validateParameters("ortho",y),(a=this._renderer._curCamera).ortho.apply(a,y),this},s.default.prototype.frustum=function(){var a;this._assert3d("frustum");for(var c=arguments.length,y=new Array(c),b=0;b<c;b++)y[b]=arguments[b];return s.default._validateParameters("frustum",y),(a=this._renderer._curCamera).frustum.apply(a,y),this},s.default.prototype.createCamera=function(){this._assert3d("createCamera");var a=new s.default.Camera(this._renderer);return a._computeCameraDefaultSettings(),a._setDefaultCamera(),this._renderer._curCamera=a},s.default.Camera=function(){function a(d){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._renderer=d,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new s.default.Matrix,this.projMatrix=new s.default.Matrix,this.yScale=1}var c,y,b;return c=a,(y=[{key:"perspective",value:function(m,p,h,g){this.cameraType=0<arguments.length?"custom":"default",m===void 0?(m=this.defaultCameraFOV,this.cameraFOV=m):this.cameraFOV=this._renderer._pInst._toRadians(m),p===void 0&&(p=this.defaultAspectRatio),h===void 0&&(h=this.defaultCameraNear),g===void 0&&(g=this.defaultCameraFar),h<=1e-4&&(h=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),g<h&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=p,this.cameraNear=h,this.cameraFar=g,this.projMatrix=s.default.Matrix.identity();var m=1/Math.tan(this.cameraFOV/2),f=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(m/p,0,0,0,0,-m*this.yScale,0,0,0,0,(g+h)*f,-1,0,0,2*g*h*f,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(C,T,h,g,m,f){var M=this.fbo||this._renderer,M=(C===void 0&&(C=-M.width/2),T===void 0&&(T=+M.width/2),h===void 0&&(h=-M.height/2),g===void 0&&(g=+M.height/2),m===void 0&&(m=0),f===void 0&&(f=Math.max(M.width,M.height)+800),this.cameraNear=m,T-C),v=g-h,_=(this.cameraFar=f)-m,x=2/M,S=2/v*this.yScale,j=-2/_,T=-(T+C)/M,C=-(g+h)/v,M=-(f+m)/_;this.projMatrix=s.default.Matrix.identity(),this.projMatrix.set(x,0,0,0,0,-S,0,0,0,0,j,0,T,C,M,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(C,T,h,g,m,f){C===void 0&&(C=.05*-this._renderer.width),T===void 0&&(T=.05*+this._renderer.width),h===void 0&&(h=.05*+this._renderer.height),g===void 0&&(g=.05*-this._renderer.height),m===void 0&&(m=this.defaultCameraNear),f===void 0&&(f=this.defaultCameraFar),this.cameraNear=m;var M=T-C,v=g-h,_=(this.cameraFar=f)-m,x=2*m/M,S=2*m/v*this.yScale,j=-2*f*m/_,T=(T+C)/M,C=(g+h)/v,M=-(f+m)/_;this.projMatrix=s.default.Matrix.identity(),this.projMatrix.set(x,0,0,0,0,-S,0,0,T,C,M,-1,0,0,j,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(x,p,h,g){var m=this.centerX,f=this.centerY,v=this.centerZ,_=(m-=this.eyeX,f-=this.eyeY,v-=this.eyeZ,s.default.Matrix.identity(this._renderer._pInst)),x=(_.rotate(this._renderer._pInst._toRadians(x),p,h,g),[m*_.mat4[0]+f*_.mat4[4]+v*_.mat4[8],m*_.mat4[1]+f*_.mat4[5]+v*_.mat4[9],m*_.mat4[2]+f*_.mat4[6]+v*_.mat4[10]]);x[0]+=this.eyeX,x[1]+=this.eyeY,x[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,x[0],x[1],x[2],this.upX,this.upY,this.upZ)}},{key:"roll",value:function(h){var p=this._getLocalAxes(),h=s.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(h),p.z[0],p.z[1],p.z[2]).rotateVector(new s.default.Vector(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,h.x,h.y,h.z)}},{key:"pan",value:function(d){var p=this._getLocalAxes();this._rotateView(d,p.y[0],p.y[1],p.y[2])}},{key:"tilt",value:function(d){var p=this._getLocalAxes();this._rotateView(d,p.x[0],p.x[1],p.x[2])}},{key:"lookAt",value:function(d,p,h){this.camera(this.eyeX,this.eyeY,this.eyeZ,d,p,h,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(d,p,h,g,m,f,v,_,x){return d===void 0&&(d=this.defaultEyeX,p=this.defaultEyeY,h=this.defaultEyeZ,g=d,m=p,_=1,x=v=f=0),this.eyeX=d,this.eyeY=p,this.eyeZ=h,g!==void 0&&(this.centerX=g,this.centerY=m,this.centerZ=f),v!==void 0&&(this.upX=v,this.upY=_,this.upZ=x),g=this._getLocalAxes(),this.cameraMatrix.set(g.x[0],g.y[0],g.z[0],0,g.x[1],g.y[1],g.z[1],0,g.x[2],g.y[2],g.z[2],0,0,0,0,1),m=-d,this.cameraMatrix.translate([m,-p,-h]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(g,m,h){var f=this._getLocalAxes(),g=[f.x[0]*g,f.x[1]*g,f.x[2]*g],m=[f.y[0]*m,f.y[1]*m,f.y[2]*m],f=[f.z[0]*h,f.z[1]*h,f.z[2]*h];this.camera(this.eyeX+g[0]+m[0]+f[0],this.eyeY+g[1]+m[1]+f[1],this.eyeZ+g[2]+m[2]+f[2],this.centerX+g[0]+m[0]+f[0],this.centerY+g[1]+m[1]+f[1],this.centerZ+g[2]+m[2]+f[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(d,p,h){var g=d-this.eyeX,m=p-this.eyeY,f=h-this.eyeZ;this.camera(d,p,h,this.centerX+g,this.centerY+m,this.centerZ+f,this.upX,this.upY,this.upZ)}},{key:"set",value:function(d){for(var p=0,h=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale","useLinePerspective"];p<h.length;p++){var g=h[p];this[g]=d[g]}this.cameraMatrix=d.cameraMatrix.copy(),this.projMatrix=d.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(d,p,h){var g,m,f,v,_,x,S,j,T,C,M,k,A,P,O,V,F,R;h===0?this.set(d):h===1?this.set(p):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=d.projMatrix.mat4[0]*Math.pow(p.projMatrix.mat4[0]/d.projMatrix.mat4[0],h),this.projMatrix.mat4[5]=d.projMatrix.mat4[5]*Math.pow(p.projMatrix.mat4[5]/d.projMatrix.mat4[5],h),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),v=new s.default.Vector(d.eyeX,d.eyeY,d.eyeZ),_=new s.default.Vector(p.eyeX,p.eyeY,p.eyeZ),V=new s.default.Vector(d.centerX,d.centerY,d.centerZ),R=new s.default.Vector(p.centerX,p.centerY,p.centerZ),f=s.default.Vector.dist(v,V),g=s.default.Vector.dist(_,R),g=f*Math.pow(g/f,h),f=s.default.Vector.sub(v,_),m=1,1e-6<(F=(P=v.copy().sub(_).sub(V).add(R)).magSq())&&(m=s.default.Vector.dot(f,P)/F,m=Math.max(0,Math.min(m,1))),f=s.default.Vector.lerp(s.default.Vector.lerp(v,V,m),s.default.Vector.lerp(_,R,m),h),P=d.cameraMatrix.createSubMatrix3x3(),F=p.cameraMatrix.createSubMatrix3x3(),v=P.row(2),V=F.row(2),_=P.row(1),R=F.row(1),d=new s.default.Vector,p=new s.default.Vector,x=new s.default.Vector,S=new s.default.Vector,1-(j=.5*((P=(F=F.mult3x3(P.copy().transpose3x3())).diagonal())[0]+P[1]+P[2]-1))<1e-7?(d.set(s.default.Vector.lerp(v,V,h)).normalize(),x.set(d).mult(m*g).add(f),S.set(d).mult((m-1)*g).add(f),p.set(s.default.Vector.lerp(_,R,h)).normalize()):(V=1/(1-j),R=Math.max(P[0],P[1],P[2]),k=F.mat3[1]+F.mat3[3],A=F.mat3[2]+F.mat3[6],O=F.mat3[5]+F.mat3[7],R=R===P[0]?(C=.5*k*(V/=T=Math.sqrt((P[0]-j)*V)),M=.5*A*V,.5*(F.mat3[7]-F.mat3[5])/T):R===P[1]?(M=.5*O*(V/=C=Math.sqrt((P[1]-j)*V)),T=.5*k*V,.5*(F.mat3[2]-F.mat3[6])/C):(T=.5*A*(V/=M=Math.sqrt((P[2]-j)*V)),C=.5*O*V,.5*(F.mat3[3]-F.mat3[1])/M),k=h*Math.atan2(R,j),A=Math.cos(k),P=Math.sin(k),(R=new s.default.Matrix("mat3",[A+(O=1-A)*T*T,O*(V=T*C)+P*M,O*(F=M*T)-P*C,O*V-P*M,A+O*C*C,O*(h=C*M)+P*T,O*F+P*C,O*h-P*T,A+O*M*M])).multiplyVec3(v,d),x.set(d).mult(m*g).add(f),S.set(d).mult((m-1)*g).add(f),R.multiplyVec3(_,p)),this.camera(x.x,x.y,x.z,S.x,S.y,S.z,p.x,p.y,p.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var d=new s.default.Camera(this._renderer);return d.cameraFOV=this.cameraFOV,d.aspectRatio=this.aspectRatio,d.eyeX=this.eyeX,d.eyeY=this.eyeY,d.eyeZ=this.eyeZ,d.centerX=this.centerX,d.centerY=this.centerY,d.centerZ=this.centerZ,d.upX=this.upX,d.upY=this.upY,d.upZ=this.upZ,d.cameraNear=this.cameraNear,d.cameraFar=this.cameraFar,d.cameraType=this.cameraType,d.useLinePerspective=this.useLinePerspective,d.cameraMatrix=this.cameraMatrix.copy(),d.projMatrix=this.projMatrix.copy(),d.yScale=this.yScale,d}},{key:"_getLocalAxes",value:function(){var d=this.eyeX-this.centerX,p=this.eyeY-this.centerY,h=this.eyeZ-this.centerZ,v=Math.sqrt(d*d+p*p+h*h),v=(v!==0&&(d/=v,p/=v,h/=v),this.upX),g=(_=this.upY)*h-(x=this.upZ)*p,m=-v*h+x*d,f=v*p-_*d,v=p*f-h*m,_=-d*f+h*g,x=d*m-p*g,S=Math.sqrt(g*g+m*m+f*f),S=(S!==0&&(g/=S,m/=S,f/=S),Math.sqrt(v*v+_*_+x*x));return S!==0&&(v/=S,_/=S,x/=S),{x:[g,m,f],y:[v,_,x],z:[d,p,h]}}},{key:"_orbit",value:function(d,S,x){var m=this.eyeX-this.centerX,f=this.eyeY-this.centerY,v=this.eyeZ-this.centerZ,g=Math.hypot(m,f,v),m=new s.default.Vector(m,f,v).normalize(),f=new s.default.Vector(this.upX,this.upY,this.upZ).normalize(),v=s.default.Vector.cross(f,m).normalize(),_=s.default.Vector.cross(v,f),x=((g=(g*=Math.pow(10,x))<this.cameraNear?this.cameraNear:g)>this.cameraFar&&(g=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,s.default.Vector.dot(m,f))))+S),S=d;(x<=0||x>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),f.mult(Math.cos(x)),_.mult(Math.cos(S)*Math.sin(x)),v.mult(Math.sin(S)*Math.sin(x)),m.set(f).add(_).add(v),this.eyeX=g*m.x+this.centerX,this.eyeY=g*m.y+this.centerY,this.eyeZ=g*m.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(x,S,T){var m=this.eyeX-this.centerX,f=this.eyeY-this.centerY,v=this.eyeZ-this.centerZ,g=Math.hypot(m,f,v),m=new s.default.Vector(m,f,v).normalize(),f=new s.default.Vector(this.upX,this.upY,this.upZ),v=s.default.Vector.cross(f,m).normalize(),_=s.default.Vector.cross(m,v),C=Math.atan2(S,x),C=(_.mult(Math.sin(C)),v.mult(Math.cos(C)).add(_),Math.sqrt(x*x+S*S)),_=s.default.Vector.cross(m,v),x=((g=(g*=Math.pow(10,T))<this.cameraNear?this.cameraNear:g)>this.cameraFar&&(g=this.cameraFar),Math.cos(C)),S=Math.sin(C),T=f.dot(m),C=f.dot(v),j=T*x+C*S,T=-T*S+C*x,C=f.dot(_);f.x=j*m.x+T*v.x+C*_.x,f.y=j*m.y+T*v.y+C*_.y,f.z=j*m.z+T*v.z+C*_.z,v.mult(-S),m.mult(x).add(v).mult(g),this.camera(m.x+this.centerX,m.y+this.centerY,m.z+this.centerZ,this.centerX,this.centerY,this.centerZ,f.x,f.y,f.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&l(c.prototype,y),b&&l(c,b),a}(),s.default.prototype.setCamera=function(a){this._renderer._curCamera=a,this._renderer.uPMatrix.set(a.projMatrix),this._renderer.uViewMatrix.set(a.cameraMatrix)},t=s.default.Camera,u.default=t},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(t,i,u){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(l,a){for(var c=0;c<a.length;c++){var y=a[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(l,y.key,y)}}t.default.DataArray=function(){function l(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,d=this,p=l;if(!(d instanceof p))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(b),this.initialLength=b}var a,c,y;return a=l,(c=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var b;this.length<this.data.length/2&&(b=1<<Math.ceil(Math.log2(this.length)),(b=new Float32Array(b)).set(this.data.subarray(0,this.length),0),this.data=b)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var b=arguments.length,d=new Array(b),p=0;p<b;p++)d[p]=arguments[p];this.ensureLength(this.length+d.length),this.data.set(d,this.length),this.length+=d.length}},{key:"slice",value:function(b,d){return this.data.slice(b,Math.min(d,this.length))}},{key:"subArray",value:function(b,d){return this.data.subarray(b,Math.min(d,this.length))}},{key:"ensureLength",value:function(b){for(;this.data.length<b;){var d=new Float32Array(2*this.data.length);d.set(this.data,0),this.data=d}}}])&&s(a.prototype,c),y&&s(a,y),l}(),t=t.default.DataArray,u.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(M,i,u){"use strict";function s(k){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(k)}function l(k){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(A){return s(A)}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":s(A)})(k)}M("core-js/modules/es.symbol"),M("core-js/modules/es.symbol.description"),M("core-js/modules/es.symbol.iterator"),M("core-js/modules/es.array.fill"),M("core-js/modules/es.array.includes"),M("core-js/modules/es.array.iterator"),M("core-js/modules/es.object.get-own-property-descriptor"),M("core-js/modules/es.object.get-prototype-of"),M("core-js/modules/es.object.to-string"),M("core-js/modules/es.reflect.construct"),M("core-js/modules/es.reflect.get"),M("core-js/modules/es.regexp.to-string"),M("core-js/modules/es.string.includes"),M("core-js/modules/es.string.iterator"),M("core-js/modules/es.typed-array.float32-array"),M("core-js/modules/es.typed-array.uint8-array"),M("core-js/modules/es.typed-array.uint8-clamped-array"),M("core-js/modules/es.typed-array.copy-within"),M("core-js/modules/es.typed-array.every"),M("core-js/modules/es.typed-array.fill"),M("core-js/modules/es.typed-array.filter"),M("core-js/modules/es.typed-array.find"),M("core-js/modules/es.typed-array.find-index"),M("core-js/modules/es.typed-array.for-each"),M("core-js/modules/es.typed-array.includes"),M("core-js/modules/es.typed-array.index-of"),M("core-js/modules/es.typed-array.iterator"),M("core-js/modules/es.typed-array.join"),M("core-js/modules/es.typed-array.last-index-of"),M("core-js/modules/es.typed-array.map"),M("core-js/modules/es.typed-array.reduce"),M("core-js/modules/es.typed-array.reduce-right"),M("core-js/modules/es.typed-array.reverse"),M("core-js/modules/es.typed-array.set"),M("core-js/modules/es.typed-array.slice"),M("core-js/modules/es.typed-array.some"),M("core-js/modules/es.typed-array.sort"),M("core-js/modules/es.typed-array.subarray"),M("core-js/modules/es.typed-array.to-locale-string"),M("core-js/modules/es.typed-array.to-string"),M("core-js/modules/es.weak-map"),M("core-js/modules/web.dom-collections.iterator"),M("core-js/modules/es.array.fill"),M("core-js/modules/es.array.includes"),M("core-js/modules/es.array.iterator"),M("core-js/modules/es.object.get-prototype-of"),M("core-js/modules/es.object.to-string"),M("core-js/modules/es.string.includes"),M("core-js/modules/es.typed-array.float32-array"),M("core-js/modules/es.typed-array.uint8-array"),M("core-js/modules/es.typed-array.uint8-clamped-array"),M("core-js/modules/es.typed-array.copy-within"),M("core-js/modules/es.typed-array.every"),M("core-js/modules/es.typed-array.fill"),M("core-js/modules/es.typed-array.filter"),M("core-js/modules/es.typed-array.find"),M("core-js/modules/es.typed-array.find-index"),M("core-js/modules/es.typed-array.for-each"),M("core-js/modules/es.typed-array.includes"),M("core-js/modules/es.typed-array.index-of"),M("core-js/modules/es.typed-array.iterator"),M("core-js/modules/es.typed-array.join"),M("core-js/modules/es.typed-array.last-index-of"),M("core-js/modules/es.typed-array.map"),M("core-js/modules/es.typed-array.reduce"),M("core-js/modules/es.typed-array.reduce-right"),M("core-js/modules/es.typed-array.reverse"),M("core-js/modules/es.typed-array.set"),M("core-js/modules/es.typed-array.slice"),M("core-js/modules/es.typed-array.some"),M("core-js/modules/es.typed-array.sort"),M("core-js/modules/es.typed-array.subarray"),M("core-js/modules/es.typed-array.to-locale-string"),M("core-js/modules/es.typed-array.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=(C=M("../core/main"))&&C.__esModule?C:{default:C},c=function(k){if(k&&k.__esModule)return k;if(k===null||l(k)!=="object"&&typeof k!="function")return{default:k};var A=d();if(A&&A.has(k))return A.get(k);var P,O={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(P in k){var F;Object.prototype.hasOwnProperty.call(k,P)&&((F=V?Object.getOwnPropertyDescriptor(k,P):null)&&(F.get||F.set)?Object.defineProperty(O,P,F):O[P]=k[P])}return O.default=k,A&&A.set(k,O),O}(M("../core/constants")),y=M("./p5.Texture"),b=M("./p5.RendererGL");function d(){var k;return typeof WeakMap!="function"?null:(k=new WeakMap,d=function(){return k},k)}function p(k,A){return function(P){if(Array.isArray(P))return P}(k)||function(P,O){if(Symbol.iterator in Object(P)||Object.prototype.toString.call(P)==="[object Arguments]"){var V=[],F=!0,R=!1,z=void 0;try{for(var q,G=P[Symbol.iterator]();!(F=(q=G.next()).done)&&(V.push(q.value),!O||V.length!==O);F=!0);}catch(W){R=!0,z=W}finally{try{F||G.return==null||G.return()}finally{if(R)throw z}}return V}}(k,A)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(k,A,P){return A in k?Object.defineProperty(k,A,{value:P,enumerable:!0,configurable:!0,writable:!0}):k[A]=P,k}function g(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function m(k,A){for(var P=0;P<A.length;P++){var O=A[P];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(k,O.key,O)}}function f(k,A,P){A&&m(k.prototype,A),P&&m(k,P)}function v(k,A,P){return(v=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(R,V,F){var R=function(z,q){for(;!Object.prototype.hasOwnProperty.call(z,q)&&(z=S(z))!==null;);return z}(R,V);if(R)return(R=Object.getOwnPropertyDescriptor(R,V)).get?R.get.call(F):R.value})(k,A,P||k)}function _(k,A){return(_=Object.setPrototypeOf||function(P,O){return P.__proto__=O,P})(k,A)}function x(k){return function(){var A,P=S(k),P=(A=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(A=S(this).constructor,Reflect.construct(P,arguments,A)):P.apply(this,arguments),this);if(!A||l(A)!=="object"&&typeof A!="function"){if(P!==void 0)return P;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return A}}function S(k){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(k)}var j=function(k){var A=O;if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(k&&k.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),k&&_(A,k);var P=x(O);function O(V){var F;return g(this,O),(F=P.call(this,V.target._renderer)).fbo=V,F.yScale=-1,F}return f(O,[{key:"_computeCameraDefaultSettings",value:function(){v(S(O.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),O}(a.default.Camera),T=(a.default.FramebufferCamera=j,function(){function k(A,P){g(this,k),this.framebuffer=A,this.property=P}return f(k,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),k}()),C=(a.default.FramebufferTexture=T,function(){function k(A){var P=this,O=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},V=(g(this,k),this.target=A,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=O.format||c.UNSIGNED_BYTE,this.channels=O.channels||(A._renderer._pInst._glAttributes.alpha?c.RGBA:c.RGB),this.useDepth=O.depth===void 0||O.depth,this.depthFormat=O.depthFormat||c.FLOAT,this.textureFiltering=O.textureFiltering||c.LINEAR,O.antialias===void 0?this.antialiasSamples=A._renderer._pInst._glAttributes.antialias?2:0:typeof O.antialias=="number"?this.antialiasSamples=O.antialias:this.antialiasSamples=O.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&A.webglVersion!==c.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=O.density||A.pixelDensity(),A._renderer.GL);if(this.gl=V,O.width&&O.height?(F=A._renderer._adjustDimensions(O.width,O.height),this.width=F.adjustedWidth,this.height=F.adjustedHeight,this._autoSized=!1):(O.width===void 0!=(O.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=A.width,this.height=A.height,this._autoSized=!0),this._checkIfFormatsAvailable(),O.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(O.stencil===void 0||O.stencil),this.framebuffer=V.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=V.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var F=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=F,this.draw(function(){return P.target.clear()})}return f(k,[{key:"resize",value:function(A,P){this._autoSized=!1;var O=this.target._renderer._adjustDimensions(A,P);A=O.adjustedWidth,P=O.adjustedHeight,this.width=A,this.height=P,this._handleResize()}},{key:"pixelDensity",value:function(A){if(!A)return this.density;this._autoSized=!1,this.density=A,this._handleResize()}},{key:"autoSized",value:function(A){if(A===void 0)return this._autoSized;this._autoSized=A,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var A=this.gl,A=(this.useDepth&&this.target.webglVersion===c.WEBGL&&!A.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===c.WEBGL&&this.depthFormat===c.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=c.UNSIGNED_INT),[c.UNSIGNED_BYTE,c.FLOAT,c.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=c.UNSIGNED_BYTE),this.useDepth&&![c.UNSIGNED_INT,c.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=c.FLOAT),(0,y.checkWebGLCapabilities)(this.target._renderer));A.float||this.format!==c.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=c.UNSIGNED_BYTE),this.useDepth&&!A.float&&this.depthFormat===c.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=c.UNSIGNED_INT),A.halfFloat||this.format!==c.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=c.UNSIGNED_BYTE),this.channels===c.RGB&&[c.FLOAT,c.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=c.RGBA)}},{key:"_recreateTextures",value:function(){var A=this.gl,P=(this._updateSize(),A.getParameter(A.TEXTURE_BINDING_2D)),O=A.getParameter(A.FRAMEBUFFER_BINDING),V=A.createTexture();if(!V)throw new Error("Unable to create color texture");A.bindTexture(A.TEXTURE_2D,V);var F=this._glColorFormat();if(A.texImage2D(A.TEXTURE_2D,0,F.internalFormat,this.width*this.density,this.height*this.density,0,F.format,F.type,null),this.colorTexture=V,A.bindFramebuffer(A.FRAMEBUFFER,this.framebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,V,0),this.useDepth){var V=A.createTexture();if(!V)throw new Error("Unable to create depth texture");var R=this._glDepthFormat();A.bindTexture(A.TEXTURE_2D,V),A.texImage2D(A.TEXTURE_2D,0,R.internalFormat,this.width*this.density,this.height*this.density,0,R.format,R.type,null),A.framebufferTexture2D(A.FRAMEBUFFER,this.useStencil?A.DEPTH_STENCIL_ATTACHMENT:A.DEPTH_ATTACHMENT,A.TEXTURE_2D,V,0),this.depthTexture=V}this.antialias&&(this.colorRenderbuffer=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.colorRenderbuffer),A.renderbufferStorageMultisample(A.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,A.getParameter(A.MAX_SAMPLES))),F.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(R=this._glDepthFormat(),this.depthRenderbuffer=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.depthRenderbuffer),A.renderbufferStorageMultisample(A.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,A.getParameter(A.MAX_SAMPLES))),R.internalFormat,this.width*this.density,this.height*this.density)),A.bindFramebuffer(A.FRAMEBUFFER,this.aaFramebuffer),A.framebufferRenderbuffer(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&A.framebufferRenderbuffer(A.FRAMEBUFFER,this.useStencil?A.DEPTH_STENCIL_ATTACHMENT:A.DEPTH_ATTACHMENT,A.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new T(this,"depthTexture"),V=A.NEAREST,this.depthP5Texture=new a.default.Texture(this.target._renderer,this.depth,{minFilter:V,magFilter:V}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new T(this,"colorTexture"),F=this.textureFiltering===c.LINEAR?A.LINEAR:A.NEAREST,this.colorP5Texture=new a.default.Texture(this.target._renderer,this.color,{minFilter:F,magFilter:F}),this.target._renderer.textures.set(this.color,this.colorP5Texture),A.bindTexture(A.TEXTURE_2D,P),A.bindFramebuffer(A.FRAMEBUFFER,O)}},{key:"_glColorFormat",value:function(){var A,P,O=this.gl,V=this.format===c.FLOAT?O.FLOAT:this.format===c.HALF_FLOAT?this.target.webglVersion===c.WEBGL2?O.HALF_FLOAT:O.getExtension("OES_texture_half_float").HALF_FLOAT_OES:O.UNSIGNED_BYTE,F=this.channels===c.RGBA?O.RGBA:O.RGB;return{internalFormat:this.target.webglVersion===c.WEBGL2?(h(P={},O.FLOAT,h({},O.RGBA,O.RGBA32F)),h(P,O.HALF_FLOAT,h({},O.RGBA,O.RGBA16F)),h(P,O.UNSIGNED_BYTE,(h(A={},O.RGBA,O.RGBA8),h(A,O.RGB,O.RGB8),A)),P[V][F]):this.format===c.HALF_FLOAT?O.RGBA:F,format:F,type:V}}},{key:"_glDepthFormat",value:function(){var O=this.gl,A=this.useStencil?this.depthFormat===c.FLOAT?O.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===c.WEBGL2?O.UNSIGNED_INT_24_8:O.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===c.FLOAT?O.FLOAT:O.UNSIGNED_INT,P=this.useStencil?O.DEPTH_STENCIL:O.DEPTH_COMPONENT,O=this.useStencil?this.depthFormat===c.FLOAT?O.DEPTH32F_STENCIL8:this.target.webglVersion===c.WEBGL2?O.DEPTH24_STENCIL8:O.DEPTH_STENCIL:this.target.webglVersion===c.WEBGL2?this.depthFormat===c.FLOAT?O.DEPTH_COMPONENT32F:O.DEPTH_COMPONENT24:O.DEPTH_COMPONENT;return{internalFormat:O,format:P,type:A}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var V=this.color,A=this.depth,P=this.colorRenderbuffer,O=this.depthRenderbuffer,V=(this._deleteTexture(V),A&&this._deleteTexture(A),this.gl);P&&V.deleteRenderbuffer(P),O&&V.deleteRenderbuffer(O),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var A=new j(this);return A._computeCameraDefaultSettings(),A._setDefaultCamera(),this.target._renderer._curCamera=A}},{key:"_deleteTexture",value:function(A){this.gl.deleteTexture(A.rawTexture()),this.target._renderer.textures.delete(A)}},{key:"remove",value:function(){var A=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),A.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&A.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&A.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&A.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var A=this.gl,P=(A.bindFramebuffer(A.READ_FRAMEBUFFER,this.aaFramebuffer),A.bindFramebuffer(A.DRAW_FRAMEBUFFER,this.framebuffer),[[A.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&P.push([A.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var O=0,V=P;O<V.length;O++){var R=p(V[O],2),F=R[0],R=R[1];A.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,F,R)}}}},{key:"end",value:function(){var A=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(A.bindFramebuffer(A.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(A){this.begin(),A(),this.end()}},{key:"loadPixels",value:function(){var A=this.gl,P=this.target._renderer.activeFramebuffer(),O=(A.bindFramebuffer(A.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,b.readPixelsWebGL)(this.pixels,A,this.framebuffer,0,0,this.width*this.density,this.height*this.density,O.format,O.type),P?A.bindFramebuffer(A.FRAMEBUFFER,P._framebufferToBind()):A.bindFramebuffer(A.FRAMEBUFFER,null)}},{key:"get",value:function(A,P,O,V){a.default._validateParameters("p5.Framebuffer.get",arguments);var F=this._glColorFormat();if(A===void 0&&P===void 0)P=A=0,O=this.width,V=this.height;else if(O===void 0&&V===void 0)return(A<0||P<0||A>=this.width||P>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),A=this.target.constrain(A,0,this.width-1),P=this.target.constrain(P,0,this.height-1)),(0,b.readPixelWebGL)(this.gl,this.framebuffer,A*this.density,P*this.density,F.format,F.type);A=this.target.constrain(A,0,this.width-1),P=this.target.constrain(P,0,this.height-1),O=this.target.constrain(O,1,this.width-A),V=this.target.constrain(V,1,this.height-P);for(var R=(0,b.readPixelsWebGL)(void 0,this.gl,this.framebuffer,A*this.density,P*this.density,O*this.density,V*this.density,F.format,F.type),z=new Uint8ClampedArray(O*V*this.density*this.density*4),q=(z.fill(255),F.type===this.gl.RGB?3:4),G=0;G<V*this.density;G++)for(var W=0;W<O*this.density;W++)for(var Z=0;Z<4;Z++){var ae,L=4*(G*O*this.density+W)+Z;Z<q&&(ae=q==4?L:(G*O*this.density+W)*q+Z,z[L]=R[ae])}return A=new a.default.Image(O*this.density,V*this.density),A.imageData=A.canvas.getContext("2d").createImageData(A.width,A.height),A.imageData.data.set(z),A.pixels=A.imageData.data,A.updatePixels(),this.density!==1&&A.resize(O,V),A}},{key:"updatePixels",value:function(){var A=this.gl,P=(this.colorP5Texture.bindTexture(),this._glColorFormat()),O=P.format===A.RGBA?4:3,O=this.width*this.height*this.density*this.density*O,V=P.type===A.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof V)||this.pixels.length!==O)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");A.texImage2D(A.TEXTURE_2D,0,P.internalFormat,this.width*this.density,this.height*this.density,0,P.format,P.type,this.pixels),this.colorP5Texture.unbindTexture(),V=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(A.clearDepth(1),A.clear(A.DEPTH_BUFFER_BIT)),this.end()):(A.bindFramebuffer(A.FRAMEBUFFER,this.framebuffer),this.useDepth&&(A.clearDepth(1),A.clear(A.DEPTH_BUFFER_BIT)),V?A.bindFramebuffer(A.FRAMEBUFFER,V._framebufferToBind()):A.bindFramebuffer(A.FRAMEBUFFER,null))}}]),k}()),M=a.default.Framebuffer=C;u.default=M},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(t,i,u){"use strict";function s(g){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}function l(g){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(m){return s(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":s(m)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=(h=t("../core/main"))&&h.__esModule?h:{default:h},c=function(g){if(g&&g.__esModule)return g;if(g===null||l(g)!=="object"&&typeof g!="function")return{default:g};var m=y();if(m&&m.has(g))return m.get(g);var f,v={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in g){var x;Object.prototype.hasOwnProperty.call(g,f)&&((x=_?Object.getOwnPropertyDescriptor(g,f):null)&&(x.get||x.set)?Object.defineProperty(v,f,x):v[f]=g[f])}return v.default=g,m&&m.set(g,v),v}(t("../core/constants"));function y(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,y=function(){return g},g)}function b(g){return function(m){if(Array.isArray(m)){for(var f=0,v=new Array(m.length);f<m.length;f++)v[f]=m[f];return v}}(g)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(g,m){return function(f){if(Array.isArray(f))return f}(g)||function(f,v){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]"){var _=[],x=!0,S=!1,j=void 0;try{for(var T,C=f[Symbol.iterator]();!(x=(T=C.next()).done)&&(_.push(T.value),!v||_.length!==v);x=!0);}catch(M){S=!0,j=M}finally{try{x||C.return==null||C.return()}finally{if(S)throw j}}return _}}(g,m)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(g,m){for(var f=0;f<m.length;f++){var v=m[f];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}a.default.Geometry=function(){function g(_,x,S){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new a.default.DataArray,this.lineTangentsIn=new a.default.DataArray,this.lineTangentsOut=new a.default.DataArray,this.lineSides=new a.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new a.default.DataArray,this.detailX=_!==void 0?_:1,this.detailY=x!==void 0?x:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,S instanceof Function&&S.call(this)}var m,f,v;return m=g,(f=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var _=new a.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),x=new a.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),S=0;S<this.vertices.length;S++){var j=this.vertices[S];_.x=Math.min(_.x,j.x),_.y=Math.min(_.y,j.y),_.z=Math.min(_.z,j.z),x.x=Math.max(x.x,j.x),x.y=Math.max(x.y,j.y),x.z=Math.max(x.z,j.z)}var T=new a.default.Vector(x.x-_.x,x.y-_.y,x.z-_.z),C=new a.default.Vector((_.x+x.x)/2,(_.y+x.y)/2,(_.z+x.z)/2);this.boundingBoxCache={min:_,max:x,size:T,offset:C}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(var _=0;_<this.vertexColors.length;_+=4)if(this.vertexColors[_+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(var _=0;_<this.lineVertexColors.length;_+=4)if(this.lineVertexColors[_+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var _=this,x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.obj",S="";if(this.vertices.forEach(function(C){S+="v ".concat(C.x," ").concat(C.y," ").concat(C.z,`
`)}),this.uvs&&0<this.uvs.length)for(var j=0;j<this.uvs.length;j+=2)S+="vt ".concat(this.uvs[j]," ").concat(this.uvs[j+1],`
`);this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(C){S+="vn ".concat(C.x," ").concat(C.y," ").concat(C.z,`
`)}),this.faces.forEach(function(C){var M="f";C.forEach(function(k){M=M+" "+(k+1),(0<_.vertexNormals.length||0<_.uvs.length)&&(M+="/",0<_.uvs.length&&(M+=k+1),M+="/",0<_.vertexNormals.length&&(M+=k+1))}),S+=M+`
`});var T=new Blob([S],{type:"text/plain"});a.default.prototype.downloadFile(T,x,"obj")}},{key:"saveStl",value:function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.stl",x=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).binary,x=x!==void 0&&x,S=_.substring(0,_.lastIndexOf(".")),j=[],T=!0,C=!1,M=void 0;try{for(var k,A=this.faces[Symbol.iterator]();!(T=(k=A.next()).done);T=!0){var P=k.value,O=a.default.Vector.sub(this.vertices[P[1]],this.vertices[P[0]]),V=a.default.Vector.sub(this.vertices[P[2]],this.vertices[P[0]]),F=O.y*V.z-O.z*V.y,R=O.z*V.x-O.x*V.z,z=O.x*V.y-O.y*V.x;j.push(new a.default.Vector(F,R,z).normalize())}}catch(xe){C=!0,M=xe}finally{try{T||A.return==null||A.return()}finally{if(C)throw M}}if(x){var q,G=80,C=2*this.faces.length+3*this.faces.length*4*4+80+4,M=new ArrayBuffer(C);(q=new DataView(M)).setUint32(G,this.faces.length,!0),G+=4;for(var W=0,Z=Object.entries(this.faces);W<Z.length;W++){var ae=d(Z[W],2),D=ae[0],ae=ae[1],D=j[D],L=(q.setFloat32(G,D.x,!0),G+=4,q.setFloat32(G,D.y,!0),G+=4,q.setFloat32(G,D.z,!0),G+=4,!0),D=!1,U=void 0;try{for(var H,X=ae[Symbol.iterator]();!(L=(H=X.next()).done);L=!0){var J=H.value,le=this.vertices[J];q.setFloat32(G,le.x,!0),G+=4,q.setFloat32(G,le.y,!0),G+=4,q.setFloat32(G,le.z,!0),G+=4}}catch(Te){D=!0,U=Te}finally{try{L||X.return==null||X.return()}finally{if(D)throw U}}q.setUint16(G,0,!0),G+=2}}else{q="solid "+S+`
`;for(var se=0,ne=Object.entries(this.faces);se<ne.length;se++){var ce=d(ne[se],2),ee=ce[0],ce=ce[1],ee=j[ee],he=(q=q+(" facet norm "+ee.x+" "+ee.y+" "+ee.z+`
`)+`  outer loop
`,!0),ee=!1,oe=void 0;try{for(var fe,_e=ce[Symbol.iterator]();!(he=(fe=_e.next()).done);he=!0){var pe=fe.value,ye=this.vertices[pe];q+="   vertex "+ye.x+" "+ye.y+" "+ye.z+`
`}}catch(xe){ee=!0,oe=xe}finally{try{he||_e.return==null||_e.return()}finally{if(ee)throw oe}}q=q+`  endloop
 endfacet
`}q+="endsolid "+S+`
`}x=new Blob([q],{type:"text/plain"}),a.default.prototype.downloadFile(x,_,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(_,x){return x%2==0?1-_:_})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(_,x){return x%2==0?_:1-_})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var _,x,S,j=this.detailX+1,T=0;T<this.detailY;T++)for(var C=0;C<this.detailX;C++)x=(T+1)*j+C+1,this.faces.push([T*j+C,_=T*j+C+1,S=(T+1)*j+C]),this.faces.push([S,_,x]);return this}},{key:"_getFaceNormal",value:function(x){var x=this.faces[x],S=this.vertices[x[0]],T=this.vertices[x[1]],x=this.vertices[x[2]],T=a.default.Vector.sub(T,S),x=a.default.Vector.sub(x,S),S=a.default.Vector.cross(T,x),j=a.default.Vector.mag(S),T=j/(a.default.Vector.mag(T)*a.default.Vector.mag(x));return T===0||isNaN(T)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),S):(1<T&&(T=1),S.mult(Math.asin(T)/j))}},{key:"computeNormals",value:function(){var _,x=this,S=0<arguments.length&&arguments[0]!==void 0?arguments[0]:c.FLAT,j=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,T=this.vertexNormals,C=this.vertices,M=this.faces;if(S===c.SMOOTH){for(var k={},A=[],P=Math.pow(10,j===void 0?3:j),O=function(q){return Math.round(q*P)/P},V=function(q){return"".concat(O(q.x),",").concat(O(q.y),",").concat(O(q.z))},F=0;F<C.length;F++){var R=C[F],z=V(R);k[z]===void 0&&(k[z]=A.length,A.push(R))}M.forEach(function(q){for(var G=0;G<3;++G){var W=q[G],W=C[W],W=V(W);q[G]=k[W]}}),this.edges.forEach(function(q){for(var G=0;G<2;++G){var W=q[G],W=C[W],W=V(W);q[G]=k[W]}}),this.vertices=C=A}for(_=T.length=0;_<C.length;++_)T.push(new a.default.Vector);for(M.forEach(function(q,G){for(var W=x._getFaceNormal(G),Z=0;Z<3;++Z){var ae=q[Z];T[ae].add(W)}}),_=0;_<C.length;++_)T[_].normalize();return this}},{key:"averageNormals",value:function(){for(var _=0;_<=this.detailY;_++){var x=this.detailX+1,S=a.default.Vector.add(this.vertexNormals[_*x],this.vertexNormals[_*x+this.detailX]),S=a.default.Vector.div(S,2);this.vertexNormals[_*x]=S,this.vertexNormals[_*x+this.detailX]=S}return this}},{key:"averagePoleNormals",value:function(){for(var _=new a.default.Vector(0,0,0),x=0;x<this.detailX;x++)_.add(this.vertexNormals[x]);for(var _=a.default.Vector.div(_,this.detailX),S=0;S<this.detailX;S++)this.vertexNormals[S]=_;_=new a.default.Vector(0,0,0);for(var j=this.vertices.length-1;j>this.vertices.length-1-this.detailX;j--)_.add(this.vertexNormals[j]);_=a.default.Vector.div(_,this.detailX);for(var T=this.vertices.length-1;T>this.vertices.length-1-this.detailX;T--)this.vertexNormals[T]=_;return this}},{key:"_makeTriangleEdges",value:function(){for(var _=this.edges.length=0;_<this.faces.length;_++)this.edges.push([this.faces[_][0],this.faces[_][1]]),this.edges.push([this.faces[_][1],this.faces[_][2]]),this.edges.push([this.faces[_][2],this.faces[_][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var _,x=new Map,S=new Set,j=0;j<this.edges.length;j++){var T,C=this.edges[j-1],M=this.edges[j],k=this.vertices[M[0]],A=this.vertices[M[1]],P=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*M[0],4*(M[0]+1)):[0,0,0,0],O=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*M[1],4*(M[1]+1)):[0,0,0,0],V=A.copy().sub(k).normalize(),F=0<V.magSq();F&&this._addSegment(k,A,P,O,V),0<j&&C[1]===M[0]?S.has(M[0])||(S.add(M[0]),x.delete(M[0]),_&&F&&V.dot(_)<1-1e-8&&this._addJoin(k,_,V,P)):(F&&!S.has(M[0])&&((T=x.get(M[0]))?(this._addJoin(k,T.dir,V,P),x.delete(M[0]),S.add(M[0])):x.set(M[0],{point:k,dir:V.copy().mult(-1),color:P})),_&&!S.has(C[1])&&((T=x.get(C[1]))?(this._addJoin(this.vertices[C[1]],_,T.dir.copy().mult(-1),P),x.delete(C[1]),S.add(C[1])):x.set(C[1],{point:this.vertices[C[1]],dir:_,color:P}),_=void 0)),j!==this.edges.length-1||S.has(M[1])||((k=x.get(M[1]))?(this._addJoin(A,V,k.dir.copy().mult(-1),O),x.delete(M[1]),S.add(M[1])):x.set(M[1],{point:A,dir:V,color:O})),F&&(_=V)}var R=!0,z=!1,q=void 0;try{for(var G,W=x.values()[Symbol.iterator]();!(R=(G=W.next()).done);R=!0){var Z=G.value,ae=Z.point,L=Z.dir,D=Z.color;this._addCap(ae,L,D)}}catch(U){z=!0,q=U}finally{try{R||W.return==null||W.return()}finally{if(z)throw q}}return this}},{key:"_addSegment",value:function(C,M,S,j,T){var C=C.array(),M=M.array(),k=T.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var A=0,P=[this.lineTangentsIn,this.lineTangentsOut];A<P.length;A++)for(var O=P[A],V=0;V<6;V++)O.push.apply(O,b(k));return(T=this.lineVertices).push.apply(T,b(C).concat(b(M),b(C),b(M),b(M),b(C))),(T=this.lineVertexColors).push.apply(T,b(S).concat(b(j),b(S),b(j),b(j),b(S))),this}},{key:"_addCap",value:function(_,x,S){for(var j,T=_.array(),C=x.array(),M=[0,0,0],k=0;k<6;k++)(j=this.lineVertices).push.apply(j,b(T)),(j=this.lineTangentsIn).push.apply(j,b(C)),(j=this.lineTangentsOut).push.apply(j,M),(j=this.lineVertexColors).push.apply(j,b(S));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(_,x,S,j){for(var T,C=_.array(),M=x.array(),k=S.array(),A=0;A<12;A++)(T=this.lineVertices).push.apply(T,b(C)),(T=this.lineTangentsIn).push.apply(T,b(M)),(T=this.lineTangentsOut).push.apply(T,b(k)),(T=this.lineVertexColors).push.apply(T,b(j));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var _=this.vertices[0].copy(),x=this.vertices[0].copy(),S=0;S<this.vertices.length;S++)_.x=Math.max(_.x,this.vertices[S].x),x.x=Math.min(x.x,this.vertices[S].x),_.y=Math.max(_.y,this.vertices[S].y),x.y=Math.min(x.y,this.vertices[S].y),_.z=Math.max(_.z,this.vertices[S].z),x.z=Math.min(x.z,this.vertices[S].z);for(var j=a.default.Vector.lerp(_,x,.5),T=a.default.Vector.sub(_,x),C=200/Math.max(Math.max(T.x,T.y),T.z),M=0;M<this.vertices.length;M++)this.vertices[M].sub(j),this.vertices[M].mult(C)}return this}}])&&p(m.prototype,f),v&&p(m,v),g}();var h=a.default.Geometry;u.default=h},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(y,i,u){"use strict";y("core-js/modules/es.array.iterator"),y("core-js/modules/es.object.to-string"),y("core-js/modules/es.typed-array.float32-array"),y("core-js/modules/es.typed-array.copy-within"),y("core-js/modules/es.typed-array.every"),y("core-js/modules/es.typed-array.fill"),y("core-js/modules/es.typed-array.filter"),y("core-js/modules/es.typed-array.find"),y("core-js/modules/es.typed-array.find-index"),y("core-js/modules/es.typed-array.for-each"),y("core-js/modules/es.typed-array.includes"),y("core-js/modules/es.typed-array.index-of"),y("core-js/modules/es.typed-array.iterator"),y("core-js/modules/es.typed-array.join"),y("core-js/modules/es.typed-array.last-index-of"),y("core-js/modules/es.typed-array.map"),y("core-js/modules/es.typed-array.reduce"),y("core-js/modules/es.typed-array.reduce-right"),y("core-js/modules/es.typed-array.reverse"),y("core-js/modules/es.typed-array.set"),y("core-js/modules/es.typed-array.slice"),y("core-js/modules/es.typed-array.some"),y("core-js/modules/es.typed-array.sort"),y("core-js/modules/es.typed-array.subarray"),y("core-js/modules/es.typed-array.to-locale-string"),y("core-js/modules/es.typed-array.to-string"),y("core-js/modules/es.array.iterator"),y("core-js/modules/es.object.to-string"),y("core-js/modules/es.typed-array.float32-array"),y("core-js/modules/es.typed-array.copy-within"),y("core-js/modules/es.typed-array.every"),y("core-js/modules/es.typed-array.fill"),y("core-js/modules/es.typed-array.filter"),y("core-js/modules/es.typed-array.find"),y("core-js/modules/es.typed-array.find-index"),y("core-js/modules/es.typed-array.for-each"),y("core-js/modules/es.typed-array.includes"),y("core-js/modules/es.typed-array.index-of"),y("core-js/modules/es.typed-array.iterator"),y("core-js/modules/es.typed-array.join"),y("core-js/modules/es.typed-array.last-index-of"),y("core-js/modules/es.typed-array.map"),y("core-js/modules/es.typed-array.reduce"),y("core-js/modules/es.typed-array.reduce-right"),y("core-js/modules/es.typed-array.reverse"),y("core-js/modules/es.typed-array.set"),y("core-js/modules/es.typed-array.slice"),y("core-js/modules/es.typed-array.some"),y("core-js/modules/es.typed-array.sort"),y("core-js/modules/es.typed-array.subarray"),y("core-js/modules/es.typed-array.to-locale-string"),y("core-js/modules/es.typed-array.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=(y=y("../core/main"))&&y.__esModule?y:{default:y};function l(b,d){for(var p=0;p<d.length;p++){var h=d[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(b,h.key,h)}}var a=Array,c=function(b){return Array.isArray(b)},y=(typeof Float32Array<"u"&&(a=Float32Array,c=function(b){return Array.isArray(b)||b instanceof Float32Array}),s.default.Matrix=function(){function b(){var g=this,m=b;if(g instanceof m)return arguments.length&&((g=arguments.length-1)<0||arguments.length<=g?void 0:arguments[g])instanceof s.default&&(this.p5=(m=arguments.length-1)<0||arguments.length<=m?void 0:arguments[m]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new a([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new a([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var d,p,h;return d=b,h=[{key:"identity",value:function(g){return new s.default.Matrix(g)}}],(p=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(g){var m=arguments;if(g instanceof s.default.Matrix?m=g.mat4:c(g)&&(m=g),m.length!==16)s.default._friendlyError("Expected 16 values but received ".concat(m.length,"."),"p5.Matrix.set");else for(var f=0;f<16;f++)this.mat4[f]=m[f];return this}},{key:"get",value:function(){return new s.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var g;return this.mat3!==void 0?((g=new s.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],g.mat3[1]=this.mat3[1],g.mat3[2]=this.mat3[2],g.mat3[3]=this.mat3[3],g.mat3[4]=this.mat3[4],g.mat3[5]=this.mat3[5],g.mat3[6]=this.mat3[6],g.mat3[7]=this.mat3[7],g.mat3[8]=this.mat3[8]):((g=new s.default.Matrix(this.p5)).mat4[0]=this.mat4[0],g.mat4[1]=this.mat4[1],g.mat4[2]=this.mat4[2],g.mat4[3]=this.mat4[3],g.mat4[4]=this.mat4[4],g.mat4[5]=this.mat4[5],g.mat4[6]=this.mat4[6],g.mat4[7]=this.mat4[7],g.mat4[8]=this.mat4[8],g.mat4[9]=this.mat4[9],g.mat4[10]=this.mat4[10],g.mat4[11]=this.mat4[11],g.mat4[12]=this.mat4[12],g.mat4[13]=this.mat4[13],g.mat4[14]=this.mat4[14],g.mat4[15]=this.mat4[15]),g}},{key:"transpose",value:function(g){var m,f,v,_,x,S;return g instanceof s.default.Matrix?(m=g.mat4[1],f=g.mat4[2],v=g.mat4[3],_=g.mat4[6],x=g.mat4[7],S=g.mat4[11],this.mat4[0]=g.mat4[0],this.mat4[1]=g.mat4[4],this.mat4[2]=g.mat4[8],this.mat4[3]=g.mat4[12],this.mat4[4]=m,this.mat4[5]=g.mat4[5],this.mat4[6]=g.mat4[9],this.mat4[7]=g.mat4[13],this.mat4[8]=f,this.mat4[9]=_,this.mat4[10]=g.mat4[10],this.mat4[11]=g.mat4[14],this.mat4[12]=v,this.mat4[13]=x,this.mat4[14]=S,this.mat4[15]=g.mat4[15]):c(g)&&(m=g[1],f=g[2],v=g[3],_=g[6],x=g[7],S=g[11],this.mat4[0]=g[0],this.mat4[1]=g[4],this.mat4[2]=g[8],this.mat4[3]=g[12],this.mat4[4]=m,this.mat4[5]=g[5],this.mat4[6]=g[9],this.mat4[7]=g[13],this.mat4[8]=f,this.mat4[9]=_,this.mat4[10]=g[10],this.mat4[11]=g[14],this.mat4[12]=v,this.mat4[13]=x,this.mat4[14]=S,this.mat4[15]=g[15]),this}},{key:"invert",value:function(R){R instanceof s.default.Matrix?(m=R.mat4[0],f=R.mat4[1],v=R.mat4[2],_=R.mat4[3],x=R.mat4[4],S=R.mat4[5],j=R.mat4[6],T=R.mat4[7],C=R.mat4[8],M=R.mat4[9],k=R.mat4[10],A=R.mat4[11],P=R.mat4[12],O=R.mat4[13],V=R.mat4[14],F=R.mat4[15]):c(R)&&(m=R[0],f=R[1],v=R[2],_=R[3],x=R[4],S=R[5],j=R[6],T=R[7],C=R[8],M=R[9],k=R[10],A=R[11],P=R[12],O=R[13],V=R[14],F=R[15]);var m,f,v,_,x,S,j,T,C,M,k,A,P,O,V,F,R=m*S-f*x,z=m*j-v*x,q=m*T-_*x,G=f*j-v*S,W=f*T-_*S,Z=v*T-_*j,ae=C*O-M*P,L=C*V-k*P,D=C*F-A*P,U=M*V-k*O,H=M*F-A*O,X=k*F-A*V,J=R*X-z*H+q*U+G*D-W*L+Z*ae;return J?(this.mat4[0]=(S*X-j*H+T*U)*(J=1/J),this.mat4[1]=(v*H-f*X-_*U)*J,this.mat4[2]=(O*Z-V*W+F*G)*J,this.mat4[3]=(k*W-M*Z-A*G)*J,this.mat4[4]=(j*D-x*X-T*L)*J,this.mat4[5]=(m*X-v*D+_*L)*J,this.mat4[6]=(V*q-P*Z-F*z)*J,this.mat4[7]=(C*Z-k*q+A*z)*J,this.mat4[8]=(x*H-S*D+T*ae)*J,this.mat4[9]=(f*D-m*H-_*ae)*J,this.mat4[10]=(P*W-O*q+F*R)*J,this.mat4[11]=(M*q-C*W-A*R)*J,this.mat4[12]=(S*L-x*U-j*ae)*J,this.mat4[13]=(m*U-f*L+v*ae)*J,this.mat4[14]=(O*z-P*G-V*R)*J,this.mat4[15]=(C*G-M*z+k*R)*J,this):null}},{key:"invert3x3",value:function(){var g=this.mat3[0],m=this.mat3[1],f=this.mat3[2],v=this.mat3[3],_=this.mat3[4],x=this.mat3[5],S=this.mat3[6],j=this.mat3[7],T=this.mat3[8],C=T*_-x*j,M=-T*v+x*S,k=j*v-_*S,A=g*C+m*M+f*k;return A?(this.mat3[0]=C*(A=1/A),this.mat3[1]=(-T*m+f*j)*A,this.mat3[2]=(x*m-f*_)*A,this.mat3[3]=M*A,this.mat3[4]=(T*g-f*S)*A,this.mat3[5]=(-x*g+f*v)*A,this.mat3[6]=k*A,this.mat3[7]=(-j*g+m*S)*A,this.mat3[8]=(_*g-m*v)*A,this):null}},{key:"transpose3x3",value:function(g){var m=(g=g===void 0?this.mat3:g)[1],f=g[2],v=g[5];return this.mat3[0]=g[0],this.mat3[1]=g[3],this.mat3[2]=g[6],this.mat3[3]=m,this.mat3[4]=g[4],this.mat3[5]=g[7],this.mat3[6]=f,this.mat3[7]=v,this.mat3[8]=g[8],this}},{key:"inverseTranspose",value:function(g){if(g=g.mat4,this.mat3===void 0?s.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=g[0],this.mat3[1]=g[1],this.mat3[2]=g[2],this.mat3[3]=g[4],this.mat3[4]=g[5],this.mat3[5]=g[6],this.mat3[6]=g[8],this.mat3[7]=g[9],this.mat3[8]=g[10]),g=this.invert3x3(),g)g.transpose3x3(this.mat3);else for(var m=0;m<9;m++)this.mat3[m]=0;return this}},{key:"determinant",value:function(){var g=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],m=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],f=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],v=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],_=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],x=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],S=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],j=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],T=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],C=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],M=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return g*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-m*M+f*C+v*T-_*j+x*S}},{key:"mult",value:function(f){var m;if(f===this||f===this.mat4)m=this.copy().mat4;else if(f instanceof s.default.Matrix)m=f.mat4;else if(c(f))m=f;else{if(arguments.length!==16)return;m=arguments}var f=this.mat4[0],v=this.mat4[1],_=this.mat4[2],x=this.mat4[3];return this.mat4[0]=f*m[0]+v*m[4]+_*m[8]+x*m[12],this.mat4[1]=f*m[1]+v*m[5]+_*m[9]+x*m[13],this.mat4[2]=f*m[2]+v*m[6]+_*m[10]+x*m[14],this.mat4[3]=f*m[3]+v*m[7]+_*m[11]+x*m[15],f=this.mat4[4],v=this.mat4[5],_=this.mat4[6],x=this.mat4[7],this.mat4[4]=f*m[0]+v*m[4]+_*m[8]+x*m[12],this.mat4[5]=f*m[1]+v*m[5]+_*m[9]+x*m[13],this.mat4[6]=f*m[2]+v*m[6]+_*m[10]+x*m[14],this.mat4[7]=f*m[3]+v*m[7]+_*m[11]+x*m[15],f=this.mat4[8],v=this.mat4[9],_=this.mat4[10],x=this.mat4[11],this.mat4[8]=f*m[0]+v*m[4]+_*m[8]+x*m[12],this.mat4[9]=f*m[1]+v*m[5]+_*m[9]+x*m[13],this.mat4[10]=f*m[2]+v*m[6]+_*m[10]+x*m[14],this.mat4[11]=f*m[3]+v*m[7]+_*m[11]+x*m[15],f=this.mat4[12],v=this.mat4[13],_=this.mat4[14],x=this.mat4[15],this.mat4[12]=f*m[0]+v*m[4]+_*m[8]+x*m[12],this.mat4[13]=f*m[1]+v*m[5]+_*m[9]+x*m[13],this.mat4[14]=f*m[2]+v*m[6]+_*m[10]+x*m[14],this.mat4[15]=f*m[3]+v*m[7]+_*m[11]+x*m[15],this}},{key:"apply",value:function(f){var m;if(f===this||f===this.mat4)m=this.copy().mat4;else if(f instanceof s.default.Matrix)m=f.mat4;else if(c(f))m=f;else{if(arguments.length!==16)return;m=arguments}var f=this.mat4,v=f[0],_=f[4],x=f[8],S=f[12],v=(f[0]=m[0]*v+m[1]*_+m[2]*x+m[3]*S,f[4]=m[4]*v+m[5]*_+m[6]*x+m[7]*S,f[8]=m[8]*v+m[9]*_+m[10]*x+m[11]*S,f[12]=m[12]*v+m[13]*_+m[14]*x+m[15]*S,f[1]),_=f[5],x=f[9],S=f[13],v=(f[1]=m[0]*v+m[1]*_+m[2]*x+m[3]*S,f[5]=m[4]*v+m[5]*_+m[6]*x+m[7]*S,f[9]=m[8]*v+m[9]*_+m[10]*x+m[11]*S,f[13]=m[12]*v+m[13]*_+m[14]*x+m[15]*S,f[2]),_=f[6],x=f[10],S=f[14],v=(f[2]=m[0]*v+m[1]*_+m[2]*x+m[3]*S,f[6]=m[4]*v+m[5]*_+m[6]*x+m[7]*S,f[10]=m[8]*v+m[9]*_+m[10]*x+m[11]*S,f[14]=m[12]*v+m[13]*_+m[14]*x+m[15]*S,f[3]),_=f[7],x=f[11],S=f[15];return f[3]=m[0]*v+m[1]*_+m[2]*x+m[3]*S,f[7]=m[4]*v+m[5]*_+m[6]*x+m[7]*S,f[11]=m[8]*v+m[9]*_+m[10]*x+m[11]*S,f[15]=m[12]*v+m[13]*_+m[14]*x+m[15]*S,this}},{key:"scale",value:function(g,m,f){return g instanceof s.default.Vector?(m=g.y,f=g.z,g=g.x):g instanceof Array&&(m=g[1],f=g[2],g=g[0]),this.mat4[0]*=g,this.mat4[1]*=g,this.mat4[2]*=g,this.mat4[3]*=g,this.mat4[4]*=m,this.mat4[5]*=m,this.mat4[6]*=m,this.mat4[7]*=m,this.mat4[8]*=f,this.mat4[9]*=f,this.mat4[10]*=f,this.mat4[11]*=f,this}},{key:"rotate",value:function(R,H,U,v){H instanceof s.default.Vector?(U=H.y,v=H.z,H=H.x):H instanceof Array&&(U=H[1],v=H[2],H=H[0]);var _=Math.sqrt(H*H+U*U+v*v),_=(H*=1/_,U*=1/_,v*=1/_,this.mat4[0]),x=this.mat4[1],S=this.mat4[2],j=this.mat4[3],T=this.mat4[4],C=this.mat4[5],M=this.mat4[6],k=this.mat4[7],A=this.mat4[8],P=this.mat4[9],O=this.mat4[10],V=this.mat4[11],F=Math.sin(R),R=Math.cos(R),z=1-R,q=H*H*z+R,G=U*H*z+v*F,W=v*H*z-U*F,Z=H*U*z-v*F,ae=U*U*z+R,L=v*U*z+H*F,D=H*v*z+U*F,U=U*v*z-H*F,H=v*v*z+R;return this.mat4[0]=_*q+T*G+A*W,this.mat4[1]=x*q+C*G+P*W,this.mat4[2]=S*q+M*G+O*W,this.mat4[3]=j*q+k*G+V*W,this.mat4[4]=_*Z+T*ae+A*L,this.mat4[5]=x*Z+C*ae+P*L,this.mat4[6]=S*Z+M*ae+O*L,this.mat4[7]=j*Z+k*ae+V*L,this.mat4[8]=_*D+T*U+A*H,this.mat4[9]=x*D+C*U+P*H,this.mat4[10]=S*D+M*U+O*H,this.mat4[11]=j*D+k*U+V*H,this}},{key:"translate",value:function(v){var m=v[0],f=v[1],v=v[2]||0;this.mat4[12]+=this.mat4[0]*m+this.mat4[4]*f+this.mat4[8]*v,this.mat4[13]+=this.mat4[1]*m+this.mat4[5]*f+this.mat4[9]*v,this.mat4[14]+=this.mat4[2]*m+this.mat4[6]*f+this.mat4[10]*v,this.mat4[15]+=this.mat4[3]*m+this.mat4[7]*f+this.mat4[11]*v}},{key:"rotateX",value:function(g){this.rotate(g,1,0,0)}},{key:"rotateY",value:function(g){this.rotate(g,0,1,0)}},{key:"rotateZ",value:function(g){this.rotate(g,0,0,1)}},{key:"perspective",value:function(_,m,f,v){var _=1/Math.tan(_/2),x=1/(f-v);return this.mat4[0]=_/m,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=_,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(v+f)*x,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*v*f*x,this.mat4[15]=0,this}},{key:"ortho",value:function(g,m,f,v,_,x){var S=1/(g-m),j=1/(f-v),T=1/(_-x);return this.mat4[0]=-2*S,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*j,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*T,this.mat4[11]=0,this.mat4[12]=(g+m)*S,this.mat4[13]=(v+f)*j,this.mat4[14]=(x+_)*T,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(g,m,f,v){var _=new Array(4),x=this.mat4;return _[0]=x[0]*g+x[4]*m+x[8]*f+x[12]*v,_[1]=x[1]*g+x[5]*m+x[9]*f+x[13]*v,_[2]=x[2]*g+x[6]*m+x[10]*f+x[14]*v,_[3]=x[3]*g+x[7]*m+x[11]*f+x[15]*v,_}},{key:"multiplyPoint",value:function(f){var v=f.x,m=f.y,f=f.z,v=this.multiplyVec4(v,m,f,1);return new s.default.Vector(v[0],v[1],v[2])}},{key:"multiplyAndNormalizePoint",value:function(f){var v=f.x,m=f.y,f=f.z,v=this.multiplyVec4(v,m,f,1);return v[0]/=v[3],v[1]/=v[3],v[2]/=v[3],new s.default.Vector(v[0],v[1],v[2])}},{key:"multiplyDirection",value:function(f){var v=f.x,m=f.y,f=f.z,v=this.multiplyVec4(v,m,f,0);return new s.default.Vector(v[0],v[1],v[2])}},{key:"mult3x3",value:function(f){var m;if(f===this||f===this.mat3)m=this.copy().mat3;else if(f instanceof s.default.Matrix)m=f.mat3;else if(c(f))m=f;else{if(arguments.length!==9)return;m=arguments}var f=this.mat3[0],v=this.mat3[1],_=this.mat3[2];return this.mat3[0]=f*m[0]+v*m[3]+_*m[6],this.mat3[1]=f*m[1]+v*m[4]+_*m[7],this.mat3[2]=f*m[2]+v*m[5]+_*m[8],f=this.mat3[3],v=this.mat3[4],_=this.mat3[5],this.mat3[3]=f*m[0]+v*m[3]+_*m[6],this.mat3[4]=f*m[1]+v*m[4]+_*m[7],this.mat3[5]=f*m[2]+v*m[5]+_*m[8],f=this.mat3[6],v=this.mat3[7],_=this.mat3[8],this.mat3[6]=f*m[0]+v*m[3]+_*m[6],this.mat3[7]=f*m[1]+v*m[4]+_*m[7],this.mat3[8]=f*m[2]+v*m[5]+_*m[8],this}},{key:"column",value:function(g){return new s.default.Vector(this.mat3[3*g],this.mat3[3*g+1],this.mat3[3*g+2])}},{key:"row",value:function(g){return new s.default.Vector(this.mat3[g],this.mat3[g+3],this.mat3[g+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(g,m){return(m=m===void 0?g.copy():m).x=this.row(0).dot(g),m.y=this.row(1).dot(g),m.z=this.row(2).dot(g),m}},{key:"createSubMatrix3x3",value:function(){var g=new s.default.Matrix("mat3");return g.mat3[0]=this.mat4[0],g.mat3[1]=this.mat4[1],g.mat3[2]=this.mat4[2],g.mat3[3]=this.mat4[4],g.mat3[4]=this.mat4[5],g.mat3[5]=this.mat4[6],g.mat3[6]=this.mat4[8],g.mat3[7]=this.mat4[9],g.mat3[8]=this.mat4[10],g}}])&&l(d.prototype,p),h&&l(d,h),b}(),s.default.Matrix);u.default=y},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(t,i,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(a,c){for(var y=0;y<c.length;y++){var b=c[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(a,b.key,b)}}s.default.Quat=function(){function a(d,p,h,g){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.w=d,this.vec=new s.default.Vector(p,h,g)}var c,y,b;return c=a,b=[{key:"fromAxisAngle",value:function(d,f,h,g){var m=Math.cos(d/2),f=new s.default.Vector(f,h,g).normalize().mult(Math.sin(d/2));return new s.default.Quat(m,f.x,f.y,f.z)}}],(y=[{key:"conjugate",value:function(){return new s.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(d){return new s.default.Quat(this.w*d.w-this.vec.x*d.vec.x-this.vec.y*d.vec.y-this.vec.z-d.vec.z,this.w*d.vec.x+this.vec.x*d.w+this.vec.y*d.vec.z-this.vec.z*d.vec.y,this.w*d.vec.y-this.vec.x*d.vec.z+this.vec.y*d.w+this.vec.z*d.vec.x,this.w*d.vec.z+this.vec.x*d.vec.y-this.vec.y*d.vec.x+this.vec.z*d.w)}},{key:"rotateVector",value:function(d){return new s.default.Vector.mult(d,this.w*this.w-this.vec.dot(this.vec)).add(s.default.Vector.mult(this.vec,2*d.dot(this.vec))).add(s.default.Vector.mult(this.vec,2*this.w).cross(d)).clampToZero()}},{key:"rotateBy",value:function(d){return d.multiply(this).multiply(d.conjugate()).vec.clampToZero()}}])&&l(c.prototype,y),b&&l(c,b),a}(),t=s.default.Quat,u.default=t},{"../core/main":283}],338:[function(t,i,u){"use strict";t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(l,a){for(var c=0;c<a.length;c++){var y=a[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(l,y.key,y)}}t.default.RenderBuffer=function(){function l(b,d,p,h,g,m){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.size=b,this.src=d,this.dst=p,this.attr=h,this._renderer=g,this.map=m}var a,c,y;return a=l,(c=[{key:"_prepareBuffer",value:function(b,d){var p,h,g,v=d.attributes,m=this._renderer.GL,f=b.model||b,v=v[this.attr];v&&(p=b[this.dst],0<(h=f[this.src]).length?((g=!p)&&(b[this.dst]=p=m.createBuffer()),m.bindBuffer(m.ARRAY_BUFFER,p),!g&&f.dirtyFlags[this.src]===!1||(g=(b=this.map)?b(h):h,this._renderer._bindBuffer(p,m.ARRAY_BUFFER,g),f.dirtyFlags[this.src]=!1),d.enableAttrib(v,this.size)):(b=v.location)!==-1&&this._renderer.registerEnabled.has(b)&&(m.disableVertexAttribArray(b),this._renderer.registerEnabled.delete(b)))}}])&&s(a.prototype,c),y&&s(a,y),l}(),t=t.default.RenderBuffer,u.default=t},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(t,i,u){"use strict";function s(h){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}function l(h){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(g){return s(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":s(g)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=(p=t("../core/main"))&&p.__esModule?p:{default:p},c=function(h){if(h&&h.__esModule)return h;if(h===null||l(h)!=="object"&&typeof h!="function")return{default:h};var g=y();if(g&&g.has(h))return g.get(h);var m,f={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in h){var _;Object.prototype.hasOwnProperty.call(h,m)&&((_=v?Object.getOwnPropertyDescriptor(h,m):null)&&(_.get||_.set)?Object.defineProperty(f,m,_):f[m]=h[m])}return f.default=h,g&&g.set(h,f),f}(t("../core/constants"));function y(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,y=function(){return h},h)}function b(h){return function(g){if(Array.isArray(g)){for(var m=0,f=new Array(g.length);m<g.length;m++)f[m]=g[m];return f}}(h)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),a.default.RendererGL.prototype.beginShape=function(h){return this.immediateMode.shapeMode=h!==void 0?h:c.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var d={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},p=(a.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==c.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},a.default.RendererGL.prototype.vertex=function(h,g){if(this.immediateMode.shapeMode===c.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var m in d){var f=d[m],m=this.immediateMode.geometry[m];m.push.apply(m,b(m.slice(m.length-3*f,m.length-2*f)).concat(b(m.slice(m.length-f,m.length))))}var v,_,x=v=_=0,S=(arguments.length===3?x=arguments[2]:arguments.length===4?(v=arguments[2],_=arguments[3]):arguments.length===5&&(x=arguments[2],v=arguments[3],_=arguments[4]),new a.default.Vector(h,g,x)),S=(this.immediateMode.geometry.vertices.push(S),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),S=(this.immediateMode.geometry.vertexColors.push(S[0],S[1],S[2],S[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(S[0],S[1],S[2],S[3]),this.textureMode!==c.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(v/=this._tex.width,_/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(v,_),this.immediateMode._bezierVertex[0]=h,this.immediateMode._bezierVertex[1]=g,this.immediateMode._bezierVertex[2]=x,this.immediateMode._quadraticVertex[0]=h,this.immediateMode._quadraticVertex[1]=g,this.immediateMode._quadraticVertex[2]=x,this},a.default.RendererGL.prototype.normal=function(h,g,m){return h instanceof a.default.Vector?this._currentNormal=h:this._currentNormal=new a.default.Vector(h,g,m),this},a.default.RendererGL.prototype.endShape=function(h,g,m,f,v,_){var x,S=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===c.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===c.TESS&&(this.immediateMode.shapeMode=c.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),x=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==c.LINE_STRIP&&this.immediateMode.shapeMode!==c.LINES||(this.immediateMode.shapeMode=c.TRIANGLE_FAN,x=!0),this.immediateMode.shapeMode===c.QUADS?this.immediateMode.shapeMode=c.TRIANGLES:this.immediateMode.shapeMode===c.QUAD_STRIP&&(this.immediateMode.shapeMode=c.TRIANGLE_STRIP),this._doFill&&!x&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(S),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},a.default.RendererGL.prototype._processVertices=function(h){var g;this.immediateMode.geometry.vertices.length!==0&&(g=this._doStroke,h=h===c.CLOSE,g&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,h),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),g=this.immediateMode.shapeMode===c.TESS,h=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||g||h)&&this.immediateMode.shapeMode!==c.LINES&&this._tesselateShape())},a.default.RendererGL.prototype._calculateEdges=function(h,g,m){var f=[],v=0,_=this.immediateMode.contourIndices.slice(),x=0;switch(h){case c.TRIANGLE_STRIP:for(v=0;v<g.length-2;v++)f.push([v,v+1]),f.push([v,v+2]);f.push([v,v+1]);break;case c.TRIANGLE_FAN:for(v=1;v<g.length-1;v++)f.push([0,v]),f.push([v,v+1]);f.push([0,g.length-1]);break;case c.TRIANGLES:for(v=0;v<g.length-2;v+=3)f.push([v,v+1]),f.push([v+1,v+2]),f.push([v+2,v]);break;case c.LINES:for(v=0;v<g.length-1;v+=2)f.push([v,v+1]);break;case c.QUADS:for(v=0;v<g.length-5;v+=6)f.push([v,v+1]),f.push([v+1,v+2]),f.push([v+3,v+5]),f.push([v+4,v+5]);break;case c.QUAD_STRIP:for(v=0;v<g.length-2;v+=2)f.push([v,v+1]),f.push([v,v+2]),f.push([v+1,v+3]);f.push([v,v+1]);break;default:for(v=0;v<g.length;v++)v+1<g.length&&v+1!==_[0]?f.push([v,v+1]):((m||x)&&f.push([v,x]),0<_.length&&(x=_.shift()))}return h!==c.TESS&&m&&f.push([g.length-1,0]),f},a.default.RendererGL.prototype._tesselateShape=function(){for(var h=this,g=(this.immediateMode.shapeMode=c.TRIANGLES,[[]]),m=0;m<this.immediateMode.geometry.vertices.length;m++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===m&&(this.immediateMode.contourIndices.shift(),g.push([])),g[g.length-1].push(this.immediateMode.geometry.vertices[m].x,this.immediateMode.geometry.vertices[m].y,this.immediateMode.geometry.vertices[m].z,this.immediateMode.geometry.uvs[2*m],this.immediateMode.geometry.uvs[2*m+1],this.immediateMode.geometry.vertexColors[4*m],this.immediateMode.geometry.vertexColors[4*m+1],this.immediateMode.geometry.vertexColors[4*m+2],this.immediateMode.geometry.vertexColors[4*m+3],this.immediateMode.geometry.vertexNormals[m].x,this.immediateMode.geometry.vertexNormals[m].y,this.immediateMode.geometry.vertexNormals[m].z);for(var f,v=this._triangulate(g),_=this.immediateMode.geometry.vertices,x=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),S=0,j=v.length;S<j;S+=a.default.RendererGL.prototype.tessyVertexSize)x.push.apply(x,b(v.slice(S+5,S+9))),this.normal.apply(this,b(v.slice(S+9,S+12))),this.vertex.apply(this,b(v.slice(S,S+5)));this.geometryBuilder&&(f=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(T){return T.map(function(C){if(!f.has(C)){var M=_[C],k=h.immediateMode.geometry.vertices.findIndex(function(z){return M.x===z.x&&M.y===z.y&&M.z===z.z});if(k===-1){for(var A=1/0,P=0,O=0;O<h.immediateMode.geometry.vertices.length;O++){var F=h.immediateMode.geometry.vertices[O],R=M.x-F.x,V=M.y-F.y,F=M.z-F.z,R=R*R+V*V+F*F;R<A&&(A=R,P=O)}k=P}f.set(C,k)}return f.get(C)})})),this.immediateMode.geometry.vertexColors=x},a.default.RendererGL.prototype._drawImmediateFill=function(){var h,g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,m=this.GL,f=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,h=this._getImmediateFillShader(),this._setFillUniforms(h),!0),v=!1,_=void 0;try{for(var x,S=this.immediateMode.buffers.fill[Symbol.iterator]();!(f=(x=S.next()).done);f=!0)x.value._prepareBuffer(this.immediateMode.geometry,h)}catch(j){v=!0,_=j}finally{try{f||S.return==null||S.return()}finally{if(v)throw _}}if(h.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),g===1)m.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{m.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,g)}catch{console.log("\u{1F338} p5.js says: Instancing is only supported in WebGL2 mode")}h.unbindShader()},a.default.RendererGL.prototype._drawImmediateStroke=function(){var h=this.GL,g=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),m=(this._setStrokeUniforms(g),!0),f=!1,v=void 0;try{for(var _,x=this.immediateMode.buffers.stroke[Symbol.iterator]();!(m=(_=x.next()).done);m=!0)_.value._prepareBuffer(this.immediateMode.geometry,g)}catch(S){f=!0,v=S}finally{try{m||x.return==null||x.return()}finally{if(f)throw v}}g.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),h.drawArrays(h.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),g.unbindShader()},a.default.RendererGL);u.default=p},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(t,i,u){"use strict";function s(d){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}function l(d){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(p){return s(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":s(p)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=(b=t("../core/main"))&&b.__esModule?b:{default:b},c=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),function(d){if(d&&d.__esModule)return d;if(d===null||l(d)!=="object"&&typeof d!="function")return{default:d};var p=y();if(p&&p.has(d))return p.get(d);var h,g={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in d){var f;Object.prototype.hasOwnProperty.call(d,h)&&((f=m?Object.getOwnPropertyDescriptor(d,h):null)&&(f.get||f.set)?Object.defineProperty(g,h,f):g[h]=d[h])}return g.default=d,p&&p.set(d,g),g}(t("../core/constants")));function y(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,y=function(){return d},d)}a.default.RendererGL.prototype.freeGeometry=function(d){d.gid?this._freeBuffers(d.gid):console.warn("The model you passed to freeGeometry does not have an id!")},a.default.RendererGL.prototype._initBufferDefaults=function(d){var p;return this._freeBuffers(d),1e3<Object.keys(this.retainedMode.geometry).length&&(p=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(p)),this.retainedMode.geometry[d]={}},a.default.RendererGL.prototype._freeBuffers=function(d){var p,h=this.retainedMode.geometry[d];function g(m){var f=!0,v=!1,_=void 0;try{for(var x,S=m[Symbol.iterator]();!(f=(x=S.next()).done);f=!0){var j=x.value;h[j.dst]&&(p.deleteBuffer(h[j.dst]),h[j.dst]=null)}}catch(T){v=!0,_=T}finally{try{f||S.return==null||S.return()}finally{if(v)throw _}}}h&&(delete this.retainedMode.geometry[d],p=this.GL,h.indexBuffer&&p.deleteBuffer(h.indexBuffer),g(this.retainedMode.buffers.stroke),g(this.retainedMode.buffers.fill))},a.default.RendererGL.prototype.createBuffers=function(v,p){var h,g,m,f=this.GL,v=this._initBufferDefaults(v),_=(v.model=p,v.indexBuffer);return p.faces.length?(_=_||(v.indexBuffer=f.createBuffer()),m=(g=(h=a.default.RendererGL.prototype._flatten(p.faces)).some(function(x){return 65535<x}))?Uint32Array:Uint16Array,this._bindBuffer(_,f.ELEMENT_ARRAY_BUFFER,h,m),v.indexBufferType=g?f.UNSIGNED_INT:f.UNSIGNED_SHORT,v.vertexCount=3*p.faces.length):(_&&(f.deleteBuffer(_),v.indexBuffer=null),v.vertexCount=p.vertices?p.vertices.length:0),v.lineVertexCount=p.lineVertices?p.lineVertices.length/3:0,v},a.default.RendererGL.prototype.drawBuffers=function(d){var p=this.GL,h=this.retainedMode.geometry[d];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[d].vertexCount){this._useVertexColor=0<h.model.vertexColors.length;var g=this._getRetainedFillShader(),m=(this._setFillUniforms(g),!0),f=!1,v=void 0;try{for(var _,x=this.retainedMode.buffers.fill[Symbol.iterator]();!(m=(_=x.next()).done);m=!0)_.value._prepareBuffer(h,g)}catch(M){f=!0,v=M}finally{try{m||x.return==null||x.return()}finally{if(f)throw v}}g.disableRemainingAttributes(),h.indexBuffer&&this._bindBuffer(h.indexBuffer,p.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,h.model.hasFillTransparency()),this._drawElements(p.TRIANGLES,d),g.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<h.lineVertexCount){this._useLineColor=0<h.model.vertexStrokeColors.length;var S=this._getRetainedStrokeShader(),j=(this._setStrokeUniforms(S),!0),f=!1,v=void 0;try{for(var T,C=this.retainedMode.buffers.stroke[Symbol.iterator]();!(j=(T=C.next()).done);j=!0)T.value._prepareBuffer(h,S)}catch(A){f=!0,v=A}finally{try{j||C.return==null||C.return()}finally{if(f)throw v}}S.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,h.model.hasStrokeTransparency()),this._drawArrays(p.TRIANGLES,d),S.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(h),this},a.default.RendererGL.prototype.drawBuffersScaled=function(d,p,h,g){var m=this.uModelMatrix.copy();try{this.uModelMatrix.scale(p,h,g),this.drawBuffers(d)}finally{this.uModelMatrix=m}},a.default.RendererGL.prototype._drawArrays=function(d,p){return this.GL.drawArrays(d,0,this.retainedMode.geometry[p].lineVertexCount),this},a.default.RendererGL.prototype._drawElements=function(d,h){var h=this.retainedMode.geometry[h],g=this.GL;if(h.indexBuffer){if(this._pInst.webglVersion!==c.WEBGL2&&h.indexBufferType===g.UNSIGNED_INT&&!g.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");g.drawElements(g.TRIANGLES,h.vertexCount,h.indexBufferType,0)}else g.drawArrays(d||g.TRIANGLES,0,h.vertexCount)},a.default.RendererGL.prototype._drawPoints=function(d,p){var h=this.GL,g=this._getImmediatePointShader();this._setPointUniforms(g),this._bindBuffer(p,h.ARRAY_BUFFER,this._vToNArray(d),Float32Array,h.STATIC_DRAW),g.enableAttrib(g.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),h.drawArrays(h.Points,0,d.length),g.unbindShader()};var b=a.default.RendererGL;u.default=b},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(O,i,u){"use strict";function s(G){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W})(G)}function l(G){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(W){return s(W)}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":s(W)})(G)}O("core-js/modules/es.symbol"),O("core-js/modules/es.symbol.description"),O("core-js/modules/es.symbol.iterator"),O("core-js/modules/es.array.concat"),O("core-js/modules/es.array.copy-within"),O("core-js/modules/es.array.every"),O("core-js/modules/es.array.fill"),O("core-js/modules/es.array.flat"),O("core-js/modules/es.array.flat-map"),O("core-js/modules/es.array.from"),O("core-js/modules/es.array.includes"),O("core-js/modules/es.array.iterator"),O("core-js/modules/es.array.map"),O("core-js/modules/es.array.slice"),O("core-js/modules/es.array.some"),O("core-js/modules/es.array.unscopables.flat"),O("core-js/modules/es.array.unscopables.flat-map"),O("core-js/modules/es.map"),O("core-js/modules/es.object.assign"),O("core-js/modules/es.object.get-own-property-descriptor"),O("core-js/modules/es.object.get-prototype-of"),O("core-js/modules/es.object.to-string"),O("core-js/modules/es.reflect.construct"),O("core-js/modules/es.reflect.get"),O("core-js/modules/es.regexp.to-string"),O("core-js/modules/es.set"),O("core-js/modules/es.string.includes"),O("core-js/modules/es.string.iterator"),O("core-js/modules/es.typed-array.float32-array"),O("core-js/modules/es.typed-array.float64-array"),O("core-js/modules/es.typed-array.int16-array"),O("core-js/modules/es.typed-array.uint8-array"),O("core-js/modules/es.typed-array.uint16-array"),O("core-js/modules/es.typed-array.uint32-array"),O("core-js/modules/es.typed-array.copy-within"),O("core-js/modules/es.typed-array.every"),O("core-js/modules/es.typed-array.fill"),O("core-js/modules/es.typed-array.filter"),O("core-js/modules/es.typed-array.find"),O("core-js/modules/es.typed-array.find-index"),O("core-js/modules/es.typed-array.for-each"),O("core-js/modules/es.typed-array.includes"),O("core-js/modules/es.typed-array.index-of"),O("core-js/modules/es.typed-array.iterator"),O("core-js/modules/es.typed-array.join"),O("core-js/modules/es.typed-array.last-index-of"),O("core-js/modules/es.typed-array.map"),O("core-js/modules/es.typed-array.reduce"),O("core-js/modules/es.typed-array.reduce-right"),O("core-js/modules/es.typed-array.reverse"),O("core-js/modules/es.typed-array.set"),O("core-js/modules/es.typed-array.slice"),O("core-js/modules/es.typed-array.some"),O("core-js/modules/es.typed-array.sort"),O("core-js/modules/es.typed-array.subarray"),O("core-js/modules/es.typed-array.to-locale-string"),O("core-js/modules/es.typed-array.to-string"),O("core-js/modules/es.weak-map"),O("core-js/modules/web.dom-collections.iterator"),O("core-js/modules/es.symbol"),O("core-js/modules/es.symbol.description"),O("core-js/modules/es.symbol.iterator"),O("core-js/modules/es.array.concat"),O("core-js/modules/es.array.copy-within"),O("core-js/modules/es.array.every"),O("core-js/modules/es.array.fill"),O("core-js/modules/es.array.flat"),O("core-js/modules/es.array.flat-map"),O("core-js/modules/es.array.from"),O("core-js/modules/es.array.includes"),O("core-js/modules/es.array.iterator"),O("core-js/modules/es.array.map"),O("core-js/modules/es.array.slice"),O("core-js/modules/es.array.some"),O("core-js/modules/es.array.unscopables.flat"),O("core-js/modules/es.array.unscopables.flat-map"),O("core-js/modules/es.map"),O("core-js/modules/es.object.assign"),O("core-js/modules/es.object.to-string"),O("core-js/modules/es.set"),O("core-js/modules/es.string.includes"),O("core-js/modules/es.string.iterator"),O("core-js/modules/es.typed-array.float32-array"),O("core-js/modules/es.typed-array.float64-array"),O("core-js/modules/es.typed-array.int16-array"),O("core-js/modules/es.typed-array.uint8-array"),O("core-js/modules/es.typed-array.uint16-array"),O("core-js/modules/es.typed-array.uint32-array"),O("core-js/modules/es.typed-array.copy-within"),O("core-js/modules/es.typed-array.every"),O("core-js/modules/es.typed-array.fill"),O("core-js/modules/es.typed-array.filter"),O("core-js/modules/es.typed-array.find"),O("core-js/modules/es.typed-array.find-index"),O("core-js/modules/es.typed-array.for-each"),O("core-js/modules/es.typed-array.includes"),O("core-js/modules/es.typed-array.index-of"),O("core-js/modules/es.typed-array.iterator"),O("core-js/modules/es.typed-array.join"),O("core-js/modules/es.typed-array.last-index-of"),O("core-js/modules/es.typed-array.map"),O("core-js/modules/es.typed-array.reduce"),O("core-js/modules/es.typed-array.reduce-right"),O("core-js/modules/es.typed-array.reverse"),O("core-js/modules/es.typed-array.set"),O("core-js/modules/es.typed-array.slice"),O("core-js/modules/es.typed-array.some"),O("core-js/modules/es.typed-array.sort"),O("core-js/modules/es.typed-array.subarray"),O("core-js/modules/es.typed-array.to-locale-string"),O("core-js/modules/es.typed-array.to-string"),O("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.readPixelsWebGL=z,u.readPixelWebGL=q,u.default=void 0;var a=h(O("../core/main")),c=function(G){if(G&&G.__esModule)return G;if(G===null||l(G)!=="object"&&typeof G!="function")return{default:G};var W=p();if(W&&W.has(G))return W.get(G);var Z,ae={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(Z in G){var D;Object.prototype.hasOwnProperty.call(G,Z)&&((D=L?Object.getOwnPropertyDescriptor(G,Z):null)&&(D.get||D.set)?Object.defineProperty(ae,Z,D):ae[Z]=G[Z])}return ae.default=G,W&&W.set(G,ae),ae}(O("../core/constants")),y=h(O("./GeometryBuilder")),b=h(O("libtess")),d=(O("./p5.Shader"),O("./p5.Camera"),O("../core/p5.Renderer"),O("./p5.Matrix"),O("./p5.Framebuffer"),O("path"),O("./p5.Texture"));function p(){var G;return typeof WeakMap!="function"?null:(G=new WeakMap,p=function(){return G},G)}function h(G){return G&&G.__esModule?G:{default:G}}function g(G){return function(W){if(Array.isArray(W)){for(var Z=0,ae=new Array(W.length);Z<W.length;Z++)ae[Z]=W[Z];return ae}}(G)||function(W){if(Symbol.iterator in Object(W)||Object.prototype.toString.call(W)==="[object Arguments]")return Array.from(W)}(G)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(G,W){for(var Z=0;Z<W.length;Z++){var ae=W[Z];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(G,ae.key,ae)}}function f(G,W,Z){return(f=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(U,L,D){var U=function(H,X){for(;!Object.prototype.hasOwnProperty.call(H,X)&&(H=S(H))!==null;);return H}(U,L);if(U)return(U=Object.getOwnPropertyDescriptor(U,L)).get?U.get.call(D):U.value})(G,W,Z||G)}function v(G,W){return(v=Object.setPrototypeOf||function(Z,ae){return Z.__proto__=ae,Z})(G,W)}function _(G){return function(){var W,Z,ae=S(G);return W=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(W=S(this).constructor,Reflect.construct(ae,arguments,W)):ae.apply(this,arguments),ae=this,!(Z=W)||l(Z)!=="object"&&typeof Z!="function"?x(ae):Z}}function x(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function S(G){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(W){return W.__proto__||Object.getPrototypeOf(W)})(G)}function j(G,W,Z){W in G?Object.defineProperty(G,W,{value:Z,enumerable:!0,configurable:!0,writable:!0}):G[W]=Z}function T(G,W){P+="#define STROKE_CAP_".concat(G," ").concat(W,`
`),k[c[G]]=W}function C(G,W){P+="#define STROKE_JOIN_".concat(G," ").concat(W,`
`),A[c[G]]=W}var M,k={},A={},P="",O=(T("ROUND",0),T("PROJECT",1),T("SQUARE",2),C("ROUND",0),C("MITER",1),C("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float uMetallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector, float shininess, float metallic) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, shininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse(vec3 vNormal, vec3 vViewPosition, float metallic){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular(vec3 vNormal, vec3 vViewPosition, float shininess, float metallic){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  // In p5js the range of shininess is >= 1,
  // Therefore roughness range will be ([0,1]*8)*20 or [0, 160]
  // The factor of 8 is because currently the getSpecularTexture
  // only calculated 8 different levels of roughness
  // The factor of 20 is just to spread up this range so that,
  // [1, max] of shininess is converted to [0,160] of roughness
  float roughness = 20. / shininess;
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, roughness * 8.);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  float shininess,
  float metallic,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition, metallic);
    totalSpecular += calculateImageSpecular(normal, modelPosition, shininess, metallic);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),V={sphereMappingFrag:`#define PI 3.141592

precision highp float;
  
uniform sampler2D uSampler;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    vec4 newTexColor = texture2D(uSampler, vTexCoord);
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    float temp = rotatedNormal.z;
    rotatedNormal.z = rotatedNormal.x;
    rotatedNormal.x = -temp;
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    newTexColor = texture2D(uSampler, suv.xy);
    gl_FragColor = newTexColor;
}
`,immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 positionVec4 = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  gl_Position = uProjectionMatrix * positionVec4;

  vVertexNormal = HOOK_getWorldNormal(normalize(uNormalMatrix * HOOK_getLocalNormal(aNormal)));
  vVertTexCoord = HOOK_getUV(aTexCoord);
  vColor = HOOK_getVertexColor(uUseVertexColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vVertexNormal, 1.0));
  HOOK_afterFragment();
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vColor.rgb, 1.) * vColor.a);
  HOOK_afterFragment();
}
`,lightVert:O+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = HOOK_getWorldNormal(uNormalMatrix * HOOK_getLocalNormal(aNormal));
  vTexCoord = HOOK_getUV(aTexCoord);

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = HOOK_getVertexColor((uUseVertexColor ? aVertexColor : uMaterialColor));
  HOOK_afterVertex();
}
`,phongFrag:O+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

struct ColorComponents {
  vec3 baseColor;
  float opacity;
  vec3 ambientColor;
  vec3 specularColor;
  vec3 diffuse;
  vec3 ambient;
  vec3 specular;
  vec3 emissive;
};

struct Inputs {
  vec3 normal;
  vec2 texCoord;
  vec3 ambientLight;
  vec3 ambientMaterial;
  vec3 specularMaterial;
  vec3 emissiveMaterial;
  vec4 color;
  float shininess;
  float metalness;
};

void main(void) {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.normal = normalize(vNormal);
  inputs.texCoord = vTexCoord;
  inputs.ambientLight = vAmbientColor;
  inputs.color = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
  inputs.shininess = uShininess;
  inputs.metalness = uMetallic;
  inputs.ambientMaterial = uHasSetAmbient ? uAmbientMatColor.rgb : inputs.color.rgb;
  inputs.specularMaterial = uSpecularMatColor.rgb;
  inputs.emissiveMaterial = uEmissiveMatColor.rgb;
  inputs = HOOK_getPixelInputs(inputs);

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, inputs.normal, inputs.shininess, inputs.metalness, diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec2 texCoord = inputs.texCoord;
  vec4 baseColor = inputs.color;
  ColorComponents c;
  c.opacity = baseColor.a;
  c.baseColor = baseColor.rgb;
  c.ambientColor = inputs.ambientMaterial;
  c.specularColor = inputs.specularMaterial;
  c.diffuse = diffuse;
  c.ambient = inputs.ambientLight;
  c.specular = specular;
  c.emissive = inputs.emissiveMaterial;
  OUT_COLOR = HOOK_getFinalColor(HOOK_combineColors(c));
  HOOK_afterFragment();
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:P+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;
OUT float vStrokeWeight;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  HOOK_beforeVertex();
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 localPosition = vec4(HOOK_getLocalPosition(aPosition.xyz), 1.);
  vec4 posp = vec4(HOOK_getWorldPosition((uModelViewMatrix * localPosition).xyz), 1.);
  vec4 posqIn = posp + uModelViewMatrix * vec4(aTangentIn, 0);
  vec4 posqOut = posp + uModelViewMatrix * vec4(aTangentOut, 0);
  float strokeWeight = HOOK_getStrokeWeight(uStrokeWeight);
  vStrokeWeight = strokeWeight;

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // A mix of scaling and offsetting is used based on distance
  // Discussion here:
  // https://github.com/processing/p5.js/issues/7200 

  // using a scale <1 moves the lines towards nearby camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float zDistance = -posp.z; 
  float distanceFactor = smoothstep(0.0, 800.0, zDistance); 
  
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  float scale = mix(1., 0.995, facingCamera);
  float dynamicScale = mix(scale, 1.0, distanceFactor); // Closer = more scale, farther = less

  posp.xyz = posp.xyz * dynamicScale;
  posqIn.xyz = posqIn.xyz * dynamicScale;
  posqOut.xyz = posqOut.xyz * dynamicScale;

  // Moving vertices slightly toward camera when far away 
  // https://github.com/processing/p5.js/issues/6956 
  float zOffset = mix(-0.00045, -1., facingCamera);
  float dynamicZAdjustment = mix(0.0, zOffset, distanceFactor); // Closer = less zAdjustment, farther = more

  posp.z -= dynamicZAdjustment;
  posqIn.z -= dynamicZAdjustment;
  posqOut.z -= dynamicZAdjustment;
  
  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = HOOK_getLineCenter(p.xy);

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * strokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * strokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * strokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * strokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * strokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * strokeWeight / 2.));
    } else {
      vMaxDist = strokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      strokeWeight * 0.5;
    vMaxDist = strokeWeight / 2.;
  }
  vPosition = HOOK_getLinePosition(vCenter + offset);

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = HOOK_getVertexColor(uUseLineColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,lineFrag:P+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vStrokeWeight;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

struct Inputs {
  vec4 color;
  vec2 tangent;
  vec2 center;
  vec2 position;
  float strokeWeight;
};

void main() {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.color = vColor;
  inputs.tangent = vTangent;
  inputs.center = vCenter;
  inputs.position = vPosition;
  inputs.strokeWeight = vStrokeWeight;
  inputs = HOOK_getPixelInputs(inputs);

  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      HOOK_shouldDiscard(dot(inputs.position - inputs.center, inputs.tangent) > 0.)
    ) {
      discard;
    // Use full area for PROJECT
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-inputs.tangent.y, inputs.tangent.x);
      if (HOOK_shouldDiscard(abs(dot(inputs.position - inputs.center, normal)) > vMaxDist)) {
        discard;
      }
    // Use full area for MITER
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  }
  OUT_COLOR = HOOK_getFinalColor(vec4(inputs.color.rgb, 1.) * inputs.color.a);
  HOOK_afterFragment();
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

void main() {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);
  gl_Position = uProjectionMatrix * viewModelPosition;  

  float pointSize = HOOK_getPointSize(uPointSize);

	gl_PointSize = pointSize;
	vStrokeWeight = pointSize;
  HOOK_afterVertex();
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  HOOK_beforeFragment();
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(HOOK_shouldDiscard(mask > 0.98)){
    discard;
  }

  OUT_COLOR = HOOK_getFinalColor(vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a);
  HOOK_afterFragment();
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`},F=V.sphereMappingFrag;for(M in V)V[M]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+V[M];j(O={},c.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),j(O,c.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),j(O,c.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),j(O,c.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),j(O,c.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),j(O,c.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),j(O,c.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),j(O,c.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var R=O;function z(G,W,se,ae,L,D,U,H,X,J){var le=W.getParameter(W.FRAMEBUFFER_BINDING),se=(W.bindFramebuffer(W.FRAMEBUFFER,se),H===W.RGBA?4:3),ne=D*U*se,ce=X===W.UNSIGNED_BYTE?Uint8Array:Float32Array;if(G instanceof ce&&G.length===ne||(G=new ce(ne)),W.readPixels(ae,J?J-L-U:L,D,U,H,X,G),W.bindFramebuffer(W.FRAMEBUFFER,le),J)for(var he=Math.floor(U/2),ee=new ce(D*se),oe=0;oe<he;oe++){var fe=oe*D*4,_e=(U-oe-1)*D*4;ee.set(G.subarray(fe,fe+4*D)),G.copyWithin(fe,_e,_e+4*D),G.set(ee,_e)}return G}function q(G,X,Z,ae,L,D,U){var H=G.getParameter(G.FRAMEBUFFER_BINDING),X=(G.bindFramebuffer(G.FRAMEBUFFER,X),L===G.RGBA?4:3),X=new(D===G.UNSIGNED_BYTE?Uint8Array:Float32Array)(X);return G.readPixels(Z,U?U-ae-1:ae,1,1,L,D,X),G.bindFramebuffer(G.FRAMEBUFFER,H),Array.from(X)}a.default.prototype.setAttributes=function(G,W){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var Z=!0;if(W!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[G]!==W&&(this._glAttributes[G]=W,Z=!1)):G instanceof Object&&this._glAttributes!==G&&(this._glAttributes=G,Z=!1),this._renderer.isP3D&&!Z){if(!this._setupDone){for(var ae in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(ae))return void a.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},a.default.RendererGL=function(G){var W=L;if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(G&&G.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),G&&v(W,G);var Z,ae=_(L);function L(D,U,H,X){if(this instanceof L)return(D=ae.call(this,D,U,H))._setAttributeDefaults(U),D._initContext(),D.isP3D=!0,D.geometryBuilder=void 0,D.GL=D.drawingContext,D._pInst._setProperty("drawingContext",D.drawingContext),D._isErasing=!1,D._clipDepths=[],D._isClipApplied=!1,D._stencilTestOn=!1,D._enableLighting=!1,D.ambientLightColors=[],D.mixedAmbientLight=[],D.mixedSpecularColor=[],D.specularColors=[1,1,1],D.directionalLightDirections=[],D.directionalLightDiffuseColors=[],D.directionalLightSpecularColors=[],D.pointLightPositions=[],D.pointLightDiffuseColors=[],D.pointLightSpecularColors=[],D.spotLightPositions=[],D.spotLightDirections=[],D.spotLightDiffuseColors=[],D.spotLightSpecularColors=[],D.spotLightAngle=[],D.spotLightConc=[],D.activeImageLight=null,D.diffusedTextures=new Map,D.specularTextures=new Map,D.drawMode=c.FILL,D.curFillColor=D._cachedFillStyle=[1,1,1,1],D.curAmbientColor=D._cachedFillStyle=[1,1,1,1],D.curSpecularColor=D._cachedFillStyle=[0,0,0,0],D.curEmissiveColor=D._cachedFillStyle=[0,0,0,0],D.curStrokeColor=D._cachedStrokeStyle=[0,0,0,1],D.curBlendMode=c.BLEND,D.preEraseBlend=void 0,D._cachedBlendMode=void 0,D.webglVersion===c.WEBGL2?D.blendExt=D.GL:D.blendExt=D.GL.getExtension("EXT_blend_minmax"),D._isBlending=!1,D._hasSetAmbient=!1,D._useSpecularMaterial=!1,D._useEmissiveMaterial=!1,D._useNormalMaterial=!1,D._useShininess=1,D._useMetalness=0,D._useLineColor=!1,D._useVertexColor=!1,D.registerEnabled=new Set,D._tint=[255,255,255,255],D.constantAttenuation=1,D.linearAttenuation=0,D.quadraticAttenuation=0,D.uModelMatrix=new a.default.Matrix,D.uViewMatrix=new a.default.Matrix,D.uMVMatrix=new a.default.Matrix,D.uPMatrix=new a.default.Matrix,D.uNMatrix=new a.default.Matrix("mat3"),D.curMatrix=new a.default.Matrix("mat3"),D._currentNormal=new a.default.Vector(0,0,1),D._curCamera=new a.default.Camera(x(D)),D._curCamera._computeCameraDefaultSettings(),D._curCamera._setDefaultCamera(),D.filterCamera=new a.default.Camera(x(D)),D.filterCamera._computeCameraDefaultSettings(),D.filterCamera._setDefaultCamera(),D.prevTouches=[],D.zoomVelocity=0,D.rotateVelocity=new a.default.Vector(0,0),D.moveVelocity=new a.default.Vector(0,0),D.executeZoom=!1,D.executeRotateAndMove=!1,D.specularShader=void 0,D.sphereMapping=void 0,D.diffusedShader=void 0,D._defaultLightShader=void 0,D._defaultImmediateModeShader=void 0,D._defaultNormalShader=void 0,D._defaultColorShader=void 0,D._defaultPointShader=void 0,D.userFillShader=void 0,D.userStrokeShader=void 0,D.userPointShader=void 0,D.retainedMode={geometry:{},buffers:{stroke:[new a.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",x(D)),new a.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",x(D)),new a.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",x(D)),new a.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",x(D)),new a.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",x(D))],fill:[new a.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",x(D),D._vToNArray),new a.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",x(D),D._vToNArray),new a.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",x(D)),new a.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",x(D)),new a.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",x(D),D._flatten)],text:[new a.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",x(D),D._vToNArray),new a.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",x(D),D._flatten)]}},D.immediateMode={geometry:new a.default.Geometry,shapeMode:c.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new a.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",x(D),D._vToNArray),new a.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",x(D),D._vToNArray),new a.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",x(D)),new a.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",x(D)),new a.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",x(D),D._flatten)],stroke:[new a.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",x(D)),new a.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",x(D)),new a.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",x(D)),new a.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",x(D)),new a.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",x(D))],point:D.GL.createBuffer()}},D.pointSize=5,D.curStrokeWeight=1,D.curStrokeCap=c.ROUND,D.curStrokeJoin=c.ROUND,D.textures=new Map,D.framebuffers=new Set,D.activeFramebuffers=[],D.filterShader=void 0,D.filterLayer=void 0,D.filterLayerTemp=void 0,D.defaultFilterShaders={},D.textureMode=c.IMAGE,D.textureWrapX=c.CLAMP,D.textureWrapY=c.CLAMP,D._tex=null,D._curveTightness=6,D._lookUpTableBezier=[],D._lookUpTableQuadratic=[],D._lutBezierDetail=0,D._lutQuadraticDetail=0,D.isProcessingVertices=!1,D._tessy=D._initTessy(),D.fontInfos={},D._curShader=void 0,D;throw new TypeError("Cannot call a class as a function")}return W=L,(G=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new y.default(this)}},{key:"endGeometry",value:function(){var D;if(this.geometryBuilder)return D=this.geometryBuilder.finish(),this.geometryBuilder=void 0,D;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(D){return this.beginGeometry(),D(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(D){var U={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};D._glAttributes===null?D._glAttributes=U:D._glAttributes=Object.assign(U,D._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?c.WEBGL2:c.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var D=this.drawingContext;D.enable(D.DEPTH_TEST),D.depthFunc(D.LEQUAL),D.viewport(0,0,D.drawingBufferWidth,D.drawingBufferHeight),D.pixelStorei(D.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var D=this.drawingContext;return D.getParameter(D.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(D,U){this._maxTextureSize||(this._maxTextureSize=this._getParam());var X=this._maxTextureSize,X=(a.default.prototype._maxAllowedPixelDimensions,Math.floor(X/this.pixelDensity())),H=Math.min(D,X),X=Math.min(U,X);return H===D&&X===U||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(H,", height: ").concat(X,".")),{adjustedWidth:H,adjustedHeight:X}}},{key:"_resetContext",value:function(D,U){var H,X=this.width,J=this.height,se=this.canvas.id,le=this._pInst instanceof a.default.Graphics,se=(le?((H=this._pInst).canvas.parentNode.removeChild(H.canvas),H.canvas=document.createElement("canvas"),(H._pInst._userNode||document.body).appendChild(H.canvas),a.default.Element.call(H,H.canvas,H._pInst),H.width=X,H.height=J):((H=this.canvas)&&H.parentNode.removeChild(H),(H=document.createElement("canvas")).id=se,(this._pInst._userNode||document.body).appendChild(H),this._pInst.canvas=H,this.canvas=H),new a.default.RendererGL(this._pInst.canvas,this._pInst,!le));this._pInst._setProperty("_renderer",se),se.resize(X,J),se._applyDefaults(),le||this._pInst._elements.push(se),typeof U=="function"&&setTimeout(function(){U.apply(window._renderer,D)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var X=(X=this._pInst).color.apply(X,arguments),D=X.levels[0]/255,U=X.levels[1]/255,H=X.levels[2]/255,X=X.levels[3]/255;this.clear(D,U,H,X)}},{key:"fill",value:function(D,U,H,X){var J=a.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=J._array,this.drawMode=c.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(D,U,H,X){var J=a.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=J._array}},{key:"strokeCap",value:function(D){this.curStrokeCap=D}},{key:"strokeJoin",value:function(D){this.curStrokeJoin=D}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(D,U){D.width===U.width&&D.height===U.height||D.resize(U.width,U.height),D.pixelDensity()!==U.pixelDensity()&&D.pixelDensity(U.pixelDensity())}},{key:"filter",value:function(){var D,U,H=this,X=this.getFilterLayer(),J=void 0,le=void 0,se=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(le=arguments.length<=0?void 0:arguments[0],j(D={},c.BLUR,3),j(D,c.POSTERIZE,4),j(D,c.THRESHOLD,.5),J=le in(D=D)&&(arguments.length<=1?void 0:arguments[1])===void 0?D[le]:arguments.length<=1?void 0:arguments[1],le in this.defaultFilterShaders||(this.defaultFilterShaders[le]=new a.default.Shader(X._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,R[le])),this.filterShader=this.defaultFilterShaders[le]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),ne=(this.matchSize(X,se),X.draw(function(){return H._pInst.clear()}),[1/(se.width*se.pixelDensity()),1/(se.height*se.pixelDensity())]);le===c.BLUR?(U=this.getFilterLayerTemp(),this.matchSize(U,se),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(c.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",ne),this.filterShader.setUniform("canvasSize",[se.width,se.height]),this.filterShader.setUniform("radius",Math.max(1,J)),U.draw(function(){H.filterShader.setUniform("direction",[1,0]),H.filterShader.setUniform("tex0",se),H._pInst.clear(),H._pInst.shader(H.filterShader),H._pInst.noLights(),H._pInst.plane(se.width,se.height)}),X.draw(function(){H.filterShader.setUniform("direction",[0,1]),H.filterShader.setUniform("tex0",U),H._pInst.clear(),H._pInst.shader(H.filterShader),H._pInst.noLights(),H._pInst.plane(se.width,se.height)}),this._pInst.pop()):X.draw(function(){H._pInst.noStroke(),H._pInst.blendMode(c.BLEND),H._pInst.shader(H.filterShader),H.filterShader.setUniform("tex0",se),H.filterShader.setUniform("texelSize",ne),H.filterShader.setUniform("canvasSize",[se.width,se.height]),H.filterShader.setUniform("filterParameter",J),H._pInst.noLights(),H._pInst.plane(se.width,se.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(c.CORNER),this._pInst.blendMode(c.BLEND),se.filterCamera._resize(),this._pInst.setCamera(se.filterCamera),this._pInst.resetMatrix(),this._pInst.image(X,-se.width/2,-se.height/2,se.width,se.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(D){return D?this._pInst.pixelDensity(D):this._pInst.pixelDensity()}},{key:"blendMode",value:function(D){D===c.DARKEST||D===c.LIGHTEST||D===c.ADD||D===c.BLEND||D===c.SUBTRACT||D===c.SCREEN||D===c.EXCLUSION||D===c.REPLACE||D===c.MULTIPLY||D===c.REMOVE?this.curBlendMode=D:D!==c.BURN&&D!==c.OVERLAY&&D!==c.HARD_LIGHT&&D!==c.SOFT_LIGHT&&D!==c.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(D,U){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(c.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,D/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,U/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var D=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},D=(f(S(L.prototype),"beginClip",this).call(this,D),this.drawTarget()._isClipApplied=!0,this.GL);D.clearStencil(0),D.clear(D.STENCIL_BUFFER_BIT),D.enable(D.STENCIL_TEST),this._stencilTestOn=!0,D.stencilFunc(D.ALWAYS,1,255),D.stencilOp(D.KEEP,D.KEEP,D.REPLACE),D.disable(D.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var D=this.GL;D.stencilOp(D.KEEP,D.KEEP,D.KEEP),D.stencilFunc(this._clipInvert?D.EQUAL:D.NOTEQUAL,0,255),D.enable(D.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),f(S(L.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(D){this.curStrokeWeight!==D&&(this.pointSize=D,this.curStrokeWeight=D)}},{key:"_getPixel",value:function(D,U){var H=this.GL;return q(H,null,D,U,H.RGBA,H.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var D,U,H=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(D=this._pInst._pixelDensity,U=this.GL,H._setProperty("pixels",z(H.pixels,U,null,0,0,this.width*D,this.height*D,U.RGBA,U.UNSIGNED_BYTE,this.height*D)))}},{key:"updatePixels",value:function(){var D=this._getTempFramebuffer();D.pixels=this._pixelsState.pixels,D.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(c.CENTER),this._pInst.image(D,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:c.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:c.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(D){return this.retainedMode.geometry[D]!==void 0}},{key:"viewport",value:function(D,U){this._viewport=[0,0,D,U],this.GL.viewport(0,0,D,U)}},{key:"resize",value:function(J,X){a.default.Renderer.prototype.resize.call(this,J,X),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var J=this._pixelsState,H=(J.pixels!==void 0&&J._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),X=!1,J=void 0;try{for(var le,se=this.framebuffers[Symbol.iterator]();!(H=(le=se.next()).done);H=!0)le.value._canvasSizeChanged()}catch(ne){X=!0,J=ne}finally{try{H||se.return==null||se.return()}finally{if(X)throw J}}}},{key:"clear",value:function(){var D=(arguments.length<=0?void 0:arguments[0])||0,U=(arguments.length<=1?void 0:arguments[1])||0,H=(arguments.length<=2?void 0:arguments[2])||0,X=(arguments.length<=3?void 0:arguments[3])||0,J=this.activeFramebuffer();J&&J.format===c.UNSIGNED_BYTE&&!J.antialias&&X===0&&(X=1e-10),this.GL.clearColor(D*X,U*X,H*X,X),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&arguments[0]!==void 0?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(D,U,H,X,J,le){arguments.length===16?a.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([D,U,0,0,H,X,0,0,0,0,1,0,J,le,0,1])}},{key:"translate",value:function(D,U,H){return D instanceof a.default.Vector&&(H=D.z,U=D.y,D=D.x),this.uModelMatrix.translate([D,U,H]),this}},{key:"scale",value:function(D,U,H){return this.uModelMatrix.scale(D,U,H),this}},{key:"rotate",value:function(D,U){return U===void 0?this.rotateZ(D):(a.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(D){return this.rotate(D,1,0,0),this}},{key:"rotateY",value:function(D){return this.rotate(D,0,1,0),this}},{key:"rotateZ",value:function(D){return this.rotate(D,0,0,1),this}},{key:"push",value:function(){var D=a.default.Renderer.prototype.push.apply(this),U=D.properties;return U.uModelMatrix=this.uModelMatrix.copy(),U.uViewMatrix=this.uViewMatrix.copy(),U.uPMatrix=this.uPMatrix.copy(),U._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),U.ambientLightColors=this.ambientLightColors.slice(),U.specularColors=this.specularColors.slice(),U.directionalLightDirections=this.directionalLightDirections.slice(),U.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),U.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),U.pointLightPositions=this.pointLightPositions.slice(),U.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),U.pointLightSpecularColors=this.pointLightSpecularColors.slice(),U.spotLightPositions=this.spotLightPositions.slice(),U.spotLightDirections=this.spotLightDirections.slice(),U.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),U.spotLightSpecularColors=this.spotLightSpecularColors.slice(),U.spotLightAngle=this.spotLightAngle.slice(),U.spotLightConc=this.spotLightConc.slice(),U.userFillShader=this.userFillShader,U.userStrokeShader=this.userStrokeShader,U.userPointShader=this.userPointShader,U.pointSize=this.pointSize,U.curStrokeWeight=this.curStrokeWeight,U.curStrokeColor=this.curStrokeColor,U.curFillColor=this.curFillColor,U.curAmbientColor=this.curAmbientColor,U.curSpecularColor=this.curSpecularColor,U.curEmissiveColor=this.curEmissiveColor,U._hasSetAmbient=this._hasSetAmbient,U._useSpecularMaterial=this._useSpecularMaterial,U._useEmissiveMaterial=this._useEmissiveMaterial,U._useShininess=this._useShininess,U._useMetalness=this._useMetalness,U.constantAttenuation=this.constantAttenuation,U.linearAttenuation=this.linearAttenuation,U.quadraticAttenuation=this.quadraticAttenuation,U._enableLighting=this._enableLighting,U._useNormalMaterial=this._useNormalMaterial,U._tex=this._tex,U.drawMode=this.drawMode,U._currentNormal=this._currentNormal,U.curBlendMode=this.curBlendMode,U.activeImageLight=this.activeImageLight,D}},{key:"pop",value:function(){var D;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var U=arguments.length,H=new Array(U),X=0;X<U;X++)H[X]=arguments[X];(D=f(S(L.prototype),"pop",this)).call.apply(D,[this].concat(H)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var D=this.drawTarget();D._isClipApplied!==this._stencilTestOn&&(D._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var D=this.userStrokeShader;return D&&D.isStrokeShader()?D:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(D){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(F)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",D),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var D=this.userFillShader;if(this._useNormalMaterial&&(!D||!D.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!D||!D.isLightShader())return this._getLightShader()}else if(this._tex){if(!D||!D.isTextureShader())return this._getLightShader()}else if(!D)return this._getImmediateModeShader();return D}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var D=this.userFillShader;if(this._enableLighting){if(!D||!D.isLightShader())return this._getLightShader()}else if(this._tex){if(!D||!D.isTextureShader())return this._getLightShader()}else if(!D)return this._getColorShader();return D}},{key:"_getImmediatePointShader",value:function(){var D=this.userPointShader;return D&&D.isPointShader()?D:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"baseMaterialShader",value:function(){if(this._pInst._glAttributes.perPixelLighting)return this._getLightShader();throw new Error("The material shader does not support hooks without perPixelLighting. Try turning it back on.")}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new a.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+V.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+V.phongFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 combineColors":`(ColorComponents components) {
                vec4 color = vec4(0.);
                color.rgb += components.diffuse * components.baseColor;
                color.rgb += components.ambient * components.ambientColor;
                color.rgb += components.specular * components.specularColor;
                color.rgb += components.emissive;
                color.a = components.opacity;
                return color;
              }`,"vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}}):this._defaultLightShader=new a.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+V.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+V.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new a.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"baseNormalShader",value:function(){return this._getNormalShader()}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new a.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.normalFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultNormalShader}},{key:"baseColorShader",value:function(){return this._getColorShader()}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new a.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.basicFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultColorShader}},{key:"pointShader",value:function(){return this._getPointShader()}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new a.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.pointFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getPointSize":"(float size) { return size; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultPointShader}},{key:"baseStrokeShader",value:function(){return this._getLineShader()}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new a.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.lineFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getStrokeWeight":"(float weight) { return weight; }","vec2 getLineCenter":"(vec2 center) { return center; }","vec2 getLinePosition":"(vec2 position) { return position; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===c.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new a.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(D,U){var H="";return this.webglVersion===c.WEBGL2&&(H+=`#version 300 es
#define WEBGL2
`),D==="vert"?H+=`#define VERTEX_SHADER
`:D==="frag"&&(H+=`#define FRAGMENT_SHADER
`),U&&(H+="precision ".concat(U,` float;
`)),H}},{key:"_getEmptyTexture",value:function(){var D;return this._emptyTexture||((D=new a.default.Image(1,1)).set(0,0,255),this._emptyTexture=new a.default.Texture(this,D)),this._emptyTexture}},{key:"getTexture",value:function(D){D instanceof a.default.Framebuffer&&(D=D.color);var U=this.textures.get(D);return U||(U=new a.default.Texture(this,D),this.textures.set(D,U),U)}},{key:"getDiffusedTexture",value:function(D){var U,H,X=this;return this.diffusedTextures.get(D)!=null?this.diffusedTextures.get(D):(U=Math.floor(D.height/D.width*200),H=this._pInst.createFramebuffer({width:200,height:U,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(V.imageLightVert,V.imageLightDiffusedFrag)),H.draw(function(){X._pInst.shader(X.diffusedShader),X.diffusedShader.setUniform("environmentMap",D),X._pInst.noStroke(),X._pInst.rectMode(c.CENTER),X._pInst.noLights(),X._pInst.rect(0,0,200,U)}),this.diffusedTextures.set(D,H),H)}},{key:"getSpecularTexture",value:function(D){var U=this;if(this.specularTextures.get(D)!=null)return this.specularTextures.get(D);for(var H,X=[],J=this._pInst.createFramebuffer({width:512,height:512,density:1}),le=Math.log(512)/Math.log(2),se=(this.specularShader||(this.specularShader=this._pInst.createShader(V.imageLightVert,V.imageLightSpecularFrag)),512);1<=se;se/=2)(function(ne){J.resize(ne,ne);var ce=1-Math.log(ne)/Math.log(2)/le;J.draw(function(){U._pInst.shader(U.specularShader),U._pInst.clear(),U.specularShader.setUniform("environmentMap",D),U.specularShader.setUniform("roughness",ce),U._pInst.noStroke(),U._pInst.noLights(),U._pInst.plane(ne,ne)}),X.push(J.get().drawingContext.getImageData(0,0,ne,ne))})(se);return J.remove(),H=new d.MipmapTexture(this,X,{}),this.specularTextures.set(D,H),H}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(D){return new a.default.Framebuffer(this,D)}},{key:"_setStrokeUniforms",value:function(D){D.bindShader(),D.setUniform("uUseLineColor",this._useLineColor),D.setUniform("uMaterialColor",this.curStrokeColor),D.setUniform("uStrokeWeight",this.curStrokeWeight),D.setUniform("uStrokeCap",k[this.curStrokeCap]),D.setUniform("uStrokeJoin",A[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(D){var U=this,H=(D.bindShader(),this.mixedSpecularColor=g(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(X,J){return U.curFillColor[J]*U._useMetalness+X*(1-U._useMetalness)})),D.setUniform("uUseVertexColor",this._useVertexColor),D.setUniform("uMaterialColor",this.curFillColor),D.setUniform("isTexture",!!this._tex),this._tex&&D.setUniform("uSampler",this._tex),D.setUniform("uTint",this._tint),D.setUniform("uHasSetAmbient",this._hasSetAmbient),D.setUniform("uAmbientMatColor",this.curAmbientColor),D.setUniform("uSpecularMatColor",this.mixedSpecularColor),D.setUniform("uEmissiveMatColor",this.curEmissiveColor),D.setUniform("uSpecular",this._useSpecularMaterial),D.setUniform("uEmissive",this._useEmissiveMaterial),D.setUniform("uShininess",this._useShininess),D.setUniform("uMetallic",this._useMetalness),this._setImageLightUniforms(D),D.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3),H=(D.setUniform("uPointLightCount",H),D.setUniform("uPointLightLocation",this.pointLightPositions),D.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),D.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),H=(D.setUniform("uDirectionalLightCount",H),D.setUniform("uLightingDirection",this.directionalLightDirections),D.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),D.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),H=(this.mixedAmbientLight=g(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(X){return X-=U._useMetalness,Math.max(0,X)})),D.setUniform("uAmbientLightCount",H),D.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);D.setUniform("uSpotLightCount",H),D.setUniform("uSpotLightAngle",this.spotLightAngle),D.setUniform("uSpotLightConc",this.spotLightConc),D.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),D.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),D.setUniform("uSpotLightLocation",this.spotLightPositions),D.setUniform("uSpotLightDirection",this.spotLightDirections),D.setUniform("uConstantAttenuation",this.constantAttenuation),D.setUniform("uLinearAttenuation",this.linearAttenuation),D.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),D.bindTextures()}},{key:"_setImageLightUniforms",value:function(D){var U;D.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(U=this.getDiffusedTexture(this.activeImageLight),D.setUniform("environmentMapDiffused",U),U=this.getSpecularTexture(this.activeImageLight),D.setUniform("environmentMapSpecular",U))}},{key:"_setPointUniforms",value:function(D){D.bindShader(),D.setUniform("uMaterialColor",this.curStrokeColor),D.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(D,U,H,X,J){U=U||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(U,D),H!==void 0&&((D=H)instanceof a.default.DataArray?D=H.dataArray():D instanceof(X||Float32Array)||(D=new(X||Float32Array)(D)),this.GL.bufferData(U,D,J||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(D,U){return D.length===U.length&&D.every(function(H,X){return H===U[X]})}},{key:"_isTypedArray",value:function(D){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(U){return D instanceof U})}},{key:"_flatten",value:function(D){return D.flat()}},{key:"_vToNArray",value:function(D){return D.flatMap(function(U){return[U.x,U.y,U.z]})}},{key:"_bezierCoefficients",value:function(D){var U=D*D,H=1-D,X=H*H;return[X*H,3*X*D,3*H*U,U*D]}},{key:"_quadraticCoefficients",value:function(D){var U=1-D;return[U*U,2*U*D,D*D]}},{key:"_bezierToCatmull",value:function(D){return[D[1],D[1]+(D[2]-D[0])/this._curveTightness,D[2]-(D[3]-D[1])/this._curveTightness,D[2]]}},{key:"_initTessy",value:function(){var D=new b.default.GluTesselator;return D.gluTessCallback(b.default.gluEnum.GLU_TESS_VERTEX_DATA,function(U,H){var X=!0,J=!1,le=void 0;try{for(var se,ne=U[Symbol.iterator]();!(X=(se=ne.next()).done);X=!0){var ce=se.value;H.push(ce)}}catch(he){J=!0,le=he}finally{try{X||ne.return==null||ne.return()}finally{if(J)throw le}}}),D.gluTessCallback(b.default.gluEnum.GLU_TESS_BEGIN,function(U){U!==b.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(U))}),D.gluTessCallback(b.default.gluEnum.GLU_TESS_ERROR,function(U){console.log("error callback"),console.log("error number: ".concat(U))}),D.gluTessCallback(b.default.gluEnum.GLU_TESS_COMBINE,function(U,H,X){for(var J=new Array(a.default.RendererGL.prototype.tessyVertexSize).fill(0),le=0;le<X.length;le++)for(var se=0;se<J.length;se++)X[le]!==0&&H[le]&&(J[se]+=H[le][se]*X[le]);return J}),D.gluTessCallback(b.default.gluEnum.GLU_TESS_EDGE_FLAG,function(U){}),D.gluTessProperty(b.default.gluEnum.GLU_TESS_WINDING_RULE,b.default.windingRule.GLU_TESS_WINDING_NONZERO),D}},{key:"_triangulate",value:function(D){var U=D[0]?D[0][2]:void 0,H=!0,X=!0,ce=!1,ee=void 0;try{for(var J,le=D[Symbol.iterator]();!(X=(J=le.next()).done);X=!0)for(var se=J.value,ne=0;ne<se.length;ne+=a.default.RendererGL.prototype.tessyVertexSize)if(se[ne+2]!==U){H=!1;break}}catch(Re){ce=!0,ee=Re}finally{try{X||le.return==null||le.return()}finally{if(ce)throw ee}}H?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var ce=[],he=(this._tessy.gluTessBeginPolygon(ce),!0),ee=!1,oe=void 0;try{for(var fe,_e=D[Symbol.iterator]();!(he=(fe=_e.next()).done);he=!0){var pe=fe.value;this._tessy.gluTessBeginContour();for(var ye=0;ye<pe.length;ye+=a.default.RendererGL.prototype.tessyVertexSize){var xe=pe.slice(ye,ye+a.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(xe,xe)}this._tessy.gluTessEndContour()}}catch(Re){ee=!0,oe=Re}finally{try{he||_e.return==null||_e.return()}finally{if(ee)throw oe}}return this._tessy.gluTessEndPolygon(),ce}}])&&m(W.prototype,G),Z&&m(W,Z),L}(a.default.Renderer),a.default.prototype._assert3d=function(G){if(!this._renderer.isP3D)throw new Error("".concat(G,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},a.default.RendererGL.prototype.tessyVertexSize=12,O=a.default.RendererGL,u.default=O},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(t,i,u){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(c,y){return function(b){if(Array.isArray(b))return b}(c)||function(b,d){if(Symbol.iterator in Object(b)||Object.prototype.toString.call(b)==="[object Arguments]"){var p=[],h=!0,g=!1,m=void 0;try{for(var f,v=b[Symbol.iterator]();!(h=(f=v.next()).done)&&(p.push(f.value),!d||p.length!==d);h=!0);}catch(_){g=!0,m=_}finally{try{h||v.return==null||v.return()}finally{if(g)throw m}}return p}}(c,y)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(c,y){for(var b=0;b<y.length;b++){var d=y[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}s.default.Shader=function(){function c(p,h,g){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},f=this,v=c;if(!(f instanceof v))throw new TypeError("Cannot call a class as a function");this._renderer=p,this._vertSrc=h,this._fragSrc=g,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[],this.hooks={uniforms:m.uniforms||{},declarations:m.declarations,helpers:m.helpers||{},vertex:m.vertex||{},fragment:m.fragment||{},modified:{vertex:m.modified&&m.modified.vertex||{},fragment:m.modified&&m.modified.fragment||{}}}}var y,b,d;return y=c,(b=[{key:"shaderSrc",value:function(S,h){var g,m,f,v,_,S=l(S.split("void main"),2),x=S[0],S=S[1],j="";for(g in this.hooks.uniforms)j+="uniform ".concat(g,`;
`);for(m in this.hooks.declarations&&(j+=this.hooks.declarations+`
`),this.hooks[h].declarations&&(j+=this.hooks[h].declarations+`
`),this.hooks.helpers)j+="".concat(m).concat(this.hooks.helpers[m],`
`);for(f in this.hooks[h])f!=="declarations"&&(v=(_=l(f.split(" "),2))[0],_=_[1],this.hooks.modified[h][f]&&(j+="#define AUGMENTED_HOOK_"+_+`
`),j+=v+" HOOK_"+_+this.hooks[h][f]+`
`);return x+j+"void main"+S}},{key:"version",value:function(){var p=/#version (.+)$/.exec(this.vertSrc());return p?p[1]:"100 es"}},{key:"vertSrc",value:function(){return this.shaderSrc(this._vertSrc,"vertex")}},{key:"fragSrc",value:function(){return this.shaderSrc(this._fragSrc,"fragment")}},{key:"inspectHooks",value:function(){for(var p in console.log("==== Vertex shader hooks: ===="),this.hooks.vertex)console.log((this.hooks.modified.vertex[p]?"[MODIFIED] ":"")+p+this.hooks.vertex[p]);for(var h in console.log(""),console.log("==== Fragment shader hooks: ===="),this.hooks.fragment)console.log((this.hooks.modified.fragment[h]?"[MODIFIED] ":"")+h+this.hooks.fragment[h]);for(var g in console.log(""),console.log("==== Helper functions: ===="),this.hooks.helpers)console.log(g+this.hooks.helpers[g])}},{key:"modify",value:function(p){s.default._validateParameters("p5.Shader.modify",arguments);var h,g={vertex:{},fragment:{},helpers:{}};for(h in p)h!=="declarations"&&h!=="uniforms"&&(h==="vertexDeclarations"?g.vertex.declarations=(g.vertex.declarations||"")+`
`+p[h]:h==="fragmentDeclarations"?g.fragment.declarations=(g.fragment.declarations||"")+`
`+p[h]:this.hooks.vertex[h]?g.vertex[h]=p[h]:this.hooks.fragment[h]?g.fragment[h]=p[h]:g.helpers[h]=p[h]);var m,f,v=Object.assign({},this.hooks.modified.vertex),_=Object.assign({},this.hooks.modified.fragment);for(m in g.vertex||{})m!=="declarations"&&(v[m]=!0);for(f in g.fragment||{})f!=="declarations"&&(_[f]=!0);return new s.default.Shader(this._renderer,this._vertSrc,this._fragSrc,{declarations:(this.hooks.declarations||"")+`
`+(p.declarations||""),uniforms:Object.assign({},this.hooks.uniforms,p.uniforms||{}),fragment:Object.assign({},this.hooks.fragment,g.fragment||{}),vertex:Object.assign({},this.hooks.vertex,g.vertex||{}),helpers:Object.assign({},this.hooks.helpers,g.helpers||{}),modified:{vertex:v,fragment:_}})}},{key:"init",value:function(){if(this._glProgram===0){var p,h=this._renderer.GL;if(this._vertShader=h.createShader(h.VERTEX_SHADER),h.shaderSource(this._vertShader,this.vertSrc()),h.compileShader(this._vertShader),!h.getShaderParameter(this._vertShader,h.COMPILE_STATUS))return p=h.getShaderInfoLog(this._vertShader),console.error(p),null;if(this._fragShader=h.createShader(h.FRAGMENT_SHADER),h.shaderSource(this._fragShader,this.fragSrc()),h.compileShader(this._fragShader),!h.getShaderParameter(this._fragShader,h.COMPILE_STATUS))return p=h.getShaderInfoLog(this._fragShader),console.error(p),null;this._glProgram=h.createProgram(),h.attachShader(this._glProgram,this._vertShader),h.attachShader(this._glProgram,this._fragShader),h.linkProgram(this._glProgram),h.getProgramParameter(this._glProgram,h.LINK_STATUS)||s.default._friendlyError("Snap! Error linking shader program: ".concat(h.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"setDefaultUniforms",value:function(){for(var p in this.hooks.uniforms){var h=l(p.split(" "),2)[1],p=this.hooks.uniforms[p],g=void 0;(g=p instanceof Function?p():p)!=null&&this.setUniform(h,g)}}},{key:"copyToContext",value:function(p){var h=new s.default.Shader(p._renderer,this._vertSrc,this._fragSrc);return h.ensureCompiledOnContext(p),h}},{key:"ensureCompiledOnContext",value:function(p){if(this._glProgram!==0&&this._renderer!==p._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=p._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var p=this._renderer.GL,h=p.getProgramParameter(this._glProgram,p.ACTIVE_ATTRIBUTES),g=0;g<h;++g){var m=p.getActiveAttrib(this._glProgram,g),f=m.name,v=p.getAttribLocation(this._glProgram,f),_={};_.name=f,_.location=v,_.index=g,_.type=m.type,_.size=m.size,this.attributes[f]=_}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var p=this._renderer.GL,h=p.getProgramParameter(this._glProgram,p.ACTIVE_UNIFORMS),g=0,m=0;m<h;++m){var f=p.getActiveUniform(this._glProgram,m),v={},_=(v.location=p.getUniformLocation(this._glProgram,f.name),v.size=f.size,f.name);1<f.size&&(_=_.substring(0,_.indexOf("[0]"))),v.name=_,v.type=f.type,v._cachedData=void 0,v.type===p.SAMPLER_2D&&(v.samplerIndex=g,g++,this.samplers.push(v)),v.isArray=1<f.size||v.type===p.FLOAT_MAT3||v.type===p.FLOAT_MAT4||v.type===p.FLOAT_VEC2||v.type===p.FLOAT_VEC3||v.type===p.FLOAT_VEC4||v.type===p.INT_VEC2||v.type===p.INT_VEC4||v.type===p.INT_VEC3,this.uniforms[_]=v}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var p=this._renderer.GL,h=!0,g=!1,m=void 0;try{for(var f,v=this.samplers[Symbol.iterator]();!(h=(f=v.next()).done);h=!0){var _=f.value,x=_.texture;x===void 0&&(x=this._renderer._getEmptyTexture()),p.activeTexture(p.TEXTURE0+_.samplerIndex),x.bindTexture(),x.update(),p.uniform1i(_.location,_.samplerIndex)}}catch(S){g=!0,m=S}finally{try{h||v.return==null||v.return()}finally{if(g)throw m}}}},{key:"updateTextures",value:function(){var p=!0,h=!1,g=void 0;try{for(var m,f=this.samplers[Symbol.iterator]();!(p=(m=f.next()).done);p=!0){var v=m.value.texture;v&&v.update()}}catch(_){h=!0,g=_}finally{try{p||f.return==null||f.return()}finally{if(h)throw g}}}},{key:"unbindTextures",value:function(){var p=!0,h=!1,g=void 0;try{for(var m,f=this.samplers[Symbol.iterator]();!(p=(m=f.next()).done);p=!0){var v=m.value;this.setUniform(v.name,this._renderer._getEmptyTexture())}}catch(_){h=!0,g=_}finally{try{p||f.return==null||f.return()}finally{if(h)throw g}}}},{key:"_setMatrixUniforms",value:function(){var p=this._renderer.uModelMatrix,h=this._renderer.uViewMatrix,g=this._renderer.uPMatrix,m=p.copy().mult(h),f=(this._renderer.uMVMatrix=m).copy();f.mult(g),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",h.mat4),this.setUniform("uProjectionMatrix",g.mat4),this.setUniform("uModelMatrix",p.mat4),this.setUniform("uModelViewMatrix",m.mat4),this.setUniform("uModelViewProjectionMatrix",f.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var p=this._renderer.GL;return this._renderer._curShader!==this&&(p.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(p,h){var g=this.uniforms[p];if(g){var m=this._renderer.GL;if(g.isArray){if(g._cachedData&&this._renderer._arraysEqual(g._cachedData,h))return;g._cachedData=h.slice(0)}else{if(g._cachedData&&g._cachedData===h)return;Array.isArray(h)?g._cachedData=h.slice(0):g._cachedData=h}var f=g.location;switch(this.useProgram(),g.type){case m.BOOL:h===!0?m.uniform1i(f,1):m.uniform1i(f,0);break;case m.INT:1<g.size?h.length&&m.uniform1iv(f,h):m.uniform1i(f,h);break;case m.FLOAT:1<g.size?h.length&&m.uniform1fv(f,h):m.uniform1f(f,h);break;case m.FLOAT_MAT3:m.uniformMatrix3fv(f,!1,h);break;case m.FLOAT_MAT4:m.uniformMatrix4fv(f,!1,h);break;case m.FLOAT_VEC2:1<g.size?h.length&&m.uniform2fv(f,h):m.uniform2f(f,h[0],h[1]);break;case m.FLOAT_VEC3:1<g.size?h.length&&m.uniform3fv(f,h):m.uniform3f(f,h[0],h[1],h[2]);break;case m.FLOAT_VEC4:1<g.size?h.length&&m.uniform4fv(f,h):m.uniform4f(f,h[0],h[1],h[2],h[3]);break;case m.INT_VEC2:1<g.size?h.length&&m.uniform2iv(f,h):m.uniform2i(f,h[0],h[1]);break;case m.INT_VEC3:1<g.size?h.length&&m.uniform3iv(f,h):m.uniform3i(f,h[0],h[1],h[2]);break;case m.INT_VEC4:1<g.size?h.length&&m.uniform4iv(f,h):m.uniform4i(f,h[0],h[1],h[2],h[3]);break;case m.SAMPLER_2D:m.activeTexture(m.TEXTURE0+g.samplerIndex),g.texture=h instanceof s.default.Texture?h:this._renderer.getTexture(h),m.uniform1i(f,g.samplerIndex),g.texture.src.gifProperties&&g.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(p){return p!==void 0})}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(p,h,g,m,f,v){var _;return p&&(p=p.location)!==-1&&(_=this._renderer.GL,this._renderer.registerEnabled.has(p)||(_.enableVertexAttribArray(p),this._renderer.registerEnabled.add(p)),this._renderer.GL.vertexAttribPointer(p,h,g||_.FLOAT,m||!1,f||0,v||0)),this}},{key:"disableRemainingAttributes",value:function(){var p=this,h=!0,g=!1,m=void 0;try{for(var f,v=this._renderer.registerEnabled.values()[Symbol.iterator]();!(h=(f=v.next()).done);h=!0)(function(){var _=f.value;Object.keys(p.attributes).some(function(x){return p.attributes[x].location===_})||(p._renderer.GL.disableVertexAttribArray(_),p._renderer.registerEnabled.delete(_))})()}catch(_){g=!0,m=_}finally{try{h||v.return==null||v.return()}finally{if(g)throw m}}}}])&&a(y.prototype,b),d&&a(y,d),c}(),t=s.default.Shader,u.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(t,i,u){"use strict";function s(_){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(_)}function l(_){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(x){return s(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":s(x)})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.checkWebGLCapabilities=v,u.default=u.MipmapTexture=void 0;var a=(f=t("../core/main"))&&f.__esModule?f:{default:f},c=function(_){if(_&&_.__esModule)return _;if(_===null||l(_)!=="object"&&typeof _!="function")return{default:_};var x=y();if(x&&x.has(_))return x.get(_);var S,j={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in _){var C;Object.prototype.hasOwnProperty.call(_,S)&&((C=T?Object.getOwnPropertyDescriptor(_,S):null)&&(C.get||C.set)?Object.defineProperty(j,S,C):j[S]=_[S])}return j.default=_,x&&x.set(_,j),j}(t("../core/constants"));function y(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,y=function(){return _},_)}function b(_,x){return(b=Object.setPrototypeOf||function(S,j){return S.__proto__=j,S})(_,x)}function d(_){return function(){var x,S=p(_),S=(x=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(x=p(this).constructor,Reflect.construct(S,arguments,x)):S.apply(this,arguments),this);if(!x||l(x)!=="object"&&typeof x!="function"){if(S!==void 0)return S;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return x}}function p(_){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(_)}function h(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function g(_,x){for(var S=0;S<x.length;S++){var j=x[S];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(_,j.key,j)}}function m(_,x,S){x&&g(_.prototype,x),S&&g(_,S)}a.default.Texture=function(){function _(M,S,C){h(this,_),this._renderer=M;var T=this._renderer.GL,C=(C=C||{},this.src=S,this.glTex=void 0,this.glTarget=T.TEXTURE_2D,this.glFormat=C.format||T.RGBA,this.mipmaps=!1,this.glMinFilter=C.minFilter||T.LINEAR,this.glMagFilter=C.magFilter||T.LINEAR,this.glWrapS=C.wrapS||T.CLAMP_TO_EDGE,this.glWrapT=C.wrapT||T.CLAMP_TO_EDGE,this.glDataType=C.dataType||T.UNSIGNED_BYTE,v(M)),M=(this.glFormat!==T.HALF_FLOAT||C.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=T.FLOAT),this.glFormat!==T.HALF_FLOAT||this.glMinFilter!==T.LINEAR&&this.glMagFilter!==T.LINEAR||C.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===T.LINEAR&&(this.glMinFilter=T.NEAREST),this.glMagFilter===T.LINEAR&&(this.glMagFilter=T.NEAREST)),this.glFormat!==T.FLOAT||C.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=T.UNSIGNED_BYTE),this.glFormat!==T.FLOAT||this.glMinFilter!==T.LINEAR&&this.glMagFilter!==T.LINEAR||C.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===T.LINEAR&&(this.glMinFilter=T.NEAREST),this.glMagFilter===T.LINEAR&&(this.glMagFilter=T.NEAREST)),this.isSrcMediaElement=a.default.MediaElement!==void 0&&S instanceof a.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=a.default.Element!==void 0&&S instanceof a.default.Element&&!(S instanceof a.default.Graphics)&&!(S instanceof a.default.Renderer),this.isSrcP5Image=S instanceof a.default.Image,this.isSrcP5Graphics=S instanceof a.default.Graphics,this.isSrcP5Renderer=S instanceof a.default.Renderer,this.isImageData=typeof ImageData<"u"&&S instanceof ImageData,this.isFramebufferTexture=S instanceof a.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=M.width,this.height=M.height,this.init(M),this}return m(_,[{key:"_getTextureDataFromSource",value:function(){var x;return this.isFramebufferTexture?x=this.src.rawTexture():this.isSrcP5Image?x=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?x=this.src.elt:this.isImageData&&(x=this.src),x}},{key:"init",value:function(x){var S,j=this._renderer.GL;this.isFramebufferTexture||(this.glTex=j.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MAG_FILTER,this.glMagFilter),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(S=new Uint8Array([1,1,1,1]),j.texImage2D(this.glTarget,0,j.RGBA,1,1,0,this.glFormat,this.glDataType,S)):j.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,x))}},{key:"update",value:function(){var x,S,j,T=this.src;return T.width!==0&&T.height!==0&&!this.isFramebufferTexture&&(x=this._getTextureDataFromSource(),S=!1,j=this._renderer.GL,x.width!==this.width||x.height!==this.height?(S=!0,this.width=x.width||T.width,this.height=x.height||T.height,this.isSrcP5Image?T.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&T.setModified(!0)):this.isSrcP5Image?T.isModified()&&T.setModified(!(S=!0)):this.isSrcMediaElement?T.isModified()?T.setModified(!(S=!0)):T.loadedmetadata&&this._videoPrevUpdateTime!==T.time()&&(this._videoPrevUpdateTime=T.time(),S=!0):this.isImageData?T._dirty&&(S=!(T._dirty=!1)):S=!0,S&&(this.bindTexture(),j.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,x)),S)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(x,S){var j=this._renderer.GL;this.glMinFilter=this.glFilter(x),this.glMagFilter=this.glFilter(S),this.bindTexture(),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MIN_FILTER,this.glMinFilter),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(x){var S=this._renderer.GL;return x===c.NEAREST?S.NEAREST:S.LINEAR}},{key:"setWrapMode",value:function(x,S){function j(k){return(k&k-1)==0}var T=this._renderer.GL,M=this._getTextureDataFromSource(),M=M.naturalWidth&&M.naturalHeight?(C=M.naturalWidth,M.naturalHeight):(C=this.width,this.height),C=j(C),M=j(M);x===c.REPEAT?this._renderer.webglVersion===c.WEBGL2||C&&M?this.glWrapS=T.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=T.CLAMP_TO_EDGE):x===c.MIRROR?this._renderer.webglVersion===c.WEBGL2||C&&M?this.glWrapS=T.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=T.CLAMP_TO_EDGE):this.glWrapS=T.CLAMP_TO_EDGE,S===c.REPEAT?this._renderer.webglVersion===c.WEBGL2||C&&M?this.glWrapT=T.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=T.CLAMP_TO_EDGE):S===c.MIRROR?this._renderer.webglVersion===c.WEBGL2||C&&M?this.glWrapT=T.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=T.CLAMP_TO_EDGE):this.glWrapT=T.CLAMP_TO_EDGE,this.bindTexture(),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_S,this.glWrapS),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),_}();var f=function(_){var x=j;if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(_&&_.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),_&&b(x,_);var S=d(j);function j(T,C,M){return h(this,j),C=(T=S.call(this,T,C,M))._renderer.GL,T.glMinFilter===C.LINEAR&&(T.glMinFilter=C.LINEAR_MIPMAP_LINEAR),T}return m(j,[{key:"glFilter",value:function(T){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(T){var C=this._renderer.GL;this.glTex=C.createTexture(),this.bindTexture();for(var M=0;M<T.length;M++)C.texImage2D(this.glTarget,M,this.glFormat,this.glFormat,this.glDataType,T[M]);this.glMinFilter=C.LINEAR_MIPMAP_LINEAR,C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,this.glMagFilter),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),j}(a.default.Texture);function v(T){var x=T.GL,T=T.webglVersion,S=T===c.WEBGL2?x.getExtension("EXT_color_buffer_float")&&x.getExtension("EXT_float_blend"):x.getExtension("OES_texture_float"),j=S&&x.getExtension("OES_texture_float_linear"),T=T===c.WEBGL2?x.getExtension("EXT_color_buffer_float"):x.getExtension("OES_texture_half_float");return{float:S,floatLinear:j,halfFloat:T,halfFloatLinear:T&&x.getExtension("OES_texture_half_float_linear")}}u.MipmapTexture=f,t=a.default.Texture,u.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(t,i,u){"use strict";function s(_){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(_)}function l(_){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(x){return s(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":s(x)})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var a,c=(a=t("../core/main"))&&a.__esModule?a:{default:a},y=function(_){if(_&&_.__esModule)return _;if(_===null||l(_)!=="object"&&typeof _!="function")return{default:_};var x=b();if(x&&x.has(_))return x.get(_);var S,j={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in _){var C;Object.prototype.hasOwnProperty.call(_,S)&&((C=T?Object.getOwnPropertyDescriptor(_,S):null)&&(C.get||C.set)?Object.defineProperty(j,S,C):j[S]=_[S])}return j.default=_,x&&x.set(_,j),j}(t("../core/constants"));function b(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,b=function(){return _},_)}function d(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function p(_,x){for(var S=0;S<x.length;S++){var j=x[S];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(_,j.key,j)}}function h(_,x,S){x&&p(_.prototype,x),S&&p(_,S)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),c.default.RendererGL.prototype._applyTextProperties=function(){this._setProperty("_textAscent",null),this._setProperty("_textDescent",null)},c.default.RendererGL.prototype.textWidth=function(_){return this._isOpenType()?this._textFont._textWidth(_,this._textSize):0};var g=function(){function _(x,S){d(this,_),this.width=x,this.height=S,this.infos=[]}return h(_,[{key:"findImage",value:function(x){var S,j,T=this.width*this.height;if(T<x)throw new Error("font is too complex to render in 3D");for(var C=this.infos.length-1;0<=C;--C){var M=this.infos[C];if(M.index+x<T){j=(S=M).imageData;break}}if(!S){try{j=new ImageData(this.width,this.height)}catch{var k=document.getElementsByTagName("canvas")[0],A=!k,P=(k||((k=document.createElement("canvas")).style.display="none",document.body.appendChild(k)),k.getContext("2d"));P&&(j=P.createImageData(this.width,this.height)),A&&document.body.removeChild(k)}this.infos.push(S={index:0,imageData:j})}return P=S.index,S.index+=x,j._dirty=!0,{imageData:j,index:P}}}]),_}();function m(M,x,S,j,T){var C=M.imageData.data,M=4*M.index++;C[M++]=x,C[M++]=S,C[M++]=j,C[+M]=T}var f=Math.sqrt(3),v=function(){function _(x){d(this,_),this.font=x,this.strokeImageInfos=new g(64,64),this.colDimImageInfos=new g(64,64),this.rowDimImageInfos=new g(64,64),this.colCellImageInfos=new g(64,64),this.rowCellImageInfos=new g(64,64),this.glyphInfos={}}return h(_,[{key:"getGlyphInfo",value:function(x){var S=this.glyphInfos[x.index];if(!S){var j=x.getBoundingBox(),T=j.x1,C=j.y1,M=j.x2-T,k=j.y2-C,A=x.path.commands;if(M==0||k==0||!A.length)return this.glyphInfos[x.index]={};for(var P=[],O=[],V=[],F=8;0<=F;--F)V.push([]);for(F=8;0<=F;--F)O.push([]);var R,z,q,G,W=function(){function qe(Ye,Ze,Xe,we){d(this,qe),this.p0=Ye,this.c0=Ze,this.c1=Xe,this.p1=we}return h(qe,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return c.default.Vector.sub(c.default.Vector.sub(this.p1,this.p0),c.default.Vector.mult(c.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Pe){var Ze=c.default.Vector.lerp(this.p0,this.c0,Pe),we=c.default.Vector.lerp(this.c0,this.c1,Pe),Xe=c.default.Vector.lerp(Ze,we,Pe),we=(this.c1=c.default.Vector.lerp(this.c1,this.p1,Pe),this.c0=c.default.Vector.lerp(we,this.c1,Pe),c.default.Vector.lerp(Xe,this.c0,Pe)),Pe=new qe(this.p0,Ze,Xe,we);return this.p0=we,Pe}},{key:"splitInflections",value:function(){var Ye=c.default.Vector.sub(this.c0,this.p0),Ze=c.default.Vector.sub(c.default.Vector.sub(this.c1,this.c0),Ye),Xe=c.default.Vector.sub(c.default.Vector.sub(c.default.Vector.sub(this.p1,this.c1),Ye),c.default.Vector.mult(Ze,2)),we=[],Pe=Ze.x*Xe.y-Ze.y*Xe.x;return Pe!==0&&0<=(Ye=(Xe=Ye.x*Xe.y-Ye.y*Xe.x)*Xe-4*Pe*(Ye.x*Ze.y-Ye.y*Ze.x))&&(Pe<0&&(Pe=-Pe,Xe=-Xe),Ye=(-Xe+(Ze=Math.sqrt(Ye)))/(2*Pe),0<(Xe=(-Xe-Ze)/(2*Pe))&&Xe<1&&(we.push(this.split(Xe)),Ye=1-(1-Ye)/(1-Xe)),0<Ye&&Ye<1&&we.push(this.split(Ye))),we.push(this),we}}]),qe}(),Z=!0,ae=!1,L=void 0;try{for(var D,U=A[Symbol.iterator]();!(Z=(D=U.next()).done);Z=!0){var H=D.value,X=(H.x-T)/M,J=(H.y-C)/k;if(!Te(R,z,X,J)){switch(H.type){case"M":q=X,G=J;break;case"L":Re(R,z,X,J);break;case"Q":var le=(H.x1-T)/M,se=(H.y1-C)/k;ye([R,X,le],[z,J,se],{x:R,y:z,cx:le,cy:se});break;case"Z":Te(R,z,q,G)?P.push({x:R,y:z}):(Re(R,z,q,G),P.push({x:q,y:G}));break;case"C":for(var ne=function(re,Ee,ke,Xe,we,Pe,De,K){var re=new W(new c.default.Vector(re,Ee),new c.default.Vector(ke,Xe),new c.default.Vector(we,Pe),new c.default.Vector(De,K)).splitInflections(),Q=[],ie=30/f,ve=!0,Ee=!1,ke=void 0;try{for(var Ue,He=re[Symbol.iterator]();!(ve=(Ue=He.next()).done);ve=!0){for(var $e=Ue.value,Je=[],vt=void 0;!(.125<=(vt=ie/$e.quadError()));){var ht=Math.pow(vt,.3333333333333333),ot=$e.split(ht),pt=$e.split(1-ht/(1-ht));Q.push(ot),Je.push($e),$e=pt}vt<1&&Q.push($e.split(.5)),Q.push($e),Array.prototype.push.apply(Q,Je.reverse())}}catch(dt){Ee=!0,ke=dt}finally{try{ve||He.return==null||He.return()}finally{if(Ee)throw ke}}return Q}(R,z,(H.x1-T)/M,(H.y1-C)/k,(H.x2-T)/M,(H.y2-C)/k,X,J),ce=0;ce<ne.length;ce++){var he=ne[ce].toQuadratic();ye([he.x,he.x1,he.cx],[he.y,he.y1,he.cy],he)}break;default:throw new Error("unknown command type: ".concat(H.type))}R=X,z=J}}}catch(qe){ae=!0,L=qe}finally{try{Z||U.return==null||U.return()}finally{if(ae)throw L}}for(var ee=P.length,oe=this.strokeImageInfos.findImage(ee),fe=oe.index,_e=0;_e<ee;++_e){var pe=P[_e];m(oe,xe(pe.x),xe(pe.y),xe(pe.cx),xe(pe.cy))}(S=this.glyphInfos[x.index]={glyph:x,uGlyphRect:[j.x1,-j.y1,j.x2,-j.y2],strokeImageInfo:oe,strokes:P,colInfo:We(V,this.colDimImageInfos,this.colCellImageInfos),rowInfo:We(O,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[S.colInfo.dimOffset,S.rowInfo.dimOffset]}return S;function ye(qe,Ye,Ze){var Xe=P.length;function we(Q,ie,ve){for(var Ee=Q.length;0<Ee--;){var ke=Q[Ee];ke<ie&&(ie=ke),ve<ke&&(ve=ke)}return{min:ie,max:ve}}P.push(Ze);for(var Ze=we(qe,1,0),qe=Math.max(Math.floor(9*Ze.min-.5),0),Pe=Math.min(Math.ceil(9*Ze.max+.5),9),De=qe;De<Pe;++De)V[De].push(Xe);for(var Ze=we(Ye,1,0),qe=Math.max(Math.floor(9*Ze.min-.5),0),K=Math.min(Math.ceil(9*Ze.max+.5),9),re=qe;re<K;++re)O[re].push(Xe)}function xe(qe){return(qe=(Ze=255)*qe)<(Ye=0)?Ye:Ze<qe?Ze:qe;var Ye,Ze}function Re(qe,Ye,Ze,Xe){ye([qe,Ze],[Ye,Xe],{x:qe,y:Ye,cx:(qe+Ze)/2,cy:(Ye+Xe)/2})}function Te(qe,Ye,Ze,Xe){return Math.abs(Ze-qe)<1e-5&&Math.abs(Xe-Ye)<1e-5}function We(qe,Ye,Ze){for(var Xe=qe.length,we=Ye.findImage(Xe),Ye=we.index,Pe=0,De=0;De<Xe;++De)Pe+=qe[De].length;for(var K=Ze.findImage(Pe),re=0;re<Xe;++re){var Q=qe[re],ie=Q.length,ve=K.index;m(we,ve>>7,127&ve,ie>>7,127&ie);for(var Ee=0;Ee<ie;++Ee){var ke=Q[Ee]+fe;m(K,ke>>7,127&ke,0,0)}}return{cellImageInfo:K,dimOffset:Ye,dimImageInfo:we}}}}]),_}();c.default.RendererGL.prototype._renderText=function(_,x,S,j,T){if(this._textFont&&typeof this._textFont!="string"){if(!(T<=j)&&this._doFill){if(this._isOpenType()){_.push();var T=this._doStroke,C=this.drawMode,M=(this._doStroke=!1,this.drawMode=y.TEXTURE,this._textFont.font),k=(k=this._textFont._fontInfo)||(this._textFont._fontInfo=new v(M)),S=this._textFont._handleAlignment(this,x,S,j),j=this._textSize/M.unitsPerEm,A=(this.translate(S.x,S.y,0),this.scale(j,j,1),this.GL),S=!this._defaultFontShader,P=this._getFontShader(),O=(P.init(),P.bindShader(),S&&(P.setUniform("uGridImageSize",[64,64]),P.setUniform("uCellsImageSize",[64,64]),P.setUniform("uStrokeImageSize",[64,64]),P.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),V=(O||((j=this._textGeom=new c.default.Geometry(1,1,function(){for(var ce=0;ce<=1;ce++)for(var he=0;he<=1;he++)this.vertices.push(new c.default.Vector(he,ce,0)),this.uvs.push(he,ce)})).computeFaces().computeNormals(),O=this.createBuffers("glyph",j)),!0),S=!1,j=void 0;try{for(var F,R=this.retainedMode.buffers.text[Symbol.iterator]();!(V=(F=R.next()).done);V=!0)F.value._prepareBuffer(O,P)}catch(ce){S=!0,j=ce}finally{try{V||R.return==null||R.return()}finally{if(S)throw j}}this._bindBuffer(O.indexBuffer,A.ELEMENT_ARRAY_BUFFER),P.setUniform("uMaterialColor",this.curFillColor),A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var z=0,q=null,G=M.stringToGlyphs(x),W=!0,Z=!1,ae=void 0;try{for(var L,D=G[Symbol.iterator]();!(W=(L=D.next()).done);W=!0){var U,H,X=L.value,J=(q&&(z+=M.getKerningValue(q,X)),k.getGlyphInfo(X));J.uGlyphRect&&(U=J.rowInfo,H=J.colInfo,P.setUniform("uSamplerStrokes",J.strokeImageInfo.imageData),P.setUniform("uSamplerRowStrokes",U.cellImageInfo.imageData),P.setUniform("uSamplerRows",U.dimImageInfo.imageData),P.setUniform("uSamplerColStrokes",H.cellImageInfo.imageData),P.setUniform("uSamplerCols",H.dimImageInfo.imageData),P.setUniform("uGridOffset",J.uGridOffset),P.setUniform("uGlyphRect",J.uGlyphRect),P.setUniform("uGlyphOffset",z),P.bindTextures(),A.drawElements(A.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),z+=X.advanceWidth,q=X}}catch(ce){Z=!0,ae=ce}finally{try{W||D.return==null||D.return()}finally{if(Z)throw ae}}}finally{P.unbindShader(),this._doStroke=T,this.drawMode=C,A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),_.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return _}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)})});var Vx=An((fU,mu)=>{function QO(n){if(Array.isArray(n))return n}mu.exports=QO,mu.exports.__esModule=!0,mu.exports.default=mu.exports});var Ux=An((pU,gu)=>{function KO(n,r){var o=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var t,i,u,s,l=[],a=!0,c=!1;try{if(u=(o=o.call(n)).next,r===0){if(Object(o)!==o)return;a=!1}else for(;!(a=(t=u.call(o)).done)&&(l.push(t.value),l.length!==r);a=!0);}catch(y){c=!0,i=y}finally{try{if(!a&&o.return!=null&&(s=o.return(),Object(s)!==s))return}finally{if(c)throw i}}return l}}gu.exports=KO,gu.exports.__esModule=!0,gu.exports.default=gu.exports});var Bx=An((mU,yu)=>{function JO(n,r){(r==null||r>n.length)&&(r=n.length);for(var o=0,t=Array(r);o<r;o++)t[o]=n[o];return t}yu.exports=JO,yu.exports.__esModule=!0,yu.exports.default=yu.exports});var zx=An((gU,vu)=>{var Gx=Bx();function ek(n,r){if(n){if(typeof n=="string")return Gx(n,r);var o={}.toString.call(n).slice(8,-1);return o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set"?Array.from(n):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Gx(n,r):void 0}}vu.exports=ek,vu.exports.__esModule=!0,vu.exports.default=vu.exports});var Hx=An((yU,bu)=>{function tk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}bu.exports=tk,bu.exports.__esModule=!0,bu.exports.default=bu.exports});var qx=An((vU,_u)=>{var rk=Vx(),nk=Ux(),ok=zx(),sk=Hx();function ik(n,r){return rk(n)||nk(n,r)||ok(n,r)||sk()}_u.exports=ik,_u.exports.__esModule=!0,_u.exports.default=_u.exports});var Wx=An((bU,xu)=>{function ak(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}xu.exports=ak,xu.exports.__esModule=!0,xu.exports.default=xu.exports});var Jm=An((_U,cs)=>{function Km(n){"@babel/helpers - typeof";return cs.exports=Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},cs.exports.__esModule=!0,cs.exports.default=cs.exports,Km(n)}cs.exports=Km,cs.exports.__esModule=!0,cs.exports.default=cs.exports});var Yx=An((xU,wu)=>{var $x=Jm().default;function lk(n,r){if($x(n)!="object"||!n)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var t=o.call(n,r||"default");if($x(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}wu.exports=lk,wu.exports.__esModule=!0,wu.exports.default=wu.exports});var Xx=An((wU,Su)=>{var uk=Jm().default,ck=Yx();function dk(n){var r=ck(n,"string");return uk(r)=="symbol"?r:r+""}Su.exports=dk,Su.exports.__esModule=!0,Su.exports.default=Su.exports});var Qx=An((SU,Cu)=>{var hk=Xx();function Zx(n,r){for(var o=0;o<r.length;o++){var t=r[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,hk(t.key),t)}}function fk(n,r,o){return r&&Zx(n.prototype,r),o&&Zx(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n}Cu.exports=fk,Cu.exports.__esModule=!0,Cu.exports.default=Cu.exports});var eg=An((qd,Kx)=>{(function(n,r){typeof qd=="object"&&typeof Kx<"u"?r(qd,qx(),Wx(),Qx()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/slicedToArray","@babel/runtime/helpers/classCallCheck","@babel/runtime/helpers/createClass"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.automationEvents={},n._slicedToArray,n._classCallCheck,n._createClass))})(qd,function(n,r,o,t){"use strict";var i=function(F,R,z){return{endTime:R,insertTime:z,type:"exponentialRampToValue",value:F}},u=function(F,R,z){return{endTime:R,insertTime:z,type:"linearRampToValue",value:F}},s=function(F,R){return{startTime:R,type:"setValue",value:F}},l=function(F,R,z){return{duration:z,startTime:R,type:"setValueCurve",values:F}},a=function(F,R,z){var q=z.startTime,G=z.target,W=z.timeConstant;return G+(R-G)*Math.exp((q-F)/W)},c=function(F){return F.type==="exponentialRampToValue"},y=function(F){return F.type==="linearRampToValue"},b=function(F){return c(F)||y(F)},d=function(F){return F.type==="setValue"},p=function(F){return F.type==="setValueCurve"},h=function(F,R,z,q){var G=F[R];return G===void 0?q:b(G)||d(G)?G.value:p(G)?G.values[G.values.length-1]:a(z,h(F,R-1,G.startTime,q),G)},g=function(F,R,z,q,G){return z===void 0?[q.insertTime,G]:b(z)?[z.endTime,z.value]:d(z)?[z.startTime,z.value]:p(z)?[z.startTime+z.duration,z.values[z.values.length-1]]:[z.startTime,h(F,R-1,z.startTime,G)]},m=function(F){return F.type==="cancelAndHold"},f=function(F){return F.type==="cancelScheduledValues"},v=function(F){return m(F)||f(F)?F.cancelTime:c(F)||y(F)?F.endTime:F.startTime},_=function(F,R,z,q){var G=q.endTime,W=q.value;return z===W?W:0<z&&0<W||z<0&&W<0?z*Math.pow(W/z,(F-R)/(G-R)):0},x=function(F,R,z,q){var G=q.endTime,W=q.value;return z+(F-R)/(G-R)*(W-z)},S=function(F,R){var z=Math.floor(R),q=Math.ceil(R);return z===q?F[z]:(1-(R-z))*F[z]+(1-(q-R))*F[q]},j=function(F,R){var z=R.duration,q=R.startTime,G=R.values,W=(F-q)/z*(G.length-1);return S(G,W)},T=function(F){return F.type==="setTarget"},C=function(){function V(F){o(this,V),this._automationEvents=[],this._currenTime=0,this._defaultValue=F}return t(V,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(R){var z=v(R);if(m(R)||f(R)){var q=this._automationEvents.findIndex(function(oe){return f(R)&&p(oe)?oe.startTime+oe.duration>=z:v(oe)>=z}),G=this._automationEvents[q];if(q!==-1&&(this._automationEvents=this._automationEvents.slice(0,q)),m(R)){var W=this._automationEvents[this._automationEvents.length-1];if(G!==void 0&&b(G)){if(W!==void 0&&T(W))throw new Error("The internal list is malformed.");var Z=W===void 0?G.insertTime:p(W)?W.startTime+W.duration:v(W),ae=W===void 0?this._defaultValue:p(W)?W.values[W.values.length-1]:W.value,L=c(G)?_(z,Z,ae,G):x(z,Z,ae,G),D=c(G)?i(L,z,this._currenTime):u(L,z,this._currenTime);this._automationEvents.push(D)}if(W!==void 0&&T(W)&&this._automationEvents.push(s(this.getValue(z),z)),W!==void 0&&p(W)&&W.startTime+W.duration>z){var U=z-W.startTime,H=(W.values.length-1)/W.duration,X=Math.max(2,1+Math.ceil(U*H)),J=U/(X-1)*H,le=W.values.slice(0,X);if(J<1)for(var se=1;se<X;se+=1){var ne=J*se%1;le[se]=W.values[se-1]*(1-ne)+W.values[se]*ne}this._automationEvents[this._automationEvents.length-1]=l(le,W.startTime,U)}}}else{var ce=this._automationEvents.findIndex(function(oe){return v(oe)>z}),he=ce===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[ce-1];if(he!==void 0&&p(he)&&v(he)+he.duration>z)return!1;var ee=c(R)?i(R.value,R.endTime,this._currenTime):y(R)?u(R.value,z,this._currenTime):R;if(ce===-1)this._automationEvents.push(ee);else{if(p(R)&&z+R.duration>v(this._automationEvents[ce]))return!1;this._automationEvents.splice(ce,0,ee)}}return!0}},{key:"flush",value:function(R){var z=this._automationEvents.findIndex(function(W){return v(W)>R});if(z>1){var q=this._automationEvents.slice(z-1),G=q[0];T(G)&&q.unshift(s(h(this._automationEvents,z-2,G.startTime,this._defaultValue),G.startTime)),this._automationEvents=q}}},{key:"getValue",value:function(R){if(this._automationEvents.length===0)return this._defaultValue;var z=this._automationEvents.findIndex(function(le){return v(le)>R}),q=this._automationEvents[z],G=(z===-1?this._automationEvents.length:z)-1,W=this._automationEvents[G];if(W!==void 0&&T(W)&&(q===void 0||!b(q)||q.insertTime>R))return a(R,h(this._automationEvents,G-1,W.startTime,this._defaultValue),W);if(W!==void 0&&d(W)&&(q===void 0||!b(q)))return W.value;if(W!==void 0&&p(W)&&(q===void 0||!b(q)||W.startTime+W.duration>R))return R<W.startTime+W.duration?j(R,W):W.values[W.values.length-1];if(W!==void 0&&b(W)&&(q===void 0||!b(q)))return W.value;if(q!==void 0&&c(q)){var Z=g(this._automationEvents,G,W,q,this._defaultValue),ae=r(Z,2),L=ae[0],D=ae[1];return _(R,L,D,q)}if(q!==void 0&&y(q)){var U=g(this._automationEvents,G,W,q,this._defaultValue),H=r(U,2),X=H[0],J=H[1];return x(R,X,J,q)}return this._defaultValue}}])}(),M=function(F){return{cancelTime:F,type:"cancelAndHold"}},k=function(F){return{cancelTime:F,type:"cancelScheduledValues"}},A=function(F,R){return{endTime:R,type:"exponentialRampToValue",value:F}},P=function(F,R){return{endTime:R,type:"linearRampToValue",value:F}},O=function(F,R,z){return{startTime:R,target:F,timeConstant:z,type:"setTarget"}};n.AutomationEventList=C,n.createCancelAndHoldAutomationEvent=M,n.createCancelScheduledValuesAutomationEvent=k,n.createExponentialRampToValueAutomationEvent=A,n.createLinearRampToValueAutomationEvent=P,n.createSetTargetAutomationEvent=O,n.createSetValueAutomationEvent=s,n.createSetValueCurveAutomationEvent=l})});function Oy(n,r){return Object.is(n,r)}var Nr=null,$u=!1,Yu=1,Yo=Symbol("SIGNAL");function Ht(n){let r=Nr;return Nr=n,r}function ky(){return Nr}var _l={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Xh(n){if($u)throw new Error("");if(Nr===null)return;Nr.consumerOnSignalRead(n);let r=Nr.nextProducerIndex++;if(Ku(Nr),r<Nr.producerNode.length&&Nr.producerNode[r]!==n&&bl(Nr)){let o=Nr.producerNode[r];Qu(o,Nr.producerIndexOfThis[r])}Nr.producerNode[r]!==n&&(Nr.producerNode[r]=n,Nr.producerIndexOfThis[r]=bl(Nr)?Fy(n,Nr,r):0),Nr.producerLastReadVersion[r]=n.version}function qE(){Yu++}function Ny(n){if(!(bl(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Yu)){if(!n.producerMustRecompute(n)&&!Qh(n)){n.dirty=!1,n.lastCleanEpoch=Yu;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Yu}}function Ry(n){if(n.liveConsumerNode===void 0)return;let r=$u;$u=!0;try{for(let o of n.liveConsumerNode)o.dirty||WE(o)}finally{$u=r}}function Py(){return Nr?.consumerAllowSignalWrites!==!1}function WE(n){n.dirty=!0,Ry(n),n.consumerMarkedDirty?.(n)}function Zu(n){return n&&(n.nextProducerIndex=0),Ht(n)}function Zh(n,r){if(Ht(r),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(bl(n))for(let o=n.nextProducerIndex;o<n.producerNode.length;o++)Qu(n.producerNode[o],n.producerIndexOfThis[o]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Qh(n){Ku(n);for(let r=0;r<n.producerNode.length;r++){let o=n.producerNode[r],t=n.producerLastReadVersion[r];if(t!==o.version||(Ny(o),t!==o.version))return!0}return!1}function Kh(n){if(Ku(n),bl(n))for(let r=0;r<n.producerNode.length;r++)Qu(n.producerNode[r],n.producerIndexOfThis[r]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Fy(n,r,o){if(Ly(n),n.liveConsumerNode.length===0&&Vy(n))for(let t=0;t<n.producerNode.length;t++)n.producerIndexOfThis[t]=Fy(n.producerNode[t],n,t);return n.liveConsumerIndexOfThis.push(o),n.liveConsumerNode.push(r)-1}function Qu(n,r){if(Ly(n),n.liveConsumerNode.length===1&&Vy(n))for(let t=0;t<n.producerNode.length;t++)Qu(n.producerNode[t],n.producerIndexOfThis[t]);let o=n.liveConsumerNode.length-1;if(n.liveConsumerNode[r]=n.liveConsumerNode[o],n.liveConsumerIndexOfThis[r]=n.liveConsumerIndexOfThis[o],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,r<n.liveConsumerNode.length){let t=n.liveConsumerIndexOfThis[r],i=n.liveConsumerNode[r];Ku(i),i.producerIndexOfThis[t]=r}}function bl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ku(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Ly(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Vy(n){return n.producerNode!==void 0}function Uy(n){let r=Object.create($E);r.computation=n;let o=()=>{if(Ny(r),Xh(r),r.value===Xu)throw r.error;return r.value};return o[Yo]=r,o}var $h=Symbol("UNSET"),Yh=Symbol("COMPUTING"),Xu=Symbol("ERRORED"),$E=Ge(Se({},_l),{value:$h,dirty:!0,error:null,equal:Oy,producerMustRecompute(n){return n.value===$h||n.value===Yh},producerRecomputeValue(n){if(n.value===Yh)throw new Error("Detected cycle in computations.");let r=n.value;n.value=Yh;let o=Zu(n),t;try{t=n.computation()}catch(i){t=Xu,n.error=i}finally{Zh(n,o)}if(r!==$h&&r!==Xu&&t!==Xu&&n.equal(r,t)){n.value=r;return}n.value=t,n.version++}});function YE(){throw new Error}var By=YE;function Gy(){By()}function zy(n){By=n}var XE=null;function Hy(n){let r=Object.create(Wy);r.value=n;let o=()=>(Xh(r),r.value);return o[Yo]=r,o}function Jh(n,r){Py()||Gy(),n.equal(n.value,r)||(n.value=r,ZE(n))}function qy(n,r){Py()||Gy(),Jh(n,r(n.value))}var Wy=Ge(Se({},_l),{equal:Oy,value:void 0});function ZE(n){n.version++,qE(),Ry(n),XE?.()}function St(n){return typeof n=="function"}function Ii(n){let o=n(t=>{Error.call(t),t.stack=new Error().stack});return o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o}var Ju=Ii(n=>function(o){n(this),this.message=o?`${o.length} errors occurred during unsubscription:
${o.map((t,i)=>`${i+1}) ${t.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=o});function xl(n,r){if(n){let o=n.indexOf(r);0<=o&&n.splice(o,1)}}var Er=class n{constructor(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let r;if(!this.closed){this.closed=!0;let{_parentage:o}=this;if(o)if(this._parentage=null,Array.isArray(o))for(let u of o)u.remove(this);else o.remove(this);let{initialTeardown:t}=this;if(St(t))try{t()}catch(u){r=u instanceof Ju?u.errors:[u]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let u of i)try{$y(u)}catch(s){r=r??[],s instanceof Ju?r=[...r,...s.errors]:r.push(s)}}if(r)throw new Ju(r)}}add(r){var o;if(r&&r!==this)if(this.closed)$y(r);else{if(r instanceof n){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(o=this._finalizers)!==null&&o!==void 0?o:[]).push(r)}}_hasParent(r){let{_parentage:o}=this;return o===r||Array.isArray(o)&&o.includes(r)}_addParent(r){let{_parentage:o}=this;this._parentage=Array.isArray(o)?(o.push(r),o):o?[o,r]:r}_removeParent(r){let{_parentage:o}=this;o===r?this._parentage=null:Array.isArray(o)&&xl(o,r)}remove(r){let{_finalizers:o}=this;o&&xl(o,r),r instanceof n&&r._removeParent(this)}};Er.EMPTY=(()=>{let n=new Er;return n.closed=!0,n})();var ef=Er.EMPTY;function ec(n){return n instanceof Er||n&&"closed"in n&&St(n.remove)&&St(n.add)&&St(n.unsubscribe)}function $y(n){St(n)?n():n.unsubscribe()}var no={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Oi={setTimeout(n,r,...o){let{delegate:t}=Oi;return t?.setTimeout?t.setTimeout(n,r,...o):setTimeout(n,r,...o)},clearTimeout(n){let{delegate:r}=Oi;return(r?.clearTimeout||clearTimeout)(n)},delegate:void 0};function tc(n){Oi.setTimeout(()=>{let{onUnhandledError:r}=no;if(r)r(n);else throw n})}function wl(){}var Yy=tf("C",void 0,void 0);function Xy(n){return tf("E",void 0,n)}function Zy(n){return tf("N",n,void 0)}function tf(n,r,o){return{kind:n,value:r,error:o}}var Ys=null;function ki(n){if(no.useDeprecatedSynchronousErrorHandling){let r=!Ys;if(r&&(Ys={errorThrown:!1,error:null}),n(),r){let{errorThrown:o,error:t}=Ys;if(Ys=null,o)throw t}}else n()}function Qy(n){no.useDeprecatedSynchronousErrorHandling&&Ys&&(Ys.errorThrown=!0,Ys.error=n)}var Xs=class extends Er{constructor(r){super(),this.isStopped=!1,r?(this.destination=r,ec(r)&&r.add(this)):this.destination=JE}static create(r,o,t){return new Ni(r,o,t)}next(r){this.isStopped?nf(Zy(r),this):this._next(r)}error(r){this.isStopped?nf(Xy(r),this):(this.isStopped=!0,this._error(r))}complete(){this.isStopped?nf(Yy,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(r){this.destination.next(r)}_error(r){try{this.destination.error(r)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},QE=Function.prototype.bind;function rf(n,r){return QE.call(n,r)}var of=class{constructor(r){this.partialObserver=r}next(r){let{partialObserver:o}=this;if(o.next)try{o.next(r)}catch(t){rc(t)}}error(r){let{partialObserver:o}=this;if(o.error)try{o.error(r)}catch(t){rc(t)}else rc(r)}complete(){let{partialObserver:r}=this;if(r.complete)try{r.complete()}catch(o){rc(o)}}},Ni=class extends Xs{constructor(r,o,t){super();let i;if(St(r)||!r)i={next:r??void 0,error:o??void 0,complete:t??void 0};else{let u;this&&no.useDeprecatedNextContext?(u=Object.create(r),u.unsubscribe=()=>this.unsubscribe(),i={next:r.next&&rf(r.next,u),error:r.error&&rf(r.error,u),complete:r.complete&&rf(r.complete,u)}):i=r}this.destination=new of(i)}};function rc(n){no.useDeprecatedSynchronousErrorHandling?Qy(n):tc(n)}function KE(n){throw n}function nf(n,r){let{onStoppedNotification:o}=no;o&&Oi.setTimeout(()=>o(n,r))}var JE={closed:!0,next:wl,error:KE,complete:wl};var Ri=typeof Symbol=="function"&&Symbol.observable||"@@observable";function In(n){return n}function sf(...n){return af(n)}function af(n){return n.length===0?In:n.length===1?n[0]:function(o){return n.reduce((t,i)=>i(t),o)}}var $t=(()=>{class n{constructor(o){o&&(this._subscribe=o)}lift(o){let t=new n;return t.source=this,t.operator=o,t}subscribe(o,t,i){let u=tT(o)?o:new Ni(o,t,i);return ki(()=>{let{operator:s,source:l}=this;u.add(s?s.call(u,l):l?this._subscribe(u):this._trySubscribe(u))}),u}_trySubscribe(o){try{return this._subscribe(o)}catch(t){o.error(t)}}forEach(o,t){return t=Ky(t),new t((i,u)=>{let s=new Ni({next:l=>{try{o(l)}catch(a){u(a),s.unsubscribe()}},error:u,complete:i});this.subscribe(s)})}_subscribe(o){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(o)}[Ri](){return this}pipe(...o){return af(o)(this)}toPromise(o){return o=Ky(o),new o((t,i)=>{let u;this.subscribe(s=>u=s,s=>i(s),()=>t(u))})}}return n.create=r=>new n(r),n})();function Ky(n){var r;return(r=n??no.Promise)!==null&&r!==void 0?r:Promise}function eT(n){return n&&St(n.next)&&St(n.error)&&St(n.complete)}function tT(n){return n&&n instanceof Xs||eT(n)&&ec(n)}function lf(n){return St(n?.lift)}function Ft(n){return r=>{if(lf(r))return r.lift(function(o){try{return n(o,this)}catch(t){this.error(t)}});throw new TypeError("Unable to lift unknown Observable type")}}function kt(n,r,o,t,i){return new uf(n,r,o,t,i)}var uf=class extends Xs{constructor(r,o,t,i,u,s){super(r),this.onFinalize=u,this.shouldUnsubscribe=s,this._next=o?function(l){try{o(l)}catch(a){r.error(a)}}:super._next,this._error=i?function(l){try{i(l)}catch(a){r.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=t?function(){try{t()}catch(l){r.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:o}=this;super.unsubscribe(),!o&&((r=this.onFinalize)===null||r===void 0||r.call(this))}}};function Pi(){return Ft((n,r)=>{let o=null;n._refCount++;let t=kt(r,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){o=null;return}let i=n._connection,u=o;o=null,i&&(!u||i===u)&&i.unsubscribe(),r.unsubscribe()});n.subscribe(t),t.closed||(o=n.connect())})}var Fi=class extends $t{constructor(r,o){super(),this.source=r,this.subjectFactory=o,this._subject=null,this._refCount=0,this._connection=null,lf(r)&&(this.lift=r.lift)}_subscribe(r){return this.getSubject().subscribe(r)}getSubject(){let r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:r}=this;this._subject=this._connection=null,r?.unsubscribe()}connect(){let r=this._connection;if(!r){r=this._connection=new Er;let o=this.getSubject();r.add(this.source.subscribe(kt(o,void 0,()=>{this._teardown(),o.complete()},t=>{this._teardown(),o.error(t)},()=>this._teardown()))),r.closed&&(this._connection=null,r=Er.EMPTY)}return r}refCount(){return Pi()(this)}};var Jy=Ii(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Yr=(()=>{class n extends $t{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(o){let t=new nc(this,this);return t.operator=o,t}_throwIfClosed(){if(this.closed)throw new Jy}next(o){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let t of this.currentObservers)t.next(o)}})}error(o){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=o;let{observers:t}=this;for(;t.length;)t.shift().error(o)}})}complete(){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:o}=this;for(;o.length;)o.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var o;return((o=this.observers)===null||o===void 0?void 0:o.length)>0}_trySubscribe(o){return this._throwIfClosed(),super._trySubscribe(o)}_subscribe(o){return this._throwIfClosed(),this._checkFinalizedStatuses(o),this._innerSubscribe(o)}_innerSubscribe(o){let{hasError:t,isStopped:i,observers:u}=this;return t||i?ef:(this.currentObservers=null,u.push(o),new Er(()=>{this.currentObservers=null,xl(u,o)}))}_checkFinalizedStatuses(o){let{hasError:t,thrownError:i,isStopped:u}=this;t?o.error(i):u&&o.complete()}asObservable(){let o=new $t;return o.source=this,o}}return n.create=(r,o)=>new nc(r,o),n})(),nc=class extends Yr{constructor(r,o){super(),this.destination=r,this.source=o}next(r){var o,t;(t=(o=this.destination)===null||o===void 0?void 0:o.next)===null||t===void 0||t.call(o,r)}error(r){var o,t;(t=(o=this.destination)===null||o===void 0?void 0:o.error)===null||t===void 0||t.call(o,r)}complete(){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||o===void 0||o.call(r)}_subscribe(r){var o,t;return(t=(o=this.source)===null||o===void 0?void 0:o.subscribe(r))!==null&&t!==void 0?t:ef}};var Xr=class extends Yr{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){let o=super._subscribe(r);return!o.closed&&r.next(this._value),o}getValue(){let{hasError:r,thrownError:o,_value:t}=this;if(r)throw o;return this._throwIfClosed(),t}next(r){super.next(this._value=r)}};var On=new $t(n=>n.complete());function ev(n){return n&&St(n.schedule)}function tv(n){return n[n.length-1]}function oc(n){return St(tv(n))?n.pop():void 0}function bs(n){return ev(tv(n))?n.pop():void 0}function an(n,r,o,t){var i=arguments.length,u=i<3?r:t===null?t=Object.getOwnPropertyDescriptor(r,o):t,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,r,o,t);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(u=(i<3?s(u):i>3?s(r,o,u):s(r,o))||u);return i>3&&u&&Object.defineProperty(r,o,u),u}function Mt(n,r,o,t){function i(u){return u instanceof o?u:new o(function(s){s(u)})}return new(o||(o=Promise))(function(u,s){function l(y){try{c(t.next(y))}catch(b){s(b)}}function a(y){try{c(t.throw(y))}catch(b){s(b)}}function c(y){y.done?u(y.value):i(y.value).then(l,a)}c((t=t.apply(n,r||[])).next())})}function rv(n){var r=typeof Symbol=="function"&&Symbol.iterator,o=r&&n[r],t=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zs(n){return this instanceof Zs?(this.v=n,this):new Zs(n)}function nv(n,r,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=o.apply(n,r||[]),i,u=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(h){return Promise.resolve(h).then(p,b)}}function l(p,h){t[p]&&(i[p]=function(g){return new Promise(function(m,f){u.push([p,g,m,f])>1||a(p,g)})},h&&(i[p]=h(i[p])))}function a(p,h){try{c(t[p](h))}catch(g){d(u[0][3],g)}}function c(p){p.value instanceof Zs?Promise.resolve(p.value.v).then(y,b):d(u[0][2],p)}function y(p){a("next",p)}function b(p){a("throw",p)}function d(p,h){p(h),u.shift(),u.length&&a(u[0][0],u[0][1])}}function ov(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n[Symbol.asyncIterator],o;return r?r.call(n):(n=typeof rv=="function"?rv(n):n[Symbol.iterator](),o={},t("next"),t("throw"),t("return"),o[Symbol.asyncIterator]=function(){return this},o);function t(u){o[u]=n[u]&&function(s){return new Promise(function(l,a){s=n[u](s),i(l,a,s.done,s.value)})}}function i(u,s,l,a){Promise.resolve(a).then(function(c){u({value:c,done:l})},s)}}var sc=n=>n&&typeof n.length=="number"&&typeof n!="function";function ic(n){return St(n?.then)}function ac(n){return St(n[Ri])}function lc(n){return Symbol.asyncIterator&&St(n?.[Symbol.asyncIterator])}function uc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function rT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var cc=rT();function dc(n){return St(n?.[cc])}function hc(n){return nv(this,arguments,function*(){let o=n.getReader();try{for(;;){let{value:t,done:i}=yield Zs(o.read());if(i)return yield Zs(void 0);yield yield Zs(t)}}finally{o.releaseLock()}})}function fc(n){return St(n?.getReader)}function Tr(n){if(n instanceof $t)return n;if(n!=null){if(ac(n))return nT(n);if(sc(n))return oT(n);if(ic(n))return sT(n);if(lc(n))return sv(n);if(dc(n))return iT(n);if(fc(n))return aT(n)}throw uc(n)}function nT(n){return new $t(r=>{let o=n[Ri]();if(St(o.subscribe))return o.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function oT(n){return new $t(r=>{for(let o=0;o<n.length&&!r.closed;o++)r.next(n[o]);r.complete()})}function sT(n){return new $t(r=>{n.then(o=>{r.closed||(r.next(o),r.complete())},o=>r.error(o)).then(null,tc)})}function iT(n){return new $t(r=>{for(let o of n)if(r.next(o),r.closed)return;r.complete()})}function sv(n){return new $t(r=>{lT(n,r).catch(o=>r.error(o))})}function aT(n){return sv(hc(n))}function lT(n,r){var o,t,i,u;return Mt(this,void 0,void 0,function*(){try{for(o=ov(n);t=yield o.next(),!t.done;){let s=t.value;if(r.next(s),r.closed)return}}catch(s){i={error:s}}finally{try{t&&!t.done&&(u=o.return)&&(yield u.call(o))}finally{if(i)throw i.error}}r.complete()})}function _n(n,r,o,t=0,i=!1){let u=r.schedule(function(){o(),i?n.add(this.schedule(null,t)):this.unsubscribe()},t);if(n.add(u),!i)return u}function pc(n,r=0){return Ft((o,t)=>{o.subscribe(kt(t,i=>_n(t,n,()=>t.next(i),r),()=>_n(t,n,()=>t.complete(),r),i=>_n(t,n,()=>t.error(i),r)))})}function mc(n,r=0){return Ft((o,t)=>{t.add(n.schedule(()=>o.subscribe(t),r))})}function iv(n,r){return Tr(n).pipe(mc(r),pc(r))}function av(n,r){return Tr(n).pipe(mc(r),pc(r))}function lv(n,r){return new $t(o=>{let t=0;return r.schedule(function(){t===n.length?o.complete():(o.next(n[t++]),o.closed||this.schedule())})})}function uv(n,r){return new $t(o=>{let t;return _n(o,r,()=>{t=n[cc](),_n(o,r,()=>{let i,u;try{({value:i,done:u}=t.next())}catch(s){o.error(s);return}u?o.complete():o.next(i)},0,!0)}),()=>St(t?.return)&&t.return()})}function gc(n,r){if(!n)throw new Error("Iterable cannot be null");return new $t(o=>{_n(o,r,()=>{let t=n[Symbol.asyncIterator]();_n(o,r,()=>{t.next().then(i=>{i.done?o.complete():o.next(i.value)})},0,!0)})})}function cv(n,r){return gc(hc(n),r)}function dv(n,r){if(n!=null){if(ac(n))return iv(n,r);if(sc(n))return lv(n,r);if(ic(n))return av(n,r);if(lc(n))return gc(n,r);if(dc(n))return uv(n,r);if(fc(n))return cv(n,r)}throw uc(n)}function gr(n,r){return r?dv(n,r):Tr(n)}function Ct(...n){let r=bs(n);return gr(n,r)}function Li(n,r){let o=St(n)?n:()=>n,t=i=>i.error(o());return new $t(r?i=>r.schedule(t,0,i):t)}function cf(n){return!!n&&(n instanceof $t||St(n.lift)&&St(n.subscribe))}var Xo=Ii(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function It(n,r){return Ft((o,t)=>{let i=0;o.subscribe(kt(t,u=>{t.next(n.call(r,u,i++))}))})}var{isArray:uT}=Array;function cT(n,r){return uT(r)?n(...r):n(r)}function yc(n){return It(r=>cT(n,r))}var{isArray:dT}=Array,{getPrototypeOf:hT,prototype:fT,keys:pT}=Object;function vc(n){if(n.length===1){let r=n[0];if(dT(r))return{args:r,keys:null};if(mT(r)){let o=pT(r);return{args:o.map(t=>r[t]),keys:o}}}return{args:n,keys:null}}function mT(n){return n&&typeof n=="object"&&hT(n)===fT}function bc(n,r){return n.reduce((o,t,i)=>(o[t]=r[i],o),{})}function _c(...n){let r=bs(n),o=oc(n),{args:t,keys:i}=vc(n);if(t.length===0)return gr([],r);let u=new $t(gT(t,r,i?s=>bc(i,s):In));return o?u.pipe(yc(o)):u}function gT(n,r,o=In){return t=>{hv(r,()=>{let{length:i}=n,u=new Array(i),s=i,l=i;for(let a=0;a<i;a++)hv(r,()=>{let c=gr(n[a],r),y=!1;c.subscribe(kt(t,b=>{u[a]=b,y||(y=!0,l--),l||t.next(o(u.slice()))},()=>{--s||t.complete()}))},t)},t)}}function hv(n,r,o){n?_n(o,n,r):r()}function fv(n,r,o,t,i,u,s,l){let a=[],c=0,y=0,b=!1,d=()=>{b&&!a.length&&!c&&r.complete()},p=g=>c<t?h(g):a.push(g),h=g=>{u&&r.next(g),c++;let m=!1;Tr(o(g,y++)).subscribe(kt(r,f=>{i?.(f),u?p(f):r.next(f)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;a.length&&c<t;){let f=a.shift();s?_n(r,s,()=>h(f)):h(f)}d()}catch(f){r.error(f)}}))};return n.subscribe(kt(r,p,()=>{b=!0,d()})),()=>{l?.()}}function Rr(n,r,o=1/0){return St(r)?Rr((t,i)=>It((u,s)=>r(t,u,i,s))(Tr(n(t,i))),o):(typeof r=="number"&&(o=r),Ft((t,i)=>fv(t,i,n,o)))}function df(n=1/0){return Rr(In,n)}function pv(){return df(1)}function Vi(...n){return pv()(gr(n,bs(n)))}function xc(n){return new $t(r=>{Tr(n()).subscribe(r)})}function hf(...n){let r=oc(n),{args:o,keys:t}=vc(n),i=new $t(u=>{let{length:s}=o;if(!s){u.complete();return}let l=new Array(s),a=s,c=s;for(let y=0;y<s;y++){let b=!1;Tr(o[y]).subscribe(kt(u,d=>{b||(b=!0,c--),l[y]=d},()=>a--,void 0,()=>{(!a||!b)&&(c||u.next(t?bc(t,l):l),u.complete())}))}});return r?i.pipe(yc(r)):i}function oo(n,r){return Ft((o,t)=>{let i=0;o.subscribe(kt(t,u=>n.call(r,u,i++)&&t.next(u)))})}function _s(n){return Ft((r,o)=>{let t=null,i=!1,u;t=r.subscribe(kt(o,void 0,void 0,s=>{u=Tr(n(s,_s(n)(r))),t?(t.unsubscribe(),t=null,u.subscribe(o)):i=!0})),i&&(t.unsubscribe(),t=null,u.subscribe(o))})}function mv(n,r,o,t,i){return(u,s)=>{let l=o,a=r,c=0;u.subscribe(kt(s,y=>{let b=c++;a=l?n(a,y,b):(l=!0,y),t&&s.next(a)},i&&(()=>{l&&s.next(a),s.complete()})))}}function Ui(n,r){return St(r)?Rr(n,r,1):Rr(n,1)}function xs(n){return Ft((r,o)=>{let t=!1;r.subscribe(kt(o,i=>{t=!0,o.next(i)},()=>{t||o.next(n),o.complete()}))})}function Zo(n){return n<=0?()=>On:Ft((r,o)=>{let t=0;r.subscribe(kt(o,i=>{++t<=n&&(o.next(i),n<=t&&o.complete())}))})}function ff(n){return It(()=>n)}function wc(n=yT){return Ft((r,o)=>{let t=!1;r.subscribe(kt(o,i=>{t=!0,o.next(i)},()=>t?o.complete():o.error(n())))})}function yT(){return new Xo}function Sl(n){return Ft((r,o)=>{try{r.subscribe(o)}finally{o.add(n)}})}function jo(n,r){let o=arguments.length>=2;return t=>t.pipe(n?oo((i,u)=>n(i,u,t)):In,Zo(1),o?xs(r):wc(()=>new Xo))}function Bi(n){return n<=0?()=>On:Ft((r,o)=>{let t=[];r.subscribe(kt(o,i=>{t.push(i),n<t.length&&t.shift()},()=>{for(let i of t)o.next(i);o.complete()},void 0,()=>{t=null}))})}function pf(n,r){let o=arguments.length>=2;return t=>t.pipe(n?oo((i,u)=>n(i,u,t)):In,Bi(1),o?xs(r):wc(()=>new Xo))}function mf(n,r){return Ft(mv(n,r,arguments.length>=2,!0))}function gf(...n){let r=bs(n);return Ft((o,t)=>{(r?Vi(n,o,r):Vi(n,o)).subscribe(t)})}function so(n,r){return Ft((o,t)=>{let i=null,u=0,s=!1,l=()=>s&&!i&&t.complete();o.subscribe(kt(t,a=>{i?.unsubscribe();let c=0,y=u++;Tr(n(a,y)).subscribe(i=kt(t,b=>t.next(r?r(a,b,y,c++):b),()=>{i=null,l()}))},()=>{s=!0,l()}))})}function yf(n){return Ft((r,o)=>{Tr(n).subscribe(kt(o,()=>o.complete(),wl)),!o.closed&&r.subscribe(o)})}function Zr(n,r,o){let t=St(n)||r||o?{next:n,error:r,complete:o}:n;return t?Ft((i,u)=>{var s;(s=t.subscribe)===null||s===void 0||s.call(t);let l=!0;i.subscribe(kt(u,a=>{var c;(c=t.next)===null||c===void 0||c.call(t,a),u.next(a)},()=>{var a;l=!1,(a=t.complete)===null||a===void 0||a.call(t),u.complete()},a=>{var c;l=!1,(c=t.error)===null||c===void 0||c.call(t,a),u.error(a)},()=>{var a,c;l&&((a=t.unsubscribe)===null||a===void 0||a.call(t)),(c=t.finalize)===null||c===void 0||c.call(t)}))}):In}var vT="https://g.co/ng/security#xss",gt=class extends Error{constructor(r,o){super(mp(r,o)),this.code=r}};function mp(n,r){return`${`NG0${Math.abs(n)}`}${r?": "+r:""}`}function Kc(n){return{toString:n}.toString()}function tr(n){for(let r in n)if(n[r]===tr)return r;throw Error("Could not find renamed property on target object.")}function bT(n,r){for(let o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function xn(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(xn).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let r=n.toString();if(r==null)return""+r;let o=r.indexOf(`
`);return o===-1?r:r.substring(0,o)}function gv(n,r){return n==null||n===""?r===null?"":r:r==null||r===""?n:n+" "+r}var _T=tr({__forward_ref__:tr});function js(n){return n.__forward_ref__=js,n.toString=function(){return xn(this())},n}function fn(n){return e0(n)?n():n}function e0(n){return typeof n=="function"&&n.hasOwnProperty(_T)&&n.__forward_ref__===js}function wt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function sa(n){return{providers:n.providers||[],imports:n.imports||[]}}function Jc(n){return yv(n,r0)||yv(n,n0)}function t0(n){return Jc(n)!==null}function yv(n,r){return n.hasOwnProperty(r)?n[r]:null}function xT(n){let r=n&&(n[r0]||n[n0]);return r||null}function vv(n){return n&&(n.hasOwnProperty(bv)||n.hasOwnProperty(wT))?n[bv]:null}var r0=tr({\u0275prov:tr}),bv=tr({\u0275inj:tr}),n0=tr({ngInjectableDef:tr}),wT=tr({ngInjectorDef:tr}),_t=class{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof o=="number"?this.__NG_ELEMENT_ID__=o:o!==void 0&&(this.\u0275prov=wt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function o0(n){return n&&!!n.\u0275providers}var ST=tr({\u0275cmp:tr}),CT=tr({\u0275dir:tr}),ET=tr({\u0275pipe:tr}),TT=tr({\u0275mod:tr}),Ic=tr({\u0275fac:tr}),Tl=tr({__NG_ELEMENT_ID__:tr}),_v=tr({__NG_ENV_ID__:tr});function DT(n){return typeof n=="string"?n:n==null?"":String(n)}function MT(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():DT(n)}function jT(n,r){let o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new gt(-200,n)}function gp(n,r){throw new gt(-201,!1)}var Dt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Dt||{}),If;function s0(){return If}function Un(n){let r=If;return If=n,r}function i0(n,r,o){let t=Jc(n);if(t&&t.providedIn=="root")return t.value===void 0?t.value=t.factory():t.value;if(o&Dt.Optional)return null;if(r!==void 0)return r;gp(n,"Injector")}var AT={},Dl=AT,IT="__NG_DI_FLAG__",Oc="ngTempTokenPath",OT="ngTokenPath",kT=/\n/gm,NT="\u0275",xv="__source",qi;function RT(){return qi}function ws(n){let r=qi;return qi=n,r}function PT(n,r=Dt.Default){if(qi===void 0)throw new gt(-203,!1);return qi===null?i0(n,void 0,r):qi.get(n,r&Dt.Optional?null:void 0,r)}function Pt(n,r=Dt.Default){return(s0()||PT)(fn(n),r)}function rt(n,r=Dt.Default){return Pt(n,ed(r))}function ed(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Of(n){let r=[];for(let o=0;o<n.length;o++){let t=fn(n[o]);if(Array.isArray(t)){if(t.length===0)throw new gt(900,!1);let i,u=Dt.Default;for(let s=0;s<t.length;s++){let l=t[s],a=FT(l);typeof a=="number"?a===-1?i=l.token:u|=a:i=l}r.push(Pt(i,u))}else r.push(Pt(t))}return r}function FT(n){return n[IT]}function LT(n,r,o,t){let i=n[Oc];throw r[xv]&&i.unshift(r[xv]),n.message=VT(`
`+n.message,i,o,t),n[OT]=i,n[Oc]=null,n}function VT(n,r,o,t=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==NT?n.slice(2):n;let i=xn(r);if(Array.isArray(r))i=r.map(xn).join(" -> ");else if(typeof r=="object"){let u=[];for(let s in r)if(r.hasOwnProperty(s)){let l=r[s];u.push(s+":"+(typeof l=="string"?JSON.stringify(l):xn(l)))}i=`{${u.join(", ")}}`}return`${o}${t?"("+t+")":""}[${i}]: ${n.replace(kT,`
  `)}`}function $i(n,r){let o=n.hasOwnProperty(Ic);return o?n[Ic]:null}function yp(n,r){n.forEach(o=>Array.isArray(o)?yp(o,r):r(o))}function a0(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function kc(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function UT(n,r,o,t){let i=n.length;if(i==r)n.push(o,t);else if(i===1)n.push(t,n[0]),n[0]=o;else{for(i--,n.push(n[i-1],n[i]);i>r;){let u=i-2;n[i]=n[u],i--}n[r]=o,n[r+1]=t}}function BT(n,r,o){let t=Rl(n,r);return t>=0?n[t|1]=o:(t=~t,UT(n,t,r,o)),t}function vf(n,r){let o=Rl(n,r);if(o>=0)return n[o|1]}function Rl(n,r){return GT(n,r,1)}function GT(n,r,o){let t=0,i=n.length>>o;for(;i!==t;){let u=t+(i-t>>1),s=n[u<<o];if(r===s)return u<<o;s>r?i=u:t=u+1}return~(i<<o)}var Yi={},Bn=[],Xi=new _t(""),l0=new _t("",-1),u0=new _t(""),Nc=class{get(r,o=Dl){if(o===Dl){let t=new Error(`NullInjectorError: No provider for ${xn(r)}!`);throw t.name="NullInjectorError",t}return o}},c0=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(c0||{}),Oo=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Oo||{}),Es=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Es||{});function zT(n,r,o){let t=n.length;for(;;){let i=n.indexOf(r,o);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let u=r.length;if(i+u===t||n.charCodeAt(i+u)<=32)return i}o=i+1}}function kf(n,r,o){let t=0;for(;t<o.length;){let i=o[t];if(typeof i=="number"){if(i!==0)break;t++;let u=o[t++],s=o[t++],l=o[t++];n.setAttribute(r,s,l,u)}else{let u=i,s=o[++t];qT(u)?n.setProperty(r,u,s):n.setAttribute(r,u,s),t++}}return t}function HT(n){return n===3||n===4||n===6}function qT(n){return n.charCodeAt(0)===64}function Ml(n,r){if(!(r===null||r.length===0))if(n===null||n.length===0)n=r.slice();else{let o=-1;for(let t=0;t<r.length;t++){let i=r[t];typeof i=="number"?o=i:o===0||(o===-1||o===2?wv(n,o,i,null,r[++t]):wv(n,o,i,null,null))}}return n}function wv(n,r,o,t,i){let u=0,s=n.length;if(r===-1)s=-1;else for(;u<n.length;){let l=n[u++];if(typeof l=="number"){if(l===r){s=-1;break}else if(l>r){s=u-1;break}}}for(;u<n.length;){let l=n[u];if(typeof l=="number")break;if(l===o){if(t===null){i!==null&&(n[u+1]=i);return}else if(t===n[u+1]){n[u+2]=i;return}}u++,t!==null&&u++,i!==null&&u++}s!==-1&&(n.splice(s,0,r),u=s+1),n.splice(u++,0,o),t!==null&&n.splice(u++,0,t),i!==null&&n.splice(u++,0,i)}var d0="ng-template";function WT(n,r,o,t){let i=0;if(t){for(;i<r.length&&typeof r[i]=="string";i+=2)if(r[i]==="class"&&zT(r[i+1].toLowerCase(),o,0)!==-1)return!0}else if(vp(n))return!1;if(i=r.indexOf(1,i),i>-1){let u;for(;++i<r.length&&typeof(u=r[i])=="string";)if(u.toLowerCase()===o)return!0}return!1}function vp(n){return n.type===4&&n.value!==d0}function $T(n,r,o){let t=n.type===4&&!o?d0:n.value;return r===t}function YT(n,r,o){let t=4,i=n.attrs,u=i!==null?QT(i):0,s=!1;for(let l=0;l<r.length;l++){let a=r[l];if(typeof a=="number"){if(!s&&!io(t)&&!io(a))return!1;if(s&&io(a))continue;s=!1,t=a|t&1;continue}if(!s)if(t&4){if(t=2|t&1,a!==""&&!$T(n,a,o)||a===""&&r.length===1){if(io(t))return!1;s=!0}}else if(t&8){if(i===null||!WT(n,i,a,o)){if(io(t))return!1;s=!0}}else{let c=r[++l],y=XT(a,i,vp(n),o);if(y===-1){if(io(t))return!1;s=!0;continue}if(c!==""){let b;if(y>u?b="":b=i[y+1].toLowerCase(),t&2&&c!==b){if(io(t))return!1;s=!0}}}}return io(t)||s}function io(n){return(n&1)===0}function XT(n,r,o,t){if(r===null)return-1;let i=0;if(t||!o){let u=!1;for(;i<r.length;){let s=r[i];if(s===n)return i;if(s===3||s===6)u=!0;else if(s===1||s===2){let l=r[++i];for(;typeof l=="string";)l=r[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=u?1:2}return-1}else return KT(r,n)}function ZT(n,r,o=!1){for(let t=0;t<r.length;t++)if(YT(n,r[t],o))return!0;return!1}function QT(n){for(let r=0;r<n.length;r++){let o=n[r];if(HT(o))return r}return n.length}function KT(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){let t=n[o];if(typeof t=="number")return-1;if(t===r)return o;o++}return-1}function Sv(n,r){return n?":not("+r.trim()+")":r}function JT(n){let r=n[0],o=1,t=2,i="",u=!1;for(;o<n.length;){let s=n[o];if(typeof s=="string")if(t&2){let l=n[++o];i+="["+s+(l.length>0?'="'+l+'"':"")+"]"}else t&8?i+="."+s:t&4&&(i+=" "+s);else i!==""&&!io(s)&&(r+=Sv(u,i),i=""),t=s,u=u||!io(t);o++}return i!==""&&(r+=Sv(u,i)),r}function eD(n){return n.map(JT).join(",")}function tD(n){let r=[],o=[],t=1,i=2;for(;t<n.length;){let u=n[t];if(typeof u=="string")i===2?u!==""&&r.push(u,n[++t]):i===8&&o.push(u);else{if(!io(i))break;i=u}t++}return{attrs:r,classes:o}}function As(n){return Kc(()=>{let r=g0(n),o=Ge(Se({},r),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===c0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Oo.Emulated,styles:n.styles||Bn,_:null,schemas:n.schemas||null,tView:null,id:""});y0(o);let t=n.dependencies;return o.directiveDefs=Ev(t,!1),o.pipeDefs=Ev(t,!0),o.id=oD(o),o})}function rD(n){return Ks(n)||h0(n)}function nD(n){return n!==null}function ia(n){return Kc(()=>({type:n.type,bootstrap:n.bootstrap||Bn,declarations:n.declarations||Bn,imports:n.imports||Bn,exports:n.exports||Bn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Cv(n,r){if(n==null)return Yi;let o={};for(let t in n)if(n.hasOwnProperty(t)){let i=n[t],u,s,l=Es.None;Array.isArray(i)?(l=i[0],u=i[1],s=i[2]??u):(u=i,s=i),r?(o[u]=l!==Es.None?[t,l]:t,r[u]=s):o[u]=t}return o}function wn(n){return Kc(()=>{let r=g0(n);return y0(r),r})}function Ks(n){return n[ST]||null}function h0(n){return n[CT]||null}function f0(n){return n[ET]||null}function p0(n){let r=Ks(n)||h0(n)||f0(n);return r!==null?r.standalone:!1}function m0(n,r){let o=n[TT]||null;if(!o&&r===!0)throw new Error(`Type ${xn(n)} does not have '\u0275mod' property.`);return o}function g0(n){let r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:n.inputs||Yi,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Bn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Cv(n.inputs,r),outputs:Cv(n.outputs),debugInfo:null}}function y0(n){n.features?.forEach(r=>r(n))}function Ev(n,r){if(!n)return null;let o=r?f0:rD;return()=>(typeof n=="function"?n():n).map(t=>o(t)).filter(nD)}function oD(n){let r=0,o=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of o)r=Math.imul(31,r)+i.charCodeAt(0)<<0;return r+=2147483648,"c"+r}function td(n){return{\u0275providers:n}}function sD(...n){return{\u0275providers:v0(!0,n),\u0275fromNgModule:!0}}function v0(n,...r){let o=[],t=new Set,i,u=s=>{o.push(s)};return yp(r,s=>{let l=s;Nf(l,u,[],t)&&(i||=[],i.push(l))}),i!==void 0&&b0(i,u),o}function b0(n,r){for(let o=0;o<n.length;o++){let{ngModule:t,providers:i}=n[o];bp(i,u=>{r(u,t)})}}function Nf(n,r,o,t){if(n=fn(n),!n)return!1;let i=null,u=vv(n),s=!u&&Ks(n);if(!u&&!s){let a=n.ngModule;if(u=vv(a),u)i=a;else return!1}else{if(s&&!s.standalone)return!1;i=n}let l=t.has(i);if(s){if(l)return!1;if(t.add(i),s.dependencies){let a=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of a)Nf(c,r,o,t)}}else if(u){if(u.imports!=null&&!l){t.add(i);let c;try{yp(u.imports,y=>{Nf(y,r,o,t)&&(c||=[],c.push(y))})}finally{}c!==void 0&&b0(c,r)}if(!l){let c=$i(i)||(()=>new i);r({provide:i,useFactory:c,deps:Bn},i),r({provide:u0,useValue:i,multi:!0},i),r({provide:Xi,useValue:()=>Pt(i),multi:!0},i)}let a=u.providers;if(a!=null&&!l){let c=n;bp(a,y=>{r(y,c)})}}else return!1;return i!==n&&n.providers!==void 0}function bp(n,r){for(let o of n)o0(o)&&(o=o.\u0275providers),Array.isArray(o)?bp(o,r):r(o)}var iD=tr({provide:String,useValue:tr});function _0(n){return n!==null&&typeof n=="object"&&iD in n}function aD(n){return!!(n&&n.useExisting)}function lD(n){return!!(n&&n.useFactory)}function Zi(n){return typeof n=="function"}function uD(n){return!!n.useClass}var rd=new _t(""),Tc={},cD={},bf;function _p(){return bf===void 0&&(bf=new Nc),bf}var Hn=class{},jl=class extends Hn{get destroyed(){return this._destroyed}constructor(r,o,t,i){super(),this.parent=o,this.source=t,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Pf(r,s=>this.processProvider(s)),this.records.set(l0,Gi(void 0,this)),i.has("environment")&&this.records.set(Hn,Gi(void 0,this));let u=this.records.get(rd);u!=null&&typeof u.value=="string"&&this.scopes.add(u.value),this.injectorDefTypes=new Set(this.get(u0,Bn,Dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let r=Ht(null);try{for(let t of this._ngOnDestroyHooks)t.ngOnDestroy();let o=this._onDestroyHooks;this._onDestroyHooks=[];for(let t of o)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ht(r)}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();let o=ws(this),t=Un(void 0),i;try{return r()}finally{ws(o),Un(t)}}get(r,o=Dl,t=Dt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(_v))return r[_v](this);t=ed(t);let i,u=ws(this),s=Un(void 0);try{if(!(t&Dt.SkipSelf)){let a=this.records.get(r);if(a===void 0){let c=mD(r)&&Jc(r);c&&this.injectableDefInScope(c)?a=Gi(Rf(r),Tc):a=null,this.records.set(r,a)}if(a!=null)return this.hydrate(r,a)}let l=t&Dt.Self?_p():this.parent;return o=t&Dt.Optional&&o===Dl?null:o,l.get(r,o)}catch(l){if(l.name==="NullInjectorError"){if((l[Oc]=l[Oc]||[]).unshift(xn(r)),u)throw l;return LT(l,r,"R3InjectorError",this.source)}else throw l}finally{Un(s),ws(u)}}resolveInjectorInitializers(){let r=Ht(null),o=ws(this),t=Un(void 0),i;try{let u=this.get(Xi,Bn,Dt.Self);for(let s of u)s()}finally{ws(o),Un(t),Ht(r)}}toString(){let r=[],o=this.records;for(let t of o.keys())r.push(xn(t));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new gt(205,!1)}processProvider(r){r=fn(r);let o=Zi(r)?r:fn(r&&r.provide),t=hD(r);if(!Zi(r)&&r.multi===!0){let i=this.records.get(o);i||(i=Gi(void 0,Tc,!0),i.factory=()=>Of(i.multi),this.records.set(o,i)),o=r,i.multi.push(r)}this.records.set(o,t)}hydrate(r,o){let t=Ht(null);try{return o.value===Tc&&(o.value=cD,o.value=o.factory()),typeof o.value=="object"&&o.value&&pD(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}finally{Ht(t)}}injectableDefInScope(r){if(!r.providedIn)return!1;let o=fn(r.providedIn);return typeof o=="string"?o==="any"||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){let o=this._onDestroyHooks.indexOf(r);o!==-1&&this._onDestroyHooks.splice(o,1)}};function Rf(n){let r=Jc(n),o=r!==null?r.factory:$i(n);if(o!==null)return o;if(n instanceof _t)throw new gt(204,!1);if(n instanceof Function)return dD(n);throw new gt(204,!1)}function dD(n){if(n.length>0)throw new gt(204,!1);let o=xT(n);return o!==null?()=>o.factory(n):()=>new n}function hD(n){if(_0(n))return Gi(void 0,n.useValue);{let r=x0(n);return Gi(r,Tc)}}function x0(n,r,o){let t;if(Zi(n)){let i=fn(n);return $i(i)||Rf(i)}else if(_0(n))t=()=>fn(n.useValue);else if(lD(n))t=()=>n.useFactory(...Of(n.deps||[]));else if(aD(n))t=()=>Pt(fn(n.useExisting));else{let i=fn(n&&(n.useClass||n.provide));if(fD(n))t=()=>new i(...Of(n.deps));else return $i(i)||Rf(i)}return t}function Gi(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function fD(n){return!!n.deps}function pD(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function mD(n){return typeof n=="function"||typeof n=="object"&&n instanceof _t}function Pf(n,r){for(let o of n)Array.isArray(o)?Pf(o,r):o&&o0(o)?Pf(o.\u0275providers,r):r(o)}function ts(n,r){n instanceof jl&&n.assertNotDestroyed();let o,t=ws(n),i=Un(void 0);try{return r()}finally{ws(t),Un(i)}}function gD(){return s0()!==void 0||RT()!=null}function yD(n){return typeof n=="function"}var rs=0,Nt=1,xt=2,pn=3,ao=4,lo=5,Rc=6,Pc=7,Qo=8,Qi=9,Ko=10,ln=11,Al=12,Tv=13,Pl=14,ko=15,Il=16,zi=17,nd=18,od=19,w0=20,Ss=21,_f=22,Gn=23,Js=25,S0=1;var ei=7,Fc=8,Lc=9,zn=10,Vc=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Vc||{});function Cs(n){return Array.isArray(n)&&typeof n[S0]=="object"}function ns(n){return Array.isArray(n)&&n[S0]===!0}function C0(n){return(n.flags&4)!==0}function sd(n){return n.componentOffset>-1}function E0(n){return(n.flags&1)===1}function Ts(n){return!!n.template}function Ff(n){return(n[xt]&512)!==0}var Lf=class{constructor(r,o,t){this.previousValue=r,this.currentValue=o,this.firstChange=t}isFirstChange(){return this.firstChange}};function T0(n,r,o,t){r!==null?r.applyValueToInputSignal(r,t):n[o]=t}function aa(){return D0}function D0(n){return n.type.prototype.ngOnChanges&&(n.setInput=bD),vD}aa.ngInherit=!0;function vD(){let n=j0(this),r=n?.current;if(r){let o=n.previous;if(o===Yi)n.previous=r;else for(let t in r)o[t]=r[t];n.current=null,this.ngOnChanges(r)}}function bD(n,r,o,t,i){let u=this.declaredInputs[t],s=j0(n)||_D(n,{previous:Yi,current:null}),l=s.current||(s.current={}),a=s.previous,c=a[u];l[u]=new Lf(c&&c.currentValue,o,a===Yi),T0(n,r,i,o)}var M0="__ngSimpleChanges__";function j0(n){return n[M0]||null}function _D(n,r){return n[M0]=r}var Dv=null;var Ao=function(n,r,o){Dv?.(n,r,o)},xD="svg",wD="math";function No(n){for(;Array.isArray(n);)n=n[rs];return n}function SD(n,r){return No(r[n])}function uo(n,r){return No(r[n.index])}function A0(n,r){return n.data[r]}function Is(n,r){let o=r[n];return Cs(o)?o:o[rs]}function xp(n){return(n[xt]&128)===128}function CD(n){return ns(n[pn])}function Mv(n,r){return r==null?null:n[r]}function I0(n){n[zi]=0}function O0(n){n[xt]&1024||(n[xt]|=1024,xp(n)&&ad(n))}function id(n){return!!(n[xt]&9216||n[Gn]?.dirty)}function Vf(n){n[Ko].changeDetectionScheduler?.notify(8),n[xt]&64&&(n[xt]|=1024),id(n)&&ad(n)}function ad(n){n[Ko].changeDetectionScheduler?.notify(0);let r=ti(n);for(;r!==null&&!(r[xt]&8192||(r[xt]|=8192,!xp(r)));)r=ti(r)}function k0(n,r){if((n[xt]&256)===256)throw new gt(911,!1);n[Ss]===null&&(n[Ss]=[]),n[Ss].push(r)}function ED(n,r){if(n[Ss]===null)return;let o=n[Ss].indexOf(r);o!==-1&&n[Ss].splice(o,1)}function ti(n){let r=n[pn];return ns(r)?r[pn]:r}var Ut={lFrame:z0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var N0=!1;function TD(){return Ut.lFrame.elementDepthCount}function DD(){Ut.lFrame.elementDepthCount++}function MD(){Ut.lFrame.elementDepthCount--}function R0(){return Ut.bindingsEnabled}function jD(){return Ut.skipHydrationRootTNode!==null}function AD(n){return Ut.skipHydrationRootTNode===n}function ID(){Ut.skipHydrationRootTNode=null}function Fr(){return Ut.lFrame.lView}function co(){return Ut.lFrame.tView}function kn(){let n=P0();for(;n!==null&&n.type===64;)n=n.parent;return n}function P0(){return Ut.lFrame.currentTNode}function OD(){let n=Ut.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}function ld(n,r){let o=Ut.lFrame;o.currentTNode=n,o.isParent=r}function F0(){return Ut.lFrame.isParent}function kD(){Ut.lFrame.isParent=!1}function L0(){return N0}function jv(n){N0=n}function ND(n){return Ut.lFrame.bindingIndex=n}function V0(){return Ut.lFrame.bindingIndex++}function RD(n){let r=Ut.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function PD(){return Ut.lFrame.inI18n}function FD(n,r){let o=Ut.lFrame;o.bindingIndex=o.bindingRootIndex=n,Uf(r)}function LD(){return Ut.lFrame.currentDirectiveIndex}function Uf(n){Ut.lFrame.currentDirectiveIndex=n}function VD(n){let r=Ut.lFrame.currentDirectiveIndex;return r===-1?null:n[r]}function U0(n){Ut.lFrame.currentQueryIndex=n}function UD(n){let r=n[Nt];return r.type===2?r.declTNode:r.type===1?n[lo]:null}function B0(n,r,o){if(o&Dt.SkipSelf){let i=r,u=n;for(;i=i.parent,i===null&&!(o&Dt.Host);)if(i=UD(u),i===null||(u=u[Pl],i.type&10))break;if(i===null)return!1;r=i,n=u}let t=Ut.lFrame=G0();return t.currentTNode=r,t.lView=n,!0}function wp(n){let r=G0(),o=n[Nt];Ut.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function G0(){let n=Ut.lFrame,r=n===null?null:n.child;return r===null?z0(n):r}function z0(n){let r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=r),r}function H0(){let n=Ut.lFrame;return Ut.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var q0=H0;function Sp(){let n=H0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Fl(){return Ut.lFrame.selectedIndex}function ri(n){Ut.lFrame.selectedIndex=n}function W0(){let n=Ut.lFrame;return A0(n.tView,n.selectedIndex)}function BD(){return Ut.lFrame.currentNamespace}var $0=!0;function Y0(){return $0}function X0(n){$0=n}function GD(n,r,o){let{ngOnChanges:t,ngOnInit:i,ngDoCheck:u}=r.type.prototype;if(t){let s=D0(r);(o.preOrderHooks??=[]).push(n,s),(o.preOrderCheckHooks??=[]).push(n,s)}i&&(o.preOrderHooks??=[]).push(0-n,i),u&&((o.preOrderHooks??=[]).push(n,u),(o.preOrderCheckHooks??=[]).push(n,u))}function Z0(n,r){for(let o=r.directiveStart,t=r.directiveEnd;o<t;o++){let u=n.data[o].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:l,ngAfterViewInit:a,ngAfterViewChecked:c,ngOnDestroy:y}=u;s&&(n.contentHooks??=[]).push(-o,s),l&&((n.contentHooks??=[]).push(o,l),(n.contentCheckHooks??=[]).push(o,l)),a&&(n.viewHooks??=[]).push(-o,a),c&&((n.viewHooks??=[]).push(o,c),(n.viewCheckHooks??=[]).push(o,c)),y!=null&&(n.destroyHooks??=[]).push(o,y)}}function Dc(n,r,o){Q0(n,r,3,o)}function Mc(n,r,o,t){(n[xt]&3)===o&&Q0(n,r,o,t)}function xf(n,r){let o=n[xt];(o&3)===r&&(o&=16383,o+=1,n[xt]=o)}function Q0(n,r,o,t){let i=t!==void 0?n[zi]&65535:0,u=t??-1,s=r.length-1,l=0;for(let a=i;a<s;a++)if(typeof r[a+1]=="number"){if(l=r[a],t!=null&&l>=t)break}else r[a]<0&&(n[zi]+=65536),(l<u||u==-1)&&(zD(n,o,r,a),n[zi]=(n[zi]&4294901760)+a+2),a++}function Av(n,r){Ao(4,n,r);let o=Ht(null);try{r.call(n)}finally{Ht(o),Ao(5,n,r)}}function zD(n,r,o,t){let i=o[t]<0,u=o[t+1],s=i?-o[t]:o[t],l=n[s];i?n[xt]>>14<n[zi]>>16&&(n[xt]&3)===r&&(n[xt]+=16384,Av(l,u)):Av(l,u)}var Wi=-1,ni=class{constructor(r,o,t){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=t}};function HD(n){return n instanceof ni}function qD(n){return(n.flags&8)!==0}function WD(n){return(n.flags&16)!==0}var wf={},Bf=class{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,t){t=ed(t);let i=this.injector.get(r,wf,t);return i!==wf||o===wf?i:this.parentInjector.get(r,o,t)}};function K0(n){return n!==Wi}function Uc(n){return n&32767}function $D(n){return n>>16}function Bc(n,r){let o=$D(n),t=r;for(;o>0;)t=t[Pl],o--;return t}var Gf=!0;function Iv(n){let r=Gf;return Gf=n,r}var YD=256,J0=YD-1,eb=5,XD=0,Io={};function ZD(n,r,o){let t;typeof o=="string"?t=o.charCodeAt(0)||0:o.hasOwnProperty(Tl)&&(t=o[Tl]),t==null&&(t=o[Tl]=XD++);let i=t&J0,u=1<<i;r.data[n+(i>>eb)]|=u}function Gc(n,r){let o=tb(n,r);if(o!==-1)return o;let t=r[Nt];t.firstCreatePass&&(n.injectorIndex=r.length,Sf(t.data,n),Sf(r,null),Sf(t.blueprint,null));let i=Cp(n,r),u=n.injectorIndex;if(K0(i)){let s=Uc(i),l=Bc(i,r),a=l[Nt].data;for(let c=0;c<8;c++)r[u+c]=l[s+c]|a[s+c]}return r[u+8]=i,u}function Sf(n,r){n.push(0,0,0,0,0,0,0,0,r)}function tb(n,r){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||r[n.injectorIndex+8]===null?-1:n.injectorIndex}function Cp(n,r){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let o=0,t=null,i=r;for(;i!==null;){if(t=ib(i),t===null)return Wi;if(o++,i=i[Pl],t.injectorIndex!==-1)return t.injectorIndex|o<<16}return Wi}function zf(n,r,o){ZD(n,r,o)}function rb(n,r,o){if(o&Dt.Optional||n!==void 0)return n;gp(r,"NodeInjector")}function nb(n,r,o,t){if(o&Dt.Optional&&t===void 0&&(t=null),!(o&(Dt.Self|Dt.Host))){let i=n[Qi],u=Un(void 0);try{return i?i.get(r,t,o&Dt.Optional):i0(r,t,o&Dt.Optional)}finally{Un(u)}}return rb(t,r,o)}function ob(n,r,o,t=Dt.Default,i){if(n!==null){if(r[xt]&2048&&!(t&Dt.Self)){let s=tM(n,r,o,t,Io);if(s!==Io)return s}let u=sb(n,r,o,t,Io);if(u!==Io)return u}return nb(r,o,t,i)}function sb(n,r,o,t,i){let u=JD(o);if(typeof u=="function"){if(!B0(r,n,t))return t&Dt.Host?rb(i,o,t):nb(r,o,t,i);try{let s;if(s=u(t),s==null&&!(t&Dt.Optional))gp(o);else return s}finally{q0()}}else if(typeof u=="number"){let s=null,l=tb(n,r),a=Wi,c=t&Dt.Host?r[ko][lo]:null;for((l===-1||t&Dt.SkipSelf)&&(a=l===-1?Cp(n,r):r[l+8],a===Wi||!kv(t,!1)?l=-1:(s=r[Nt],l=Uc(a),r=Bc(a,r)));l!==-1;){let y=r[Nt];if(Ov(u,l,y.data)){let b=QD(l,r,o,s,t,c);if(b!==Io)return b}a=r[l+8],a!==Wi&&kv(t,r[Nt].data[l+8]===c)&&Ov(u,l,r)?(s=y,l=Uc(a),r=Bc(a,r)):l=-1}}return i}function QD(n,r,o,t,i,u){let s=r[Nt],l=s.data[n+8],a=t==null?sd(l)&&Gf:t!=s&&(l.type&3)!==0,c=i&Dt.Host&&u===l,y=KD(l,s,o,a,c);return y!==null?Ki(r,s,y,l):Io}function KD(n,r,o,t,i){let u=n.providerIndexes,s=r.data,l=u&1048575,a=n.directiveStart,c=n.directiveEnd,y=u>>20,b=t?l:l+y,d=i?l+y:c;for(let p=b;p<d;p++){let h=s[p];if(p<a&&o===h||p>=a&&h.type===o)return p}if(i){let p=s[a];if(p&&Ts(p)&&p.type===o)return a}return null}function Ki(n,r,o,t){let i=n[o],u=r.data;if(HD(i)){let s=i;s.resolving&&jT(MT(u[o]));let l=Iv(s.canSeeViewProviders);s.resolving=!0;let a,c=s.injectImpl?Un(s.injectImpl):null,y=B0(n,t,Dt.Default);try{i=n[o]=s.factory(void 0,u,n,t),r.firstCreatePass&&o>=t.directiveStart&&GD(o,u[o],r)}finally{c!==null&&Un(c),Iv(l),s.resolving=!1,q0()}}return i}function JD(n){if(typeof n=="string")return n.charCodeAt(0)||0;let r=n.hasOwnProperty(Tl)?n[Tl]:void 0;return typeof r=="number"?r>=0?r&J0:eM:r}function Ov(n,r,o){let t=1<<n;return!!(o[r+(n>>eb)]&t)}function kv(n,r){return!(n&Dt.Self)&&!(n&Dt.Host&&r)}var Qs=class{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,t){return ob(this._tNode,this._lView,r,ed(t),o)}};function eM(){return new Qs(kn(),Fr())}function Os(n){return Kc(()=>{let r=n.prototype.constructor,o=r[Ic]||Hf(r),t=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==t;){let u=i[Ic]||Hf(i);if(u&&u!==o)return u;i=Object.getPrototypeOf(i)}return u=>new u})}function Hf(n){return e0(n)?()=>{let r=Hf(fn(n));return r&&r()}:$i(n)}function tM(n,r,o,t,i){let u=n,s=r;for(;u!==null&&s!==null&&s[xt]&2048&&!(s[xt]&512);){let l=sb(u,s,o,t|Dt.Self,Io);if(l!==Io)return l;let a=u.parent;if(!a){let c=s[w0];if(c){let y=c.get(o,Io,t);if(y!==Io)return y}a=ib(s),s=s[Pl]}u=a}return i}function ib(n){let r=n[Nt],o=r.type;return o===2?r.declTNode:o===1?n[lo]:null}function Nv(n,r=null,o=null,t){let i=ab(n,r,o,t);return i.resolveInjectorInitializers(),i}function ab(n,r=null,o=null,t,i=new Set){let u=[o||Bn,sD(n)];return t=t||(typeof n=="object"?void 0:xn(n)),new jl(u,r||_p(),t||null,i)}var Ds=class n{static{this.THROW_IF_NOT_FOUND=Dl}static{this.NULL=new Nc}static create(r,o){if(Array.isArray(r))return Nv({name:""},o,r,"");{let t=r.name??"";return Nv({name:t},r.parent,r.providers,t)}}static{this.\u0275prov=wt({token:n,providedIn:"any",factory:()=>Pt(l0)})}static{this.__NG_ELEMENT_ID__=-1}};var rM=new _t("");rM.__NG_ELEMENT_ID__=n=>{let r=kn();if(r===null)throw new gt(204,!1);if(r.type&2)return r.value;if(n&Dt.Optional)return null;throw new gt(204,!1)};var nM="ngOriginalError";function Cf(n){return n[nM]}var lb=!0,ub=(()=>{class n{static{this.__NG_ELEMENT_ID__=oM}static{this.__NG_ENV_ID__=o=>o}}return n})(),qf=class extends ub{constructor(r){super(),this._lView=r}onDestroy(r){return k0(this._lView,r),()=>ED(this._lView,r)}};function oM(){return new qf(Fr())}var la=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Xr(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=wt({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Wf=class extends Yr{constructor(r=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=r,gD()&&(this.destroyRef=rt(ub,{optional:!0})??void 0,this.pendingTasks=rt(la,{optional:!0})??void 0)}emit(r){let o=Ht(null);try{super.next(r)}finally{Ht(o)}}subscribe(r,o,t){let i=r,u=o||(()=>null),s=t;if(r&&typeof r=="object"){let a=r;i=a.next?.bind(a),u=a.error?.bind(a),s=a.complete?.bind(a)}this.__isAsync&&(u=this.wrapInTimeout(u),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let l=super.subscribe({next:i,error:u,complete:s});return r instanceof Er&&r.add(l),l}wrapInTimeout(r){return o=>{let t=this.pendingTasks?.add();setTimeout(()=>{r(o),t!==void 0&&this.pendingTasks?.remove(t)})}}},Pr=Wf;function zc(...n){}function cb(n){let r,o;function t(){n=zc;try{o!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(o),r!==void 0&&clearTimeout(r)}catch{}}return r=setTimeout(()=>{n(),t()}),typeof requestAnimationFrame=="function"&&(o=requestAnimationFrame(()=>{n(),t()})),()=>t()}function Rv(n){return queueMicrotask(()=>n()),()=>{n=zc}}var Ep="isAngularZone",Hc=Ep+"_ID",sM=0,Dr=class n{constructor(r){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pr(!1),this.onMicrotaskEmpty=new Pr(!1),this.onStable=new Pr(!1),this.onError=new Pr(!1);let{enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:u=lb}=r;if(typeof Zone>"u")throw new gt(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&t,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=u,lM(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ep)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new gt(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new gt(909,!1)}run(r,o,t){return this._inner.run(r,o,t)}runTask(r,o,t,i){let u=this._inner,s=u.scheduleEventTask("NgZoneEvent: "+i,r,iM,zc,zc);try{return u.runTask(s,o,t)}finally{u.cancelTask(s)}}runGuarded(r,o,t){return this._inner.runGuarded(r,o,t)}runOutsideAngular(r){return this._outer.run(r)}},iM={};function Tp(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function aM(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function r(){cb(()=>{n.callbackScheduled=!1,$f(n),n.isCheckStableRunning=!0,Tp(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{r()}):n._outer.run(()=>{r()}),$f(n)}function lM(n){let r=()=>{aM(n)},o=sM++;n._inner=n._inner.fork({name:"angular",properties:{[Ep]:!0,[Hc]:o,[Hc+o]:!0},onInvokeTask:(t,i,u,s,l,a)=>{if(uM(a))return t.invokeTask(u,s,l,a);try{return Pv(n),t.invokeTask(u,s,l,a)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&r(),Fv(n)}},onInvoke:(t,i,u,s,l,a,c)=>{try{return Pv(n),t.invoke(u,s,l,a,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!cM(a)&&r(),Fv(n)}},onHasTask:(t,i,u,s)=>{t.hasTask(u,s),i===u&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,$f(n),Tp(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,u,s)=>(t.handleError(u,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function $f(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Pv(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Fv(n){n._nesting--,Tp(n)}var Yf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pr,this.onMicrotaskEmpty=new Pr,this.onStable=new Pr,this.onError=new Pr}run(r,o,t){return r.apply(o,t)}runGuarded(r,o,t){return r.apply(o,t)}runOutsideAngular(r){return r()}runTask(r,o,t,i){return r.apply(o,t)}};function uM(n){return db(n,"__ignore_ng_zone__")}function cM(n){return db(n,"__scheduler_tick__")}function db(n,r){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[r]===!0}var Jo=class{constructor(){this._console=console}handleError(r){let o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Cf(r);for(;o&&Cf(o);)o=Cf(o);return o||null}},dM=new _t("",{providedIn:"root",factory:()=>{let n=rt(Dr),r=rt(Jo);return o=>n.runOutsideAngular(()=>r.handleError(o))}});function hM(){return Dp(kn(),Fr())}function Dp(n,r){return new os(uo(n,r))}var os=(()=>{class n{constructor(o){this.nativeElement=o}static{this.__NG_ELEMENT_ID__=hM}}return n})();function hb(n){return(n.flags&128)===128}var fb=new Map,fM=0;function pM(){return fM++}function mM(n){fb.set(n[od],n)}function Xf(n){fb.delete(n[od])}var Lv="__ngContext__";function Ji(n,r){Cs(r)?(n[Lv]=r[od],mM(r)):n[Lv]=r}function pb(n){return gb(n[Al])}function mb(n){return gb(n[ao])}function gb(n){for(;n!==null&&!ns(n);)n=n[ao];return n}var Zf;function yb(n){Zf=n}function gM(){if(Zf!==void 0)return Zf;if(typeof document<"u")return document;throw new gt(210,!1)}var Mp=new _t("",{providedIn:"root",factory:()=>yM}),yM="ng",jp=new _t(""),ua=new _t("",{providedIn:"platform",factory:()=>"unknown"});var Ap=new _t("",{providedIn:"root",factory:()=>gM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var vM="h",bM="b";var _M=()=>null;function Ip(n,r,o=!1){return _M(n,r,o)}var vb=!1,xM=new _t("",{providedIn:"root",factory:()=>vb});var Qf=class{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vT})`}};function Op(n){return n instanceof Qf?n.changingThisBreaksApplicationSecurity:n}function bb(n){return n instanceof Function?n():n}var es=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(es||{}),wM;function kp(n,r){return wM(n,r)}function Hi(n,r,o,t,i){if(t!=null){let u,s=!1;ns(t)?u=t:Cs(t)&&(s=!0,t=t[rs]);let l=No(t);n===0&&o!==null?i==null?Cb(r,o,l):qc(r,o,l,i||null,!0):n===1&&o!==null?qc(r,o,l,i||null,!0):n===2?PM(r,l,s):n===3&&r.destroyNode(l),u!=null&&LM(r,n,u,o,i)}}function SM(n,r){return n.createText(r)}function _b(n,r,o){return n.createElement(r,o)}function CM(n,r){xb(n,r),r[rs]=null,r[lo]=null}function EM(n,r,o,t,i,u){t[rs]=i,t[lo]=r,ud(n,t,o,1,i,u)}function xb(n,r){r[Ko].changeDetectionScheduler?.notify(9),ud(n,r,r[ln],2,null,null)}function TM(n){let r=n[Al];if(!r)return Ef(n[Nt],n);for(;r;){let o=null;if(Cs(r))o=r[Al];else{let t=r[zn];t&&(o=t)}if(!o){for(;r&&!r[ao]&&r!==n;)Cs(r)&&Ef(r[Nt],r),r=r[pn];r===null&&(r=n),Cs(r)&&Ef(r[Nt],r),o=r&&r[ao]}r=o}}function DM(n,r,o,t){let i=zn+t,u=o.length;t>0&&(o[i-1][ao]=r),t<u-zn?(r[ao]=o[i],a0(o,zn+t,r)):(o.push(r),r[ao]=null),r[pn]=o;let s=r[Il];s!==null&&o!==s&&wb(s,r);let l=r[nd];l!==null&&l.insertView(n),Vf(r),r[xt]|=128}function wb(n,r){let o=n[Lc],t=r[pn];if(Cs(t))n[xt]|=Vc.HasTransplantedViews;else{let i=t[pn][ko];r[ko]!==i&&(n[xt]|=Vc.HasTransplantedViews)}o===null?n[Lc]=[r]:o.push(r)}function Np(n,r){let o=n[Lc],t=o.indexOf(r);o.splice(t,1)}function Kf(n,r){if(n.length<=zn)return;let o=zn+r,t=n[o];if(t){let i=t[Il];i!==null&&i!==n&&Np(i,t),r>0&&(n[o-1][ao]=t[ao]);let u=kc(n,zn+r);CM(t[Nt],t);let s=u[nd];s!==null&&s.detachView(u[Nt]),t[pn]=null,t[ao]=null,t[xt]&=-129}return t}function Sb(n,r){if(!(r[xt]&256)){let o=r[ln];o.destroyNode&&ud(n,r,o,3,null,null),TM(r)}}function Ef(n,r){if(r[xt]&256)return;let o=Ht(null);try{r[xt]&=-129,r[xt]|=256,r[Gn]&&Kh(r[Gn]),jM(n,r),MM(n,r),r[Nt].type===1&&r[ln].destroy();let t=r[Il];if(t!==null&&ns(r[pn])){t!==r[pn]&&Np(t,r);let i=r[nd];i!==null&&i.detachView(n)}Xf(r)}finally{Ht(o)}}function MM(n,r){let o=n.cleanup,t=r[Pc];if(o!==null)for(let u=0;u<o.length-1;u+=2)if(typeof o[u]=="string"){let s=o[u+3];s>=0?t[s]():t[-s].unsubscribe(),u+=2}else{let s=t[o[u+1]];o[u].call(s)}t!==null&&(r[Pc]=null);let i=r[Ss];if(i!==null){r[Ss]=null;for(let u=0;u<i.length;u++){let s=i[u];s()}}}function jM(n,r){let o;if(n!=null&&(o=n.destroyHooks)!=null)for(let t=0;t<o.length;t+=2){let i=r[o[t]];if(!(i instanceof ni)){let u=o[t+1];if(Array.isArray(u))for(let s=0;s<u.length;s+=2){let l=i[u[s]],a=u[s+1];Ao(4,l,a);try{a.call(l)}finally{Ao(5,l,a)}}else{Ao(4,i,u);try{u.call(i)}finally{Ao(5,i,u)}}}}}function AM(n,r,o){return IM(n,r.parent,o)}function IM(n,r,o){let t=r;for(;t!==null&&t.type&168;)r=t,t=r.parent;if(t===null)return o[rs];{let{componentOffset:i}=t;if(i>-1){let{encapsulation:u}=n.data[t.directiveStart+i];if(u===Oo.None||u===Oo.Emulated)return null}return uo(t,o)}}function qc(n,r,o,t,i){n.insertBefore(r,o,t,i)}function Cb(n,r,o){n.appendChild(r,o)}function Vv(n,r,o,t,i){t!==null?qc(n,r,o,t,i):Cb(n,r,o)}function Eb(n,r){return n.parentNode(r)}function OM(n,r){return n.nextSibling(r)}function kM(n,r,o){return RM(n,r,o)}function NM(n,r,o){return n.type&40?uo(n,o):null}var RM=NM,Uv;function Tb(n,r,o,t){let i=AM(n,t,r),u=r[ln],s=t.parent||r[lo],l=kM(s,t,r);if(i!=null)if(Array.isArray(o))for(let a=0;a<o.length;a++)Vv(u,i,o[a],l,!1);else Vv(u,i,o,l,!1);Uv!==void 0&&Uv(u,t,r,o,i)}function Cl(n,r){if(r!==null){let o=r.type;if(o&3)return uo(r,n);if(o&4)return Jf(-1,n[r.index]);if(o&8){let t=r.child;if(t!==null)return Cl(n,t);{let i=n[r.index];return ns(i)?Jf(-1,i):No(i)}}else{if(o&128)return Cl(n,r.next);if(o&32)return kp(r,n)()||No(n[r.index]);{let t=Db(n,r);if(t!==null){if(Array.isArray(t))return t[0];let i=ti(n[ko]);return Cl(i,t)}else return Cl(n,r.next)}}}return null}function Db(n,r){if(r!==null){let t=n[ko][lo],i=r.projection;return t.projection[i]}return null}function Jf(n,r){let o=zn+n+1;if(o<r.length){let t=r[o],i=t[Nt].firstChild;if(i!==null)return Cl(t,i)}return r[ei]}function PM(n,r,o){n.removeChild(null,r,o)}function Rp(n,r,o,t,i,u,s){for(;o!=null;){if(o.type===128){o=o.next;continue}let l=t[o.index],a=o.type;if(s&&r===0&&(l&&Ji(No(l),t),o.flags|=2),(o.flags&32)!==32)if(a&8)Rp(n,r,o.child,t,i,u,!1),Hi(r,n,i,l,u);else if(a&32){let c=kp(o,t),y;for(;y=c();)Hi(r,n,i,y,u);Hi(r,n,i,l,u)}else a&16?FM(n,r,t,o,i,u):Hi(r,n,i,l,u);o=s?o.projectionNext:o.next}}function ud(n,r,o,t,i,u){Rp(o,t,n.firstChild,r,i,u,!1)}function FM(n,r,o,t,i,u){let s=o[ko],a=s[lo].projection[t.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++){let y=a[c];Hi(r,n,i,y,u)}else{let c=a,y=s[pn];hb(t)&&(c.flags|=128),Rp(n,r,c,y,i,u,!0)}}function LM(n,r,o,t,i){let u=o[ei],s=No(o);u!==s&&Hi(r,n,t,u,i);for(let l=zn;l<o.length;l++){let a=o[l];ud(a[Nt],a,n,r,t,u)}}function VM(n,r,o,t,i){if(r)i?n.addClass(o,t):n.removeClass(o,t);else{let u=t.indexOf("-")===-1?void 0:es.DashCase;i==null?n.removeStyle(o,t,u):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),u|=es.Important),n.setStyle(o,t,i,u))}}function UM(n,r,o){n.setAttribute(r,"style",o)}function Mb(n,r,o){o===""?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o)}function jb(n,r,o){let{mergedAttrs:t,classes:i,styles:u}=o;t!==null&&kf(n,r,t),i!==null&&Mb(n,r,i),u!==null&&UM(n,r,u)}var cd={};function Ab(n=1){Ib(co(),Fr(),Fl()+n,!1)}function Ib(n,r,o,t){if(!t)if((r[xt]&3)===3){let u=n.preOrderCheckHooks;u!==null&&Dc(r,u,o)}else{let u=n.preOrderHooks;u!==null&&Mc(r,u,0,o)}ri(o)}function lr(n,r=Dt.Default){let o=Fr();if(o===null)return Pt(n,r);let t=kn();return ob(t,o,fn(n),r)}function Ob(n,r,o,t,i,u){let s=Ht(null);try{let l=null;i&Es.SignalBased&&(l=r[t][Yo]),l!==null&&l.transformFn!==void 0&&(u=l.transformFn(u)),i&Es.HasDecoratorInputTransform&&(u=n.inputTransforms[t].call(r,u)),n.setInput!==null?n.setInput(r,l,u,o,t):T0(r,l,t,u)}finally{Ht(s)}}function BM(n,r){let o=n.hostBindingOpCodes;if(o!==null)try{for(let t=0;t<o.length;t++){let i=o[t];if(i<0)ri(~i);else{let u=i,s=o[++t],l=o[++t];FD(s,u);let a=r[u];l(2,a)}}}finally{ri(-1)}}function Pp(n,r,o,t,i,u,s,l,a,c,y){let b=r.blueprint.slice();return b[rs]=i,b[xt]=t|4|128|8|64,(c!==null||n&&n[xt]&2048)&&(b[xt]|=2048),I0(b),b[pn]=b[Pl]=n,b[Qo]=o,b[Ko]=s||n&&n[Ko],b[ln]=l||n&&n[ln],b[Qi]=a||n&&n[Qi]||null,b[lo]=u,b[od]=pM(),b[Rc]=y,b[w0]=c,b[ko]=r.type==2?n[ko]:b,b}function Fp(n,r,o,t,i){let u=n.data[r];if(u===null)u=GM(n,r,o,t,i),PD()&&(u.flags|=32);else if(u.type&64){u.type=o,u.value=t,u.attrs=i;let s=OD();u.injectorIndex=s===null?-1:s.injectorIndex}return ld(u,!0),u}function GM(n,r,o,t,i){let u=P0(),s=F0(),l=s?u:u&&u.parent,a=n.data[r]=XM(n,l,o,r,t,i);return n.firstChild===null&&(n.firstChild=a),u!==null&&(s?u.child==null&&a.parent!==null&&(u.child=a):u.next===null&&(u.next=a,a.prev=u)),a}function kb(n,r,o,t){if(o===0)return-1;let i=r.length;for(let u=0;u<o;u++)r.push(t),n.blueprint.push(t),n.data.push(null);return i}function Nb(n,r,o,t,i){let u=Fl(),s=t&2;try{ri(-1),s&&r.length>Js&&Ib(n,r,Js,!1),Ao(s?2:0,i),o(t,i)}finally{ri(u),Ao(s?3:1,i)}}function Rb(n,r,o){if(C0(r)){let t=Ht(null);try{let i=r.directiveStart,u=r.directiveEnd;for(let s=i;s<u;s++){let l=n.data[s];if(l.contentQueries){let a=o[s];l.contentQueries(1,a,s)}}}finally{Ht(t)}}}function zM(n,r,o){R0()&&(rj(n,r,o,uo(o,r)),(o.flags&64)===64&&Ub(n,r,o))}function HM(n,r,o=uo){let t=r.localNames;if(t!==null){let i=r.index+1;for(let u=0;u<t.length;u+=2){let s=t[u+1],l=s===-1?o(r,n):n[s];n[i++]=l}}}function Pb(n){let r=n.tView;return r===null||r.incompleteFirstPass?n.tView=Fb(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):r}function Fb(n,r,o,t,i,u,s,l,a,c,y){let b=Js+t,d=b+i,p=qM(b,d),h=typeof c=="function"?c():c;return p[Nt]={type:n,blueprint:p,template:o,queries:null,viewQuery:l,declTNode:r,data:p.slice().fill(null,b),bindingStartIndex:b,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof u=="function"?u():u,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:a,consts:h,incompleteFirstPass:!1,ssrId:y}}function qM(n,r){let o=[];for(let t=0;t<r;t++)o.push(t<n?null:cd);return o}function WM(n,r,o,t){let u=t.get(xM,vb)||o===Oo.ShadowDom,s=n.selectRootElement(r,u);return $M(s),s}function $M(n){YM(n)}var YM=()=>null;function XM(n,r,o,t,i,u){let s=r?r.injectorIndex:-1,l=0;return jD()&&(l|=128),{type:o,index:t,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:i,attrs:u,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Bv(n,r,o,t,i){for(let u in r){if(!r.hasOwnProperty(u))continue;let s=r[u];if(s===void 0)continue;t??={};let l,a=Es.None;Array.isArray(s)?(l=s[0],a=s[1]):l=s;let c=u;if(i!==null){if(!i.hasOwnProperty(u))continue;c=i[u]}n===0?Gv(t,o,c,l,a):Gv(t,o,c,l)}return t}function Gv(n,r,o,t,i){let u;n.hasOwnProperty(o)?(u=n[o]).push(r,t):u=n[o]=[r,t],i!==void 0&&u.push(i)}function ZM(n,r,o){let t=r.directiveStart,i=r.directiveEnd,u=n.data,s=r.attrs,l=[],a=null,c=null;for(let y=t;y<i;y++){let b=u[y],d=o?o.get(b):null,p=d?d.inputs:null,h=d?d.outputs:null;a=Bv(0,b.inputs,y,a,p),c=Bv(1,b.outputs,y,c,h);let g=a!==null&&s!==null&&!vp(r)?dj(a,y,s):null;l.push(g)}a!==null&&(a.hasOwnProperty("class")&&(r.flags|=8),a.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=l,r.inputs=a,r.outputs=c}function QM(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Lb(n,r,o,t,i,u,s,l){let a=uo(r,o),c=r.inputs,y;!l&&c!=null&&(y=c[t])?(Vp(n,o,y,t,i),sd(r)&&KM(o,r.index)):r.type&3?(t=QM(t),i=s!=null?s(i,r.value||"",t):i,u.setProperty(a,t,i)):r.type&12}function KM(n,r){let o=Is(r,n);o[xt]&16||(o[xt]|=64)}function JM(n,r,o,t){if(R0()){let i=t===null?null:{"":-1},u=oj(n,o),s,l;u===null?s=l=null:[s,l]=u,s!==null&&Vb(n,r,o,s,i,l),i&&sj(o,t,i)}o.mergedAttrs=Ml(o.mergedAttrs,o.attrs)}function Vb(n,r,o,t,i,u){for(let c=0;c<t.length;c++)zf(Gc(o,r),n,t[c].type);aj(o,n.data.length,t.length);for(let c=0;c<t.length;c++){let y=t[c];y.providersResolver&&y.providersResolver(y)}let s=!1,l=!1,a=kb(n,r,t.length,null);for(let c=0;c<t.length;c++){let y=t[c];o.mergedAttrs=Ml(o.mergedAttrs,y.hostAttrs),lj(n,o,r,a,y),ij(a,y,i),y.contentQueries!==null&&(o.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(o.flags|=64);let b=y.type.prototype;!s&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((n.preOrderHooks??=[]).push(o.index),s=!0),!l&&(b.ngOnChanges||b.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(o.index),l=!0),a++}ZM(n,o,u)}function ej(n,r,o,t,i){let u=i.hostBindings;if(u){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let l=~r.index;tj(s)!=l&&s.push(l),s.push(o,t,u)}}function tj(n){let r=n.length;for(;r>0;){let o=n[--r];if(typeof o=="number"&&o<0)return o}return 0}function rj(n,r,o,t){let i=o.directiveStart,u=o.directiveEnd;sd(o)&&uj(r,o,n.data[i+o.componentOffset]),n.firstCreatePass||Gc(o,r),Ji(t,r);let s=o.initialInputs;for(let l=i;l<u;l++){let a=n.data[l],c=Ki(r,n,l,o);if(Ji(c,r),s!==null&&cj(r,l-i,c,a,o,s),Ts(a)){let y=Is(o.index,r);y[Qo]=Ki(r,n,l,o)}}}function Ub(n,r,o){let t=o.directiveStart,i=o.directiveEnd,u=o.index,s=LD();try{ri(u);for(let l=t;l<i;l++){let a=n.data[l],c=r[l];Uf(l),(a.hostBindings!==null||a.hostVars!==0||a.hostAttrs!==null)&&nj(a,c)}}finally{ri(-1),Uf(s)}}function nj(n,r){n.hostBindings!==null&&n.hostBindings(1,r)}function oj(n,r){let o=n.directiveRegistry,t=null,i=null;if(o)for(let u=0;u<o.length;u++){let s=o[u];if(ZT(r,s.selectors,!1))if(t||(t=[]),Ts(s))if(s.findHostDirectiveDefs!==null){let l=[];i=i||new Map,s.findHostDirectiveDefs(s,l,i),t.unshift(...l,s);let a=l.length;ep(n,r,a)}else t.unshift(s),ep(n,r,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,t,i),t.push(s)}return t===null?null:[t,i]}function ep(n,r,o){r.componentOffset=o,(n.components??=[]).push(r.index)}function sj(n,r,o){if(r){let t=n.localNames=[];for(let i=0;i<r.length;i+=2){let u=o[r[i+1]];if(u==null)throw new gt(-301,!1);t.push(r[i],u)}}}function ij(n,r,o){if(o){if(r.exportAs)for(let t=0;t<r.exportAs.length;t++)o[r.exportAs[t]]=n;Ts(r)&&(o[""]=n)}}function aj(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}function lj(n,r,o,t,i){n.data[t]=i;let u=i.factory||(i.factory=$i(i.type,!0)),s=new ni(u,Ts(i),lr);n.blueprint[t]=s,o[t]=s,ej(n,r,t,kb(n,o,i.hostVars,cd),i)}function uj(n,r,o){let t=uo(r,n),i=Pb(o),u=n[Ko].rendererFactory,s=16;o.signals?s=4096:o.onPush&&(s=64);let l=Lp(n,Pp(n,i,null,s,t,r,null,u.createRenderer(t,o),null,null,null));n[r.index]=l}function cj(n,r,o,t,i,u){let s=u[r];if(s!==null)for(let l=0;l<s.length;){let a=s[l++],c=s[l++],y=s[l++],b=s[l++];Ob(t,o,a,c,y,b)}}function dj(n,r,o){let t=null,i=0;for(;i<o.length;){let u=o[i];if(u===0){i+=4;continue}else if(u===5){i+=2;continue}if(typeof u=="number")break;if(n.hasOwnProperty(u)){t===null&&(t=[]);let s=n[u];for(let l=0;l<s.length;l+=3)if(s[l]===r){t.push(u,s[l+1],s[l+2],o[i+1]);break}}i+=2}return t}function hj(n,r,o,t){return[n,!0,0,r,null,t,null,o,null,null]}function Bb(n,r){let o=n.contentQueries;if(o!==null){let t=Ht(null);try{for(let i=0;i<o.length;i+=2){let u=o[i],s=o[i+1];if(s!==-1){let l=n.data[s];U0(u),l.contentQueries(2,r[s],s)}}}finally{Ht(t)}}}function Lp(n,r){return n[Al]?n[Tv][ao]=r:n[Al]=r,n[Tv]=r,r}function tp(n,r,o){U0(0);let t=Ht(null);try{r(n,o)}finally{Ht(t)}}function fj(n){return n[Pc]??=[]}function pj(n){return n.cleanup??=[]}function Gb(n,r){let o=n[Qi],t=o?o.get(Jo,null):null;t&&t.handleError(r)}function Vp(n,r,o,t,i){for(let u=0;u<o.length;){let s=o[u++],l=o[u++],a=o[u++],c=r[s],y=n.data[s];Ob(y,c,t,l,a,i)}}function mj(n,r){let o=Is(r,n),t=o[Nt];gj(t,o);let i=o[rs];i!==null&&o[Rc]===null&&(o[Rc]=Ip(i,o[Qi])),zb(t,o,o[Qo])}function gj(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])}function zb(n,r,o){wp(r);try{let t=n.viewQuery;t!==null&&tp(1,t,o);let i=n.template;i!==null&&Nb(n,r,i,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),r[nd]?.finishViewCreation(n),n.staticContentQueries&&Bb(n,r),n.staticViewQueries&&tp(2,n.viewQuery,o);let u=n.components;u!==null&&yj(r,u)}catch(t){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),t}finally{r[xt]&=-5,Sp()}}function yj(n,r){for(let o=0;o<r.length;o++)mj(n,r[o])}function zv(n,r){return!r||r.firstChild===null||hb(n)}function vj(n,r,o,t=!0){let i=r[Nt];if(DM(i,r,n,o),t){let s=Jf(o,n),l=r[ln],a=Eb(l,n[ei]);a!==null&&EM(i,n[lo],l,r,a,s)}let u=r[Rc];u!==null&&u.firstChild!==null&&(u.firstChild=null)}function Wc(n,r,o,t,i=!1){for(;o!==null;){if(o.type===128){o=i?o.projectionNext:o.next;continue}let u=r[o.index];u!==null&&t.push(No(u)),ns(u)&&bj(u,t);let s=o.type;if(s&8)Wc(n,r,o.child,t);else if(s&32){let l=kp(o,r),a;for(;a=l();)t.push(a)}else if(s&16){let l=Db(r,o);if(Array.isArray(l))t.push(...l);else{let a=ti(r[ko]);Wc(a[Nt],a,l,t,!0)}}o=i?o.projectionNext:o.next}return t}function bj(n,r){for(let o=zn;o<n.length;o++){let t=n[o],i=t[Nt].firstChild;i!==null&&Wc(t[Nt],t,i,r)}n[ei]!==n[rs]&&r.push(n[ei])}var Hb=[];function _j(n){return n[Gn]??xj(n)}function xj(n){let r=Hb.pop()??Object.create(Sj);return r.lView=n,r}function wj(n){n.lView[Gn]!==n&&(n.lView=null,Hb.push(n))}var Sj=Ge(Se({},_l),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ad(n.lView)},consumerOnSignalRead(){this.lView[Gn]=this}});function Cj(n){let r=n[Gn]??Object.create(Ej);return r.lView=n,r}var Ej=Ge(Se({},_l),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let r=ti(n.lView);for(;r&&!qb(r[Nt]);)r=ti(r);r&&O0(r)},consumerOnSignalRead(){this.lView[Gn]=this}});function qb(n){return n.type!==2}var Tj=100;function Wb(n,r=!0,o=0){let t=n[Ko],i=t.rendererFactory,u=!1;u||i.begin?.();try{Dj(n,o)}catch(s){throw r&&Gb(n,s),s}finally{u||(i.end?.(),t.inlineEffectRunner?.flush())}}function Dj(n,r){let o=L0();try{jv(!0),rp(n,r);let t=0;for(;id(n);){if(t===Tj)throw new gt(103,!1);t++,rp(n,1)}}finally{jv(o)}}function Mj(n,r,o,t){let i=r[xt];if((i&256)===256)return;let u=!1,s=!1;!u&&r[Ko].inlineEffectRunner?.flush(),wp(r);let l=!0,a=null,c=null;u||(qb(n)?(c=_j(r),a=Zu(c)):ky()===null?(l=!1,c=Cj(r),a=Zu(c)):r[Gn]&&(Kh(r[Gn]),r[Gn]=null));try{I0(r),ND(n.bindingStartIndex),o!==null&&Nb(n,r,o,2,t);let y=(i&3)===3;if(!u)if(y){let p=n.preOrderCheckHooks;p!==null&&Dc(r,p,null)}else{let p=n.preOrderHooks;p!==null&&Mc(r,p,0,null),xf(r,0)}if(s||jj(r),$b(r,0),n.contentQueries!==null&&Bb(n,r),!u)if(y){let p=n.contentCheckHooks;p!==null&&Dc(r,p)}else{let p=n.contentHooks;p!==null&&Mc(r,p,1),xf(r,1)}BM(n,r);let b=n.components;b!==null&&Xb(r,b,0);let d=n.viewQuery;if(d!==null&&tp(2,d,t),!u)if(y){let p=n.viewCheckHooks;p!==null&&Dc(r,p)}else{let p=n.viewHooks;p!==null&&Mc(r,p,2),xf(r,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),r[_f]){for(let p of r[_f])p();r[_f]=null}u||(r[xt]&=-73)}catch(y){throw u||ad(r),y}finally{c!==null&&(Zh(c,a),l&&wj(c)),Sp()}}function $b(n,r){for(let o=pb(n);o!==null;o=mb(o))for(let t=zn;t<o.length;t++){let i=o[t];Yb(i,r)}}function jj(n){for(let r=pb(n);r!==null;r=mb(r)){if(!(r[xt]&Vc.HasTransplantedViews))continue;let o=r[Lc];for(let t=0;t<o.length;t++){let i=o[t];O0(i)}}}function Aj(n,r,o){let t=Is(r,n);Yb(t,o)}function Yb(n,r){xp(n)&&rp(n,r)}function rp(n,r){let t=n[Nt],i=n[xt],u=n[Gn],s=!!(r===0&&i&16);if(s||=!!(i&64&&r===0),s||=!!(i&1024),s||=!!(u?.dirty&&Qh(u)),s||=!1,u&&(u.dirty=!1),n[xt]&=-9217,s)Mj(t,n,t.template,n[Qo]);else if(i&8192){$b(n,1);let l=t.components;l!==null&&Xb(n,l,1)}}function Xb(n,r,o){for(let t=0;t<r.length;t++)Aj(n,r[t],o)}function Up(n,r){let o=L0()?64:1088;for(n[Ko].changeDetectionScheduler?.notify(r);n;){n[xt]|=o;let t=ti(n);if(Ff(n)&&!t)return n;n=t}return null}var ea=class{get rootNodes(){let r=this._lView,o=r[Nt];return Wc(o,r,o.firstChild,[])}constructor(r,o,t=!0){this._lView=r,this._cdRefInjectingView=o,this.notifyErrorHandler=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qo]}set context(r){this._lView[Qo]=r}get destroyed(){return(this._lView[xt]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let r=this._lView[pn];if(ns(r)){let o=r[Fc],t=o?o.indexOf(this):-1;t>-1&&(Kf(r,t),kc(o,t))}this._attachedToViewContainer=!1}Sb(this._lView[Nt],this._lView)}onDestroy(r){k0(this._lView,r)}markForCheck(){Up(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[xt]&=-129}reattach(){Vf(this._lView),this._lView[xt]|=128}detectChanges(){this._lView[xt]|=1024,Wb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new gt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let r=Ff(this._lView),o=this._lView[Il];o!==null&&!r&&Np(o,this._lView),xb(this._lView[Nt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new gt(902,!1);this._appRef=r;let o=Ff(this._lView),t=this._lView[Il];t!==null&&!o&&wb(t,this._lView),Vf(this._lView)}};var dV=new RegExp(`^(\\d+)*(${bM}|${vM})*(.*)`);var Ij=()=>null;function Hv(n,r){return Ij(n,r)}var ta=class{},dd=new _t("",{providedIn:"root",factory:()=>!1});var Zb=new _t(""),Qb=new _t(""),np=class{},$c=class{};function Oj(n){let r=Error(`No component factory found for ${xn(n)}.`);return r[kj]=n,r}var kj="ngComponent";var op=class{resolveComponentFactory(r){throw Oj(r)}},ra=class{static{this.NULL=new op}},na=class{},ks=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>Nj()}}return n})();function Nj(){let n=Fr(),r=kn(),o=Is(r.index,n);return(Cs(o)?o:n)[ln]}var Rj=(()=>{class n{static{this.\u0275prov=wt({token:n,providedIn:"root",factory:()=>null})}}return n})();function sp(n,r,o){let t=o?n.styles:null,i=o?n.classes:null,u=0;if(r!==null)for(let s=0;s<r.length;s++){let l=r[s];if(typeof l=="number")u=l;else if(u==1)i=gv(i,l);else if(u==2){let a=l,c=r[++s];t=gv(t,a+": "+c+";")}}o?n.styles=t:n.stylesWithoutHost=t,o?n.classes=i:n.classesWithoutHost=i}var Yc=class extends ra{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){let o=Ks(r);return new Ol(o,this.ngModule)}};function qv(n,r){let o=[];for(let t in n){if(!n.hasOwnProperty(t))continue;let i=n[t];if(i===void 0)continue;let u=Array.isArray(i),s=u?i[0]:i,l=u?i[1]:Es.None;r?o.push({propName:s,templateName:t,isSignal:(l&Es.SignalBased)!==0}):o.push({propName:s,templateName:t})}return o}function Pj(n){let r=n.toLowerCase();return r==="svg"?xD:r==="math"?wD:null}var Ol=class extends $c{get inputs(){let r=this.componentDef,o=r.inputTransforms,t=qv(r.inputs,!0);if(o!==null)for(let i of t)o.hasOwnProperty(i.propName)&&(i.transform=o[i.propName]);return t}get outputs(){return qv(this.componentDef.outputs,!1)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=eD(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,t,i){let u=Ht(null);try{i=i||this.ngModule;let s=i instanceof Hn?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let l=s?new Bf(r,s):r,a=l.get(na,null);if(a===null)throw new gt(407,!1);let c=l.get(Rj,null),y=l.get(ta,null),b={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:y},d=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",h=t?WM(d,t,this.componentDef.encapsulation,l):_b(d,p,Pj(p)),g=512;this.componentDef.signals?g|=4096:this.componentDef.onPush||(g|=16);let m=null;h!==null&&(m=Ip(h,l,!0));let f=Fb(0,null,null,1,0,null,null,null,null,null,null),v=Pp(null,f,null,g,null,null,b,d,l,null,m);wp(v);let _,x,S=null;try{let j=this.componentDef,T,C=null;j.findHostDirectiveDefs?(T=[],C=new Map,j.findHostDirectiveDefs(j,T,C),T.push(j)):T=[j];let M=Fj(v,h);S=Lj(M,h,j,T,v,b,d),x=A0(f,Js),h&&Bj(d,j,h,t),o!==void 0&&Gj(x,this.ngContentSelectors,o),_=Uj(S,j,T,C,v,[zj]),zb(f,v,null)}catch(j){throw S!==null&&Xf(S),Xf(v),j}finally{Sp()}return new ip(this.componentType,_,Dp(x,v),v,x)}finally{Ht(u)}}},ip=class extends np{constructor(r,o,t,i,u){super(),this.location=t,this._rootLView=i,this._tNode=u,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new ea(i,void 0,!1),this.componentType=r}setInput(r,o){let t=this._tNode.inputs,i;if(t!==null&&(i=t[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;let u=this._rootLView;Vp(u[Nt],u,i,r,o),this.previousInputValues.set(r,o);let s=Is(this._tNode.index,u);Up(s,1)}}get injector(){return new Qs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}};function Fj(n,r){let o=n[Nt],t=Js;return n[t]=r,Fp(o,t,2,"#host",null)}function Lj(n,r,o,t,i,u,s){let l=i[Nt];Vj(t,n,r,s);let a=null;r!==null&&(a=Ip(r,i[Qi]));let c=u.rendererFactory.createRenderer(r,o),y=16;o.signals?y=4096:o.onPush&&(y=64);let b=Pp(i,Pb(o),null,y,i[n.index],n,u,c,null,null,a);return l.firstCreatePass&&ep(l,n,t.length-1),Lp(i,b),i[n.index]=b}function Vj(n,r,o,t){for(let i of n)r.mergedAttrs=Ml(r.mergedAttrs,i.hostAttrs);r.mergedAttrs!==null&&(sp(r,r.mergedAttrs,!0),o!==null&&jb(t,o,r))}function Uj(n,r,o,t,i,u){let s=kn(),l=i[Nt],a=uo(s,i);Vb(l,i,s,o,null,t);for(let y=0;y<o.length;y++){let b=s.directiveStart+y,d=Ki(i,l,b,s);Ji(d,i)}Ub(l,i,s),a&&Ji(a,i);let c=Ki(i,l,s.directiveStart+s.componentOffset,s);if(n[Qo]=i[Qo]=c,u!==null)for(let y of u)y(c,r);return Rb(l,s,i),c}function Bj(n,r,o,t){if(t)kf(n,o,["ng-version","18.2.8"]);else{let{attrs:i,classes:u}=tD(r.selectors[0]);i&&kf(n,o,i),u&&u.length>0&&Mb(n,o,u.join(" "))}}function Gj(n,r,o){let t=n.projection=[];for(let i=0;i<r.length;i++){let u=o[i];t.push(u!=null?Array.from(u):null)}}function zj(){let n=kn();Z0(Fr()[Nt],n)}var hd=(()=>{class n{static{this.__NG_ELEMENT_ID__=Hj}}return n})();function Hj(){let n=kn();return Wj(n,Fr())}var qj=hd,Kb=class extends qj{constructor(r,o,t){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=t}get element(){return Dp(this._hostTNode,this._hostLView)}get injector(){return new Qs(this._hostTNode,this._hostLView)}get parentInjector(){let r=Cp(this._hostTNode,this._hostLView);if(K0(r)){let o=Bc(r,this._hostLView),t=Uc(r),i=o[Nt].data[t+8];return new Qs(i,o)}else return new Qs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){let o=Wv(this._lContainer);return o!==null&&o[r]||null}get length(){return this._lContainer.length-zn}createEmbeddedView(r,o,t){let i,u;typeof t=="number"?i=t:t!=null&&(i=t.index,u=t.injector);let s=Hv(this._lContainer,r.ssrId),l=r.createEmbeddedViewImpl(o||{},u,s);return this.insertImpl(l,i,zv(this._hostTNode,s)),l}createComponent(r,o,t,i,u){let s=r&&!yD(r),l;if(s)l=o;else{let h=o||{};l=h.index,t=h.injector,i=h.projectableNodes,u=h.environmentInjector||h.ngModuleRef}let a=s?r:new Ol(Ks(r)),c=t||this.parentInjector;if(!u&&a.ngModule==null){let g=(s?c:this.parentInjector).get(Hn,null);g&&(u=g)}let y=Ks(a.componentType??{}),b=Hv(this._lContainer,y?.id??null),d=b?.firstChild??null,p=a.create(c,i,d,u);return this.insertImpl(p.hostView,l,zv(this._hostTNode,b)),p}insert(r,o){return this.insertImpl(r,o,!0)}insertImpl(r,o,t){let i=r._lView;if(CD(i)){let l=this.indexOf(r);if(l!==-1)this.detach(l);else{let a=i[pn],c=new Kb(a,a[lo],a[pn]);c.detach(c.indexOf(r))}}let u=this._adjustIndex(o),s=this._lContainer;return vj(s,i,u,t),r.attachToViewContainerRef(),a0(Tf(s),u,r),r}move(r,o){return this.insert(r,o)}indexOf(r){let o=Wv(this._lContainer);return o!==null?o.indexOf(r):-1}remove(r){let o=this._adjustIndex(r,-1),t=Kf(this._lContainer,o);t&&(kc(Tf(this._lContainer),o),Sb(t[Nt],t))}detach(r){let o=this._adjustIndex(r,-1),t=Kf(this._lContainer,o);return t&&kc(Tf(this._lContainer),o)!=null?new ea(t):null}_adjustIndex(r,o=0){return r??this.length+o}};function Wv(n){return n[Fc]}function Tf(n){return n[Fc]||(n[Fc]=[])}function Wj(n,r){let o,t=r[n.index];return ns(t)?o=t:(o=hj(t,r,null,n),r[n.index]=o,Lp(r,o)),Yj(o,r,n,t),new Kb(o,n,r)}function $j(n,r){let o=n[ln],t=o.createComment(""),i=uo(r,n),u=Eb(o,i);return qc(o,u,t,OM(o,i),!1),t}var Yj=Xj;function Xj(n,r,o,t){if(n[ei])return;let i;o.type&8?i=No(t):i=$j(r,o),n[ei]=i}var $v=new Set;function Ll(n){$v.has(n)||($v.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Zj(n){return typeof n=="function"&&n[Yo]!==void 0}function fd(n,r){Ll("NgSignals");let o=Hy(n),t=o[Yo];return r?.equal&&(t.equal=r.equal),o.set=i=>Jh(t,i),o.update=i=>qy(t,i),o.asReadonly=Qj.bind(o),o}function Qj(){let n=this[Yo];if(n.readonlyFn===void 0){let r=()=>this();r[Yo]=n,n.readonlyFn=r}return n.readonlyFn}function Jb(n){return Zj(n)&&typeof n.set=="function"}function Kj(n){return Object.getPrototypeOf(n.prototype).constructor}function ss(n){let r=Kj(n.type),o=!0,t=[n];for(;r;){let i;if(Ts(n))i=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new gt(903,!1);i=r.\u0275dir}if(i){if(o){t.push(i);let s=n;s.inputs=Sc(n.inputs),s.inputTransforms=Sc(n.inputTransforms),s.declaredInputs=Sc(n.declaredInputs),s.outputs=Sc(n.outputs);let l=i.hostBindings;l&&nA(n,l);let a=i.viewQuery,c=i.contentQueries;if(a&&tA(n,a),c&&rA(n,c),Jj(n,i),bT(n.outputs,i.outputs),Ts(i)&&i.data.animation){let y=n.data;y.animation=(y.animation||[]).concat(i.data.animation)}}let u=i.features;if(u)for(let s=0;s<u.length;s++){let l=u[s];l&&l.ngInherit&&l(n),l===ss&&(o=!1)}}r=Object.getPrototypeOf(r)}eA(t)}function Jj(n,r){for(let o in r.inputs){if(!r.inputs.hasOwnProperty(o)||n.inputs.hasOwnProperty(o))continue;let t=r.inputs[o];if(t!==void 0&&(n.inputs[o]=t,n.declaredInputs[o]=r.declaredInputs[o],r.inputTransforms!==null)){let i=Array.isArray(t)?t[0]:t;if(!r.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=r.inputTransforms[i]}}}function eA(n){let r=0,o=null;for(let t=n.length-1;t>=0;t--){let i=n[t];i.hostVars=r+=i.hostVars,i.hostAttrs=Ml(i.hostAttrs,o=Ml(o,i.hostAttrs))}}function Sc(n){return n===Yi?{}:n===Bn?[]:n}function tA(n,r){let o=n.viewQuery;o?n.viewQuery=(t,i)=>{r(t,i),o(t,i)}:n.viewQuery=r}function rA(n,r){let o=n.contentQueries;o?n.contentQueries=(t,i,u)=>{r(t,i,u),o(t,i,u)}:n.contentQueries=r}function nA(n,r){let o=n.hostBindings;o?n.hostBindings=(t,i)=>{r(t,i),o(t,i)}:n.hostBindings=r}var Ms=class{},kl=class{};var ap=class extends Ms{constructor(r,o,t,i=!0){super(),this.ngModuleType=r,this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yc(this);let u=m0(r);this._bootstrapComponents=bb(u.bootstrap),this._r3Injector=ab(r,o,[{provide:Ms,useValue:this},{provide:ra,useValue:this.componentFactoryResolver},...t],xn(r),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}},lp=class extends kl{constructor(r){super(),this.moduleType=r}create(r){return new ap(this.moduleType,r,[])}};var Xc=class extends Ms{constructor(r){super(),this.componentFactoryResolver=new Yc(this),this.instance=null;let o=new jl([...r.providers,{provide:Ms,useValue:this},{provide:ra,useValue:this.componentFactoryResolver}],r.parent||_p(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}};function Bp(n,r,o=null){return new Xc({providers:n,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}function Gp(n,r,o){let t=n[r];return Object.is(t,o)?!1:(n[r]=o,!0)}function oA(n){return(n.flags&32)===32}var El=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(El||{}),sA=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=wt({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Yv=class n{constructor(){this.ngZone=rt(Dr),this.scheduler=rt(ta),this.errorHandler=rt(Jo,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[El.EarlyRead,El.Write,El.MixedReadWrite,El.Read]}execute(){this.executing=!0;for(let r of n.PHASES)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>o.hooks[r](o.pipelinedValue))}catch(t){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(t)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(r){this.executing?this.deferredRegistrations.add(r):(this.sequences.add(r),this.scheduler.notify(6))}unregister(r){this.executing&&this.sequences.has(r)?(r.erroredOrDestroyed=!0,r.pipelinedValue=void 0,r.once=!0):(this.sequences.delete(r),this.deferredRegistrations.delete(r))}static{this.\u0275prov=wt({token:n,providedIn:"root",factory:()=>new n})}};function Cc(n,r){return n<<17|r<<2}function oi(n){return n>>17&32767}function iA(n){return(n&2)==2}function aA(n,r){return n&131071|r<<17}function up(n){return n|2}function oa(n){return(n&131068)>>2}function Df(n,r){return n&-131069|r<<2}function lA(n){return(n&1)===1}function cp(n){return n|1}function uA(n,r,o,t,i,u){let s=u?r.classBindings:r.styleBindings,l=oi(s),a=oa(s);n[t]=o;let c=!1,y;if(Array.isArray(o)){let b=o;y=b[1],(y===null||Rl(b,y)>0)&&(c=!0)}else y=o;if(i)if(a!==0){let d=oi(n[l+1]);n[t+1]=Cc(d,l),d!==0&&(n[d+1]=Df(n[d+1],t)),n[l+1]=aA(n[l+1],t)}else n[t+1]=Cc(l,0),l!==0&&(n[l+1]=Df(n[l+1],t)),l=t;else n[t+1]=Cc(a,0),l===0?l=t:n[a+1]=Df(n[a+1],t),a=t;c&&(n[t+1]=up(n[t+1])),Xv(n,y,t,!0),Xv(n,y,t,!1),cA(r,y,n,t,u),s=Cc(l,a),u?r.classBindings=s:r.styleBindings=s}function cA(n,r,o,t,i){let u=i?n.residualClasses:n.residualStyles;u!=null&&typeof r=="string"&&Rl(u,r)>=0&&(o[t+1]=cp(o[t+1]))}function Xv(n,r,o,t){let i=n[o+1],u=r===null,s=t?oi(i):oa(i),l=!1;for(;s!==0&&(l===!1||u);){let a=n[s],c=n[s+1];dA(a,r)&&(l=!0,n[s+1]=t?cp(c):up(c)),s=t?oi(c):oa(c)}l&&(n[o+1]=t?up(i):cp(i))}function dA(n,r){return n===null||r==null||(Array.isArray(n)?n[1]:n)===r?!0:Array.isArray(n)&&typeof r=="string"?Rl(n,r)>=0:!1}function zp(n,r,o){let t=Fr(),i=V0();if(Gp(t,i,r)){let u=co(),s=W0();Lb(u,s,t,n,r,t[ln],o,!1)}return zp}function Zv(n,r,o,t,i){let u=r.inputs,s=i?"class":"style";Vp(n,o,u[s],s,t)}function Hp(n,r){return hA(n,r,null,!0),Hp}function hA(n,r,o,t){let i=Fr(),u=co(),s=RD(2);if(u.firstUpdatePass&&pA(u,n,s,t),r!==cd&&Gp(i,s,r)){let l=u.data[Fl()];bA(u,l,i,i[ln],n,i[s+1]=_A(r,o),t,s)}}function fA(n,r){return r>=n.expandoStartIndex}function pA(n,r,o,t){let i=n.data;if(i[o+1]===null){let u=i[Fl()],s=fA(n,o);xA(u,t)&&r===null&&!s&&(r=!1),r=mA(i,u,r,t),uA(i,u,r,o,s,t)}}function mA(n,r,o,t){let i=VD(n),u=t?r.residualClasses:r.residualStyles;if(i===null)(t?r.classBindings:r.styleBindings)===0&&(o=Mf(null,n,r,o,t),o=Nl(o,r.attrs,t),u=null);else{let s=r.directiveStylingLast;if(s===-1||n[s]!==i)if(o=Mf(i,n,r,o,t),u===null){let a=gA(n,r,t);a!==void 0&&Array.isArray(a)&&(a=Mf(null,n,r,a[1],t),a=Nl(a,r.attrs,t),yA(n,r,t,a))}else u=vA(n,r,t)}return u!==void 0&&(t?r.residualClasses=u:r.residualStyles=u),o}function gA(n,r,o){let t=o?r.classBindings:r.styleBindings;if(oa(t)!==0)return n[oi(t)]}function yA(n,r,o,t){let i=o?r.classBindings:r.styleBindings;n[oi(i)]=t}function vA(n,r,o){let t,i=r.directiveEnd;for(let u=1+r.directiveStylingLast;u<i;u++){let s=n[u].hostAttrs;t=Nl(t,s,o)}return Nl(t,r.attrs,o)}function Mf(n,r,o,t,i){let u=null,s=o.directiveEnd,l=o.directiveStylingLast;for(l===-1?l=o.directiveStart:l++;l<s&&(u=r[l],t=Nl(t,u.hostAttrs,i),u!==n);)l++;return n!==null&&(o.directiveStylingLast=l),t}function Nl(n,r,o){let t=o?1:2,i=-1;if(r!==null)for(let u=0;u<r.length;u++){let s=r[u];typeof s=="number"?i=s:i===t&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),BT(n,s,o?!0:r[++u]))}return n===void 0?null:n}function bA(n,r,o,t,i,u,s,l){if(!(r.type&3))return;let a=n.data,c=a[l+1],y=lA(c)?Qv(a,r,o,i,oa(c),s):void 0;if(!Zc(y)){Zc(u)||iA(c)&&(u=Qv(a,null,o,i,l,s));let b=SD(Fl(),o);VM(t,s,b,i,u)}}function Qv(n,r,o,t,i,u){let s=r===null,l;for(;i>0;){let a=n[i],c=Array.isArray(a),y=c?a[1]:a,b=y===null,d=o[i+1];d===cd&&(d=b?Bn:void 0);let p=b?vf(d,t):y===t?d:void 0;if(c&&!Zc(p)&&(p=vf(a,t)),Zc(p)&&(l=p,s))return l;let h=n[i+1];i=s?oi(h):oa(h)}if(r!==null){let a=u?r.residualClasses:r.residualStyles;a!=null&&(l=vf(a,t))}return l}function Zc(n){return n!==void 0}function _A(n,r){return n==null||n===""||(typeof r=="string"?n=n+r:typeof n=="object"&&(n=xn(Op(n)))),n}function xA(n,r){return(n.flags&(r?8:16))!==0}function wA(n,r,o,t,i,u){let s=r.consts,l=Mv(s,i),a=Fp(r,n,2,t,l);return JM(r,o,a,Mv(s,u)),a.attrs!==null&&sp(a,a.attrs,!1),a.mergedAttrs!==null&&sp(a,a.mergedAttrs,!0),r.queries!==null&&r.queries.elementStart(r,a),a}function zr(n,r,o,t){let i=Fr(),u=co(),s=Js+n,l=i[ln],a=u.firstCreatePass?wA(s,u,i,r,o,t):u.data[s],c=SA(u,i,a,l,r,n);i[s]=c;let y=E0(a);return ld(a,!0),jb(l,c,a),!oA(a)&&Y0()&&Tb(u,i,c,a),TD()===0&&Ji(c,i),DD(),y&&(zM(u,i,a),Rb(u,a,i)),t!==null&&HM(i,a),zr}function Qr(){let n=kn();F0()?kD():(n=n.parent,ld(n,!1));let r=n;AD(r)&&ID(),MD();let o=co();return o.firstCreatePass&&(Z0(o,n),C0(n)&&o.queries.elementEnd(n)),r.classesWithoutHost!=null&&qD(r)&&Zv(o,r,Fr(),r.classesWithoutHost,!0),r.stylesWithoutHost!=null&&WD(r)&&Zv(o,r,Fr(),r.stylesWithoutHost,!1),Qr}function is(n,r,o,t){return zr(n,r,o,t),Qr(),is}var SA=(n,r,o,t,i,u)=>(X0(!0),_b(t,i,BD()));var Qc="en-US";var CA=Qc;function EA(n){typeof n=="string"&&(CA=n.toLowerCase().replace(/_/g,"-"))}var TA=(n,r,o)=>{};function qn(n,r,o,t){let i=Fr(),u=co(),s=kn();return e_(u,i,i[ln],s,n,r,t),qn}function DA(n,r,o,t){let i=n.cleanup;if(i!=null)for(let u=0;u<i.length-1;u+=2){let s=i[u];if(s===o&&i[u+1]===t){let l=r[Pc],a=i[u+2];return l.length>a?l[a]:null}typeof s=="string"&&(u+=2)}return null}function e_(n,r,o,t,i,u,s){let l=E0(t),c=n.firstCreatePass&&pj(n),y=r[Qo],b=fj(r),d=!0;if(t.type&3||s){let g=uo(t,r),m=s?s(g):g,f=b.length,v=s?x=>s(No(x[t.index])):t.index,_=null;if(!s&&l&&(_=DA(n,r,i,t.index)),_!==null){let x=_.__ngLastListenerFn__||_;x.__ngNextListenerFn__=u,_.__ngLastListenerFn__=u,d=!1}else{u=Jv(t,r,y,u),TA(g,i,u);let x=o.listen(m,i,u);b.push(u,x),c&&c.push(i,v,f,f+1)}}else u=Jv(t,r,y,u);let p=t.outputs,h;if(d&&p!==null&&(h=p[i])){let g=h.length;if(g)for(let m=0;m<g;m+=2){let f=h[m],v=h[m+1],S=r[f][v].subscribe(u),j=b.length;b.push(u,S),c&&c.push(i,t.index,j,-(j+1))}}}function Kv(n,r,o,t){let i=Ht(null);try{return Ao(6,r,o),o(t)!==!1}catch(u){return Gb(n,u),!1}finally{Ao(7,r,o),Ht(i)}}function Jv(n,r,o,t){return function i(u){if(u===Function)return t;let s=n.componentOffset>-1?Is(n.index,r):r;Up(s,5);let l=Kv(r,o,t,u),a=i.__ngNextListenerFn__;for(;a;)l=Kv(r,o,a,u)&&l,a=a.__ngNextListenerFn__;return l}}function ho(n,r=""){let o=Fr(),t=co(),i=n+Js,u=t.firstCreatePass?Fp(t,i,1,r,null):t.data[i],s=MA(t,o,u,r,n);o[i]=s,Y0()&&Tb(t,o,s,u),ld(u,!1)}var MA=(n,r,o,t,i)=>(X0(!0),SM(r[ln],t));function qp(n,r,o){Jb(r)&&(r=r());let t=Fr(),i=V0();if(Gp(t,i,r)){let u=co(),s=W0();Lb(u,s,t,n,r,t[ln],o,!1)}return qp}function t_(n,r){let o=Jb(n);return o&&n.set(r),o}function Wp(n,r){let o=Fr(),t=co(),i=kn();return e_(t,o,o[ln],i,n,r),Wp}function jA(n,r,o){let t=co();if(t.firstCreatePass){let i=Ts(n);dp(o,t.data,t.blueprint,i,!0),dp(r,t.data,t.blueprint,i,!1)}}function dp(n,r,o,t,i){if(n=fn(n),Array.isArray(n))for(let u=0;u<n.length;u++)dp(n[u],r,o,t,i);else{let u=co(),s=Fr(),l=kn(),a=Zi(n)?n:fn(n.provide),c=x0(n),y=l.providerIndexes&1048575,b=l.directiveStart,d=l.providerIndexes>>20;if(Zi(n)||!n.multi){let p=new ni(c,i,lr),h=Af(a,r,i?y:y+d,b);h===-1?(zf(Gc(l,s),u,a),jf(u,n,r.length),r.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),o.push(p),s.push(p)):(o[h]=p,s[h]=p)}else{let p=Af(a,r,y+d,b),h=Af(a,r,y,y+d),g=p>=0&&o[p],m=h>=0&&o[h];if(i&&!m||!i&&!g){zf(Gc(l,s),u,a);let f=OA(i?IA:AA,o.length,i,t,c);!i&&m&&(o[h].providerFactory=f),jf(u,n,r.length,0),r.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),o.push(f),s.push(f)}else{let f=r_(o[i?h:p],c,!i&&t);jf(u,n,p>-1?p:h,f)}!i&&t&&m&&o[h].componentProviders++}}}function jf(n,r,o,t){let i=Zi(r),u=uD(r);if(i||u){let a=(u?fn(r.useClass):r).prototype.ngOnDestroy;if(a){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&r.multi){let y=c.indexOf(o);y===-1?c.push(o,[t,a]):c[y+1].push(t,a)}else c.push(o,a)}}}function r_(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function Af(n,r,o,t){for(let i=o;i<t;i++)if(r[i]===n)return i;return-1}function AA(n,r,o,t){return hp(this.multi,[])}function IA(n,r,o,t){let i=this.multi,u;if(this.providerFactory){let s=this.providerFactory.componentProviders,l=Ki(o,o[Nt],this.providerFactory.index,t);u=l.slice(0,s),hp(i,u);for(let a=s;a<l.length;a++)u.push(l[a])}else u=[],hp(i,u);return u}function hp(n,r){for(let o=0;o<n.length;o++){let t=n[o];r.push(t())}return r}function OA(n,r,o,t,i){let u=new ni(n,o,lr);return u.multi=[],u.index=r,u.componentProviders=0,r_(u,i,t&&!o),u}function ca(n,r=[]){return o=>{o.providersResolver=(t,i)=>jA(t,i?i(n):n,r)}}var kA=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){let t=v0(!1,o.type),i=t.length>0?Bp([t],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,i)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(let o of this.cachedInjectors.values())o!==null&&o.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=wt({token:n,providedIn:"environment",factory:()=>new n(Pt(Hn))})}}return n})();function Ns(n){Ll("NgStandalone"),n.getStandaloneInjector=r=>r.get(kA).getOrCreateStandaloneInjector(n)}var pd=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=wt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var n_=new _t("");function si(n){return!!n&&typeof n.then=="function"}function o_(n){return!!n&&typeof n.subscribe=="function"}var s_=new _t(""),i_=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,t)=>{this.resolve=o,this.reject=t}),this.appInits=rt(s_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let o=[];for(let i of this.appInits){let u=i();if(si(u))o.push(u);else if(o_(u)){let s=new Promise((l,a)=>{u.subscribe({complete:l,error:a})});o.push(s)}}let t=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{t()}).catch(i=>{this.reject(i)}),o.length===0&&t(),this.initialized=!0}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$p=new _t("");function NA(){zy(()=>{throw new gt(600,!1)})}function RA(n){return n.isBoundToModule}var PA=10;function FA(n,r,o){try{let t=o();return si(t)?t.catch(i=>{throw r.runOutsideAngular(()=>n.handleError(i)),i}):t}catch(t){throw r.runOutsideAngular(()=>n.handleError(t)),t}}var ii=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=rt(dM),this.afterRenderManager=rt(sA),this.zonelessEnabled=rt(dd),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Yr,this.afterTick=new Yr,this.componentTypes=[],this.components=[],this.isStable=rt(la).hasPendingTasks.pipe(It(o=>!o)),this._injector=rt(Hn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let o;return new Promise(t=>{o=this.isStable.subscribe({next:i=>{i&&t()}})}).finally(()=>{o.unsubscribe()})}get injector(){return this._injector}bootstrap(o,t){let i=o instanceof $c;if(!this._injector.get(i_).done){let d=!i&&p0(o),p=!1;throw new gt(405,p)}let s;i?s=o:s=this._injector.get(ra).resolveComponentFactory(o),this.componentTypes.push(s.componentType);let l=RA(s)?void 0:this._injector.get(Ms),a=t||s.selector,c=s.create(Ds.NULL,[],a,l),y=c.location.nativeElement,b=c.injector.get(n_,null);return b?.registerApplication(y),c.onDestroy(()=>{this.detachView(c.hostView),jc(this.components,c),b?.unregisterApplication(y)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new gt(101,!1);let o=Ht(null);try{this._runningTick=!0,this.synchronize()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1,Ht(o),this.afterTick.next()}}synchronize(){let o=null;this._injector.destroyed||(o=this._injector.get(na,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let t=0;for(;this.dirtyFlags!==0&&t++<PA;)this.synchronizeOnce(o)}synchronizeOnce(o){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(t);for(let{_lView:i,notifyErrorHandler:u}of this._views)LA(i,u,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else o?.begin?.(),o?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:o})=>id(o))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(o){let t=o;this._views.push(t),t.attachToAppRef(this)}detachView(o){let t=o;jc(this._views,t),t.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);let t=this._injector.get($p,[]);[...this._bootstrapListeners,...t].forEach(i=>i(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>jc(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new gt(406,!1);let o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function jc(n,r){let o=n.indexOf(r);o>-1&&n.splice(o,1)}function LA(n,r,o,t){if(!o&&!id(n))return;Wb(n,r,o&&!t?0:1)}var fp=class{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}},Yp=(()=>{class n{compileModuleSync(o){return new lp(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){let t=this.compileModuleSync(o),i=m0(o),u=bb(i.declarations).reduce((s,l)=>{let a=Ks(l);return a&&s.push(new Ol(a)),s},[]);return new fp(t,u)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var VA=(()=>{class n{constructor(){this.zone=rt(Dr),this.changeDetectionScheduler=rt(ta),this.applicationRef=rt(ii)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),UA=new _t("",{factory:()=>!1});function a_({ngZoneFactory:n,ignoreChangesOutsideZone:r,scheduleInRootZone:o}){return n??=()=>new Dr(Ge(Se({},u_()),{scheduleInRootZone:o})),[{provide:Dr,useFactory:n},{provide:Xi,multi:!0,useFactory:()=>{let t=rt(VA,{optional:!0});return()=>t.initialize()}},{provide:Xi,multi:!0,useFactory:()=>{let t=rt(BA);return()=>{t.initialize()}}},r===!0?{provide:Zb,useValue:!0}:[],{provide:Qb,useValue:o??lb}]}function l_(n){let r=n?.ignoreChangesOutsideZone,o=n?.scheduleInRootZone,t=a_({ngZoneFactory:()=>{let i=u_(n);return i.scheduleInRootZone=o,i.shouldCoalesceEventChangeDetection&&Ll("NgZone_CoalesceEvent"),new Dr(i)},ignoreChangesOutsideZone:r,scheduleInRootZone:o});return td([{provide:UA,useValue:!0},{provide:dd,useValue:!1},t])}function u_(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var BA=(()=>{class n{constructor(){this.subscription=new Er,this.initialized=!1,this.zone=rt(Dr),this.pendingTasks=rt(la)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Dr.assertNotInAngularZone(),queueMicrotask(()=>{o!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Dr.assertInAngularZone(),o??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var GA=(()=>{class n{constructor(){this.appRef=rt(ii),this.taskService=rt(la),this.ngZone=rt(Dr),this.zonelessEnabled=rt(dd),this.disableScheduling=rt(Zb,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Er,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Hc):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(rt(Qb,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Yf||!this.zoneIsDefined)}notify(o){if(!this.zonelessEnabled&&o===5)return;switch(o){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let t=this.useMicrotaskScheduler?Rv:cb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>t(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>t(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Hc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let o=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(t){throw this.taskService.remove(o),t}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Rv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(o)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let o=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(o)}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function zA(){return typeof $localize<"u"&&$localize.locale||Qc}var Xp=new _t("",{providedIn:"root",factory:()=>rt(Xp,Dt.Optional|Dt.SkipSelf)||zA()});var pp=new _t("");function Ec(n){return!n.moduleRef}function HA(n){let r=Ec(n)?n.r3Injector:n.moduleRef.injector,o=r.get(Dr);return o.run(()=>{Ec(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let t=r.get(Jo,null),i;if(o.runOutsideAngular(()=>{i=o.onError.subscribe({next:u=>{t.handleError(u)}})}),Ec(n)){let u=()=>r.destroy(),s=n.platformInjector.get(pp);s.add(u),r.onDestroy(()=>{i.unsubscribe(),s.delete(u)})}else{let u=()=>n.moduleRef.destroy(),s=n.platformInjector.get(pp);s.add(u),n.moduleRef.onDestroy(()=>{jc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(u)})}return FA(t,o,()=>{let u=r.get(i_);return u.runInitializers(),u.donePromise.then(()=>{let s=r.get(Xp,Qc);if(EA(s||Qc),Ec(n)){let l=r.get(ii);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return qA(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function qA(n,r){let o=n.injector.get(ii);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(t=>o.bootstrap(t));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(o);else throw new gt(-403,!1);r.push(n)}var Ac=null;function WA(n=[],r){return Ds.create({name:r,providers:[{provide:rd,useValue:"platform"},{provide:pp,useValue:new Set([()=>Ac=null])},...n]})}function $A(n=[]){if(Ac)return Ac;let r=WA(n);return Ac=r,NA(),YA(r),r}function YA(n){n.get(jp,null)?.forEach(o=>o())}var ai=(()=>{class n{static{this.__NG_ELEMENT_ID__=XA}}return n})();function XA(n){return ZA(kn(),Fr(),(n&16)===16)}function ZA(n,r,o){if(sd(n)&&!o){let t=Is(n.index,r);return new ea(t,t)}else if(n.type&175){let t=r[ko];return new ea(t,r)}return null}function c_(n){try{let{rootComponent:r,appProviders:o,platformProviders:t}=n,i=$A(t),u=[a_({}),{provide:ta,useExisting:GA},...o||[]],s=new Xc({providers:u,parent:i,debugName:"",runEnvironmentInitializers:!1});return HA({r3Injector:s.injector,platformInjector:i,rootComponent:r})}catch(r){return Promise.reject(r)}}function md(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function gd(n,r){Ll("NgSignals");let o=Uy(n);return r?.equal&&(o[Yo].equal=r.equal),o}function Rs(n){let r=Ht(null);try{return n()}finally{Ht(r)}}var f_=null;function as(){return f_}function p_(n){f_??=n}var yd=class{};var Wn=new _t(""),m_=(()=>{class n{historyGo(o){throw new Error("")}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=wt({token:n,factory:()=>rt(JA),providedIn:"platform"})}}return n})();var JA=(()=>{class n extends m_{constructor(){super(),this._doc=rt(Wn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return as().getBaseHref(this._doc)}onPopState(o){let t=as().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",o,!1),()=>t.removeEventListener("popstate",o)}onHashChange(o){let t=as().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",o,!1),()=>t.removeEventListener("hashchange",o)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(o){this._location.pathname=o}pushState(o,t,i){this._history.pushState(o,t,i)}replaceState(o,t,i){this._history.replaceState(o,t,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(o=0){this._history.go(o)}getState(){return this._history.state}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=wt({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function g_(n,r){if(n.length==0)return r;if(r.length==0)return n;let o=0;return n.endsWith("/")&&o++,r.startsWith("/")&&o++,o==2?n+r.substring(1):o==1?n+r:n+"/"+r}function d_(n){let r=n.match(/#|\?|$/),o=r&&r.index||n.length,t=o-(n[o-1]==="/"?1:0);return n.slice(0,t)+n.slice(o)}function ui(n){return n&&n[0]!=="?"?"?"+n:n}var bd=(()=>{class n{historyGo(o){throw new Error("")}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=wt({token:n,factory:()=>rt(y_),providedIn:"root"})}}return n})(),e2=new _t(""),y_=(()=>{class n extends bd{constructor(o,t){super(),this._platformLocation=o,this._removeListenerFns=[],this._baseHref=t??this._platformLocation.getBaseHrefFromDOM()??rt(Wn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(o){this._removeListenerFns.push(this._platformLocation.onPopState(o),this._platformLocation.onHashChange(o))}getBaseHref(){return this._baseHref}prepareExternalUrl(o){return g_(this._baseHref,o)}path(o=!1){let t=this._platformLocation.pathname+ui(this._platformLocation.search),i=this._platformLocation.hash;return i&&o?`${t}${i}`:t}pushState(o,t,i,u){let s=this.prepareExternalUrl(i+ui(u));this._platformLocation.pushState(o,t,s)}replaceState(o,t,i,u){let s=this.prepareExternalUrl(i+ui(u));this._platformLocation.replaceState(o,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(o=0){this._platformLocation.historyGo?.(o)}static{this.\u0275fac=function(t){return new(t||n)(Pt(m_),Pt(e2,8))}}static{this.\u0275prov=wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Vl=(()=>{class n{constructor(o){this._subject=new Pr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=o;let t=this._locationStrategy.getBaseHref();this._basePath=n2(d_(h_(t))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(o=!1){return this.normalize(this._locationStrategy.path(o))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(o,t=""){return this.path()==this.normalize(o+ui(t))}normalize(o){return n.stripTrailingSlash(r2(this._basePath,h_(o)))}prepareExternalUrl(o){return o&&o[0]!=="/"&&(o="/"+o),this._locationStrategy.prepareExternalUrl(o)}go(o,t="",i=null){this._locationStrategy.pushState(i,"",o,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(o+ui(t)),i)}replaceState(o,t="",i=null){this._locationStrategy.replaceState(i,"",o,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(o+ui(t)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(o=0){this._locationStrategy.historyGo?.(o)}onUrlChange(o){return this._urlChangeListeners.push(o),this._urlChangeSubscription??=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}),()=>{let t=this._urlChangeListeners.indexOf(o);this._urlChangeListeners.splice(t,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(o="",t){this._urlChangeListeners.forEach(i=>i(o,t))}subscribe(o,t,i){return this._subject.subscribe({next:o,error:t,complete:i})}static{this.normalizeQueryParams=ui}static{this.joinWithSlash=g_}static{this.stripTrailingSlash=d_}static{this.\u0275fac=function(t){return new(t||n)(Pt(bd))}}static{this.\u0275prov=wt({token:n,factory:()=>t2(),providedIn:"root"})}}return n})();function t2(){return new Vl(Pt(bd))}function r2(n,r){if(!n||!r.startsWith(n))return r;let o=r.substring(n.length);return o===""||["/",";","?","#"].includes(o[0])?o:r}function h_(n){return n.replace(/\/index.html$/,"")}function n2(n){if(new RegExp("^(https?:)?//").test(n)){let[,o]=n.split(/\/\/[^\/]+/);return o}return n}function v_(n,r){r=encodeURIComponent(r);for(let o of n.split(";")){let t=o.indexOf("="),[i,u]=t==-1?[o,""]:[o.slice(0,t),o.slice(t+1)];if(i.trim()===r)return decodeURIComponent(u)}return null}var b_="browser",o2="server";function Qp(n){return n===o2}var vd=class{};var em=class extends yd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},tm=class n extends em{static makeCurrent(){p_(new n)}onAndCancel(r,o,t){return r.addEventListener(o,t),()=>{r.removeEventListener(o,t)}}dispatchEvent(r,o){r.dispatchEvent(o)}remove(r){r.remove()}createElement(r,o){return o=o||this.getDefaultDocument(),o.createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,o){return o==="window"?window:o==="document"?r:o==="body"?r.body:null}getBaseHref(r){let o=i2();return o==null?null:a2(o)}resetBaseElement(){Ul=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return v_(document.cookie,r)}},Ul=null;function i2(){return Ul=Ul||document.querySelector("base"),Ul?Ul.getAttribute("href"):null}function a2(n){return new URL(n,document.baseURI).pathname}var l2=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=wt({token:n,factory:n.\u0275fac})}}return n})(),rm=new _t(""),S_=(()=>{class n{constructor(o,t){this._zone=t,this._eventNameToPlugin=new Map,o.forEach(i=>{i.manager=this}),this._plugins=o.slice().reverse()}addEventListener(o,t,i){return this._findPluginFor(t).addEventListener(o,t,i)}getZone(){return this._zone}_findPluginFor(o){let t=this._eventNameToPlugin.get(o);if(t)return t;if(t=this._plugins.find(u=>u.supports(o)),!t)throw new gt(5101,!1);return this._eventNameToPlugin.set(o,t),t}static{this.\u0275fac=function(t){return new(t||n)(Pt(rm),Pt(Dr))}}static{this.\u0275prov=wt({token:n,factory:n.\u0275fac})}}return n})(),_d=class{constructor(r){this._doc=r}},Kp="ng-app-id",C_=(()=>{class n{constructor(o,t,i,u={}){this.doc=o,this.appId=t,this.nonce=i,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Qp(u),this.resetHostNodes()}addStyles(o){for(let t of o)this.changeUsageCount(t,1)===1&&this.onStyleAdded(t)}removeStyles(o){for(let t of o)this.changeUsageCount(t,-1)<=0&&this.onStyleRemoved(t)}ngOnDestroy(){let o=this.styleNodesInDOM;o&&(o.forEach(t=>t.remove()),o.clear());for(let t of this.getAllStyles())this.onStyleRemoved(t);this.resetHostNodes()}addHost(o){this.hostNodes.add(o);for(let t of this.getAllStyles())this.addStyleToHost(o,t)}removeHost(o){this.hostNodes.delete(o)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(o){for(let t of this.hostNodes)this.addStyleToHost(t,o)}onStyleRemoved(o){let t=this.styleRef;t.get(o)?.elements?.forEach(i=>i.remove()),t.delete(o)}collectServerRenderedStyles(){let o=this.doc.head?.querySelectorAll(`style[${Kp}="${this.appId}"]`);if(o?.length){let t=new Map;return o.forEach(i=>{i.textContent!=null&&t.set(i.textContent,i)}),t}return null}changeUsageCount(o,t){let i=this.styleRef;if(i.has(o)){let u=i.get(o);return u.usage+=t,u.usage}return i.set(o,{usage:t,elements:[]}),t}getStyleElement(o,t){let i=this.styleNodesInDOM,u=i?.get(t);if(u?.parentNode===o)return i.delete(t),u.removeAttribute(Kp),u;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=t,this.platformIsServer&&s.setAttribute(Kp,this.appId),o.appendChild(s),s}}addStyleToHost(o,t){let i=this.getStyleElement(o,t),u=this.styleRef,s=u.get(t)?.elements;s?s.push(i):u.set(t,{elements:[i],usage:1})}resetHostNodes(){let o=this.hostNodes;o.clear(),o.add(this.doc.head)}static{this.\u0275fac=function(t){return new(t||n)(Pt(Wn),Pt(Mp),Pt(Ap,8),Pt(ua))}}static{this.\u0275prov=wt({token:n,factory:n.\u0275fac})}}return n})(),Jp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},om=/%COMP%/g,E_="%COMP%",u2=`_nghost-${E_}`,c2=`_ngcontent-${E_}`,d2=!0,h2=new _t("",{providedIn:"root",factory:()=>d2});function f2(n){return c2.replace(om,n)}function p2(n){return u2.replace(om,n)}function T_(n,r){return r.map(o=>o.replace(om,n))}var __=(()=>{class n{constructor(o,t,i,u,s,l,a,c=null){this.eventManager=o,this.sharedStylesHost=t,this.appId=i,this.removeStylesOnCompDestroy=u,this.doc=s,this.platformId=l,this.ngZone=a,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Qp(l),this.defaultRenderer=new Bl(o,s,a,this.platformIsServer)}createRenderer(o,t){if(!o||!t)return this.defaultRenderer;this.platformIsServer&&t.encapsulation===Oo.ShadowDom&&(t=Ge(Se({},t),{encapsulation:Oo.Emulated}));let i=this.getOrCreateRenderer(o,t);return i instanceof xd?i.applyToHost(o):i instanceof Gl&&i.applyStyles(),i}getOrCreateRenderer(o,t){let i=this.rendererByCompId,u=i.get(t.id);if(!u){let s=this.doc,l=this.ngZone,a=this.eventManager,c=this.sharedStylesHost,y=this.removeStylesOnCompDestroy,b=this.platformIsServer;switch(t.encapsulation){case Oo.Emulated:u=new xd(a,c,t,this.appId,y,s,l,b);break;case Oo.ShadowDom:return new nm(a,c,o,t,s,l,this.nonce,b);default:u=new Gl(a,c,t,y,s,l,b);break}i.set(t.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(t){return new(t||n)(Pt(S_),Pt(C_),Pt(Mp),Pt(h2),Pt(Wn),Pt(ua),Pt(Dr),Pt(Ap))}}static{this.\u0275prov=wt({token:n,factory:n.\u0275fac})}}return n})(),Bl=class{constructor(r,o,t,i){this.eventManager=r,this.doc=o,this.ngZone=t,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(r,o){return o?this.doc.createElementNS(Jp[o]||o,r):this.doc.createElement(r)}createComment(r){return this.doc.createComment(r)}createText(r){return this.doc.createTextNode(r)}appendChild(r,o){(x_(r)?r.content:r).appendChild(o)}insertBefore(r,o,t){r&&(x_(r)?r.content:r).insertBefore(o,t)}removeChild(r,o){o.remove()}selectRootElement(r,o){let t=typeof r=="string"?this.doc.querySelector(r):r;if(!t)throw new gt(-5104,!1);return o||(t.textContent=""),t}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,o,t,i){if(i){o=i+":"+o;let u=Jp[i];u?r.setAttributeNS(u,o,t):r.setAttribute(o,t)}else r.setAttribute(o,t)}removeAttribute(r,o,t){if(t){let i=Jp[t];i?r.removeAttributeNS(i,o):r.removeAttribute(`${t}:${o}`)}else r.removeAttribute(o)}addClass(r,o){r.classList.add(o)}removeClass(r,o){r.classList.remove(o)}setStyle(r,o,t,i){i&(es.DashCase|es.Important)?r.style.setProperty(o,t,i&es.Important?"important":""):r.style[o]=t}removeStyle(r,o,t){t&es.DashCase?r.style.removeProperty(o):r.style[o]=""}setProperty(r,o,t){r!=null&&(r[o]=t)}setValue(r,o){r.nodeValue=o}listen(r,o,t){if(typeof r=="string"&&(r=as().getGlobalEventTarget(this.doc,r),!r))throw new Error(`Unsupported event target ${r} for event ${o}`);return this.eventManager.addEventListener(r,o,this.decoratePreventDefault(t))}decoratePreventDefault(r){return o=>{if(o==="__ngUnwrap__")return r;(this.platformIsServer?this.ngZone.runGuarded(()=>r(o)):r(o))===!1&&o.preventDefault()}}};function x_(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var nm=class extends Bl{constructor(r,o,t,i,u,s,l,a){super(r,u,s,a),this.sharedStylesHost=o,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=T_(i.id,i.styles);for(let y of c){let b=document.createElement("style");l&&b.setAttribute("nonce",l),b.textContent=y,this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}appendChild(r,o){return super.appendChild(this.nodeOrShadowRoot(r),o)}insertBefore(r,o,t){return super.insertBefore(this.nodeOrShadowRoot(r),o,t)}removeChild(r,o){return super.removeChild(null,o)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Gl=class extends Bl{constructor(r,o,t,i,u,s,l,a){super(r,u,s,l),this.sharedStylesHost=o,this.removeStylesOnCompDestroy=i,this.styles=a?T_(a,t.styles):t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},xd=class extends Gl{constructor(r,o,t,i,u,s,l,a){let c=i+"-"+t.id;super(r,o,t,u,s,l,a,c),this.contentAttr=f2(c),this.hostAttr=p2(c)}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}createElement(r,o){let t=super.createElement(r,o);return super.setAttribute(t,this.contentAttr,""),t}},m2=(()=>{class n extends _d{constructor(o){super(o)}supports(o){return!0}addEventListener(o,t,i){return o.addEventListener(t,i,!1),()=>this.removeEventListener(o,t,i)}removeEventListener(o,t,i){return o.removeEventListener(t,i)}static{this.\u0275fac=function(t){return new(t||n)(Pt(Wn))}}static{this.\u0275prov=wt({token:n,factory:n.\u0275fac})}}return n})(),w_=["alt","control","meta","shift"],g2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},y2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},v2=(()=>{class n extends _d{constructor(o){super(o)}supports(o){return n.parseEventName(o)!=null}addEventListener(o,t,i){let u=n.parseEventName(t),s=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>as().onAndCancel(o,u.domEventName,s))}static parseEventName(o){let t=o.toLowerCase().split("."),i=t.shift();if(t.length===0||!(i==="keydown"||i==="keyup"))return null;let u=n._normalizeKey(t.pop()),s="",l=t.indexOf("code");if(l>-1&&(t.splice(l,1),s="code."),w_.forEach(c=>{let y=t.indexOf(c);y>-1&&(t.splice(y,1),s+=c+".")}),s+=u,t.length!=0||u.length===0)return null;let a={};return a.domEventName=i,a.fullKey=s,a}static matchEventFullKeyCode(o,t){let i=g2[o.key]||o.key,u="";return t.indexOf("code.")>-1&&(i=o.code,u="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),w_.forEach(s=>{if(s!==i){let l=y2[s];l(o)&&(u+=s+".")}}),u+=i,u===t)}static eventCallback(o,t,i){return u=>{n.matchEventFullKeyCode(u,o)&&i.runGuarded(()=>t(u))}}static _normalizeKey(o){return o==="esc"?"escape":o}static{this.\u0275fac=function(t){return new(t||n)(Pt(Wn))}}static{this.\u0275prov=wt({token:n,factory:n.\u0275fac})}}return n})();function D_(n,r){return c_(Se({rootComponent:n},b2(r)))}function b2(n){return{appProviders:[...C2,...n?.providers??[]],platformProviders:S2}}function _2(){tm.makeCurrent()}function x2(){return new Jo}function w2(){return yb(document),document}var S2=[{provide:ua,useValue:b_},{provide:jp,useValue:_2,multi:!0},{provide:Wn,useFactory:w2,deps:[]}];var C2=[{provide:rd,useValue:"root"},{provide:Jo,useFactory:x2,deps:[]},{provide:rm,useClass:m2,multi:!0,deps:[Wn,Dr,ua]},{provide:rm,useClass:v2,multi:!0,deps:[Wn]},__,C_,S_,{provide:na,useExisting:__},{provide:vd,useClass:l2,deps:[]},[]];var M_=(()=>{class n{constructor(o){this._doc=o}getTitle(){return this._doc.title}setTitle(o){this._doc.title=o||""}static{this.\u0275fac=function(t){return new(t||n)(Pt(Wn))}}static{this.\u0275prov=wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Et="primary",su=Symbol("RouteTitle"),um=class{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){let o=this.params[r];return Array.isArray(o)?o[0]:o}return null}getAll(r){if(this.has(r)){let o=this.params[r];return Array.isArray(o)?o:[o]}return[]}get keys(){return Object.keys(this.params)}};function ga(n){return new um(n)}function D2(n,r,o){let t=o.path.split("/");if(t.length>n.length||o.pathMatch==="full"&&(r.hasChildren()||t.length<n.length))return null;let i={};for(let u=0;u<t.length;u++){let s=t[u],l=n[u];if(s[0]===":")i[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:n.slice(0,t.length),posParams:i}}function M2(n,r){if(n.length!==r.length)return!1;for(let o=0;o<n.length;++o)if(!Ro(n[o],r[o]))return!1;return!0}function Ro(n,r){let o=n?cm(n):void 0,t=r?cm(r):void 0;if(!o||!t||o.length!=t.length)return!1;let i;for(let u=0;u<o.length;u++)if(i=o[u],!P_(n[i],r[i]))return!1;return!0}function cm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function P_(n,r){if(Array.isArray(n)&&Array.isArray(r)){if(n.length!==r.length)return!1;let o=[...n].sort(),t=[...r].sort();return o.every((i,u)=>t[u]===i)}else return n===r}function F_(n){return n.length>0?n[n.length-1]:null}function Ps(n){return cf(n)?n:si(n)?gr(Promise.resolve(n)):Ct(n)}var j2={exact:V_,subset:U_},L_={exact:A2,subset:I2,ignored:()=>!0};function j_(n,r,o){return j2[o.paths](n.root,r.root,o.matrixParams)&&L_[o.queryParams](n.queryParams,r.queryParams)&&!(o.fragment==="exact"&&n.fragment!==r.fragment)}function A2(n,r){return Ro(n,r)}function V_(n,r,o){if(!di(n.segments,r.segments)||!Cd(n.segments,r.segments,o)||n.numberOfChildren!==r.numberOfChildren)return!1;for(let t in r.children)if(!n.children[t]||!V_(n.children[t],r.children[t],o))return!1;return!0}function I2(n,r){return Object.keys(r).length<=Object.keys(n).length&&Object.keys(r).every(o=>P_(n[o],r[o]))}function U_(n,r,o){return B_(n,r,r.segments,o)}function B_(n,r,o,t){if(n.segments.length>o.length){let i=n.segments.slice(0,o.length);return!(!di(i,o)||r.hasChildren()||!Cd(i,o,t))}else if(n.segments.length===o.length){if(!di(n.segments,o)||!Cd(n.segments,o,t))return!1;for(let i in r.children)if(!n.children[i]||!U_(n.children[i],r.children[i],t))return!1;return!0}else{let i=o.slice(0,n.segments.length),u=o.slice(n.segments.length);return!di(n.segments,i)||!Cd(n.segments,i,t)||!n.children[Et]?!1:B_(n.children[Et],r,u,t)}}function Cd(n,r,o){return r.every((t,i)=>L_[o](n[i].parameters,t.parameters))}var us=class{constructor(r=new Yt([],{}),o={},t=null){this.root=r,this.queryParams=o,this.fragment=t}get queryParamMap(){return this._queryParamMap??=ga(this.queryParams),this._queryParamMap}toString(){return N2.serialize(this)}},Yt=class{constructor(r,o){this.segments=r,this.children=o,this.parent=null,Object.values(o).forEach(t=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ed(this)}},ci=class{constructor(r,o){this.path=r,this.parameters=o}get parameterMap(){return this._parameterMap??=ga(this.parameters),this._parameterMap}toString(){return z_(this)}};function O2(n,r){return di(n,r)&&n.every((o,t)=>Ro(o.parameters,r[t].parameters))}function di(n,r){return n.length!==r.length?!1:n.every((o,t)=>o.path===r[t].path)}function k2(n,r){let o=[];return Object.entries(n.children).forEach(([t,i])=>{t===Et&&(o=o.concat(r(i,t)))}),Object.entries(n.children).forEach(([t,i])=>{t!==Et&&(o=o.concat(r(i,t)))}),o}var Pm=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=wt({token:n,factory:()=>new Xl,providedIn:"root"})}}return n})(),Xl=class{parse(r){let o=new hm(r);return new us(o.parseRootSegment(),o.parseQueryParams(),o.parseFragment())}serialize(r){let o=`/${zl(r.root,!0)}`,t=F2(r.queryParams),i=typeof r.fragment=="string"?`#${R2(r.fragment)}`:"";return`${o}${t}${i}`}},N2=new Xl;function Ed(n){return n.segments.map(r=>z_(r)).join("/")}function zl(n,r){if(!n.hasChildren())return Ed(n);if(r){let o=n.children[Et]?zl(n.children[Et],!1):"",t=[];return Object.entries(n.children).forEach(([i,u])=>{i!==Et&&t.push(`${i}:${zl(u,!1)}`)}),t.length>0?`${o}(${t.join("//")})`:o}else{let o=k2(n,(t,i)=>i===Et?[zl(n.children[Et],!1)]:[`${i}:${zl(t,!1)}`]);return Object.keys(n.children).length===1&&n.children[Et]!=null?`${Ed(n)}/${o[0]}`:`${Ed(n)}/(${o.join("//")})`}}function G_(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wd(n){return G_(n).replace(/%3B/gi,";")}function R2(n){return encodeURI(n)}function dm(n){return G_(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Td(n){return decodeURIComponent(n)}function A_(n){return Td(n.replace(/\+/g,"%20"))}function z_(n){return`${dm(n.path)}${P2(n.parameters)}`}function P2(n){return Object.entries(n).map(([r,o])=>`;${dm(r)}=${dm(o)}`).join("")}function F2(n){let r=Object.entries(n).map(([o,t])=>Array.isArray(t)?t.map(i=>`${wd(o)}=${wd(i)}`).join("&"):`${wd(o)}=${wd(t)}`).filter(o=>o);return r.length?`?${r.join("&")}`:""}var L2=/^[^\/()?;#]+/;function sm(n){let r=n.match(L2);return r?r[0]:""}var V2=/^[^\/()?;=#]+/;function U2(n){let r=n.match(V2);return r?r[0]:""}var B2=/^[^=?&#]+/;function G2(n){let r=n.match(B2);return r?r[0]:""}var z2=/^[^&#]+/;function H2(n){let r=n.match(z2);return r?r[0]:""}var hm=class{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){let r={};if(this.consumeOptional("?"))do this.parseQueryParam(r);while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let o={};this.peekStartsWith("/(")&&(this.capture("/"),o=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(r.length>0||Object.keys(o).length>0)&&(t[Et]=new Yt(r,o)),t}parseSegment(){let r=sm(this.remaining);if(r===""&&this.peekStartsWith(";"))throw new gt(4009,!1);return this.capture(r),new ci(Td(r),this.parseMatrixParams())}parseMatrixParams(){let r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){let o=U2(this.remaining);if(!o)return;this.capture(o);let t="";if(this.consumeOptional("=")){let i=sm(this.remaining);i&&(t=i,this.capture(t))}r[Td(o)]=Td(t)}parseQueryParam(r){let o=G2(this.remaining);if(!o)return;this.capture(o);let t="";if(this.consumeOptional("=")){let s=H2(this.remaining);s&&(t=s,this.capture(t))}let i=A_(o),u=A_(t);if(r.hasOwnProperty(i)){let s=r[i];Array.isArray(s)||(s=[s],r[i]=s),s.push(u)}else r[i]=u}parseParens(r){let o={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let t=sm(this.remaining),i=this.remaining[t.length];if(i!=="/"&&i!==")"&&i!==";")throw new gt(4010,!1);let u;t.indexOf(":")>-1?(u=t.slice(0,t.indexOf(":")),this.capture(u),this.capture(":")):r&&(u=Et);let s=this.parseChildren();o[u]=Object.keys(s).length===1?s[Et]:new Yt([],s),this.consumeOptional("//")}return o}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return this.peekStartsWith(r)?(this.remaining=this.remaining.substring(r.length),!0):!1}capture(r){if(!this.consumeOptional(r))throw new gt(4011,!1)}};function H_(n){return n.segments.length>0?new Yt([],{[Et]:n}):n}function q_(n){let r={};for(let[t,i]of Object.entries(n.children)){let u=q_(i);if(t===Et&&u.segments.length===0&&u.hasChildren())for(let[s,l]of Object.entries(u.children))r[s]=l;else(u.segments.length>0||u.hasChildren())&&(r[t]=u)}let o=new Yt(n.segments,r);return q2(o)}function q2(n){if(n.numberOfChildren===1&&n.children[Et]){let r=n.children[Et];return new Yt(n.segments.concat(r.segments),r.children)}return n}function Zl(n){return n instanceof us}function W2(n,r,o=null,t=null){let i=W_(n);return $_(i,r,o,t)}function W_(n){let r;function o(u){let s={};for(let a of u.children){let c=o(a);s[a.outlet]=c}let l=new Yt(u.url,s);return u===n&&(r=l),l}let t=o(n.root),i=H_(t);return r??i}function $_(n,r,o,t){let i=n;for(;i.parent;)i=i.parent;if(r.length===0)return im(i,i,i,o,t);let u=$2(r);if(u.toRoot())return im(i,i,new Yt([],{}),o,t);let s=Y2(u,i,n),l=s.processChildren?Wl(s.segmentGroup,s.index,u.commands):X_(s.segmentGroup,s.index,u.commands);return im(i,s.segmentGroup,l,o,t)}function Dd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ql(n){return typeof n=="object"&&n!=null&&n.outlets}function im(n,r,o,t,i){let u={};t&&Object.entries(t).forEach(([a,c])=>{u[a]=Array.isArray(c)?c.map(y=>`${y}`):`${c}`});let s;n===r?s=o:s=Y_(n,r,o);let l=H_(q_(s));return new us(l,u,i)}function Y_(n,r,o){let t={};return Object.entries(n.children).forEach(([i,u])=>{u===r?t[i]=o:t[i]=Y_(u,r,o)}),new Yt(n.segments,t)}var Md=class{constructor(r,o,t){if(this.isAbsolute=r,this.numberOfDoubleDots=o,this.commands=t,r&&t.length>0&&Dd(t[0]))throw new gt(4003,!1);let i=t.find(Ql);if(i&&i!==F_(t))throw new gt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function $2(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Md(!0,0,n);let r=0,o=!1,t=n.reduce((i,u,s)=>{if(typeof u=="object"&&u!=null){if(u.outlets){let l={};return Object.entries(u.outlets).forEach(([a,c])=>{l[a]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:l}]}if(u.segmentPath)return[...i,u.segmentPath]}return typeof u!="string"?[...i,u]:s===0?(u.split("/").forEach((l,a)=>{a==0&&l==="."||(a==0&&l===""?o=!0:l===".."?r++:l!=""&&i.push(l))}),i):[...i,u]},[]);return new Md(o,r,t)}var fa=class{constructor(r,o,t){this.segmentGroup=r,this.processChildren=o,this.index=t}};function Y2(n,r,o){if(n.isAbsolute)return new fa(r,!0,0);if(!o)return new fa(r,!1,NaN);if(o.parent===null)return new fa(o,!0,0);let t=Dd(n.commands[0])?0:1,i=o.segments.length-1+t;return X2(o,i,n.numberOfDoubleDots)}function X2(n,r,o){let t=n,i=r,u=o;for(;u>i;){if(u-=i,t=t.parent,!t)throw new gt(4005,!1);i=t.segments.length}return new fa(t,!1,i-u)}function Z2(n){return Ql(n[0])?n[0].outlets:{[Et]:n}}function X_(n,r,o){if(n??=new Yt([],{}),n.segments.length===0&&n.hasChildren())return Wl(n,r,o);let t=Q2(n,r,o),i=o.slice(t.commandIndex);if(t.match&&t.pathIndex<n.segments.length){let u=new Yt(n.segments.slice(0,t.pathIndex),{});return u.children[Et]=new Yt(n.segments.slice(t.pathIndex),n.children),Wl(u,0,i)}else return t.match&&i.length===0?new Yt(n.segments,{}):t.match&&!n.hasChildren()?fm(n,r,o):t.match?Wl(n,0,i):fm(n,r,o)}function Wl(n,r,o){if(o.length===0)return new Yt(n.segments,{});{let t=Z2(o),i={};if(Object.keys(t).some(u=>u!==Et)&&n.children[Et]&&n.numberOfChildren===1&&n.children[Et].segments.length===0){let u=Wl(n.children[Et],r,o);return new Yt(n.segments,u.children)}return Object.entries(t).forEach(([u,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[u]=X_(n.children[u],r,s))}),Object.entries(n.children).forEach(([u,s])=>{t[u]===void 0&&(i[u]=s)}),new Yt(n.segments,i)}}function Q2(n,r,o){let t=0,i=r,u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(t>=o.length)return u;let s=n.segments[i],l=o[t];if(Ql(l))break;let a=`${l}`,c=t<o.length-1?o[t+1]:null;if(i>0&&a===void 0)break;if(a&&c&&typeof c=="object"&&c.outlets===void 0){if(!O_(a,c,s))return u;t+=2}else{if(!O_(a,{},s))return u;t++}i++}return{match:!0,pathIndex:i,commandIndex:t}}function fm(n,r,o){let t=n.segments.slice(0,r),i=0;for(;i<o.length;){let u=o[i];if(Ql(u)){let a=K2(u.outlets);return new Yt(t,a)}if(i===0&&Dd(o[0])){let a=n.segments[r];t.push(new ci(a.path,I_(o[0]))),i++;continue}let s=Ql(u)?u.outlets[Et]:`${u}`,l=i<o.length-1?o[i+1]:null;s&&l&&Dd(l)?(t.push(new ci(s,I_(l))),i+=2):(t.push(new ci(s,{})),i++)}return new Yt(t,{})}function K2(n){let r={};return Object.entries(n).forEach(([o,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(r[o]=fm(new Yt([],{}),0,t))}),r}function I_(n){let r={};return Object.entries(n).forEach(([o,t])=>r[o]=`${t}`),r}function O_(n,r,o){return n==o.path&&Ro(r,o.parameters)}var $l="imperative",Kr=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Kr||{}),$n=class{constructor(r,o){this.id=r,this.url=o}},Kl=class extends $n{constructor(r,o,t="imperative",i=null){super(r,o),this.type=Kr.NavigationStart,this.navigationTrigger=t,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},hi=class extends $n{constructor(r,o,t){super(r,o),this.urlAfterRedirects=t,this.type=Kr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Rn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Rn||{}),pm=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(pm||{}),ls=class extends $n{constructor(r,o,t,i){super(r,o),this.reason=t,this.code=i,this.type=Kr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fi=class extends $n{constructor(r,o,t,i){super(r,o),this.reason=t,this.code=i,this.type=Kr.NavigationSkipped}},Jl=class extends $n{constructor(r,o,t,i){super(r,o),this.error=t,this.target=i,this.type=Kr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},jd=class extends $n{constructor(r,o,t,i){super(r,o),this.urlAfterRedirects=t,this.state=i,this.type=Kr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mm=class extends $n{constructor(r,o,t,i){super(r,o),this.urlAfterRedirects=t,this.state=i,this.type=Kr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gm=class extends $n{constructor(r,o,t,i,u){super(r,o),this.urlAfterRedirects=t,this.state=i,this.shouldActivate=u,this.type=Kr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ym=class extends $n{constructor(r,o,t,i){super(r,o),this.urlAfterRedirects=t,this.state=i,this.type=Kr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vm=class extends $n{constructor(r,o,t,i){super(r,o),this.urlAfterRedirects=t,this.state=i,this.type=Kr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bm=class{constructor(r){this.route=r,this.type=Kr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},_m=class{constructor(r){this.route=r,this.type=Kr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},xm=class{constructor(r){this.snapshot=r,this.type=Kr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wm=class{constructor(r){this.snapshot=r,this.type=Kr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sm=class{constructor(r){this.snapshot=r,this.type=Kr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cm=class{constructor(r){this.snapshot=r,this.type=Kr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var eu=class{},ya=class{constructor(r,o){this.url=r,this.navigationBehaviorOptions=o}};function J2(n,r){return n.providers&&!n._injector&&(n._injector=Bp(n.providers,r,`Route: ${n.path}`)),n._injector??r}function fo(n){return n.outlet||Et}function eI(n,r){let o=n.filter(t=>fo(t)===r);return o.push(...n.filter(t=>fo(t)!==r)),o}function iu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let r=n.parent;r;r=r.parent){let o=r.routeConfig;if(o?._loadedInjector)return o._loadedInjector;if(o?._injector)return o._injector}return null}var Em=class{get injector(){return iu(this.route?.snapshot)??this.rootInjector}set injector(r){}constructor(r){this.rootInjector=r,this.outlet=null,this.route=null,this.children=new Pd(this.rootInjector),this.attachRef=null}},Pd=(()=>{class n{constructor(o){this.rootInjector=o,this.contexts=new Map}onChildOutletCreated(o,t){let i=this.getOrCreateContext(o);i.outlet=t,this.contexts.set(o,i)}onChildOutletDestroyed(o){let t=this.getContext(o);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){let o=this.contexts;return this.contexts=new Map,o}onOutletReAttached(o){this.contexts=o}getOrCreateContext(o){let t=this.getContext(o);return t||(t=new Em(this.rootInjector),this.contexts.set(o,t)),t}getContext(o){return this.contexts.get(o)||null}static{this.\u0275fac=function(t){return new(t||n)(Pt(Hn))}}static{this.\u0275prov=wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ad=class{constructor(r){this._root=r}get root(){return this._root.value}parent(r){let o=this.pathFromRoot(r);return o.length>1?o[o.length-2]:null}children(r){let o=Tm(r,this._root);return o?o.children.map(t=>t.value):[]}firstChild(r){let o=Tm(r,this._root);return o&&o.children.length>0?o.children[0].value:null}siblings(r){let o=Dm(r,this._root);return o.length<2?[]:o[o.length-2].children.map(i=>i.value).filter(i=>i!==r)}pathFromRoot(r){return Dm(r,this._root).map(o=>o.value)}};function Tm(n,r){if(n===r.value)return r;for(let o of r.children){let t=Tm(n,o);if(t)return t}return null}function Dm(n,r){if(n===r.value)return[r];for(let o of r.children){let t=Dm(n,o);if(t.length)return t.unshift(r),t}return[]}var Nn=class{constructor(r,o){this.value=r,this.children=o}toString(){return`TreeNode(${this.value})`}};function ha(n){let r={};return n&&n.children.forEach(o=>r[o.value.outlet]=o),r}var Id=class extends Ad{constructor(r,o){super(r),this.snapshot=o,Fm(this,r)}toString(){return this.snapshot.toString()}};function Z_(n){let r=tI(n),o=new Xr([new ci("",{})]),t=new Xr({}),i=new Xr({}),u=new Xr({}),s=new Xr(""),l=new va(o,t,u,s,i,Et,n,r.root);return l.snapshot=r.root,new Id(new Nn(l,[]),r)}function tI(n){let r={},o={},t={},i="",u=new pa([],r,t,i,o,Et,n,null,{});return new kd("",new Nn(u,[]))}var va=class{constructor(r,o,t,i,u,s,l,a){this.urlSubject=r,this.paramsSubject=o,this.queryParamsSubject=t,this.fragmentSubject=i,this.dataSubject=u,this.outlet=s,this.component=l,this._futureSnapshot=a,this.title=this.dataSubject?.pipe(It(c=>c[su]))??Ct(void 0),this.url=r,this.params=o,this.queryParams=t,this.fragment=i,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(It(r=>ga(r))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(It(r=>ga(r))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Od(n,r,o="emptyOnly"){let t,{routeConfig:i}=n;return r!==null&&(o==="always"||i?.path===""||!r.component&&!r.routeConfig?.loadComponent)?t={params:Se(Se({},r.params),n.params),data:Se(Se({},r.data),n.data),resolve:Se(Se(Se(Se({},n.data),r.data),i?.data),n._resolvedData)}:t={params:Se({},n.params),data:Se({},n.data),resolve:Se(Se({},n.data),n._resolvedData??{})},i&&K_(i)&&(t.resolve[su]=i.title),t}var pa=class{get title(){return this.data?.[su]}constructor(r,o,t,i,u,s,l,a,c){this.url=r,this.params=o,this.queryParams=t,this.fragment=i,this.data=u,this.outlet=s,this.component=l,this.routeConfig=a,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ga(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ga(this.queryParams),this._queryParamMap}toString(){let r=this.url.map(t=>t.toString()).join("/"),o=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${r}', path:'${o}')`}},kd=class extends Ad{constructor(r,o){super(o),this.url=r,Fm(this,o)}toString(){return Q_(this._root)}};function Fm(n,r){r.value._routerState=n,r.children.forEach(o=>Fm(n,o))}function Q_(n){let r=n.children.length>0?` { ${n.children.map(Q_).join(", ")} } `:"";return`${n.value}${r}`}function am(n){if(n.snapshot){let r=n.snapshot,o=n._futureSnapshot;n.snapshot=o,Ro(r.queryParams,o.queryParams)||n.queryParamsSubject.next(o.queryParams),r.fragment!==o.fragment&&n.fragmentSubject.next(o.fragment),Ro(r.params,o.params)||n.paramsSubject.next(o.params),M2(r.url,o.url)||n.urlSubject.next(o.url),Ro(r.data,o.data)||n.dataSubject.next(o.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Mm(n,r){let o=Ro(n.params,r.params)&&O2(n.url,r.url),t=!n.parent!=!r.parent;return o&&!t&&(!n.parent||Mm(n.parent,r.parent))}function K_(n){return typeof n.title=="string"||n.title===null}var Lm=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Et,this.activateEvents=new Pr,this.deactivateEvents=new Pr,this.attachEvents=new Pr,this.detachEvents=new Pr,this.parentContexts=rt(Pd),this.location=rt(hd),this.changeDetector=rt(ai),this.inputBinder=rt(Vm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(o){if(o.name){let{firstChange:t,previousValue:i}=o.name;if(t)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(o){return this.parentContexts.getContext(o)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let o=this.parentContexts.getContext(this.name);o?.route&&(o.attachRef?this.attach(o.attachRef,o.route):this.activateWith(o.route,o.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new gt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new gt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new gt(4012,!1);this.location.detach();let o=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(o.instance),o}attach(o,t){this.activated=o,this._activatedRoute=t,this.location.insert(o.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(o.instance)}deactivate(){if(this.activated){let o=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(o)}}activateWith(o,t){if(this.isActivated)throw new gt(4013,!1);this._activatedRoute=o;let i=this.location,s=o.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,a=new jm(o,l,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:a,environmentInjector:t}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=wn({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[aa]})}}return n})(),jm=class n{__ngOutletInjector(r){return new n(this.route,this.childContexts,r)}constructor(r,o,t){this.route=r,this.childContexts=o,this.parent=t}get(r,o){return r===va?this.route:r===Pd?this.childContexts:this.parent.get(r,o)}},Vm=new _t("");function rI(n,r,o){let t=tu(n,r._root,o?o._root:void 0);return new Id(t,r)}function tu(n,r,o){if(o&&n.shouldReuseRoute(r.value,o.value.snapshot)){let t=o.value;t._futureSnapshot=r.value;let i=nI(n,r,o);return new Nn(t,i)}else{if(n.shouldAttach(r.value)){let u=n.retrieve(r.value);if(u!==null){let s=u.route;return s.value._futureSnapshot=r.value,s.children=r.children.map(l=>tu(n,l)),s}}let t=oI(r.value),i=r.children.map(u=>tu(n,u));return new Nn(t,i)}}function nI(n,r,o){return r.children.map(t=>{for(let i of o.children)if(n.shouldReuseRoute(t.value,i.value.snapshot))return tu(n,t,i);return tu(n,t)})}function oI(n){return new va(new Xr(n.url),new Xr(n.params),new Xr(n.queryParams),new Xr(n.fragment),new Xr(n.data),n.outlet,n.component,n)}var ru=class{constructor(r,o){this.redirectTo=r,this.navigationBehaviorOptions=o}},J_="ngNavigationCancelingError";function Nd(n,r){let{redirectTo:o,navigationBehaviorOptions:t}=Zl(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,i=ex(!1,Rn.Redirect);return i.url=o,i.navigationBehaviorOptions=t,i}function ex(n,r){let o=new Error(`NavigationCancelingError: ${n||""}`);return o[J_]=!0,o.cancellationCode=r,o}function sI(n){return tx(n)&&Zl(n.url)}function tx(n){return!!n&&n[J_]}var iI=(n,r,o,t)=>It(i=>(new Am(r,i.targetRouterState,i.currentRouterState,o,t).activate(n),i)),Am=class{constructor(r,o,t,i,u){this.routeReuseStrategy=r,this.futureState=o,this.currState=t,this.forwardEvent=i,this.inputBindingEnabled=u}activate(r){let o=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(o,t,r),am(this.futureState.root),this.activateChildRoutes(o,t,r)}deactivateChildRoutes(r,o,t){let i=ha(o);r.children.forEach(u=>{let s=u.value.outlet;this.deactivateRoutes(u,i[s],t),delete i[s]}),Object.values(i).forEach(u=>{this.deactivateRouteAndItsChildren(u,t)})}deactivateRoutes(r,o,t){let i=r.value,u=o?o.value:null;if(i===u)if(i.component){let s=t.getContext(i.outlet);s&&this.deactivateChildRoutes(r,o,s.children)}else this.deactivateChildRoutes(r,o,t);else u&&this.deactivateRouteAndItsChildren(o,t)}deactivateRouteAndItsChildren(r,o){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,o):this.deactivateRouteAndOutlet(r,o)}detachAndStoreRouteSubtree(r,o){let t=o.getContext(r.value.outlet),i=t&&r.value.component?t.children:o,u=ha(r);for(let s of Object.values(u))this.deactivateRouteAndItsChildren(s,i);if(t&&t.outlet){let s=t.outlet.detach(),l=t.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:s,route:r,contexts:l})}}deactivateRouteAndOutlet(r,o){let t=o.getContext(r.value.outlet),i=t&&r.value.component?t.children:o,u=ha(r);for(let s of Object.values(u))this.deactivateRouteAndItsChildren(s,i);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}activateChildRoutes(r,o,t){let i=ha(o);r.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],t),this.forwardEvent(new Cm(u.value.snapshot))}),r.children.length&&this.forwardEvent(new wm(r.value.snapshot))}activateRoutes(r,o,t){let i=r.value,u=o?o.value:null;if(am(i),i===u)if(i.component){let s=t.getOrCreateContext(i.outlet);this.activateChildRoutes(r,o,s.children)}else this.activateChildRoutes(r,o,t);else if(i.component){let s=t.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),am(l.route.value),this.activateChildRoutes(r,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(r,null,s.children)}else this.activateChildRoutes(r,null,t)}},Rd=class{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}},ma=class{constructor(r,o){this.component=r,this.route=o}};function aI(n,r,o){let t=n._root,i=r?r._root:null;return Hl(t,i,o,[t.value])}function lI(n){let r=n.routeConfig?n.routeConfig.canActivateChild:null;return!r||r.length===0?null:{node:n,guards:r}}function _a(n,r){let o=Symbol(),t=r.get(n,o);return t===o?typeof n=="function"&&!t0(n)?n:r.get(n):t}function Hl(n,r,o,t,i={canDeactivateChecks:[],canActivateChecks:[]}){let u=ha(r);return n.children.forEach(s=>{uI(s,u[s.value.outlet],o,t.concat([s.value]),i),delete u[s.value.outlet]}),Object.entries(u).forEach(([s,l])=>Yl(l,o.getContext(s),i)),i}function uI(n,r,o,t,i={canDeactivateChecks:[],canActivateChecks:[]}){let u=n.value,s=r?r.value:null,l=o?o.getContext(n.value.outlet):null;if(s&&u.routeConfig===s.routeConfig){let a=cI(s,u,u.routeConfig.runGuardsAndResolvers);a?i.canActivateChecks.push(new Rd(t)):(u.data=s.data,u._resolvedData=s._resolvedData),u.component?Hl(n,r,l?l.children:null,t,i):Hl(n,r,o,t,i),a&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new ma(l.outlet.component,s))}else s&&Yl(r,l,i),i.canActivateChecks.push(new Rd(t)),u.component?Hl(n,null,l?l.children:null,t,i):Hl(n,null,o,t,i);return i}function cI(n,r,o){if(typeof o=="function")return o(n,r);switch(o){case"pathParamsChange":return!di(n.url,r.url);case"pathParamsOrQueryParamsChange":return!di(n.url,r.url)||!Ro(n.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mm(n,r)||!Ro(n.queryParams,r.queryParams);case"paramsChange":default:return!Mm(n,r)}}function Yl(n,r,o){let t=ha(n),i=n.value;Object.entries(t).forEach(([u,s])=>{i.component?r?Yl(s,r.children.getContext(u),o):Yl(s,null,o):Yl(s,r,o)}),i.component?r&&r.outlet&&r.outlet.isActivated?o.canDeactivateChecks.push(new ma(r.outlet.component,i)):o.canDeactivateChecks.push(new ma(null,i)):o.canDeactivateChecks.push(new ma(null,i))}function au(n){return typeof n=="function"}function dI(n){return typeof n=="boolean"}function hI(n){return n&&au(n.canLoad)}function fI(n){return n&&au(n.canActivate)}function pI(n){return n&&au(n.canActivateChild)}function mI(n){return n&&au(n.canDeactivate)}function gI(n){return n&&au(n.canMatch)}function rx(n){return n instanceof Xo||n?.name==="EmptyError"}var Sd=Symbol("INITIAL_VALUE");function ba(){return so(n=>_c(n.map(r=>r.pipe(Zo(1),gf(Sd)))).pipe(It(r=>{for(let o of r)if(o!==!0){if(o===Sd)return Sd;if(o===!1||yI(o))return o}return!0}),oo(r=>r!==Sd),Zo(1)))}function yI(n){return Zl(n)||n instanceof ru}function vI(n,r){return Rr(o=>{let{targetSnapshot:t,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:s}}=o;return s.length===0&&u.length===0?Ct(Ge(Se({},o),{guardsResult:!0})):bI(s,t,i,n).pipe(Rr(l=>l&&dI(l)?_I(t,u,n,r):Ct(l)),It(l=>Ge(Se({},o),{guardsResult:l})))})}function bI(n,r,o,t){return gr(n).pipe(Rr(i=>EI(i.component,i.route,o,r,t)),jo(i=>i!==!0,!0))}function _I(n,r,o,t){return gr(r).pipe(Ui(i=>Vi(wI(i.route.parent,t),xI(i.route,t),CI(n,i.path,o),SI(n,i.route,o))),jo(i=>i!==!0,!0))}function xI(n,r){return n!==null&&r&&r(new Sm(n)),Ct(!0)}function wI(n,r){return n!==null&&r&&r(new xm(n)),Ct(!0)}function SI(n,r,o){let t=r.routeConfig?r.routeConfig.canActivate:null;if(!t||t.length===0)return Ct(!0);let i=t.map(u=>xc(()=>{let s=iu(r)??o,l=_a(u,s),a=fI(l)?l.canActivate(r,n):ts(s,()=>l(r,n));return Ps(a).pipe(jo())}));return Ct(i).pipe(ba())}function CI(n,r,o){let t=r[r.length-1],u=r.slice(0,r.length-1).reverse().map(s=>lI(s)).filter(s=>s!==null).map(s=>xc(()=>{let l=s.guards.map(a=>{let c=iu(s.node)??o,y=_a(a,c),b=pI(y)?y.canActivateChild(t,n):ts(c,()=>y(t,n));return Ps(b).pipe(jo())});return Ct(l).pipe(ba())}));return Ct(u).pipe(ba())}function EI(n,r,o,t,i){let u=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!u||u.length===0)return Ct(!0);let s=u.map(l=>{let a=iu(r)??i,c=_a(l,a),y=mI(c)?c.canDeactivate(n,r,o,t):ts(a,()=>c(n,r,o,t));return Ps(y).pipe(jo())});return Ct(s).pipe(ba())}function TI(n,r,o,t){let i=r.canLoad;if(i===void 0||i.length===0)return Ct(!0);let u=i.map(s=>{let l=_a(s,n),a=hI(l)?l.canLoad(r,o):ts(n,()=>l(r,o));return Ps(a)});return Ct(u).pipe(ba(),nx(t))}function nx(n){return sf(Zr(r=>{if(typeof r!="boolean")throw Nd(n,r)}),It(r=>r===!0))}function DI(n,r,o,t){let i=r.canMatch;if(!i||i.length===0)return Ct(!0);let u=i.map(s=>{let l=_a(s,n),a=gI(l)?l.canMatch(r,o):ts(n,()=>l(r,o));return Ps(a)});return Ct(u).pipe(ba(),nx(t))}var nu=class{constructor(r){this.segmentGroup=r||null}},ou=class extends Error{constructor(r){super(),this.urlTree=r}};function da(n){return Li(new nu(n))}function MI(n){return Li(new gt(4e3,!1))}function jI(n){return Li(ex(!1,Rn.GuardRejected))}var Im=class{constructor(r,o){this.urlSerializer=r,this.urlTree=o}lineralizeSegments(r,o){let t=[],i=o.root;for(;;){if(t=t.concat(i.segments),i.numberOfChildren===0)return Ct(t);if(i.numberOfChildren>1||!i.children[Et])return MI(`${r.redirectTo}`);i=i.children[Et]}}applyRedirectCommands(r,o,t,i,u){if(typeof o!="string"){let l=o,{queryParams:a,fragment:c,routeConfig:y,url:b,outlet:d,params:p,data:h,title:g}=i,m=ts(u,()=>l({params:p,data:h,queryParams:a,fragment:c,routeConfig:y,url:b,outlet:d,title:g}));if(m instanceof us)throw new ou(m);o=m}let s=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),r,t);if(o[0]==="/")throw new ou(s);return s}applyRedirectCreateUrlTree(r,o,t,i){let u=this.createSegmentGroup(r,o.root,t,i);return new us(u,this.createQueryParams(o.queryParams,this.urlTree.queryParams),o.fragment)}createQueryParams(r,o){let t={};return Object.entries(r).forEach(([i,u])=>{if(typeof u=="string"&&u[0]===":"){let l=u.substring(1);t[i]=o[l]}else t[i]=u}),t}createSegmentGroup(r,o,t,i){let u=this.createSegments(r,o.segments,t,i),s={};return Object.entries(o.children).forEach(([l,a])=>{s[l]=this.createSegmentGroup(r,a,t,i)}),new Yt(u,s)}createSegments(r,o,t,i){return o.map(u=>u.path[0]===":"?this.findPosParam(r,u,i):this.findOrReturn(u,t))}findPosParam(r,o,t){let i=t[o.path.substring(1)];if(!i)throw new gt(4001,!1);return i}findOrReturn(r,o){let t=0;for(let i of o){if(i.path===r.path)return o.splice(t),i;t++}return r}},Om={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function AI(n,r,o,t,i){let u=ox(n,r,o);return u.matched?(t=J2(r,t),DI(t,r,o,i).pipe(It(s=>s===!0?u:Se({},Om)))):Ct(u)}function ox(n,r,o){if(r.path==="**")return II(o);if(r.path==="")return r.pathMatch==="full"&&(n.hasChildren()||o.length>0)?Se({},Om):{matched:!0,consumedSegments:[],remainingSegments:o,parameters:{},positionalParamSegments:{}};let i=(r.matcher||D2)(o,n,r);if(!i)return Se({},Om);let u={};Object.entries(i.posParams??{}).forEach(([l,a])=>{u[l]=a.path});let s=i.consumed.length>0?Se(Se({},u),i.consumed[i.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:o.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function II(n){return{matched:!0,parameters:n.length>0?F_(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function k_(n,r,o,t){return o.length>0&&NI(n,o,t)?{segmentGroup:new Yt(r,kI(t,new Yt(o,n.children))),slicedSegments:[]}:o.length===0&&RI(n,o,t)?{segmentGroup:new Yt(n.segments,OI(n,o,t,n.children)),slicedSegments:o}:{segmentGroup:new Yt(n.segments,n.children),slicedSegments:o}}function OI(n,r,o,t){let i={};for(let u of o)if(Fd(n,r,u)&&!t[fo(u)]){let s=new Yt([],{});i[fo(u)]=s}return Se(Se({},t),i)}function kI(n,r){let o={};o[Et]=r;for(let t of n)if(t.path===""&&fo(t)!==Et){let i=new Yt([],{});o[fo(t)]=i}return o}function NI(n,r,o){return o.some(t=>Fd(n,r,t)&&fo(t)!==Et)}function RI(n,r,o){return o.some(t=>Fd(n,r,t))}function Fd(n,r,o){return(n.hasChildren()||r.length>0)&&o.pathMatch==="full"?!1:o.path===""}function PI(n,r,o){return r.length===0&&!n.children[o]}var km=class{};function FI(n,r,o,t,i,u,s="emptyOnly"){return new Nm(n,r,o,t,i,s,u).recognize()}var LI=31,Nm=class{constructor(r,o,t,i,u,s,l){this.injector=r,this.configLoader=o,this.rootComponentType=t,this.config=i,this.urlTree=u,this.paramsInheritanceStrategy=s,this.urlSerializer=l,this.applyRedirects=new Im(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(r){return new gt(4002,`'${r.segmentGroup}'`)}recognize(){let r=k_(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(r).pipe(It(({children:o,rootSnapshot:t})=>{let i=new Nn(t,o),u=new kd("",i),s=W2(t,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(s),{state:u,tree:s}}))}match(r){let o=new pa([],Object.freeze({}),Object.freeze(Se({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Et,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,r,Et,o).pipe(It(t=>({children:t,rootSnapshot:o})),_s(t=>{if(t instanceof ou)return this.urlTree=t.urlTree,this.match(t.urlTree.root);throw t instanceof nu?this.noMatchError(t):t}))}processSegmentGroup(r,o,t,i,u){return t.segments.length===0&&t.hasChildren()?this.processChildren(r,o,t,u):this.processSegment(r,o,t,t.segments,i,!0,u).pipe(It(s=>s instanceof Nn?[s]:[]))}processChildren(r,o,t,i){let u=[];for(let s of Object.keys(t.children))s==="primary"?u.unshift(s):u.push(s);return gr(u).pipe(Ui(s=>{let l=t.children[s],a=eI(o,s);return this.processSegmentGroup(r,a,l,s,i)}),mf((s,l)=>(s.push(...l),s)),xs(null),pf(),Rr(s=>{if(s===null)return da(t);let l=sx(s);return VI(l),Ct(l)}))}processSegment(r,o,t,i,u,s,l){return gr(o).pipe(Ui(a=>this.processSegmentAgainstRoute(a._injector??r,o,a,t,i,u,s,l).pipe(_s(c=>{if(c instanceof nu)return Ct(null);throw c}))),jo(a=>!!a),_s(a=>{if(rx(a))return PI(t,i,u)?Ct(new km):da(t);throw a}))}processSegmentAgainstRoute(r,o,t,i,u,s,l,a){return fo(t)!==s&&(s===Et||!Fd(i,u,t))?da(i):t.redirectTo===void 0?this.matchSegmentAgainstRoute(r,i,t,u,s,a):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(r,i,o,t,u,s,a):da(i)}expandSegmentAgainstRouteUsingRedirect(r,o,t,i,u,s,l){let{matched:a,parameters:c,consumedSegments:y,positionalParamSegments:b,remainingSegments:d}=ox(o,i,u);if(!a)return da(o);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>LI&&(this.allowRedirects=!1));let p=new pa(u,c,Object.freeze(Se({},this.urlTree.queryParams)),this.urlTree.fragment,N_(i),fo(i),i.component??i._loadedComponent??null,i,R_(i)),h=Od(p,l,this.paramsInheritanceStrategy);p.params=Object.freeze(h.params),p.data=Object.freeze(h.data);let g=this.applyRedirects.applyRedirectCommands(y,i.redirectTo,b,p,r);return this.applyRedirects.lineralizeSegments(i,g).pipe(Rr(m=>this.processSegment(r,t,o,m.concat(d),s,!1,l)))}matchSegmentAgainstRoute(r,o,t,i,u,s){let l=AI(o,t,i,r,this.urlSerializer);return t.path==="**"&&(o.children={}),l.pipe(so(a=>a.matched?(r=t._injector??r,this.getChildConfig(r,t,i).pipe(so(({routes:c})=>{let y=t._loadedInjector??r,{parameters:b,consumedSegments:d,remainingSegments:p}=a,h=new pa(d,b,Object.freeze(Se({},this.urlTree.queryParams)),this.urlTree.fragment,N_(t),fo(t),t.component??t._loadedComponent??null,t,R_(t)),g=Od(h,s,this.paramsInheritanceStrategy);h.params=Object.freeze(g.params),h.data=Object.freeze(g.data);let{segmentGroup:m,slicedSegments:f}=k_(o,d,p,c);if(f.length===0&&m.hasChildren())return this.processChildren(y,c,m,h).pipe(It(_=>new Nn(h,_)));if(c.length===0&&f.length===0)return Ct(new Nn(h,[]));let v=fo(t)===u;return this.processSegment(y,c,m,f,v?Et:u,!0,h).pipe(It(_=>new Nn(h,_ instanceof Nn?[_]:[])))}))):da(o)))}getChildConfig(r,o,t){return o.children?Ct({routes:o.children,injector:r}):o.loadChildren?o._loadedRoutes!==void 0?Ct({routes:o._loadedRoutes,injector:o._loadedInjector}):TI(r,o,t,this.urlSerializer).pipe(Rr(i=>i?this.configLoader.loadChildren(r,o).pipe(Zr(u=>{o._loadedRoutes=u.routes,o._loadedInjector=u.injector})):jI(o))):Ct({routes:[],injector:r})}};function VI(n){n.sort((r,o)=>r.value.outlet===Et?-1:o.value.outlet===Et?1:r.value.outlet.localeCompare(o.value.outlet))}function UI(n){let r=n.value.routeConfig;return r&&r.path===""}function sx(n){let r=[],o=new Set;for(let t of n){if(!UI(t)){r.push(t);continue}let i=r.find(u=>t.value.routeConfig===u.value.routeConfig);i!==void 0?(i.children.push(...t.children),o.add(i)):r.push(t)}for(let t of o){let i=sx(t.children);r.push(new Nn(t.value,i))}return r.filter(t=>!o.has(t))}function N_(n){return n.data||{}}function R_(n){return n.resolve||{}}function BI(n,r,o,t,i,u){return Rr(s=>FI(n,r,o,t,s.extractedUrl,i,u).pipe(It(({state:l,tree:a})=>Ge(Se({},s),{targetSnapshot:l,urlAfterRedirects:a}))))}function GI(n,r){return Rr(o=>{let{targetSnapshot:t,guards:{canActivateChecks:i}}=o;if(!i.length)return Ct(o);let u=new Set(i.map(a=>a.route)),s=new Set;for(let a of u)if(!s.has(a))for(let c of ix(a))s.add(c);let l=0;return gr(s).pipe(Ui(a=>u.has(a)?zI(a,t,n,r):(a.data=Od(a,a.parent,n).resolve,Ct(void 0))),Zr(()=>l++),Bi(1),Rr(a=>l===s.size?Ct(o):On))})}function ix(n){let r=n.children.map(o=>ix(o)).flat();return[n,...r]}function zI(n,r,o,t){let i=n.routeConfig,u=n._resolve;return i?.title!==void 0&&!K_(i)&&(u[su]=i.title),HI(u,n,r,t).pipe(It(s=>(n._resolvedData=s,n.data=Od(n,n.parent,o).resolve,null)))}function HI(n,r,o,t){let i=cm(n);if(i.length===0)return Ct({});let u={};return gr(i).pipe(Rr(s=>qI(n[s],r,o,t).pipe(jo(),Zr(l=>{if(l instanceof ru)throw Nd(new Xl,l);u[s]=l}))),Bi(1),ff(u),_s(s=>rx(s)?On:Li(s)))}function qI(n,r,o,t){let i=iu(r)??t,u=_a(n,i),s=u.resolve?u.resolve(r,o):ts(i,()=>u(r,o));return Ps(s)}function lm(n){return so(r=>{let o=n(r);return o?gr(o).pipe(It(()=>r)):Ct(r)})}var ax=(()=>{class n{buildTitle(o){let t,i=o.root;for(;i!==void 0;)t=this.getResolvedTitleForRoute(i)??t,i=i.children.find(u=>u.outlet===Et);return t}getResolvedTitleForRoute(o){return o.data[su]}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=wt({token:n,factory:()=>rt(WI),providedIn:"root"})}}return n})(),WI=(()=>{class n extends ax{constructor(o){super(),this.title=o}updateTitle(o){let t=this.buildTitle(o);t!==void 0&&this.title.setTitle(t)}static{this.\u0275fac=function(t){return new(t||n)(Pt(M_))}}static{this.\u0275prov=wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Um=new _t("",{providedIn:"root",factory:()=>({})}),$I=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=As({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ns],decls:1,vars:0,template:function(t,i){t&1&&is(0,"router-outlet")},dependencies:[Lm],encapsulation:2})}}return n})();function Bm(n){let r=n.children&&n.children.map(Bm),o=r?Ge(Se({},n),{children:r}):Se({},n);return!o.component&&!o.loadComponent&&(r||o.loadChildren)&&o.outlet&&o.outlet!==Et&&(o.component=$I),o}var Gm=new _t(""),YI=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=rt(Yp)}loadComponent(o){if(this.componentLoaders.get(o))return this.componentLoaders.get(o);if(o._loadedComponent)return Ct(o._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(o);let t=Ps(o.loadComponent()).pipe(It(lx),Zr(u=>{this.onLoadEndListener&&this.onLoadEndListener(o),o._loadedComponent=u}),Sl(()=>{this.componentLoaders.delete(o)})),i=new Fi(t,()=>new Yr).pipe(Pi());return this.componentLoaders.set(o,i),i}loadChildren(o,t){if(this.childrenLoaders.get(t))return this.childrenLoaders.get(t);if(t._loadedRoutes)return Ct({routes:t._loadedRoutes,injector:t._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(t);let u=XI(t,this.compiler,o,this.onLoadEndListener).pipe(Sl(()=>{this.childrenLoaders.delete(t)})),s=new Fi(u,()=>new Yr).pipe(Pi());return this.childrenLoaders.set(t,s),s}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function XI(n,r,o,t){return Ps(n.loadChildren()).pipe(It(lx),Rr(i=>i instanceof kl||Array.isArray(i)?Ct(i):gr(r.compileModuleAsync(i))),It(i=>{t&&t(n);let u,s,l=!1;return Array.isArray(i)?(s=i,l=!0):(u=i.create(o).injector,s=u.get(Gm,[],{optional:!0,self:!0}).flat()),{routes:s.map(Bm),injector:u}}))}function ZI(n){return n&&typeof n=="object"&&"default"in n}function lx(n){return ZI(n)?n.default:n}var zm=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=wt({token:n,factory:()=>rt(QI),providedIn:"root"})}}return n})(),QI=(()=>{class n{shouldProcessUrl(o){return!0}extract(o){return o}merge(o,t){return o}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),KI=new _t("");var JI=new _t(""),eO=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Yr,this.transitionAbortSubject=new Yr,this.configLoader=rt(YI),this.environmentInjector=rt(Hn),this.urlSerializer=rt(Pm),this.rootContexts=rt(Pd),this.location=rt(Vl),this.inputBindingEnabled=rt(Vm,{optional:!0})!==null,this.titleStrategy=rt(ax),this.options=rt(Um,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=rt(zm),this.createViewTransition=rt(KI,{optional:!0}),this.navigationErrorHandler=rt(JI,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ct(void 0),this.rootComponentType=null;let o=i=>this.events.next(new bm(i)),t=i=>this.events.next(new _m(i));this.configLoader.onLoadEndListener=t,this.configLoader.onLoadStartListener=o}complete(){this.transitions?.complete()}handleNavigationRequest(o){let t=++this.navigationId;this.transitions?.next(Ge(Se(Se({},this.transitions.value),o),{id:t}))}setupNavigations(o,t,i){return this.transitions=new Xr({id:0,currentUrlTree:t,currentRawUrl:t,extractedUrl:this.urlHandlingStrategy.extract(t),urlAfterRedirects:this.urlHandlingStrategy.extract(t),rawUrl:t,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:$l,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(oo(u=>u.id!==0),It(u=>Ge(Se({},u),{extractedUrl:this.urlHandlingStrategy.extract(u.rawUrl)})),so(u=>{let s=!1,l=!1;return Ct(u).pipe(so(a=>{if(this.navigationId>u.id)return this.cancelNavigationTransition(u,"",Rn.SupersededByNewNavigation),On;this.currentTransition=u,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Ge(Se({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!o.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),y=a.extras.onSameUrlNavigation??o.onSameUrlNavigation;if(!c&&y!=="reload"){let b="";return this.events.next(new fi(a.id,this.urlSerializer.serialize(a.rawUrl),b,pm.IgnoredSameUrlNavigation)),a.resolve(!1),On}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Ct(a).pipe(so(b=>{let d=this.transitions?.getValue();return this.events.next(new Kl(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),d!==this.transitions?.getValue()?On:Promise.resolve(b)}),BI(this.environmentInjector,this.configLoader,this.rootComponentType,o.config,this.urlSerializer,this.paramsInheritanceStrategy),Zr(b=>{u.targetSnapshot=b.targetSnapshot,u.urlAfterRedirects=b.urlAfterRedirects,this.currentNavigation=Ge(Se({},this.currentNavigation),{finalUrl:b.urlAfterRedirects});let d=new jd(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(d)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:b,extractedUrl:d,source:p,restoredState:h,extras:g}=a,m=new Kl(b,this.urlSerializer.serialize(d),p,h);this.events.next(m);let f=Z_(this.rootComponentType).snapshot;return this.currentTransition=u=Ge(Se({},a),{targetSnapshot:f,urlAfterRedirects:d,extras:Ge(Se({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,Ct(u)}else{let b="";return this.events.next(new fi(a.id,this.urlSerializer.serialize(a.extractedUrl),b,pm.IgnoredByUrlHandlingStrategy)),a.resolve(!1),On}}),Zr(a=>{let c=new mm(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),It(a=>(this.currentTransition=u=Ge(Se({},a),{guards:aI(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),u)),vI(this.environmentInjector,a=>this.events.next(a)),Zr(a=>{if(u.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Nd(this.urlSerializer,a.guardsResult);let c=new gm(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(c)}),oo(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",Rn.GuardRejected),!1)),lm(a=>{if(a.guards.canActivateChecks.length)return Ct(a).pipe(Zr(c=>{let y=new ym(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(y)}),so(c=>{let y=!1;return Ct(c).pipe(GI(this.paramsInheritanceStrategy,this.environmentInjector),Zr({next:()=>y=!0,complete:()=>{y||this.cancelNavigationTransition(c,"",Rn.NoDataFromResolver)}}))}),Zr(c=>{let y=new vm(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(y)}))}),lm(a=>{let c=y=>{let b=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(y.routeConfig).pipe(Zr(d=>{y.component=d}),It(()=>{})));for(let d of y.children)b.push(...c(d));return b};return _c(c(a.targetSnapshot.root)).pipe(xs(null),Zo(1))}),lm(()=>this.afterPreactivation()),so(()=>{let{currentSnapshot:a,targetSnapshot:c}=u,y=this.createViewTransition?.(this.environmentInjector,a.root,c.root);return y?gr(y).pipe(It(()=>u)):Ct(u)}),It(a=>{let c=rI(o.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=u=Ge(Se({},a),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,u}),Zr(()=>{this.events.next(new eu)}),iI(this.rootContexts,o.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),Zo(1),Zr({next:a=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new hi(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{s=!0}}),yf(this.transitionAbortSubject.pipe(Zr(a=>{throw a}))),Sl(()=>{!s&&!l&&this.cancelNavigationTransition(u,"",Rn.SupersededByNewNavigation),this.currentTransition?.id===u.id&&(this.currentNavigation=null,this.currentTransition=null)}),_s(a=>{if(l=!0,tx(a))this.events.next(new ls(u.id,this.urlSerializer.serialize(u.extractedUrl),a.message,a.cancellationCode)),sI(a)?this.events.next(new ya(a.url,a.navigationBehaviorOptions)):u.resolve(!1);else{let c=new Jl(u.id,this.urlSerializer.serialize(u.extractedUrl),a,u.targetSnapshot??void 0);try{let y=ts(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(y instanceof ru){let{message:b,cancellationCode:d}=Nd(this.urlSerializer,y);this.events.next(new ls(u.id,this.urlSerializer.serialize(u.extractedUrl),b,d)),this.events.next(new ya(y.redirectTo,y.navigationBehaviorOptions))}else{this.events.next(c);let b=o.errorHandler(a);u.resolve(!!b)}}catch(y){this.options.resolveNavigationPromiseOnError?u.resolve(!1):u.reject(y)}}return On}))}))}cancelNavigationTransition(o,t,i){let u=new ls(o.id,this.urlSerializer.serialize(o.extractedUrl),t,i);this.events.next(u),o.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let o=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),t=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return o.toString()!==t?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function tO(n){return n!==$l}var rO=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=wt({token:n,factory:()=>rt(nO),providedIn:"root"})}}return n})(),Rm=class{shouldDetach(r){return!1}store(r,o){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,o){return r.routeConfig===o.routeConfig}},nO=(()=>{class n extends Rm{static{this.\u0275fac=(()=>{let o;return function(i){return(o||(o=Os(n)))(i||n)}})()}static{this.\u0275prov=wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ux=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=wt({token:n,factory:()=>rt(oO),providedIn:"root"})}}return n})(),oO=(()=>{class n extends ux{constructor(){super(...arguments),this.location=rt(Vl),this.urlSerializer=rt(Pm),this.options=rt(Um,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=rt(zm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new us,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Z_(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(o){return this.location.subscribe(t=>{t.type==="popstate"&&o(t.url,t.state)})}handleRouterEvent(o,t){if(o instanceof Kl)this.stateMemento=this.createStateMemento();else if(o instanceof fi)this.rawUrlTree=t.initialUrl;else if(o instanceof jd){if(this.urlUpdateStrategy==="eager"&&!t.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(t.finalUrl,t.initialUrl);this.setBrowserUrl(t.targetBrowserUrl??i,t)}}else o instanceof eu?(this.currentUrlTree=t.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(t.finalUrl,t.initialUrl),this.routerState=t.targetRouterState,this.urlUpdateStrategy==="deferred"&&!t.extras.skipLocationChange&&this.setBrowserUrl(t.targetBrowserUrl??this.rawUrlTree,t)):o instanceof ls&&(o.code===Rn.GuardRejected||o.code===Rn.NoDataFromResolver)?this.restoreHistory(t):o instanceof Jl?this.restoreHistory(t,!0):o instanceof hi&&(this.lastSuccessfulId=o.id,this.currentPageId=this.browserPageId)}setBrowserUrl(o,t){let i=o instanceof us?this.urlSerializer.serialize(o):o;if(this.location.isCurrentPathEqualTo(i)||t.extras.replaceUrl){let u=this.browserPageId,s=Se(Se({},t.extras.state),this.generateNgRouterState(t.id,u));this.location.replaceState(i,"",s)}else{let u=Se(Se({},t.extras.state),this.generateNgRouterState(t.id,this.browserPageId+1));this.location.go(i,"",u)}}restoreHistory(o,t=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,u=this.currentPageId-i;u!==0?this.location.historyGo(u):this.currentUrlTree===o.finalUrl&&u===0&&(this.resetState(o),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(t&&this.resetState(o),this.resetUrlToCurrentUrlTree())}resetState(o){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,o.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(o,t){return this.canceledNavigationResolution==="computed"?{navigationId:o,\u0275routerPageId:t}:{navigationId:o}}static{this.\u0275fac=(()=>{let o;return function(i){return(o||(o=Os(n)))(i||n)}})()}static{this.\u0275prov=wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ql=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ql||{});function sO(n,r){n.events.pipe(oo(o=>o instanceof hi||o instanceof ls||o instanceof Jl||o instanceof fi),It(o=>o instanceof hi||o instanceof fi?ql.COMPLETE:(o instanceof ls?o.code===Rn.Redirect||o.code===Rn.SupersededByNewNavigation:!1)?ql.REDIRECTING:ql.FAILED),oo(o=>o!==ql.REDIRECTING),Zo(1)).subscribe(()=>{r()})}function iO(n){throw n}var aO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},cx=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=rt(pd),this.stateManager=rt(ux),this.options=rt(Um,{optional:!0})||{},this.pendingTasks=rt(la),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=rt(eO),this.urlSerializer=rt(Pm),this.location=rt(Vl),this.urlHandlingStrategy=rt(zm),this._events=new Yr,this.errorHandler=this.options.errorHandler||iO,this.navigated=!1,this.routeReuseStrategy=rt(rO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=rt(Gm,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!rt(Vm,{optional:!0}),this.eventsSubscription=new Er,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:o=>{this.console.warn(o)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let o=this.navigationTransitions.events.subscribe(t=>{try{let i=this.navigationTransitions.currentTransition,u=this.navigationTransitions.currentNavigation;if(i!==null&&u!==null){if(this.stateManager.handleRouterEvent(t,u),t instanceof ls&&t.code!==Rn.Redirect&&t.code!==Rn.SupersededByNewNavigation)this.navigated=!0;else if(t instanceof hi)this.navigated=!0;else if(t instanceof ya){let s=t.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(t.url,i.currentRawUrl),a=Se({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||tO(i.source)},s);this.scheduleNavigation(l,$l,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}cO(t)&&this._events.next(t)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(o)}resetRootComponentType(o){this.routerState.root.component=o,this.navigationTransitions.rootComponentType=o}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),$l,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((o,t)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(o,"popstate",t)},0)})}navigateToSyncWithBrowser(o,t,i){let u={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let a=Se({},i);delete a.navigationId,delete a.\u0275routerPageId,Object.keys(a).length!==0&&(u.state=a)}let l=this.parseUrl(o);this.scheduleNavigation(l,t,s,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(o){this.config=o.map(Bm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(o,t={}){let{relativeTo:i,queryParams:u,fragment:s,queryParamsHandling:l,preserveFragment:a}=t,c=a?this.currentUrlTree.fragment:s,y=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":y=Se(Se({},this.currentUrlTree.queryParams),u);break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=u||null}y!==null&&(y=this.removeEmptyProps(y));let b;try{let d=i?i.snapshot:this.routerState.snapshot.root;b=W_(d)}catch{(typeof o[0]!="string"||o[0][0]!=="/")&&(o=[]),b=this.currentUrlTree.root}return $_(b,o,y,c??null)}navigateByUrl(o,t={skipLocationChange:!1}){let i=Zl(o)?o:this.parseUrl(o),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,$l,null,t)}navigate(o,t={skipLocationChange:!1}){return uO(o),this.navigateByUrl(this.createUrlTree(o,t),t)}serializeUrl(o){return this.urlSerializer.serialize(o)}parseUrl(o){try{return this.urlSerializer.parse(o)}catch{return this.urlSerializer.parse("/")}}isActive(o,t){let i;if(t===!0?i=Se({},aO):t===!1?i=Se({},lO):i=t,Zl(o))return j_(this.currentUrlTree,o,i);let u=this.parseUrl(o);return j_(this.currentUrlTree,u,i)}removeEmptyProps(o){return Object.entries(o).reduce((t,[i,u])=>(u!=null&&(t[i]=u),t),{})}scheduleNavigation(o,t,i,u,s){if(this.disposed)return Promise.resolve(!1);let l,a,c;s?(l=s.resolve,a=s.reject,c=s.promise):c=new Promise((b,d)=>{l=b,a=d});let y=this.pendingTasks.add();return sO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(y))}),this.navigationTransitions.handleNavigationRequest({source:t,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:o,extras:u,resolve:l,reject:a,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(b=>Promise.reject(b))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function uO(n){for(let r=0;r<n.length;r++)if(n[r]==null)throw new gt(4008,!1)}function cO(n){return!(n instanceof eu)&&!(n instanceof ya)}var dO=new _t("");function dx(n,...r){return td([{provide:Gm,multi:!0,useValue:n},[],{provide:va,useFactory:hO,deps:[cx]},{provide:$p,multi:!0,useFactory:fO},r.map(o=>o.\u0275providers)])}function hO(n){return n.routerState.root}function fO(){let n=rt(Ds);return r=>{let o=n.get(ii);if(r!==o.components[0])return;let t=n.get(cx),i=n.get(pO);n.get(mO)===1&&t.initialNavigation(),n.get(gO,null,Dt.Optional)?.setUpPreloading(),n.get(dO,null,Dt.Optional)?.init(),t.resetRootComponentType(o.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var pO=new _t("",{factory:()=>new Yr}),mO=new _t("",{providedIn:"root",factory:()=>1});var gO=new _t("");var _x=(()=>{class n{constructor(o,t){this._renderer=o,this._elementRef=t,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(o,t){this._renderer.setProperty(this._elementRef.nativeElement,o,t)}registerOnTouched(o){this.onTouched=o}registerOnChange(o){this.onChange=o}setDisabledState(o){this.setProperty("disabled",o)}static{this.\u0275fac=function(t){return new(t||n)(lr(ks),lr(os))}}static{this.\u0275dir=wn({type:n})}}return n})(),Gd=(()=>{class n extends _x{static{this.\u0275fac=(()=>{let o;return function(i){return(o||(o=Os(n)))(i||n)}})()}static{this.\u0275dir=wn({type:n,features:[ss]})}}return n})(),fu=new _t("");var yO={provide:fu,useExisting:js(()=>zd),multi:!0};function vO(){let n=as()?as().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var bO=new _t(""),zd=(()=>{class n extends _x{constructor(o,t,i){super(o,t),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!vO())}writeValue(o){let t=o??"";this.setProperty("value",t)}_handleInput(o){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(o)}_compositionStart(){this._composing=!0}_compositionEnd(o){this._composing=!1,this._compositionMode&&this.onChange(o)}static{this.\u0275fac=function(t){return new(t||n)(lr(ks),lr(os),lr(bO,8))}}static{this.\u0275dir=wn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){t&1&&qn("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[ca([yO]),ss]})}}return n})();var _O=new _t(""),xO=new _t("");function xx(n){return n!=null}function wx(n){return si(n)?gr(n):n}function Sx(n){let r={};return n.forEach(o=>{r=o!=null?Se(Se({},r),o):r}),Object.keys(r).length===0?null:r}function Cx(n,r){return r.map(o=>o(n))}function wO(n){return!n.validate}function Ex(n){return n.map(r=>wO(r)?r:o=>r.validate(o))}function SO(n){if(!n)return null;let r=n.filter(xx);return r.length==0?null:function(o){return Sx(Cx(o,r))}}function Tx(n){return n!=null?SO(Ex(n)):null}function CO(n){if(!n)return null;let r=n.filter(xx);return r.length==0?null:function(o){let t=Cx(o,r).map(wx);return hf(t).pipe(It(Sx))}}function Dx(n){return n!=null?CO(Ex(n)):null}function hx(n,r){return n===null?[r]:Array.isArray(n)?[...n,r]:[n,r]}function EO(n){return n._rawValidators}function TO(n){return n._rawAsyncValidators}function Hm(n){return n?Array.isArray(n)?n:[n]:[]}function Vd(n,r){return Array.isArray(n)?n.includes(r):n===r}function fx(n,r){let o=Hm(r);return Hm(n).forEach(i=>{Vd(o,i)||o.push(i)}),o}function px(n,r){return Hm(r).filter(o=>!Vd(n,o))}var Ud=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=Tx(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=Dx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r=void 0){this.control&&this.control.reset(r)}hasError(r,o){return this.control?this.control.hasError(r,o):!1}getError(r,o){return this.control?this.control.getError(r,o):null}},qm=class extends Ud{get formDirective(){return null}get path(){return null}},hu=class extends Ud{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Wm=class{constructor(r){this._cd=r}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},DO={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},lU=Ge(Se({},DO),{"[class.ng-submitted]":"isSubmitted"}),Mx=(()=>{class n extends Wm{constructor(o){super(o)}static{this.\u0275fac=function(t){return new(t||n)(lr(hu,2))}}static{this.\u0275dir=wn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){t&2&&Hp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ss]})}}return n})();var lu="VALID",Ld="INVALID",xa="PENDING",uu="DISABLED",Sa=class{},Bd=class extends Sa{constructor(r,o){super(),this.value=r,this.source=o}},cu=class extends Sa{constructor(r,o){super(),this.pristine=r,this.source=o}},du=class extends Sa{constructor(r,o){super(),this.touched=r,this.source=o}},wa=class extends Sa{constructor(r,o){super(),this.status=r,this.source=o}};function MO(n){return(Hd(n)?n.validators:n)||null}function jO(n){return Array.isArray(n)?Tx(n):n||null}function AO(n,r){return(Hd(r)?r.asyncValidators:n)||null}function IO(n){return Array.isArray(n)?Dx(n):n||null}function Hd(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var $m=class{constructor(r,o){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=gd(()=>this.statusReactive()),this.statusReactive=fd(void 0),this._pristine=gd(()=>this.pristineReactive()),this.pristineReactive=fd(!0),this._touched=gd(()=>this.touchedReactive()),this.touchedReactive=fd(!1),this._events=new Yr,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(r),this._assignAsyncValidators(o)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get status(){return Rs(this.statusReactive)}set status(r){Rs(()=>this.statusReactive.set(r))}get valid(){return this.status===lu}get invalid(){return this.status===Ld}get pending(){return this.status==xa}get disabled(){return this.status===uu}get enabled(){return this.status!==uu}get pristine(){return Rs(this.pristineReactive)}set pristine(r){Rs(()=>this.pristineReactive.set(r))}get dirty(){return!this.pristine}get touched(){return Rs(this.touchedReactive)}set touched(r){Rs(()=>this.touchedReactive.set(r))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._assignValidators(r)}setAsyncValidators(r){this._assignAsyncValidators(r)}addValidators(r){this.setValidators(fx(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(fx(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(px(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(px(r,this._rawAsyncValidators))}hasValidator(r){return Vd(this._rawValidators,r)}hasAsyncValidator(r){return Vd(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){let o=this.touched===!1;this.touched=!0;let t=r.sourceControl??this;this._parent&&!r.onlySelf&&this._parent.markAsTouched(Ge(Se({},r),{sourceControl:t})),o&&r.emitEvent!==!1&&this._events.next(new du(!0,t))}markAllAsTouched(r={}){this.markAsTouched({onlySelf:!0,emitEvent:r.emitEvent,sourceControl:this}),this._forEachChild(o=>o.markAllAsTouched(r))}markAsUntouched(r={}){let o=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=r.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:r.emitEvent,sourceControl:t})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r,t),o&&r.emitEvent!==!1&&this._events.next(new du(!1,t))}markAsDirty(r={}){let o=this.pristine===!0;this.pristine=!1;let t=r.sourceControl??this;this._parent&&!r.onlySelf&&this._parent.markAsDirty(Ge(Se({},r),{sourceControl:t})),o&&r.emitEvent!==!1&&this._events.next(new cu(!1,t))}markAsPristine(r={}){let o=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=r.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:r.emitEvent})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r,t),o&&r.emitEvent!==!1&&this._events.next(new cu(!0,t))}markAsPending(r={}){this.status=xa;let o=r.sourceControl??this;r.emitEvent!==!1&&(this._events.next(new wa(this.status,o)),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.markAsPending(Ge(Se({},r),{sourceControl:o}))}disable(r={}){let o=this._parentMarkedDirty(r.onlySelf);this.status=uu,this.errors=null,this._forEachChild(i=>{i.disable(Ge(Se({},r),{onlySelf:!0}))}),this._updateValue();let t=r.sourceControl??this;r.emitEvent!==!1&&(this._events.next(new Bd(this.value,t)),this._events.next(new wa(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ge(Se({},r),{skipPristineCheck:o}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(r={}){let o=this._parentMarkedDirty(r.onlySelf);this.status=lu,this._forEachChild(t=>{t.enable(Ge(Se({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(Ge(Se({},r),{skipPristineCheck:o}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(r,o){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine({},o),this._parent._updateTouched({},o))}setParent(r){this._parent=r}getRawValue(){return this.value}updateValueAndValidity(r={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lu||this.status===xa)&&this._runAsyncValidator(t,r.emitEvent)}let o=r.sourceControl??this;r.emitEvent!==!1&&(this._events.next(new Bd(this.value,o)),this._events.next(new wa(this.status,o)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(Ge(Se({},r),{sourceControl:o}))}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(o=>o._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?uu:lu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r,o){if(this.asyncValidator){this.status=xa,this._hasOwnPendingAsyncValidator={emitEvent:o!==!1};let t=wx(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:o,shouldHaveEmitted:r})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let r=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,r}return!1}setErrors(r,o={}){this.errors=r,this._updateControlsErrors(o.emitEvent!==!1,this,o.shouldHaveEmitted)}get(r){let o=r;return o==null||(Array.isArray(o)||(o=o.split(".")),o.length===0)?null:o.reduce((t,i)=>t&&t._find(i),this)}getError(r,o){let t=o?this.get(o):this;return t&&t.errors?t.errors[r]:null}hasError(r,o){return!!this.getError(r,o)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r,o,t){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),(r||t)&&this._events.next(new wa(this.status,o)),this._parent&&this._parent._updateControlsErrors(r,o,t)}_initObservables(){this.valueChanges=new Pr,this.statusChanges=new Pr}_calculateStatus(){return this._allControlsDisabled()?uu:this.errors?Ld:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xa)?xa:this._anyControlsHaveStatus(Ld)?Ld:lu}_anyControlsHaveStatus(r){return this._anyControls(o=>o.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r,o){let t=!this._anyControlsDirty(),i=this.pristine!==t;this.pristine=t,this._parent&&!r.onlySelf&&this._parent._updatePristine(r,o),i&&this._events.next(new cu(this.pristine,o))}_updateTouched(r={},o){this.touched=this._anyControlsTouched(),this._events.next(new du(this.touched,o)),this._parent&&!r.onlySelf&&this._parent._updateTouched(r,o)}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){Hd(r)&&r.updateOn!=null&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){let o=this._parent&&this._parent.dirty;return!r&&!!o&&!this._parent._anyControlsDirty()}_find(r){return null}_assignValidators(r){this._rawValidators=Array.isArray(r)?r.slice():r,this._composedValidatorFn=jO(this._rawValidators)}_assignAsyncValidators(r){this._rawAsyncValidators=Array.isArray(r)?r.slice():r,this._composedAsyncValidatorFn=IO(this._rawAsyncValidators)}};var jx=new _t("CallSetDisabledState",{providedIn:"root",factory:()=>Ym}),Ym="always";function OO(n,r){return[...r.path,n]}function kO(n,r,o=Ym){RO(n,r),r.valueAccessor.writeValue(n.value),(n.disabled||o==="always")&&r.valueAccessor.setDisabledState?.(n.disabled),PO(n,r),LO(n,r),FO(n,r),NO(n,r)}function mx(n,r){n.forEach(o=>{o.registerOnValidatorChange&&o.registerOnValidatorChange(r)})}function NO(n,r){if(r.valueAccessor.setDisabledState){let o=t=>{r.valueAccessor.setDisabledState(t)};n.registerOnDisabledChange(o),r._registerOnDestroy(()=>{n._unregisterOnDisabledChange(o)})}}function RO(n,r){let o=EO(n);r.validator!==null?n.setValidators(hx(o,r.validator)):typeof o=="function"&&n.setValidators([o]);let t=TO(n);r.asyncValidator!==null?n.setAsyncValidators(hx(t,r.asyncValidator)):typeof t=="function"&&n.setAsyncValidators([t]);let i=()=>n.updateValueAndValidity();mx(r._rawValidators,i),mx(r._rawAsyncValidators,i)}function PO(n,r){r.valueAccessor.registerOnChange(o=>{n._pendingValue=o,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Ax(n,r)})}function FO(n,r){r.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Ax(n,r),n.updateOn!=="submit"&&n.markAsTouched()})}function Ax(n,r){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function LO(n,r){let o=(t,i)=>{r.valueAccessor.writeValue(t),i&&r.viewToModelUpdate(t)};n.registerOnChange(o),r._registerOnDestroy(()=>{n._unregisterOnChange(o)})}function VO(n,r){if(!n.hasOwnProperty("model"))return!1;let o=n.model;return o.isFirstChange()?!0:!Object.is(r,o.currentValue)}function UO(n){return Object.getPrototypeOf(n.constructor)===Gd}function BO(n,r){if(!r)return null;Array.isArray(r);let o,t,i;return r.forEach(u=>{u.constructor===zd?o=u:UO(u)?t=u:i=u}),i||t||o||null}function gx(n,r){let o=n.indexOf(r);o>-1&&n.splice(o,1)}function yx(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var GO=class extends $m{constructor(r=null,o,t){super(MO(o),AO(t,o)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(r),this._setUpdateStrategy(o),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hd(o)&&(o.nonNullable||o.initialValueIsDefault)&&(yx(r)?this.defaultValue=r.value:this.defaultValue=r)}setValue(r,o={}){this.value=this._pendingValue=r,this._onChange.length&&o.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,o.emitViewToModelChange!==!1)),this.updateValueAndValidity(o)}patchValue(r,o={}){this.setValue(r,o)}reset(r=this.defaultValue,o={}){this._applyFormState(r),this.markAsPristine(o),this.markAsUntouched(o),this.setValue(this.value,o),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){gx(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){gx(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(r){yx(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}};var zO={provide:hu,useExisting:js(()=>Xm)},vx=Promise.resolve(),Xm=(()=>{class n extends hu{constructor(o,t,i,u,s,l){super(),this._changeDetectorRef=s,this.callSetDisabledState=l,this.control=new GO,this._registered=!1,this.name="",this.update=new Pr,this._parent=o,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=BO(this,u)}ngOnChanges(o){if(this._checkForErrors(),!this._registered||"name"in o){if(this._registered&&(this._checkName(),this.formDirective)){let t=o.name.previousValue;this.formDirective.removeControl({name:t,path:this._getPath(t)})}this._setUpControl()}"isDisabled"in o&&this._updateDisabled(o),VO(o,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(o){this.viewModel=o,this.update.emit(o)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){kO(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(o){vx.then(()=>{this.control.setValue(o,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(o){let t=o.isDisabled.currentValue,i=t!==0&&md(t);vx.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(o){return this._parent?OO(o,this._parent):[o]}static{this.\u0275fac=function(t){return new(t||n)(lr(qm,9),lr(_O,10),lr(xO,10),lr(fu,10),lr(ai,8),lr(jx,8))}}static{this.\u0275dir=wn({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ca([zO]),ss,aa]})}}return n})();var HO={provide:fu,useExisting:js(()=>Zm),multi:!0},Zm=(()=>{class n extends Gd{writeValue(o){this.setProperty("value",parseFloat(o))}registerOnChange(o){this.onChange=t=>{o(t==""?null:parseFloat(t))}}static{this.\u0275fac=(()=>{let o;return function(i){return(o||(o=Os(n)))(i||n)}})()}static{this.\u0275dir=wn({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,i){t&1&&qn("change",function(s){return i.onChange(s.target.value)})("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[ca([HO]),ss]})}}return n})();var qO={provide:fu,useExisting:js(()=>Ox),multi:!0};function Ix(n,r){return n==null?`${r}`:(r&&typeof r=="object"&&(r="Object"),`${n}: ${r}`.slice(0,50))}function WO(n){return n.split(":")[0]}var Ox=(()=>{class n extends Gd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(o){this._compareWith=o}writeValue(o){this.value=o;let t=this._getOptionId(o),i=Ix(t,o);this.setProperty("value",i)}registerOnChange(o){this.onChange=t=>{this.value=this._getOptionValue(t),o(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(o){for(let t of this._optionMap.keys())if(this._compareWith(this._optionMap.get(t),o))return t;return null}_getOptionValue(o){let t=WO(o);return this._optionMap.has(t)?this._optionMap.get(t):o}static{this.\u0275fac=(()=>{let o;return function(i){return(o||(o=Os(n)))(i||n)}})()}static{this.\u0275dir=wn({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,i){t&1&&qn("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ca([qO]),ss]})}}return n})(),kx=(()=>{class n{constructor(o,t,i){this._element=o,this._renderer=t,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(o){this._select!=null&&(this._select._optionMap.set(this.id,o),this._setElementValue(Ix(this.id,o)),this._select.writeValue(this._select.value))}set value(o){this._setElementValue(o),this._select&&this._select.writeValue(this._select.value)}_setElementValue(o){this._renderer.setProperty(this._element.nativeElement,"value",o)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(t){return new(t||n)(lr(os),lr(ks),lr(Ox,9))}}static{this.\u0275dir=wn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),$O={provide:fu,useExisting:js(()=>Nx),multi:!0};function bx(n,r){return n==null?`${r}`:(typeof r=="string"&&(r=`'${r}'`),r&&typeof r=="object"&&(r="Object"),`${n}: ${r}`.slice(0,50))}function YO(n){return n.split(":")[0]}var Nx=(()=>{class n extends Gd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(o){this._compareWith=o}writeValue(o){this.value=o;let t;if(Array.isArray(o)){let i=o.map(u=>this._getOptionId(u));t=(u,s)=>{u._setSelected(i.indexOf(s.toString())>-1)}}else t=(i,u)=>{i._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(o){this.onChange=t=>{let i=[],u=t.selectedOptions;if(u!==void 0){let s=u;for(let l=0;l<s.length;l++){let a=s[l],c=this._getOptionValue(a.value);i.push(c)}}else{let s=t.options;for(let l=0;l<s.length;l++){let a=s[l];if(a.selected){let c=this._getOptionValue(a.value);i.push(c)}}}this.value=i,o(i)}}_registerOption(o){let t=(this._idCounter++).toString();return this._optionMap.set(t,o),t}_getOptionId(o){for(let t of this._optionMap.keys())if(this._compareWith(this._optionMap.get(t)._value,o))return t;return null}_getOptionValue(o){let t=YO(o);return this._optionMap.has(t)?this._optionMap.get(t)._value:o}static{this.\u0275fac=(()=>{let o;return function(i){return(o||(o=Os(n)))(i||n)}})()}static{this.\u0275dir=wn({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,i){t&1&&qn("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ca([$O]),ss]})}}return n})(),Rx=(()=>{class n{constructor(o,t,i){this._element=o,this._renderer=t,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(o){this._select!=null&&(this._value=o,this._setElementValue(bx(this.id,o)),this._select.writeValue(this._select.value))}set value(o){this._select?(this._value=o,this._setElementValue(bx(this.id,o)),this._select.writeValue(this._select.value)):this._setElementValue(o)}_setElementValue(o){this._renderer.setProperty(this._element.nativeElement,"value",o)}_setSelected(o){this._renderer.setProperty(this._element.nativeElement,"selected",o)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(t){return new(t||n)(lr(os),lr(ks),lr(Nx,9))}}static{this.\u0275dir=wn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var XO=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ia({type:n})}static{this.\u0275inj=sa({})}}return n})();var Px=(()=>{class n{static withConfig(o){return{ngModule:n,providers:[{provide:jx,useValue:o.callSetDisabledState??Ym}]}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ia({type:n})}static{this.\u0275inj=sa({imports:[XO]})}}return n})();var gE=Wh(Lx());var pu="15.0.4";var Sn=Wh(eg());var Jx=()=>new DOMException("","AbortError");var e1=n=>(r,o,[t,i,u],s)=>{n(r[i],[o,t,u],l=>l[0]===o&&l[1]===t,s)};var t1=n=>(r,o,t)=>{let i=[];for(let u=0;u<t.numberOfInputs;u+=1)i.push(new Set);n.set(r,{activeInputs:i,outputs:new Set,passiveInputs:new WeakMap,renderer:o})};var r1=n=>(r,o)=>{n.set(r,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:o})};var Po=new WeakSet,Wd=new WeakMap,Ca=new WeakMap,$d=new WeakMap,Eu=new WeakMap,Ea=new WeakMap,Yd=new WeakMap,Tu=new WeakMap,Du=new WeakMap,Mu=new WeakMap;var n1={construct(){return n1}},o1=n=>{try{let r=new Proxy(n,n1);new r}catch{return!1}return!0};var s1=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,tg=(n,r)=>{let o=[],t=n.replace(/^[\s]+/,""),i=t.match(s1);for(;i!==null;){let u=i[1].slice(1,-1),s=i[0].replace(/([\s]+)?;?$/,"").replace(u,new URL(u,r).toString());o.push(s),t=t.slice(i[0].length).replace(/^[\s]+/,""),i=t.match(s1)}return[o.join(";"),t]};var i1=n=>{if(n!==void 0&&!Array.isArray(n))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},a1=n=>{if(!o1(n))throw new TypeError("The given value for processorCtor should be a constructor.");if(n.prototype===null||typeof n.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},l1=(n,r,o,t,i,u,s,l,a,c,y,b,d)=>{let p=0;return(h,g,m={credentials:"omit"})=>{let f=y.get(h);if(f!==void 0&&f.has(g))return Promise.resolve();let v=c.get(h);if(v!==void 0){let S=v.get(g);if(S!==void 0)return S}let _=u(h),x=_.audioWorklet===void 0?i(g).then(([S,j])=>{let[T,C]=tg(S,j),M=`${T};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${C}
})})(window,'_AWGS')`;return o(M)}).then(()=>{let S=d._AWGS.pop();if(S===void 0)throw new SyntaxError;t(_.currentTime,_.sampleRate,()=>S(class{},void 0,(j,T)=>{if(j.trim()==="")throw r();let C=Du.get(_);if(C!==void 0){if(C.has(j))throw r();a1(T),i1(T.parameterDescriptors),C.set(j,T)}else a1(T),i1(T.parameterDescriptors),Du.set(_,new Map([[j,T]]))},_.sampleRate,void 0,void 0))}):Promise.all([i(g),Promise.resolve(n(b,b))]).then(([[S,j],T])=>{let C=p+1;p=C;let[M,k]=tg(S,j),V=`${M};((AudioWorkletProcessor,registerProcessor)=>{${k}
})(${T?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${T?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${T?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${C}',class extends AudioWorkletProcessor{process(){return !1}})`,F=new Blob([V],{type:"application/javascript; charset=utf-8"}),R=URL.createObjectURL(F);return _.audioWorklet.addModule(R,m).then(()=>{if(l(_))return _;let z=s(_);return z.audioWorklet.addModule(R,m).then(()=>z)}).then(z=>{if(a===null)throw new SyntaxError;try{new a(z,`__sac${C}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(R))});return v===void 0?c.set(h,new Map([[g,x]])):v.set(g,x),x.then(()=>{let S=y.get(h);S===void 0?y.set(h,new Set([g])):S.add(g)}).finally(()=>{let S=c.get(h);S!==void 0&&S.delete(g)}),x}};var Mr=(n,r)=>{let o=n.get(r);if(o===void 0)throw new Error("A value with the given key could not be found.");return o};var Fs=(n,r)=>{let o=Array.from(n).filter(r);if(o.length>1)throw Error("More than one element was found.");if(o.length===0)throw Error("No element was found.");let[t]=o;return n.delete(t),t};var Xd=(n,r,o,t)=>{let i=Mr(n,r),u=Fs(i,s=>s[0]===o&&s[1]===t);return i.size===0&&n.delete(r),u};var Fo=n=>Mr(Yd,n);var po=n=>{if(Po.has(n))throw new Error("The AudioNode is already stored.");Po.add(n),Fo(n).forEach(r=>r(!0))};var Zd=n=>"port"in n;var Lo=n=>{if(!Po.has(n))throw new Error("The AudioNode is not stored.");Po.delete(n),Fo(n).forEach(r=>r(!1))};var ju=(n,r)=>{!Zd(n)&&r.every(o=>o.size===0)&&Lo(n)};var u1=(n,r,o,t,i,u,s,l,a,c,y,b,d)=>{let p=new WeakMap;return(h,g,m,f,v)=>{let{activeInputs:_,passiveInputs:x}=u(g),{outputs:S}=u(h),j=l(h),T=C=>{let M=a(g),k=a(h);if(C){let A=Xd(x,h,m,f);n(_,h,A,!1),!v&&!b(h)&&o(k,M,m,f),d(g)&&po(g)}else{let A=t(_,h,m,f);r(x,f,A,!1),!v&&!b(h)&&i(k,M,m,f);let P=s(g);if(P===0)y(g)&&ju(g,_);else{let O=p.get(g);O!==void 0&&clearTimeout(O),p.set(g,setTimeout(()=>{y(g)&&ju(g,_)},P*1e3))}}};return c(S,[g,m,f],C=>C[0]===g&&C[1]===m&&C[2]===f,!0)?(j.add(T),y(h)?n(_,h,[m,f,T],!0):r(x,f,[h,m,T],!0),!0):!1}};var c1=n=>(r,o,[t,i,u],s)=>{let l=r.get(t);l===void 0?r.set(t,new Set([[i,o,u]])):n(l,[i,o,u],a=>a[0]===i&&a[1]===o,s)};var d1=n=>(r,o)=>{let t=n(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.connect(t).connect(r.destination);let i=()=>{o.removeEventListener("ended",i),o.disconnect(t),t.disconnect()};o.addEventListener("ended",i)};var h1=n=>(r,o)=>{n(r).add(o)};var pk={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},f1=(n,r,o,t,i,u)=>class extends n{constructor(l,a){let c=i(l),y=Se(Se({},pk),a),b=t(c,y),d=u(c)?r():null;super(l,!1,b,d),this._nativeAnalyserNode=b}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(l){this._nativeAnalyserNode.fftSize=l}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(l){let a=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=l,!(l>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=a,o()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(l){let a=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=l,!(this._nativeAnalyserNode.maxDecibels>l))throw this._nativeAnalyserNode.minDecibels=a,o()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(l){this._nativeAnalyserNode.smoothingTimeConstant=l}getByteFrequencyData(l){this._nativeAnalyserNode.getByteFrequencyData(l)}getByteTimeDomainData(l){this._nativeAnalyserNode.getByteTimeDomainData(l)}getFloatFrequencyData(l){this._nativeAnalyserNode.getFloatFrequencyData(l)}getFloatTimeDomainData(l){this._nativeAnalyserNode.getFloatTimeDomainData(l)}};var Bt=(n,r)=>n.context===r;var p1=(n,r,o)=>()=>{let t=new WeakMap,i=(u,s)=>ct(void 0,null,function*(){let l=r(u);if(!Bt(l,s)){let c={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,fftSize:l.fftSize,maxDecibels:l.maxDecibels,minDecibels:l.minDecibels,smoothingTimeConstant:l.smoothingTimeConstant};l=n(s,c)}return t.set(s,l),yield o(u,s,l),l});return{render(u,s){let l=t.get(s);return l!==void 0?Promise.resolve(l):i(u,s)}}};var Ta=n=>{try{n.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0};var Yn=()=>new DOMException("","IndexSizeError");var Da=n=>{n.getChannelData=(r=>o=>{try{return r.call(n,o)}catch(t){throw t.code===12?Yn():t}})(n.getChannelData)};var mk={numberOfChannels:1},m1=(n,r,o,t,i,u,s,l)=>{let a=null;return class g1{constructor(y){if(i===null)throw new Error("Missing the native OfflineAudioContext constructor.");let{length:b,numberOfChannels:d,sampleRate:p}=Se(Se({},mk),y);a===null&&(a=new i(1,1,44100));let h=t!==null&&r(u,u)?new t({length:b,numberOfChannels:d,sampleRate:p}):a.createBuffer(d,b,p);if(h.numberOfChannels===0)throw o();return typeof h.copyFromChannel!="function"?(s(h),Da(h)):r(Ta,()=>Ta(h))||l(h),n.add(h),h}static[Symbol.hasInstance](y){return y!==null&&typeof y=="object"&&Object.getPrototypeOf(y)===g1.prototype||n.has(y)}}};var yr=-34028234663852886e22,fr=-yr;var mn=n=>Po.has(n);var gk={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},y1=(n,r,o,t,i,u,s,l)=>class extends n{constructor(c,y){let b=u(c),d=Se(Se({},gk),y),p=i(b,d),h=s(b),g=h?r():null;super(c,!1,p,g),this._audioBufferSourceNodeRenderer=g,this._isBufferNullified=!1,this._isBufferSet=d.buffer!==null,this._nativeAudioBufferSourceNode=p,this._onended=null,this._playbackRate=o(this,h,p.playbackRate,fr,yr)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(c){if(this._nativeAudioBufferSourceNode.buffer=c,c!==null){if(this._isBufferSet)throw t();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(c){this._nativeAudioBufferSourceNode.loop=c}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(c){this._nativeAudioBufferSourceNode.loopEnd=c}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(c){this._nativeAudioBufferSourceNode.loopStart=c}get onended(){return this._onended}set onended(c){let y=typeof c=="function"?l(this,c):null;this._nativeAudioBufferSourceNode.onended=y;let b=this._nativeAudioBufferSourceNode.onended;this._onended=b!==null&&b===y?c:b}get playbackRate(){return this._playbackRate}start(c=0,y=0,b){if(this._nativeAudioBufferSourceNode.start(c,y,b),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=b===void 0?[c,y]:[c,y,b]),this.context.state!=="closed"){po(this);let d=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",d),mn(this)&&Lo(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",d)}}stop(c=0){this._nativeAudioBufferSourceNode.stop(c),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=c)}};var v1=(n,r,o,t,i)=>()=>{let u=new WeakMap,s=null,l=null,a=(c,y)=>ct(void 0,null,function*(){let b=o(c),d=Bt(b,y);if(!d){let p={buffer:b.buffer,channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,loop:b.loop,loopEnd:b.loopEnd,loopStart:b.loopStart,playbackRate:b.playbackRate.value};b=r(y,p),s!==null&&b.start(...s),l!==null&&b.stop(l)}return u.set(y,b),d?yield n(y,c.playbackRate,b.playbackRate):yield t(y,c.playbackRate,b.playbackRate),yield i(c,y,b),b});return{set start(c){s=c},set stop(c){l=c},render(c,y){let b=u.get(y);return b!==void 0?Promise.resolve(b):a(c,y)}}};var b1=n=>"playbackRate"in n;var _1=n=>"frequency"in n&&"gain"in n;var x1=n=>"offset"in n;var w1=n=>!("frequency"in n)&&"gain"in n;var S1=n=>"detune"in n&&"frequency"in n&&!("gain"in n);var C1=n=>"pan"in n;var Lr=n=>Mr(Wd,n);var Ls=n=>Mr($d,n);var Qd=(n,r)=>{let{activeInputs:o}=Lr(n);o.forEach(i=>i.forEach(([u])=>{r.includes(n)||Qd(u,[...r,n])}));let t=b1(n)?[n.playbackRate]:Zd(n)?Array.from(n.parameters.values()):_1(n)?[n.Q,n.detune,n.frequency,n.gain]:x1(n)?[n.offset]:w1(n)?[n.gain]:S1(n)?[n.detune,n.frequency]:C1(n)?[n.pan]:[];for(let i of t){let u=Ls(i);u!==void 0&&u.activeInputs.forEach(([s])=>Qd(s,r))}mn(n)&&Lo(n)};var Vs=n=>{Qd(n.destination,[])};var Kd=n=>n===void 0||typeof n=="number"||typeof n=="string"&&(n==="balanced"||n==="interactive"||n==="playback");var E1=(n,r,o,t,i,u,s,l,a)=>class extends n{constructor(y={}){if(a===null)throw new Error("Missing the native AudioContext constructor.");let b;try{b=new a(y)}catch(h){throw h.code===12&&h.message==="sampleRate is not in range"?o():h}if(b===null)throw t();if(!Kd(y.latencyHint))throw new TypeError(`The provided value '${y.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(y.sampleRate!==void 0&&b.sampleRate!==y.sampleRate)throw o();super(b,2);let{latencyHint:d}=y,{sampleRate:p}=b;if(this._baseLatency=typeof b.baseLatency=="number"?b.baseLatency:d==="balanced"?512/p:d==="interactive"||d===void 0?256/p:d==="playback"?1024/p:Math.max(2,Math.min(128,Math.round(d*p/128)))*128/p,this._nativeAudioContext=b,a.name==="webkitAudioContext"?(this._nativeGainNode=b.createGain(),this._nativeOscillatorNode=b.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(b.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,b.state==="running"){this._state="suspended";let h=()=>{this._state==="suspended"&&(this._state=null),b.removeEventListener("statechange",h)};b.addEventListener("statechange",h)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw r()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Vs(this)}))}createMediaElementSource(y){return new i(this,{mediaElement:y})}createMediaStreamDestination(){return new u(this)}createMediaStreamSource(y){return new s(this,{mediaStream:y})}createMediaStreamTrackSource(y){return new l(this,{mediaStreamTrack:y})}resume(){return this._state==="suspended"?new Promise((y,b)=>{let d=()=>{this._nativeAudioContext.removeEventListener("statechange",d),this._nativeAudioContext.state==="running"?y():this.resume().then(y,b)};this._nativeAudioContext.addEventListener("statechange",d)}):this._nativeAudioContext.resume().catch(y=>{throw y===void 0||y.code===15?r():y})}suspend(){return this._nativeAudioContext.suspend().catch(y=>{throw y===void 0?r():y})}};var T1=(n,r,o,t,i,u,s,l)=>class extends n{constructor(c,y){let b=u(c),d=s(b),p=i(b,y,d),h=d?r(l):null;super(c,!1,p,h),this._isNodeOfNativeOfflineAudioContext=d,this._nativeAudioDestinationNode=p}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(c){if(this._isNodeOfNativeOfflineAudioContext)throw t();if(c>this._nativeAudioDestinationNode.maxChannelCount)throw o();this._nativeAudioDestinationNode.channelCount=c}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(c){if(this._isNodeOfNativeOfflineAudioContext)throw t();this._nativeAudioDestinationNode.channelCountMode=c}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}};var D1=n=>{let r=new WeakMap,o=(t,i)=>ct(void 0,null,function*(){let u=i.destination;return r.set(i,u),yield n(t,i,u),u});return{render(t,i){let u=r.get(i);return u!==void 0?Promise.resolve(u):o(t,i)}}};var M1=(n,r,o,t,i,u,s,l)=>(a,c)=>{let y=c.listener,b=()=>{let S=new Float32Array(1),j=r(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),T=s(c),C=!1,M=[0,0,-1,0,1,0],k=[0,0,0],A=()=>{if(C)return;C=!0;let F=t(c,256,9,0);F.onaudioprocess=({inputBuffer:R})=>{let z=[u(R,S,0),u(R,S,1),u(R,S,2),u(R,S,3),u(R,S,4),u(R,S,5)];z.some((G,W)=>G!==M[W])&&(y.setOrientation(...z),M=z);let q=[u(R,S,6),u(R,S,7),u(R,S,8)];q.some((G,W)=>G!==k[W])&&(y.setPosition(...q),k=q)},j.connect(F)},P=F=>R=>{R!==M[F]&&(M[F]=R,y.setOrientation(...M))},O=F=>R=>{R!==k[F]&&(k[F]=R,y.setPosition(...k))},V=(F,R,z)=>{let q=o(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:R});q.connect(j,0,F),q.start(),Object.defineProperty(q.offset,"defaultValue",{get(){return R}});let G=n({context:a},T,q.offset,fr,yr);return l(G,"value",W=>()=>W.call(G),W=>Z=>{try{W.call(G,Z)}catch(ae){if(ae.code!==9)throw ae}A(),T&&z(Z)}),G.cancelAndHoldAtTime=(W=>T?()=>{throw i()}:(...Z)=>{let ae=W.apply(G,Z);return A(),ae})(G.cancelAndHoldAtTime),G.cancelScheduledValues=(W=>T?()=>{throw i()}:(...Z)=>{let ae=W.apply(G,Z);return A(),ae})(G.cancelScheduledValues),G.exponentialRampToValueAtTime=(W=>T?()=>{throw i()}:(...Z)=>{let ae=W.apply(G,Z);return A(),ae})(G.exponentialRampToValueAtTime),G.linearRampToValueAtTime=(W=>T?()=>{throw i()}:(...Z)=>{let ae=W.apply(G,Z);return A(),ae})(G.linearRampToValueAtTime),G.setTargetAtTime=(W=>T?()=>{throw i()}:(...Z)=>{let ae=W.apply(G,Z);return A(),ae})(G.setTargetAtTime),G.setValueAtTime=(W=>T?()=>{throw i()}:(...Z)=>{let ae=W.apply(G,Z);return A(),ae})(G.setValueAtTime),G.setValueCurveAtTime=(W=>T?()=>{throw i()}:(...Z)=>{let ae=W.apply(G,Z);return A(),ae})(G.setValueCurveAtTime),G};return{forwardX:V(0,0,P(0)),forwardY:V(1,0,P(1)),forwardZ:V(2,-1,P(2)),positionX:V(6,0,O(0)),positionY:V(7,0,O(1)),positionZ:V(8,0,O(2)),upX:V(3,0,P(3)),upY:V(4,1,P(4)),upZ:V(5,0,P(5))}},{forwardX:d,forwardY:p,forwardZ:h,positionX:g,positionY:m,positionZ:f,upX:v,upY:_,upZ:x}=y.forwardX===void 0?b():y;return{get forwardX(){return d},get forwardY(){return p},get forwardZ(){return h},get positionX(){return g},get positionY(){return m},get positionZ(){return f},get upX(){return v},get upY(){return _},get upZ(){return x}}};var pi=n=>"context"in n;var Us=n=>pi(n[0]);var mo=(n,r,o,t)=>{for(let i of n)if(o(i)){if(t)return!1;throw Error("The set contains at least one similar element.")}return n.add(r),!0};var rg=(n,r,[o,t],i)=>{mo(n,[r,o,t],u=>u[0]===r&&u[1]===o,i)};var ng=(n,[r,o,t],i)=>{let u=n.get(r);u===void 0?n.set(r,new Set([[o,t]])):mo(u,[o,t],s=>s[0]===o,i)};var Xn=n=>"inputs"in n;var Ma=(n,r,o,t)=>{if(Xn(r)){let i=r.inputs[t];return n.connect(i,o,0),[i,o,0]}return n.connect(r,o,t),[r,o,t]};var og=(n,r,o)=>{for(let t of n)if(t[0]===r&&t[1]===o)return n.delete(t),t;return null};var j1=(n,r,o)=>Fs(n,t=>t[0]===r&&t[1]===o);var sg=(n,r)=>{if(!Fo(n).delete(r))throw new Error("Missing the expected event listener.")};var ig=(n,r,o)=>{let t=Mr(n,r),i=Fs(t,u=>u[0]===o);return t.size===0&&n.delete(r),i};var ja=(n,r,o,t)=>{Xn(r)?n.disconnect(r.inputs[t],o,0):n.disconnect(r,o,t)};var Qt=n=>Mr(Ca,n);var mi=n=>Mr(Eu,n);var ds=n=>Tu.has(n);var Aa=n=>!Po.has(n);var ag=(n,r)=>new Promise(o=>{if(r!==null)o(!0);else{let t=n.createScriptProcessor(256,1,1),i=n.createGain(),u=n.createBuffer(1,2,44100),s=u.getChannelData(0);s[0]=1,s[1]=1;let l=n.createBufferSource();l.buffer=u,l.loop=!0,l.connect(t).connect(n.destination),l.connect(i),l.disconnect(i),t.onaudioprocess=a=>{let c=a.inputBuffer.getChannelData(0);Array.prototype.some.call(c,y=>y===1)?o(!0):o(!1),l.stop(),t.onaudioprocess=null,l.disconnect(t),t.disconnect(n.destination)},l.start()}});var Jd=(n,r)=>{let o=new Map;for(let t of n)for(let i of t){let u=o.get(i);o.set(i,u===void 0?1:u+1)}o.forEach((t,i)=>r(i,t))};var gi=n=>"context"in n;var A1=n=>{let r=new Map;n.connect=(o=>(t,i=0,u=0)=>{let s=gi(t)?o(t,i,u):o(t,i),l=r.get(t);return l===void 0?r.set(t,[{input:u,output:i}]):l.every(a=>a.input!==u||a.output!==i)&&l.push({input:u,output:i}),s})(n.connect.bind(n)),n.disconnect=(o=>(t,i,u)=>{if(o.apply(n),t===void 0)r.clear();else if(typeof t=="number")for(let[s,l]of r){let a=l.filter(c=>c.output!==t);a.length===0?r.delete(s):r.set(s,a)}else if(r.has(t))if(i===void 0)r.delete(t);else{let s=r.get(t);if(s!==void 0){let l=s.filter(a=>a.output!==i&&(a.input!==u||u===void 0));l.length===0?r.delete(t):r.set(t,l)}}for(let[s,l]of r)l.forEach(a=>{gi(s)?n.connect(s,a.output,a.input):n.connect(s,a.output)})})(n.disconnect)};var yk=(n,r,o,t)=>{let{activeInputs:i,passiveInputs:u}=Ls(r),{outputs:s}=Lr(n),l=Fo(n),a=c=>{let y=Qt(n),b=mi(r);if(c){let d=ig(u,n,o);rg(i,n,d,!1),!t&&!ds(n)&&y.connect(b,o)}else{let d=j1(i,n,o);ng(u,d,!1),!t&&!ds(n)&&y.disconnect(b,o)}};return mo(s,[r,o],c=>c[0]===r&&c[1]===o,!0)?(l.add(a),mn(n)?rg(i,n,[o,a],!0):ng(u,[n,o,a],!0),!0):!1},vk=(n,r,o,t)=>{let{activeInputs:i,passiveInputs:u}=Lr(r),s=og(i[t],n,o);return s===null?[Xd(u,n,o,t)[2],!1]:[s[2],!0]},bk=(n,r,o)=>{let{activeInputs:t,passiveInputs:i}=Ls(r),u=og(t,n,o);return u===null?[ig(i,n,o)[1],!1]:[u[2],!0]},lg=(n,r,o,t,i)=>{let[u,s]=vk(n,o,t,i);if(u!==null&&(sg(n,u),s&&!r&&!ds(n)&&ja(Qt(n),Qt(o),t,i)),mn(o)){let{activeInputs:l}=Lr(o);ju(o,l)}},ug=(n,r,o,t)=>{let[i,u]=bk(n,o,t);i!==null&&(sg(n,i),u&&!r&&!ds(n)&&Qt(n).disconnect(mi(o),t))},_k=(n,r)=>{let o=Lr(n),t=[];for(let i of o.outputs)Us(i)?lg(n,r,...i):ug(n,r,...i),t.push(i[0]);return o.outputs.clear(),t},xk=(n,r,o)=>{let t=Lr(n),i=[];for(let u of t.outputs)u[1]===o&&(Us(u)?lg(n,r,...u):ug(n,r,...u),i.push(u[0]),t.outputs.delete(u));return i},wk=(n,r,o,t,i)=>{let u=Lr(n);return Array.from(u.outputs).filter(s=>s[0]===o&&(t===void 0||s[1]===t)&&(i===void 0||s[2]===i)).map(s=>(Us(s)?lg(n,r,...s):ug(n,r,...s),u.outputs.delete(s),s[0]))},I1=(n,r,o,t,i,u,s,l,a,c,y,b,d,p,h,g)=>class extends c{constructor(f,v,_,x){super(_),this._context=f,this._nativeAudioNode=_;let S=y(f);b(S)&&o(ag,()=>ag(S,g))!==!0&&A1(_),Ca.set(this,_),Yd.set(this,new Set),f.state!=="closed"&&v&&po(this),n(this,x,_)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(f){this._nativeAudioNode.channelCount=f}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(f){this._nativeAudioNode.channelCountMode=f}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(f){this._nativeAudioNode.channelInterpretation=f}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(f,v=0,_=0){if(v<0||v>=this._nativeAudioNode.numberOfOutputs)throw i();let x=y(this._context),S=h(x);if(d(f)||p(f))throw u();if(pi(f)){let C=Qt(f);try{let k=Ma(this._nativeAudioNode,C,v,_),A=Aa(this);(S||A)&&this._nativeAudioNode.disconnect(...k),this.context.state!=="closed"&&!A&&Aa(f)&&po(f)}catch(k){throw k.code===12?u():k}if(r(this,f,v,_,S)){let k=a([this],f);Jd(k,t(S))}return f}let j=mi(f);if(j.name==="playbackRate"&&j.maxValue===1024)throw s();try{this._nativeAudioNode.connect(j,v),(S||Aa(this))&&this._nativeAudioNode.disconnect(j,v)}catch(C){throw C.code===12?u():C}if(yk(this,f,v,S)){let C=a([this],f);Jd(C,t(S))}}disconnect(f,v,_){let x,S=y(this._context),j=h(S);if(f===void 0)x=_k(this,j);else if(typeof f=="number"){if(f<0||f>=this.numberOfOutputs)throw i();x=xk(this,j,f)}else{if(v!==void 0&&(v<0||v>=this.numberOfOutputs)||pi(f)&&_!==void 0&&(_<0||_>=f.numberOfInputs))throw i();if(x=wk(this,j,f,v,_),x.length===0)throw u()}for(let T of x){let C=a([this],T);Jd(C,l)}}};var O1=Wh(eg()),k1=(n,r,o,t,i,u,s,l,a,c,y,b,d)=>(p,h,g,m=null,f=null)=>{let v=g.value,_=new O1.AutomationEventList(v),x=h?t(_):null,S={get defaultValue(){return v},get maxValue(){return m===null?g.maxValue:m},get minValue(){return f===null?g.minValue:f},get value(){return g.value},set value(j){g.value=j,S.setValueAtTime(j,p.context.currentTime)},cancelAndHoldAtTime(j){if(typeof g.cancelAndHoldAtTime=="function")x===null&&_.flush(p.context.currentTime),_.add(i(j)),g.cancelAndHoldAtTime(j);else{let T=Array.from(_).pop();x===null&&_.flush(p.context.currentTime),_.add(i(j));let C=Array.from(_).pop();g.cancelScheduledValues(j),T!==C&&C!==void 0&&(C.type==="exponentialRampToValue"?g.exponentialRampToValueAtTime(C.value,C.endTime):C.type==="linearRampToValue"?g.linearRampToValueAtTime(C.value,C.endTime):C.type==="setValue"?g.setValueAtTime(C.value,C.startTime):C.type==="setValueCurve"&&g.setValueCurveAtTime(C.values,C.startTime,C.duration))}return S},cancelScheduledValues(j){return x===null&&_.flush(p.context.currentTime),_.add(u(j)),g.cancelScheduledValues(j),S},exponentialRampToValueAtTime(j,T){if(j===0)throw new RangeError;if(!Number.isFinite(T)||T<0)throw new RangeError;let C=p.context.currentTime;return x===null&&_.flush(C),Array.from(_).length===0&&(_.add(c(v,C)),g.setValueAtTime(v,C)),_.add(s(j,T)),g.exponentialRampToValueAtTime(j,T),S},linearRampToValueAtTime(j,T){let C=p.context.currentTime;return x===null&&_.flush(C),Array.from(_).length===0&&(_.add(c(v,C)),g.setValueAtTime(v,C)),_.add(l(j,T)),g.linearRampToValueAtTime(j,T),S},setTargetAtTime(j,T,C){return x===null&&_.flush(p.context.currentTime),_.add(a(j,T,C)),g.setTargetAtTime(j,T,C),S},setValueAtTime(j,T){return x===null&&_.flush(p.context.currentTime),_.add(c(j,T)),g.setValueAtTime(j,T),S},setValueCurveAtTime(j,T,C){let M=j instanceof Float32Array?j:new Float32Array(j);if(b!==null&&b.name==="webkitAudioContext"){let k=T+C,A=p.context.sampleRate,P=Math.ceil(T*A),O=Math.floor(k*A),V=O-P,F=new Float32Array(V);for(let z=0;z<V;z+=1){let q=(M.length-1)/C*((P+z)/A-T),G=Math.floor(q),W=Math.ceil(q);F[z]=G===W?M[G]:(1-(q-G))*M[G]+(1-(W-q))*M[W]}x===null&&_.flush(p.context.currentTime),_.add(y(F,T,C)),g.setValueCurveAtTime(F,T,C);let R=O/A;R<k&&d(S,F[F.length-1],R),d(S,M[M.length-1],k)}else x===null&&_.flush(p.context.currentTime),_.add(y(M,T,C)),g.setValueCurveAtTime(M,T,C);return S}};return o.set(S,g),r.set(S,p),n(S,x),S};var N1=n=>({replay(r){for(let o of n)if(o.type==="exponentialRampToValue"){let{endTime:t,value:i}=o;r.exponentialRampToValueAtTime(i,t)}else if(o.type==="linearRampToValue"){let{endTime:t,value:i}=o;r.linearRampToValueAtTime(i,t)}else if(o.type==="setTarget"){let{startTime:t,target:i,timeConstant:u}=o;r.setTargetAtTime(i,t,u)}else if(o.type==="setValue"){let{startTime:t,value:i}=o;r.setValueAtTime(i,t)}else if(o.type==="setValueCurve"){let{duration:t,startTime:i,values:u}=o;r.setValueCurveAtTime(u,i,t)}else throw new Error("Can't apply an unknown automation.")}});var Ia=class{constructor(r){this._map=new Map(r)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(r,o=null){return this._map.forEach((t,i)=>r.call(o,t,i,this))}get(r){return this._map.get(r)}has(r){return this._map.has(r)}keys(){return this._map.keys()}values(){return this._map.values()}};var Sk={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},R1=(n,r,o,t,i,u,s,l,a,c,y,b,d,p)=>class extends r{constructor(g,m,f){var v;let _=l(g),x=a(_),S=y(Se(Se({},Sk),f));d(S);let j=Du.get(_),T=j?.get(m),C=x||_.state!=="closed"?_:(v=s(_))!==null&&v!==void 0?v:_,M=i(C,x?null:g.baseLatency,c,m,T,S),k=x?t(m,S,T):null;super(g,!0,M,k);let A=[];M.parameters.forEach((O,V)=>{let F=o(this,x,O);A.push([V,F])}),this._nativeAudioWorkletNode=M,this._onprocessorerror=null,this._parameters=new Ia(A),x&&n(_,this);let{activeInputs:P}=u(this);b(M,P)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(g){let m=typeof g=="function"?p(this,g):null;this._nativeAudioWorkletNode.onprocessorerror=m;let f=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=f!==null&&f===m?g:f}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Oa(n,r,o,t,i){if(typeof n.copyFromChannel=="function")r[o].byteLength===0&&(r[o]=new Float32Array(128)),n.copyFromChannel(r[o],t,i);else{let u=n.getChannelData(t);if(r[o].byteLength===0)r[o]=u.slice(i,i+128);else{let s=new Float32Array(u.buffer,i*Float32Array.BYTES_PER_ELEMENT,128);r[o].set(s)}}}var eh=(n,r,o,t,i)=>{typeof n.copyToChannel=="function"?r[o].byteLength!==0&&n.copyToChannel(r[o],t,i):r[o].byteLength!==0&&n.getChannelData(t).set(r[o],i)};var ka=(n,r)=>{let o=[];for(let t=0;t<n;t+=1){let i=[],u=typeof r=="number"?r:r[t];for(let s=0;s<u;s+=1)i.push(new Float32Array(128));o.push(i)}return o};var P1=(n,r)=>{let o=Mr(Mu,n),t=Qt(r);return Mr(o,t)};var Ck=(n,r,o,t,i,u,s)=>ct(void 0,null,function*(){let l=r===null?Math.ceil(n.context.length/128)*128:r.length,a=t.channelCount*t.numberOfInputs,c=i.reduce((m,f)=>m+f,0),y=c===0?null:o.createBuffer(c,l,o.sampleRate);if(u===void 0)throw new Error("Missing the processor constructor.");let b=Lr(n),d=yield P1(o,n),p=ka(t.numberOfInputs,t.channelCount),h=ka(t.numberOfOutputs,i),g=Array.from(n.parameters.keys()).reduce((m,f)=>Ge(Se({},m),{[f]:new Float32Array(128)}),{});for(let m=0;m<l;m+=128){if(t.numberOfInputs>0&&r!==null)for(let f=0;f<t.numberOfInputs;f+=1)for(let v=0;v<t.channelCount;v+=1)Oa(r,p[f],v,v,m);u.parameterDescriptors!==void 0&&r!==null&&u.parameterDescriptors.forEach(({name:f},v)=>{Oa(r,g,f,a+v,m)});for(let f=0;f<t.numberOfInputs;f+=1)for(let v=0;v<i[f];v+=1)h[f][v].byteLength===0&&(h[f][v]=new Float32Array(128));try{let f=p.map((_,x)=>b.activeInputs[x].size===0?[]:_),v=s(m/o.sampleRate,o.sampleRate,()=>d.process(f,h,g));if(y!==null)for(let _=0,x=0;_<t.numberOfOutputs;_+=1){for(let S=0;S<i[_];S+=1)eh(y,h[_],S,x+S,m);x+=i[_]}if(!v)break}catch(f){n.dispatchEvent(new ErrorEvent("processorerror",{colno:f.colno,filename:f.filename,lineno:f.lineno,message:f.message}));break}}return y}),F1=(n,r,o,t,i,u,s,l,a,c,y,b,d,p,h,g)=>(m,f,v)=>{let _=new WeakMap,x=null,S=(j,T)=>ct(void 0,null,function*(){let C=y(j),M=null,k=Bt(C,T),A=Array.isArray(f.outputChannelCount)?f.outputChannelCount:Array.from(f.outputChannelCount);if(b===null){let P=A.reduce((R,z)=>R+z,0),O=i(T,{channelCount:Math.max(1,P),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,P)}),V=[];for(let R=0;R<j.numberOfOutputs;R+=1)V.push(t(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:A[R]}));let F=s(T,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:1});F.connect=r.bind(null,V),F.disconnect=a.bind(null,V),M=[O,V,F]}else k||(C=new b(T,m));if(_.set(T,M===null?C:M[2]),M!==null){if(x===null){if(v===void 0)throw new Error("Missing the processor constructor.");if(d===null)throw new Error("Missing the native OfflineAudioContext constructor.");let z=j.channelCount*j.numberOfInputs,q=v.parameterDescriptors===void 0?0:v.parameterDescriptors.length,G=z+q;x=Ck(j,G===0?null:yield ct(void 0,null,function*(){let Z=new d(G,Math.ceil(j.context.length/128)*128,T.sampleRate),ae=[],L=[];for(let H=0;H<f.numberOfInputs;H+=1)ae.push(s(Z,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:1})),L.push(i(Z,{channelCount:f.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:f.channelCount}));let D=yield Promise.all(Array.from(j.parameters.values()).map(H=>ct(void 0,null,function*(){let X=u(Z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:H.value});return yield p(Z,H,X.offset),X}))),U=t(Z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,z+q)});for(let H=0;H<f.numberOfInputs;H+=1){ae[H].connect(L[H]);for(let X=0;X<f.channelCount;X+=1)L[H].connect(U,X,H*f.channelCount+X)}for(let[H,X]of D.entries())X.connect(U,0,z+H),X.start(0);return U.connect(Z.destination),yield Promise.all(ae.map(H=>h(j,Z,H))),g(Z)}),T,f,A,v,c)}let P=yield x,O=o(T,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[V,F,R]=M;P!==null&&(O.buffer=P,O.start(0)),O.connect(V);for(let z=0,q=0;z<j.numberOfOutputs;z+=1){let G=F[z];for(let W=0;W<A[z];W+=1)V.connect(G,q+W,W);q+=A[z]}return R}if(k)for(let[P,O]of j.parameters.entries())yield n(T,O,C.parameters.get(P));else for(let[P,O]of j.parameters.entries())yield p(T,O,C.parameters.get(P));return yield h(j,T,C),C});return{render(j,T){l(T,j);let C=_.get(T);return C!==void 0?Promise.resolve(C):S(j,T)}}};var L1=(n,r,o,t,i,u,s,l,a,c,y,b,d,p,h,g,m,f,v,_)=>class extends h{constructor(S,j){super(S,j),this._nativeContext=S,this._audioWorklet=n===void 0?void 0:{addModule:(T,C)=>n(this,T,C)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new r(this)}createBiquadFilter(){return new i(this)}createBuffer(S,j,T){return new o({length:j,numberOfChannels:S,sampleRate:T})}createBufferSource(){return new t(this)}createChannelMerger(S=6){return new u(this,{numberOfInputs:S})}createChannelSplitter(S=6){return new s(this,{numberOfOutputs:S})}createConstantSource(){return new l(this)}createConvolver(){return new a(this)}createDelay(S=1){return new y(this,{maxDelayTime:S})}createDynamicsCompressor(){return new b(this)}createGain(){return new d(this)}createIIRFilter(S,j){return new p(this,{feedback:j,feedforward:S})}createOscillator(){return new g(this)}createPanner(){return new m(this)}createPeriodicWave(S,j,T={disableNormalization:!1}){return new f(this,Ge(Se({},T),{imag:j,real:S}))}createStereoPanner(){return new v(this)}createWaveShaper(){return new _(this)}decodeAudioData(S,j,T){return c(this._nativeContext,S).then(C=>(typeof j=="function"&&j(C),C),C=>{throw typeof T=="function"&&T(C),C})}};var Ek={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},V1=(n,r,o,t,i,u,s,l)=>class extends n{constructor(c,y){let b=u(c),d=Se(Se({},Ek),y),p=i(b,d),h=s(b),g=h?o():null;super(c,!1,p,g),this._Q=r(this,h,p.Q,fr,yr),this._detune=r(this,h,p.detune,1200*Math.log2(fr),-1200*Math.log2(fr)),this._frequency=r(this,h,p.frequency,c.sampleRate/2,0),this._gain=r(this,h,p.gain,40*Math.log10(fr),yr),this._nativeBiquadFilterNode=p,l(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(c){this._nativeBiquadFilterNode.type=c}getFrequencyResponse(c,y,b){try{this._nativeBiquadFilterNode.getFrequencyResponse(c,y,b)}catch(d){throw d.code===11?t():d}if(c.length!==y.length||y.length!==b.length)throw t()}};var U1=(n,r,o,t,i)=>()=>{let u=new WeakMap,s=(l,a)=>ct(void 0,null,function*(){let c=o(l),y=Bt(c,a);if(!y){let b={Q:c.Q.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,detune:c.detune.value,frequency:c.frequency.value,gain:c.gain.value,type:c.type};c=r(a,b)}return u.set(a,c),y?(yield n(a,l.Q,c.Q),yield n(a,l.detune,c.detune),yield n(a,l.frequency,c.frequency),yield n(a,l.gain,c.gain)):(yield t(a,l.Q,c.Q),yield t(a,l.detune,c.detune),yield t(a,l.frequency,c.frequency),yield t(a,l.gain,c.gain)),yield i(l,a,c),c});return{render(l,a){let c=u.get(a);return c!==void 0?Promise.resolve(c):s(l,a)}}};var B1=(n,r)=>(o,t)=>{let i=r.get(o);if(i!==void 0)return i;let u=n.get(o);if(u!==void 0)return u;try{let s=t();return s instanceof Promise?(n.set(o,s),s.catch(()=>!1).then(l=>(n.delete(o),r.set(o,l),l))):(r.set(o,s),s)}catch{return r.set(o,!1),!1}};var Tk={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},G1=(n,r,o,t,i)=>class extends n{constructor(s,l){let a=t(s),c=Se(Se({},Tk),l),y=o(a,c),b=i(a)?r():null;super(s,!1,y,b)}};var z1=(n,r,o)=>()=>{let t=new WeakMap,i=(u,s)=>ct(void 0,null,function*(){let l=r(u);if(!Bt(l,s)){let c={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,numberOfInputs:l.numberOfInputs};l=n(s,c)}return t.set(s,l),yield o(u,s,l),l});return{render(u,s){let l=t.get(s);return l!==void 0?Promise.resolve(l):i(u,s)}}};var Dk={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},H1=(n,r,o,t,i,u)=>class extends n{constructor(l,a){let c=t(l),y=u(Se(Se({},Dk),a)),b=o(c,y),d=i(c)?r():null;super(l,!1,b,d)}};var q1=(n,r,o)=>()=>{let t=new WeakMap,i=(u,s)=>ct(void 0,null,function*(){let l=r(u);if(!Bt(l,s)){let c={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,numberOfOutputs:l.numberOfOutputs};l=n(s,c)}return t.set(s,l),yield o(u,s,l),l});return{render(u,s){let l=t.get(s);return l!==void 0?Promise.resolve(l):i(u,s)}}};var W1=n=>(r,o,t)=>n(o,r,t);var $1=n=>(r,o,t=0,i=0)=>{let u=r[t];if(u===void 0)throw n();return gi(o)?u.connect(o,0,i):u.connect(o,0)};var Y1=n=>(r,o)=>{let t=n(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),i=r.createBuffer(1,2,44100);return t.buffer=i,t.loop=!0,t.connect(o),t.start(),()=>{t.stop(),t.disconnect(o)}};var Mk={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},X1=(n,r,o,t,i,u,s)=>class extends n{constructor(a,c){let y=i(a),b=Se(Se({},Mk),c),d=t(y,b),p=u(y),h=p?o():null;super(a,!1,d,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=d,this._offset=r(this,p,d.offset,fr,yr),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(a){let c=typeof a=="function"?s(this,a):null;this._nativeConstantSourceNode.onended=c;let y=this._nativeConstantSourceNode.onended;this._onended=y!==null&&y===c?a:y}start(a=0){if(this._nativeConstantSourceNode.start(a),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=a),this.context.state!=="closed"){po(this);let c=()=>{this._nativeConstantSourceNode.removeEventListener("ended",c),mn(this)&&Lo(this)};this._nativeConstantSourceNode.addEventListener("ended",c)}}stop(a=0){this._nativeConstantSourceNode.stop(a),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=a)}};var Z1=(n,r,o,t,i)=>()=>{let u=new WeakMap,s=null,l=null,a=(c,y)=>ct(void 0,null,function*(){let b=o(c),d=Bt(b,y);if(!d){let p={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,offset:b.offset.value};b=r(y,p),s!==null&&b.start(s),l!==null&&b.stop(l)}return u.set(y,b),d?yield n(y,c.offset,b.offset):yield t(y,c.offset,b.offset),yield i(c,y,b),b});return{set start(c){s=c},set stop(c){l=c},render(c,y){let b=u.get(y);return b!==void 0?Promise.resolve(b):a(c,y)}}};var Q1=n=>r=>(n[0]=r,n[0]);var jk={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},K1=(n,r,o,t,i,u)=>class extends n{constructor(l,a){let c=t(l),y=Se(Se({},jk),a),b=o(c,y),p=i(c)?r():null;super(l,!1,b,p),this._isBufferNullified=!1,this._nativeConvolverNode=b,y.buffer!==null&&u(this,y.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(l){if(this._nativeConvolverNode.buffer=l,l===null&&this._nativeConvolverNode.buffer!==null){let a=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=a.createBuffer(1,1,a.sampleRate),this._isBufferNullified=!0,u(this,0)}else this._isBufferNullified=!1,u(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(l){this._nativeConvolverNode.normalize=l}};var J1=(n,r,o)=>()=>{let t=new WeakMap,i=(u,s)=>ct(void 0,null,function*(){let l=r(u);if(!Bt(l,s)){let c={buffer:l.buffer,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,disableNormalization:!l.normalize};l=n(s,c)}return t.set(s,l),Xn(l)?yield o(u,s,l.inputs[0]):yield o(u,s,l),l});return{render(u,s){let l=t.get(s);return l!==void 0?Promise.resolve(l):i(u,s)}}};var ew=(n,r)=>(o,t,i)=>{if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new r(o,t,i)}catch(u){throw u.name==="SyntaxError"?n():u}};var tw=()=>new DOMException("","DataCloneError");var cg=n=>{let{port1:r,port2:o}=new MessageChannel;return new Promise(t=>{let i=()=>{o.onmessage=null,r.close(),o.close(),t()};o.onmessage=()=>i();try{r.postMessage(n,[n])}catch{}finally{i()}})};var rw=(n,r,o,t,i,u,s,l,a,c,y)=>(b,d)=>{let p=s(b)?b:u(b);if(i.has(d)){let h=o();return Promise.reject(h)}try{i.add(d)}catch{}return r(a,()=>a(p))?p.decodeAudioData(d).then(h=>(cg(d).catch(()=>{}),r(l,()=>l(h))||y(h),n.add(h),h)):new Promise((h,g)=>{let m=()=>ct(void 0,null,function*(){try{yield cg(d)}catch{}}),f=v=>{g(v),m()};try{p.decodeAudioData(d,v=>{typeof v.copyFromChannel!="function"&&(c(v),Da(v)),n.add(v),m().then(()=>h(v))},v=>{f(v===null?t():v)})}catch(v){f(v)}})};var nw=(n,r,o,t,i,u,s,l)=>(a,c)=>{let y=r.get(a);if(y===void 0)throw new Error("Missing the expected cycle count.");let b=u(a.context),d=l(b);if(y===c){if(r.delete(a),!d&&s(a)){let p=t(a),{outputs:h}=o(a);for(let g of h)if(Us(g)){let m=t(g[0]);n(p,m,g[1],g[2])}else{let m=i(g[0]);p.connect(m,g[1])}}}else r.set(a,y-c)};var Ak={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},ow=(n,r,o,t,i,u,s)=>class extends n{constructor(a,c){let y=i(a),b=Se(Se({},Ak),c),d=t(y,b),p=u(y),h=p?o(b.maxDelayTime):null;super(a,!1,d,h),this._delayTime=r(this,p,d.delayTime),s(this,b.maxDelayTime)}get delayTime(){return this._delayTime}};var sw=(n,r,o,t,i)=>u=>{let s=new WeakMap,l=(a,c)=>ct(void 0,null,function*(){let y=o(a),b=Bt(y,c);if(!b){let d={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,delayTime:y.delayTime.value,maxDelayTime:u};y=r(c,d)}return s.set(c,y),b?yield n(c,a.delayTime,y.delayTime):yield t(c,a.delayTime,y.delayTime),yield i(a,c,y),y});return{render(a,c){let y=s.get(c);return y!==void 0?Promise.resolve(y):l(a,c)}}};var iw=n=>(r,o,t,i)=>n(r[i],u=>u[0]===o&&u[1]===t);var aw=n=>(r,o)=>{n(r).delete(o)};var lw=n=>"delayTime"in n;var uw=(n,r,o)=>function t(i,u){let s=pi(u)?u:o(n,u);if(lw(s))return[];if(i[0]===s)return[i];if(i.includes(s))return[];let{outputs:l}=r(s);return Array.from(l).map(a=>t([...i,s],a[0])).reduce((a,c)=>a.concat(c),[])};var th=(n,r,o)=>{let t=r[o];if(t===void 0)throw n();return t},cw=n=>(r,o=void 0,t=void 0,i=0)=>o===void 0?r.forEach(u=>u.disconnect()):typeof o=="number"?th(n,r,o).disconnect():gi(o)?t===void 0?r.forEach(u=>u.disconnect(o)):i===void 0?th(n,r,t).disconnect(o,0):th(n,r,t).disconnect(o,0,i):t===void 0?r.forEach(u=>u.disconnect(o)):th(n,r,t).disconnect(o,0);var Ik={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},dw=(n,r,o,t,i,u,s,l)=>class extends n{constructor(c,y){let b=u(c),d=Se(Se({},Ik),y),p=t(b,d),h=s(b),g=h?o():null;super(c,!1,p,g),this._attack=r(this,h,p.attack),this._knee=r(this,h,p.knee),this._nativeDynamicsCompressorNode=p,this._ratio=r(this,h,p.ratio),this._release=r(this,h,p.release),this._threshold=r(this,h,p.threshold),l(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(c){let y=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=c,c>2)throw this._nativeDynamicsCompressorNode.channelCount=y,i()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(c){let y=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=c,c==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=y,i()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}};var hw=(n,r,o,t,i)=>()=>{let u=new WeakMap,s=(l,a)=>ct(void 0,null,function*(){let c=o(l),y=Bt(c,a);if(!y){let b={attack:c.attack.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,knee:c.knee.value,ratio:c.ratio.value,release:c.release.value,threshold:c.threshold.value};c=r(a,b)}return u.set(a,c),y?(yield n(a,l.attack,c.attack),yield n(a,l.knee,c.knee),yield n(a,l.ratio,c.ratio),yield n(a,l.release,c.release),yield n(a,l.threshold,c.threshold)):(yield t(a,l.attack,c.attack),yield t(a,l.knee,c.knee),yield t(a,l.ratio,c.ratio),yield t(a,l.release,c.release),yield t(a,l.threshold,c.threshold)),yield i(l,a,c),c});return{render(l,a){let c=u.get(a);return c!==void 0?Promise.resolve(c):s(l,a)}}};var fw=()=>new DOMException("","EncodingError");var pw=n=>r=>new Promise((o,t)=>{if(n===null){t(new SyntaxError);return}let i=n.document.head;if(i===null)t(new SyntaxError);else{let u=n.document.createElement("script"),s=new Blob([r],{type:"application/javascript"}),l=URL.createObjectURL(s),a=n.onerror,c=()=>{n.onerror=a,URL.revokeObjectURL(l)};n.onerror=(y,b,d,p,h)=>{if(b===l||b===n.location.href&&d===1&&p===1)return c(),t(h),!1;if(a!==null)return a(y,b,d,p,h)},u.onerror=()=>{c(),t(new SyntaxError)},u.onload=()=>{c(),o()},u.src=l,u.type="module",i.appendChild(u)}});var mw=n=>class{constructor(o){this._nativeEventTarget=o,this._listeners=new WeakMap}addEventListener(o,t,i){if(t!==null){let u=this._listeners.get(t);u===void 0&&(u=n(this,t),typeof t=="function"&&this._listeners.set(t,u)),this._nativeEventTarget.addEventListener(o,u,i)}}dispatchEvent(o){return this._nativeEventTarget.dispatchEvent(o)}removeEventListener(o,t,i){let u=t===null?void 0:this._listeners.get(t);this._nativeEventTarget.removeEventListener(o,u===void 0?null:u,i)}};var gw=n=>(r,o,t)=>{Object.defineProperties(n,{currentFrame:{configurable:!0,get(){return Math.round(r*o)}},currentTime:{configurable:!0,get(){return r}}});try{return t()}finally{n!==null&&(delete n.currentFrame,delete n.currentTime)}};var yw=n=>r=>ct(void 0,null,function*(){try{let o=yield fetch(r);if(o.ok)return[yield o.text(),o.url]}catch{}throw n()});var Ok={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},vw=(n,r,o,t,i,u)=>class extends n{constructor(l,a){let c=i(l),y=Se(Se({},Ok),a),b=t(c,y),d=u(c),p=d?o():null;super(l,!1,b,p),this._gain=r(this,d,b.gain,fr,yr)}get gain(){return this._gain}};var bw=(n,r,o,t,i)=>()=>{let u=new WeakMap,s=(l,a)=>ct(void 0,null,function*(){let c=o(l),y=Bt(c,a);if(!y){let b={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:c.gain.value};c=r(a,b)}return u.set(a,c),y?yield n(a,l.gain,c.gain):yield t(a,l.gain,c.gain),yield i(l,a,c),c});return{render(l,a){let c=u.get(a);return c!==void 0?Promise.resolve(c):s(l,a)}}};var _w=(n,r)=>o=>r(n,o);var xw=n=>r=>{let o=n(r);if(o.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return o.renderer};var ww=n=>r=>{var o;return(o=n.get(r))!==null&&o!==void 0?o:0};var Sw=n=>r=>{let o=n(r);if(o.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return o.renderer};var Cw=n=>r=>n.get(r);var ur=()=>new DOMException("","InvalidStateError");var Ew=n=>r=>{let o=n.get(r);if(o===void 0)throw ur();return o};var Tw=(n,r)=>o=>{let t=n.get(o);if(t!==void 0)return t;if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");return t=new r(1,1,44100),n.set(o,t),t};var Dw=n=>r=>{let o=n.get(r);if(o===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return o};var Na=()=>new DOMException("","InvalidAccessError");var Mw=n=>{n.getFrequencyResponse=(r=>(o,t,i)=>{if(o.length!==t.length||t.length!==i.length)throw Na();return r.call(n,o,t,i)})(n.getFrequencyResponse)};var kk={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},jw=(n,r,o,t,i,u)=>class extends n{constructor(l,a){let c=t(l),y=i(c),b=Se(Se({},kk),a),d=r(c,y?null:l.baseLatency,b),p=y?o(b.feedback,b.feedforward):null;super(l,!1,d,p),Mw(d),this._nativeIIRFilterNode=d,u(this,1)}getFrequencyResponse(l,a,c){return this._nativeIIRFilterNode.getFrequencyResponse(l,a,c)}};var rh=(n,r,o,t,i,u,s,l,a,c,y)=>{let b=c.length,d=l;for(let p=0;p<b;p+=1){let h=o[0]*c[p];for(let g=1;g<i;g+=1){let m=d-g&a-1;h+=o[g]*u[m],h-=n[g]*s[m]}for(let g=i;g<t;g+=1)h+=o[g]*u[d-g&a-1];for(let g=i;g<r;g+=1)h-=n[g]*s[d-g&a-1];u[d]=c[p],s[d]=h,d=d+1&a-1,y[p]=h}return d};var Nk=(n,r,o,t)=>{let i=o instanceof Float64Array?o:new Float64Array(o),u=t instanceof Float64Array?t:new Float64Array(t),s=i.length,l=u.length,a=Math.min(s,l);if(i[0]!==1){for(let h=0;h<s;h+=1)u[h]/=i[0];for(let h=1;h<l;h+=1)i[h]/=i[0]}let c=32,y=new Float32Array(c),b=new Float32Array(c),d=r.createBuffer(n.numberOfChannels,n.length,n.sampleRate),p=n.numberOfChannels;for(let h=0;h<p;h+=1){let g=n.getChannelData(h),m=d.getChannelData(h);y.fill(0),b.fill(0),rh(i,s,u,l,a,y,b,0,c,g,m)}return d},Aw=(n,r,o,t,i)=>(u,s)=>{let l=new WeakMap,a=null,c=(y,b)=>ct(void 0,null,function*(){let d=null,p=r(y),h=Bt(p,b);if(b.createIIRFilter===void 0?d=n(b,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):h||(p=b.createIIRFilter(s,u)),l.set(b,d===null?p:d),d!==null){if(a===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");let m=new o(y.context.destination.channelCount,y.context.length,b.sampleRate);a=ct(void 0,null,function*(){yield t(y,m,m.destination);let f=yield i(m);return Nk(f,b,u,s)})}let g=yield a;return d.buffer=g,d.start(0),d}return yield t(y,b,p),p});return{render(y,b){let d=l.get(b);return d!==void 0?Promise.resolve(d):c(y,b)}}};var Iw=(n,r,o,t,i,u)=>s=>(l,a)=>{let c=n.get(l);if(c===void 0){if(!s&&u(l)){let y=t(l),{outputs:b}=o(l);for(let d of b)if(Us(d)){let p=t(d[0]);r(y,p,d[1],d[2])}else{let p=i(d[0]);y.disconnect(p,d[1])}}n.set(l,a)}else n.set(l,c+a)};var Ow=(n,r)=>o=>{let t=n.get(o);return r(t)||r(o)};var kw=(n,r)=>o=>n.has(o)||r(o);var Nw=(n,r)=>o=>n.has(o)||r(o);var Rw=(n,r)=>o=>{let t=n.get(o);return r(t)||r(o)};var Pw=n=>r=>n!==null&&r instanceof n;var Fw=n=>r=>n!==null&&typeof n.AudioNode=="function"&&r instanceof n.AudioNode;var Lw=n=>r=>n!==null&&typeof n.AudioParam=="function"&&r instanceof n.AudioParam;var Vw=(n,r)=>o=>n(o)||r(o);var Uw=n=>r=>n!==null&&r instanceof n;var Bw=n=>n!==null&&n.isSecureContext;var Gw=(n,r,o,t)=>class extends n{constructor(u,s){let l=o(u),a=r(l,s);if(t(l))throw TypeError();super(u,!0,a,null),this._nativeMediaElementAudioSourceNode=a}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}};var Rk={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},zw=(n,r,o,t)=>class extends n{constructor(u,s){let l=o(u);if(t(l))throw new TypeError;let a=Se(Se({},Rk),s),c=r(l,a);super(u,!1,c,null),this._nativeMediaStreamAudioDestinationNode=c}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}};var Hw=(n,r,o,t)=>class extends n{constructor(u,s){let l=o(u),a=r(l,s);if(t(l))throw new TypeError;super(u,!0,a,null),this._nativeMediaStreamAudioSourceNode=a}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}};var qw=(n,r,o)=>class extends n{constructor(i,u){let s=o(i),l=r(s,u);super(i,!0,l,null)}};var Ww=(n,r,o,t,i)=>class extends t{constructor(s={}){if(i===null)throw new Error("Missing the native AudioContext constructor.");let l;try{l=new i(s)}catch(y){throw y.code===12&&y.message==="sampleRate is not in range"?r():y}if(l===null)throw o();if(!Kd(s.latencyHint))throw new TypeError(`The provided value '${s.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(s.sampleRate!==void 0&&l.sampleRate!==s.sampleRate)throw r();super(l,2);let{latencyHint:a}=s,{sampleRate:c}=l;if(this._baseLatency=typeof l.baseLatency=="number"?l.baseLatency:a==="balanced"?512/c:a==="interactive"||a===void 0?256/c:a==="playback"?1024/c:Math.max(2,Math.min(128,Math.round(a*c/128)))*128/c,this._nativeAudioContext=l,i.name==="webkitAudioContext"?(this._nativeGainNode=l.createGain(),this._nativeOscillatorNode=l.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(l.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,l.state==="running"){this._state="suspended";let y=()=>{this._state==="suspended"&&(this._state=null),l.removeEventListener("statechange",y)};l.addEventListener("statechange",y)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw n()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Vs(this)}))}resume(){return this._state==="suspended"?new Promise((s,l)=>{let a=()=>{this._nativeAudioContext.removeEventListener("statechange",a),this._nativeAudioContext.state==="running"?s():this.resume().then(s,l)};this._nativeAudioContext.addEventListener("statechange",a)}):this._nativeAudioContext.resume().catch(s=>{throw s===void 0||s.code===15?n():s})}suspend(){return this._nativeAudioContext.suspend().catch(s=>{throw s===void 0?n():s})}};var $w=(n,r,o,t,i,u)=>class extends o{constructor(l,a){super(l),this._nativeContext=l,Ea.set(this,l),t(l)&&i.set(l,new Set),this._destination=new n(this,a),this._listener=r(this,l),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(l){let a=typeof l=="function"?u(this,l):null;this._nativeContext.onstatechange=a;let c=this._nativeContext.onstatechange;this._onstatechange=c!==null&&c===a?l:c}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}};var go=n=>{let r=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{let o=n.decodeAudioData(r.buffer,()=>{});return o===void 0?!1:(o.catch(()=>{}),!0)}catch{}return!1};var Pk={numberOfChannels:1},Yw=(n,r,o,t,i)=>class extends t{constructor(s){let{length:l,numberOfChannels:a,sampleRate:c}=Se(Se({},Pk),s),y=o(a,l,c);n(go,()=>go(y))||y.addEventListener("statechange",(()=>{let b=0,d=p=>{this._state==="running"&&(b>0?(y.removeEventListener("statechange",d),p.stopImmediatePropagation(),this._waitForThePromiseToSettle(p)):b+=1)};return d})()),super(y,a),this._length=l,this._nativeOfflineAudioContext=y,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(r()):(this._state="running",i(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Vs(this)}))}_waitForThePromiseToSettle(s){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(s):setTimeout(()=>this._waitForThePromiseToSettle(s))}};var Xw=(n,r)=>(o,t,i)=>{let u=new Set;return o.connect=(s=>(l,a=0,c=0)=>{let y=u.size===0;if(r(l))return s.call(o,l,a,c),n(u,[l,a,c],b=>b[0]===l&&b[1]===a&&b[2]===c,!0),y&&t(),l;s.call(o,l,a),n(u,[l,a],b=>b[0]===l&&b[1]===a,!0),y&&t()})(o.connect),o.disconnect=(s=>(l,a,c)=>{let y=u.size>0;if(l===void 0)s.apply(o),u.clear();else if(typeof l=="number"){s.call(o,l);for(let d of u)d[1]===l&&u.delete(d)}else{r(l)?s.call(o,l,a,c):s.call(o,l,a);for(let d of u)d[0]===l&&(a===void 0||d[1]===a)&&(c===void 0||d[2]===c)&&u.delete(d)}let b=u.size===0;y&&b&&i()})(o.disconnect),o};var Gt=(n,r,o)=>{let t=r[o];t!==void 0&&t!==n[o]&&(n[o]=t)};var Ot=(n,r)=>{Gt(n,r,"channelCount"),Gt(n,r,"channelCountMode"),Gt(n,r,"channelInterpretation")};var dg=n=>typeof n.getFloatTimeDomainData=="function";var Zw=n=>{n.getFloatTimeDomainData=r=>{let o=new Uint8Array(r.length);n.getByteTimeDomainData(o);let t=Math.max(o.length,n.fftSize);for(let i=0;i<t;i+=1)r[i]=(o[i]-128)*.0078125;return r}};var Qw=(n,r)=>(o,t)=>{let i=o.createAnalyser();if(Ot(i,t),!(t.maxDecibels>t.minDecibels))throw r();return Gt(i,t,"fftSize"),Gt(i,t,"maxDecibels"),Gt(i,t,"minDecibels"),Gt(i,t,"smoothingTimeConstant"),n(dg,()=>dg(i))||Zw(i),i};var Kw=n=>n===null?null:n.hasOwnProperty("AudioBuffer")?n.AudioBuffer:null;var qt=(n,r,o)=>{let t=r[o];t!==void 0&&t!==n[o].value&&(n[o].value=t)};var Jw=n=>{n.start=(r=>{let o=!1;return(t=0,i=0,u)=>{if(o)throw ur();r.call(n,t,i,u),o=!0}})(n.start)};var Ra=n=>{n.start=(r=>(o=0,t=0,i)=>{if(typeof i=="number"&&i<0||t<0||o<0)throw new RangeError("The parameters can't be negative.");r.call(n,o,t,i)})(n.start)};var Pa=n=>{n.stop=(r=>(o=0)=>{if(o<0)throw new RangeError("The parameter can't be negative.");r.call(n,o)})(n.stop)};var eS=(n,r,o,t,i,u,s,l,a,c,y)=>(b,d)=>{let p=b.createBufferSource();return Ot(p,d),qt(p,d,"playbackRate"),Gt(p,d,"buffer"),Gt(p,d,"loop"),Gt(p,d,"loopEnd"),Gt(p,d,"loopStart"),r(o,()=>o(b))||Jw(p),r(t,()=>t(b))||a(p),r(i,()=>i(b))||c(p,b),r(u,()=>u(b))||Ra(p),r(s,()=>s(b))||y(p,b),r(l,()=>l(b))||Pa(p),n(b,p),p};var tS=n=>n===null?null:n.hasOwnProperty("AudioContext")?n.AudioContext:n.hasOwnProperty("webkitAudioContext")?n.webkitAudioContext:null;var rS=(n,r)=>(o,t,i)=>{let u=o.destination;if(u.channelCount!==t)try{u.channelCount=t}catch{}i&&u.channelCountMode!=="explicit"&&(u.channelCountMode="explicit"),u.maxChannelCount===0&&Object.defineProperty(u,"maxChannelCount",{value:t});let s=n(o,{channelCount:t,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:1});return r(s,"channelCount",l=>()=>l.call(s),l=>a=>{l.call(s,a);try{u.channelCount=a}catch(c){if(a>u.maxChannelCount)throw c}}),r(s,"channelCountMode",l=>()=>l.call(s),l=>a=>{l.call(s,a),u.channelCountMode=a}),r(s,"channelInterpretation",l=>()=>l.call(s),l=>a=>{l.call(s,a),u.channelInterpretation=a}),Object.defineProperty(s,"maxChannelCount",{get:()=>u.maxChannelCount}),s.connect(u),s};var nS=n=>n===null?null:n.hasOwnProperty("AudioWorkletNode")?n.AudioWorkletNode:null;var oS=n=>{let{port1:r}=new MessageChannel;try{r.postMessage(n)}finally{r.close()}};var sS=(n,r,o,t,i)=>(u,s,l,a,c,y)=>{if(l!==null)try{let b=new l(u,a,y),d=new Map,p=null;if(Object.defineProperties(b,{channelCount:{get:()=>y.channelCount,set:()=>{throw n()}},channelCountMode:{get:()=>"explicit",set:()=>{throw n()}},onprocessorerror:{get:()=>p,set:h=>{typeof p=="function"&&b.removeEventListener("processorerror",p),p=typeof h=="function"?h:null,typeof p=="function"&&b.addEventListener("processorerror",p)}}}),b.addEventListener=(h=>(...g)=>{if(g[0]==="processorerror"){let m=typeof g[1]=="function"?g[1]:typeof g[1]=="object"&&g[1]!==null&&typeof g[1].handleEvent=="function"?g[1].handleEvent:null;if(m!==null){let f=d.get(g[1]);f!==void 0?g[1]=f:(g[1]=v=>{v.type==="error"?(Object.defineProperties(v,{type:{value:"processorerror"}}),m(v)):m(new ErrorEvent(g[0],Se({},v)))},d.set(m,g[1]))}}return h.call(b,"error",g[1],g[2]),h.call(b,...g)})(b.addEventListener),b.removeEventListener=(h=>(...g)=>{if(g[0]==="processorerror"){let m=d.get(g[1]);m!==void 0&&(d.delete(g[1]),g[1]=m)}return h.call(b,"error",g[1],g[2]),h.call(b,g[0],g[1],g[2])})(b.removeEventListener),y.numberOfOutputs!==0){let h=o(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return b.connect(h).connect(u.destination),i(b,()=>h.disconnect(),()=>h.connect(u.destination))}return b}catch(b){throw b.code===11?t():b}if(c===void 0)throw t();return oS(y),r(u,s,c,y)};var nh=(n,r)=>n===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(n*r)))));var iS=n=>new Promise((r,o)=>{let{port1:t,port2:i}=new MessageChannel;t.onmessage=({data:u})=>{t.close(),i.close(),r(u)},t.onmessageerror=({data:u})=>{t.close(),i.close(),o(u)},i.postMessage(n)});var aS=(n,r)=>ct(void 0,null,function*(){let o=yield iS(r);return new n(o)});var lS=(n,r,o,t)=>{let i=Mu.get(n);i===void 0&&(i=new WeakMap,Mu.set(n,i));let u=aS(o,t);return i.set(r,u),u};var uS=(n,r,o,t,i,u,s,l,a,c,y,b,d)=>(p,h,g,m)=>{if(m.numberOfInputs===0&&m.numberOfOutputs===0)throw a();let f=Array.isArray(m.outputChannelCount)?m.outputChannelCount:Array.from(m.outputChannelCount);if(f.some(oe=>oe<1))throw a();if(f.length!==m.numberOfOutputs)throw r();if(m.channelCountMode!=="explicit")throw a();let v=m.channelCount*m.numberOfInputs,_=f.reduce((oe,fe)=>oe+fe,0),x=g.parameterDescriptors===void 0?0:g.parameterDescriptors.length;if(v+x>6||_>6)throw a();let S=new MessageChannel,j=[],T=[];for(let oe=0;oe<m.numberOfInputs;oe+=1)j.push(s(p,{channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,gain:1})),T.push(i(p,{channelCount:m.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:m.channelCount}));let C=[];if(g.parameterDescriptors!==void 0)for(let{defaultValue:oe,maxValue:fe,minValue:_e,name:pe}of g.parameterDescriptors){let ye=u(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:m.parameterData[pe]!==void 0?m.parameterData[pe]:oe===void 0?0:oe});Object.defineProperties(ye.offset,{defaultValue:{get:()=>oe===void 0?0:oe},maxValue:{get:()=>fe===void 0?fr:fe},minValue:{get:()=>_e===void 0?yr:_e}}),C.push(ye)}let M=t(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,v+x)}),k=nh(h,p.sampleRate),A=l(p,k,v+x,Math.max(1,_)),P=i(p,{channelCount:Math.max(1,_),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,_)}),O=[];for(let oe=0;oe<m.numberOfOutputs;oe+=1)O.push(t(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:f[oe]}));for(let oe=0;oe<m.numberOfInputs;oe+=1){j[oe].connect(T[oe]);for(let fe=0;fe<m.channelCount;fe+=1)T[oe].connect(M,fe,oe*m.channelCount+fe)}let V=new Ia(g.parameterDescriptors===void 0?[]:g.parameterDescriptors.map(({name:oe},fe)=>{let _e=C[fe];return _e.connect(M,0,v+fe),_e.start(0),[oe,_e.offset]}));M.connect(A);let F=m.channelInterpretation,R=null,z=m.numberOfOutputs===0?[A]:O,q={get bufferSize(){return k},get channelCount(){return m.channelCount},set channelCount(oe){throw o()},get channelCountMode(){return m.channelCountMode},set channelCountMode(oe){throw o()},get channelInterpretation(){return F},set channelInterpretation(oe){for(let fe of j)fe.channelInterpretation=oe;F=oe},get context(){return A.context},get inputs(){return j},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},get onprocessorerror(){return R},set onprocessorerror(oe){typeof R=="function"&&q.removeEventListener("processorerror",R),R=typeof oe=="function"?oe:null,typeof R=="function"&&q.addEventListener("processorerror",R)},get parameters(){return V},get port(){return S.port2},addEventListener(...oe){return A.addEventListener(oe[0],oe[1],oe[2])},connect:n.bind(null,z),disconnect:c.bind(null,z),dispatchEvent(...oe){return A.dispatchEvent(oe[0])},removeEventListener(...oe){return A.removeEventListener(oe[0],oe[1],oe[2])}},G=new Map;S.port1.addEventListener=(oe=>(...fe)=>{if(fe[0]==="message"){let _e=typeof fe[1]=="function"?fe[1]:typeof fe[1]=="object"&&fe[1]!==null&&typeof fe[1].handleEvent=="function"?fe[1].handleEvent:null;if(_e!==null){let pe=G.get(fe[1]);pe!==void 0?fe[1]=pe:(fe[1]=ye=>{y(p.currentTime,p.sampleRate,()=>_e(ye))},G.set(_e,fe[1]))}}return oe.call(S.port1,fe[0],fe[1],fe[2])})(S.port1.addEventListener),S.port1.removeEventListener=(oe=>(...fe)=>{if(fe[0]==="message"){let _e=G.get(fe[1]);_e!==void 0&&(G.delete(fe[1]),fe[1]=_e)}return oe.call(S.port1,fe[0],fe[1],fe[2])})(S.port1.removeEventListener);let W=null;Object.defineProperty(S.port1,"onmessage",{get:()=>W,set:oe=>{typeof W=="function"&&S.port1.removeEventListener("message",W),W=typeof oe=="function"?oe:null,typeof W=="function"&&(S.port1.addEventListener("message",W),S.port1.start())}}),g.prototype.port=S.port1;let Z=null;lS(p,q,g,m).then(oe=>Z=oe);let L=ka(m.numberOfInputs,m.channelCount),D=ka(m.numberOfOutputs,f),U=g.parameterDescriptors===void 0?[]:g.parameterDescriptors.reduce((oe,{name:fe})=>Ge(Se({},oe),{[fe]:new Float32Array(128)}),{}),H=!0,X=()=>{m.numberOfOutputs>0&&A.disconnect(P);for(let oe=0,fe=0;oe<m.numberOfOutputs;oe+=1){let _e=O[oe];for(let pe=0;pe<f[oe];pe+=1)P.disconnect(_e,fe+pe,pe);fe+=f[oe]}},J=new Map;A.onaudioprocess=({inputBuffer:oe,outputBuffer:fe})=>{if(Z!==null){let _e=b(q);for(let pe=0;pe<k;pe+=128){for(let ye=0;ye<m.numberOfInputs;ye+=1)for(let xe=0;xe<m.channelCount;xe+=1)Oa(oe,L[ye],xe,xe,pe);g.parameterDescriptors!==void 0&&g.parameterDescriptors.forEach(({name:ye},xe)=>{Oa(oe,U,ye,v+xe,pe)});for(let ye=0;ye<m.numberOfInputs;ye+=1)for(let xe=0;xe<f[ye];xe+=1)D[ye][xe].byteLength===0&&(D[ye][xe]=new Float32Array(128));try{let ye=L.map((Re,Te)=>{if(_e[Te].size>0)return J.set(Te,k/128),Re;let qe=J.get(Te);return qe===void 0?[]:(Re.every(Ye=>Ye.every(Ze=>Ze===0))&&(qe===1?J.delete(Te):J.set(Te,qe-1)),Re)});H=y(p.currentTime+pe/p.sampleRate,p.sampleRate,()=>Z.process(ye,D,U));for(let Re=0,Te=0;Re<m.numberOfOutputs;Re+=1){for(let We=0;We<f[Re];We+=1)eh(fe,D[Re],We,Te+We,pe);Te+=f[Re]}}catch(ye){H=!1,q.dispatchEvent(new ErrorEvent("processorerror",{colno:ye.colno,filename:ye.filename,lineno:ye.lineno,message:ye.message}))}if(!H){for(let ye=0;ye<m.numberOfInputs;ye+=1){j[ye].disconnect(T[ye]);for(let xe=0;xe<m.channelCount;xe+=1)T[pe].disconnect(M,xe,ye*m.channelCount+xe)}if(g.parameterDescriptors!==void 0){let ye=g.parameterDescriptors.length;for(let xe=0;xe<ye;xe+=1){let Re=C[xe];Re.disconnect(M,0,v+xe),Re.stop()}}M.disconnect(A),A.onaudioprocess=null,le?X():ce();break}}}};let le=!1,se=s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),ne=()=>A.connect(se).connect(p.destination),ce=()=>{A.disconnect(se),se.disconnect()},he=()=>{if(H){ce(),m.numberOfOutputs>0&&A.connect(P);for(let oe=0,fe=0;oe<m.numberOfOutputs;oe+=1){let _e=O[oe];for(let pe=0;pe<f[oe];pe+=1)P.connect(_e,fe+pe,pe);fe+=f[oe]}}le=!0},ee=()=>{H&&(ne(),X()),le=!1};return ne(),d(q,he,ee)};var hg=(n,r)=>{let o=n.createBiquadFilter();return Ot(o,r),qt(o,r,"Q"),qt(o,r,"detune"),qt(o,r,"frequency"),qt(o,r,"gain"),Gt(o,r,"type"),o};var cS=(n,r)=>(o,t)=>{let i=o.createChannelMerger(t.numberOfInputs);return n!==null&&n.name==="webkitAudioContext"&&r(o,i),Ot(i,t),i};var dS=n=>{let r=n.numberOfOutputs;Object.defineProperty(n,"channelCount",{get:()=>r,set:o=>{if(o!==r)throw ur()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:o=>{if(o!=="explicit")throw ur()}}),Object.defineProperty(n,"channelInterpretation",{get:()=>"discrete",set:o=>{if(o!=="discrete")throw ur()}})};var Fa=(n,r)=>{let o=n.createChannelSplitter(r.numberOfOutputs);return Ot(o,r),dS(o),o};var hS=(n,r,o,t,i)=>(u,s)=>{if(u.createConstantSource===void 0)return o(u,s);let l=u.createConstantSource();return Ot(l,s),qt(l,s,"offset"),r(t,()=>t(u))||Ra(l),r(i,()=>i(u))||Pa(l),n(u,l),l};var Zn=(n,r)=>(n.connect=r.connect.bind(r),n.disconnect=r.disconnect.bind(r),n);var fS=(n,r,o,t)=>(i,l)=>{var a=l,{offset:u}=a,s=vs(a,["offset"]);let c=i.createBuffer(1,2,44100),y=r(i,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),b=o(i,Ge(Se({},s),{gain:u})),d=c.getChannelData(0);d[0]=1,d[1]=1,y.buffer=c,y.loop=!0;let p={get bufferSize(){},get channelCount(){return b.channelCount},set channelCount(m){b.channelCount=m},get channelCountMode(){return b.channelCountMode},set channelCountMode(m){b.channelCountMode=m},get channelInterpretation(){return b.channelInterpretation},set channelInterpretation(m){b.channelInterpretation=m},get context(){return b.context},get inputs(){return[]},get numberOfInputs(){return y.numberOfInputs},get numberOfOutputs(){return b.numberOfOutputs},get offset(){return b.gain},get onended(){return y.onended},set onended(m){y.onended=m},addEventListener(...m){return y.addEventListener(m[0],m[1],m[2])},dispatchEvent(...m){return y.dispatchEvent(m[0])},removeEventListener(...m){return y.removeEventListener(m[0],m[1],m[2])},start(m=0){y.start.call(y,m)},stop(m=0){y.stop.call(y,m)}},h=()=>y.connect(b),g=()=>y.disconnect(b);return n(i,y),t(Zn(p,b),h,g)};var pS=(n,r)=>(o,t)=>{let i=o.createConvolver();if(Ot(i,t),t.disableNormalization===i.normalize&&(i.normalize=!t.disableNormalization),Gt(i,t,"buffer"),t.channelCount>2||(r(i,"channelCount",u=>()=>u.call(i),u=>s=>{if(s>2)throw n();return u.call(i,s)}),t.channelCountMode==="max"))throw n();return r(i,"channelCountMode",u=>()=>u.call(i),u=>s=>{if(s==="max")throw n();return u.call(i,s)}),i};var fg=(n,r)=>{let o=n.createDelay(r.maxDelayTime);return Ot(o,r),qt(o,r,"delayTime"),o};var mS=n=>(r,o)=>{let t=r.createDynamicsCompressor();if(Ot(t,o),o.channelCount>2||o.channelCountMode==="max")throw n();return qt(t,o,"attack"),qt(t,o,"knee"),qt(t,o,"ratio"),qt(t,o,"release"),qt(t,o,"threshold"),t};var gn=(n,r)=>{let o=n.createGain();return Ot(o,r),qt(o,r,"gain"),o};var gS=n=>(r,o,t)=>{if(r.createIIRFilter===void 0)return n(r,o,t);let i=r.createIIRFilter(t.feedforward,t.feedback);return Ot(i,t),i};function Fk(n,r){let o=r[0]*r[0]+r[1]*r[1];return[(n[0]*r[0]+n[1]*r[1])/o,(n[1]*r[0]-n[0]*r[1])/o]}function Lk(n,r){return[n[0]*r[0]-n[1]*r[1],n[0]*r[1]+n[1]*r[0]]}function yS(n,r){let o=[0,0];for(let t=n.length-1;t>=0;t-=1)o=Lk(o,r),o[0]+=n[t];return o}var vS=(n,r,o,t)=>(i,u,{channelCount:s,channelCountMode:l,channelInterpretation:a,feedback:c,feedforward:y})=>{let b=nh(u,i.sampleRate),d=c instanceof Float64Array?c:new Float64Array(c),p=y instanceof Float64Array?y:new Float64Array(y),h=d.length,g=p.length,m=Math.min(h,g);if(h===0||h>20)throw t();if(d[0]===0)throw r();if(g===0||g>20)throw t();if(p[0]===0)throw r();if(d[0]!==1){for(let C=0;C<g;C+=1)p[C]/=d[0];for(let C=1;C<h;C+=1)d[C]/=d[0]}let f=o(i,b,s,s);f.channelCount=s,f.channelCountMode=l,f.channelInterpretation=a;let v=32,_=[],x=[],S=[];for(let C=0;C<s;C+=1){_.push(0);let M=new Float32Array(v),k=new Float32Array(v);M.fill(0),k.fill(0),x.push(M),S.push(k)}f.onaudioprocess=C=>{let M=C.inputBuffer,k=C.outputBuffer,A=M.numberOfChannels;for(let P=0;P<A;P+=1){let O=M.getChannelData(P),V=k.getChannelData(P);_[P]=rh(d,h,p,g,m,x[P],S[P],_[P],v,O,V)}};let j=i.sampleRate/2;return Zn({get bufferSize(){return b},get channelCount(){return f.channelCount},set channelCount(C){f.channelCount=C},get channelCountMode(){return f.channelCountMode},set channelCountMode(C){f.channelCountMode=C},get channelInterpretation(){return f.channelInterpretation},set channelInterpretation(C){f.channelInterpretation=C},get context(){return f.context},get inputs(){return[f]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return f.numberOfOutputs},addEventListener(...C){return f.addEventListener(C[0],C[1],C[2])},dispatchEvent(...C){return f.dispatchEvent(C[0])},getFrequencyResponse(C,M,k){if(C.length!==M.length||M.length!==k.length)throw n();let A=C.length;for(let P=0;P<A;P+=1){let O=-Math.PI*(C[P]/j),V=[Math.cos(O),Math.sin(O)],F=yS(p,V),R=yS(d,V),z=Fk(F,R);M[P]=Math.sqrt(z[0]*z[0]+z[1]*z[1]),k[P]=Math.atan2(z[1],z[0])}},removeEventListener(...C){return f.removeEventListener(C[0],C[1],C[2])}},f)};var bS=(n,r)=>n.createMediaElementSource(r.mediaElement);var _S=(n,r)=>{let o=n.createMediaStreamDestination();return Ot(o,r),o.numberOfOutputs===1&&Object.defineProperty(o,"numberOfOutputs",{get:()=>0}),o};var xS=(n,{mediaStream:r})=>{let o=r.getAudioTracks();o.sort((u,s)=>u.id<s.id?-1:u.id>s.id?1:0);let t=o.slice(0,1),i=n.createMediaStreamSource(new MediaStream(t));return Object.defineProperty(i,"mediaStream",{value:r}),i};var wS=(n,r)=>(o,{mediaStreamTrack:t})=>{if(typeof o.createMediaStreamTrackSource=="function")return o.createMediaStreamTrackSource(t);let i=new MediaStream([t]),u=o.createMediaStreamSource(i);if(t.kind!=="audio")throw n();if(r(o))throw new TypeError;return u};var SS=n=>n===null?null:n.hasOwnProperty("OfflineAudioContext")?n.OfflineAudioContext:n.hasOwnProperty("webkitOfflineAudioContext")?n.webkitOfflineAudioContext:null;var CS=(n,r,o,t,i,u)=>(s,l)=>{let a=s.createOscillator();return Ot(a,l),qt(a,l,"detune"),qt(a,l,"frequency"),l.periodicWave!==void 0?a.setPeriodicWave(l.periodicWave):Gt(a,l,"type"),r(o,()=>o(s))||Ra(a),r(t,()=>t(s))||u(a,s),r(i,()=>i(s))||Pa(a),n(s,a),a};var ES=n=>(r,o)=>{let t=r.createPanner();return t.orientationX===void 0?n(r,o):(Ot(t,o),qt(t,o,"orientationX"),qt(t,o,"orientationY"),qt(t,o,"orientationZ"),qt(t,o,"positionX"),qt(t,o,"positionY"),qt(t,o,"positionZ"),Gt(t,o,"coneInnerAngle"),Gt(t,o,"coneOuterAngle"),Gt(t,o,"coneOuterGain"),Gt(t,o,"distanceModel"),Gt(t,o,"maxDistance"),Gt(t,o,"panningModel"),Gt(t,o,"refDistance"),Gt(t,o,"rolloffFactor"),t)};var TS=(n,r,o,t,i,u,s,l,a,c)=>(y,k)=>{var A=k,{coneInnerAngle:b,coneOuterAngle:d,coneOuterGain:p,distanceModel:h,maxDistance:g,orientationX:m,orientationY:f,orientationZ:v,panningModel:_,positionX:x,positionY:S,positionZ:j,refDistance:T,rolloffFactor:C}=A,M=vs(A,["coneInnerAngle","coneOuterAngle","coneOuterGain","distanceModel","maxDistance","orientationX","orientationY","orientationZ","panningModel","positionX","positionY","positionZ","refDistance","rolloffFactor"]);let P=y.createPanner();if(M.channelCount>2||M.channelCountMode==="max")throw s();Ot(P,M);let O={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},V=o(y,Ge(Se({},O),{channelInterpretation:"speakers",numberOfInputs:6})),F=t(y,Ge(Se({},M),{gain:1})),R=t(y,Ge(Se({},O),{gain:1})),z=t(y,Ge(Se({},O),{gain:0})),q=t(y,Ge(Se({},O),{gain:0})),G=t(y,Ge(Se({},O),{gain:0})),W=t(y,Ge(Se({},O),{gain:0})),Z=t(y,Ge(Se({},O),{gain:0})),ae=i(y,256,6,1),L=u(y,Ge(Se({},O),{curve:new Float32Array([1,1]),oversample:"none"})),D=[m,f,v],U=[x,S,j],H=new Float32Array(1);ae.onaudioprocess=({inputBuffer:se})=>{let ne=[a(se,H,0),a(se,H,1),a(se,H,2)];ne.some((he,ee)=>he!==D[ee])&&(P.setOrientation(...ne),D=ne);let ce=[a(se,H,3),a(se,H,4),a(se,H,5)];ce.some((he,ee)=>he!==U[ee])&&(P.setPosition(...ce),U=ce)},Object.defineProperty(z.gain,"defaultValue",{get:()=>0}),Object.defineProperty(q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(G.gain,"defaultValue",{get:()=>0}),Object.defineProperty(W.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Z.gain,"defaultValue",{get:()=>0});let X={get bufferSize(){},get channelCount(){return P.channelCount},set channelCount(se){if(se>2)throw s();F.channelCount=se,P.channelCount=se},get channelCountMode(){return P.channelCountMode},set channelCountMode(se){if(se==="max")throw s();F.channelCountMode=se,P.channelCountMode=se},get channelInterpretation(){return P.channelInterpretation},set channelInterpretation(se){F.channelInterpretation=se,P.channelInterpretation=se},get coneInnerAngle(){return P.coneInnerAngle},set coneInnerAngle(se){P.coneInnerAngle=se},get coneOuterAngle(){return P.coneOuterAngle},set coneOuterAngle(se){P.coneOuterAngle=se},get coneOuterGain(){return P.coneOuterGain},set coneOuterGain(se){if(se<0||se>1)throw r();P.coneOuterGain=se},get context(){return P.context},get distanceModel(){return P.distanceModel},set distanceModel(se){P.distanceModel=se},get inputs(){return[F]},get maxDistance(){return P.maxDistance},set maxDistance(se){if(se<0)throw new RangeError;P.maxDistance=se},get numberOfInputs(){return P.numberOfInputs},get numberOfOutputs(){return P.numberOfOutputs},get orientationX(){return R.gain},get orientationY(){return z.gain},get orientationZ(){return q.gain},get panningModel(){return P.panningModel},set panningModel(se){P.panningModel=se},get positionX(){return G.gain},get positionY(){return W.gain},get positionZ(){return Z.gain},get refDistance(){return P.refDistance},set refDistance(se){if(se<0)throw new RangeError;P.refDistance=se},get rolloffFactor(){return P.rolloffFactor},set rolloffFactor(se){if(se<0)throw new RangeError;P.rolloffFactor=se},addEventListener(...se){return F.addEventListener(se[0],se[1],se[2])},dispatchEvent(...se){return F.dispatchEvent(se[0])},removeEventListener(...se){return F.removeEventListener(se[0],se[1],se[2])}};b!==X.coneInnerAngle&&(X.coneInnerAngle=b),d!==X.coneOuterAngle&&(X.coneOuterAngle=d),p!==X.coneOuterGain&&(X.coneOuterGain=p),h!==X.distanceModel&&(X.distanceModel=h),g!==X.maxDistance&&(X.maxDistance=g),m!==X.orientationX.value&&(X.orientationX.value=m),f!==X.orientationY.value&&(X.orientationY.value=f),v!==X.orientationZ.value&&(X.orientationZ.value=v),_!==X.panningModel&&(X.panningModel=_),x!==X.positionX.value&&(X.positionX.value=x),S!==X.positionY.value&&(X.positionY.value=S),j!==X.positionZ.value&&(X.positionZ.value=j),T!==X.refDistance&&(X.refDistance=T),C!==X.rolloffFactor&&(X.rolloffFactor=C),(D[0]!==1||D[1]!==0||D[2]!==0)&&P.setOrientation(...D),(U[0]!==0||U[1]!==0||U[2]!==0)&&P.setPosition(...U);let J=()=>{F.connect(P),n(F,L,0,0),L.connect(R).connect(V,0,0),L.connect(z).connect(V,0,1),L.connect(q).connect(V,0,2),L.connect(G).connect(V,0,3),L.connect(W).connect(V,0,4),L.connect(Z).connect(V,0,5),V.connect(ae).connect(y.destination)},le=()=>{F.disconnect(P),l(F,L,0,0),L.disconnect(R),R.disconnect(V),L.disconnect(z),z.disconnect(V),L.disconnect(q),q.disconnect(V),L.disconnect(G),G.disconnect(V),L.disconnect(W),W.disconnect(V),L.disconnect(Z),Z.disconnect(V),V.disconnect(ae),ae.disconnect(y.destination)};return c(Zn(X,P),J,le)};var DS=n=>(r,{disableNormalization:o,imag:t,real:i})=>{let u=t instanceof Float32Array?t:new Float32Array(t),s=i instanceof Float32Array?i:new Float32Array(i),l=r.createPeriodicWave(s,u,{disableNormalization:o});if(Array.from(t).length<2)throw n();return l};var La=(n,r,o,t)=>n.createScriptProcessor(r,o,t);var MS=(n,r)=>(o,t)=>{let i=t.channelCountMode;if(i==="clamped-max")throw r();if(o.createStereoPanner===void 0)return n(o,t);let u=o.createStereoPanner();return Ot(u,t),qt(u,t,"pan"),Object.defineProperty(u,"channelCountMode",{get:()=>i,set:s=>{if(s!==i)throw r()}}),u};var jS=(n,r,o,t,i,u)=>{let l=new Float32Array([1,1]),a=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},y=Ge(Se({},c),{oversample:"none"}),b=(h,g,m,f)=>{let v=new Float32Array(16385),_=new Float32Array(16385);for(let M=0;M<16385;M+=1){let k=M/16384*a;v[M]=Math.cos(k),_[M]=Math.sin(k)}let x=o(h,Ge(Se({},c),{gain:0})),S=t(h,Ge(Se({},y),{curve:v})),j=t(h,Ge(Se({},y),{curve:l})),T=o(h,Ge(Se({},c),{gain:0})),C=t(h,Ge(Se({},y),{curve:_}));return{connectGraph(){g.connect(x),g.connect(j.inputs===void 0?j:j.inputs[0]),g.connect(T),j.connect(m),m.connect(S.inputs===void 0?S:S.inputs[0]),m.connect(C.inputs===void 0?C:C.inputs[0]),S.connect(x.gain),C.connect(T.gain),x.connect(f,0,0),T.connect(f,0,1)},disconnectGraph(){g.disconnect(x),g.disconnect(j.inputs===void 0?j:j.inputs[0]),g.disconnect(T),j.disconnect(m),m.disconnect(S.inputs===void 0?S:S.inputs[0]),m.disconnect(C.inputs===void 0?C:C.inputs[0]),S.disconnect(x.gain),C.disconnect(T.gain),x.disconnect(f,0,0),T.disconnect(f,0,1)}}},d=(h,g,m,f)=>{let v=new Float32Array(16385),_=new Float32Array(16385),x=new Float32Array(16385),S=new Float32Array(16385),j=Math.floor(16385/2);for(let z=0;z<16385;z+=1)if(z>j){let q=(z-j)/(16384-j)*a;v[z]=Math.cos(q),_[z]=Math.sin(q),x[z]=0,S[z]=1}else{let q=z/(16384-j)*a;v[z]=1,_[z]=0,x[z]=Math.cos(q),S[z]=Math.sin(q)}let T=r(h,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),C=o(h,Ge(Se({},c),{gain:0})),M=t(h,Ge(Se({},y),{curve:v})),k=o(h,Ge(Se({},c),{gain:0})),A=t(h,Ge(Se({},y),{curve:_})),P=t(h,Ge(Se({},y),{curve:l})),O=o(h,Ge(Se({},c),{gain:0})),V=t(h,Ge(Se({},y),{curve:x})),F=o(h,Ge(Se({},c),{gain:0})),R=t(h,Ge(Se({},y),{curve:S}));return{connectGraph(){g.connect(T),g.connect(P.inputs===void 0?P:P.inputs[0]),T.connect(C,0),T.connect(k,0),T.connect(O,1),T.connect(F,1),P.connect(m),m.connect(M.inputs===void 0?M:M.inputs[0]),m.connect(A.inputs===void 0?A:A.inputs[0]),m.connect(V.inputs===void 0?V:V.inputs[0]),m.connect(R.inputs===void 0?R:R.inputs[0]),M.connect(C.gain),A.connect(k.gain),V.connect(O.gain),R.connect(F.gain),C.connect(f,0,0),O.connect(f,0,0),k.connect(f,0,1),F.connect(f,0,1)},disconnectGraph(){g.disconnect(T),g.disconnect(P.inputs===void 0?P:P.inputs[0]),T.disconnect(C,0),T.disconnect(k,0),T.disconnect(O,1),T.disconnect(F,1),P.disconnect(m),m.disconnect(M.inputs===void 0?M:M.inputs[0]),m.disconnect(A.inputs===void 0?A:A.inputs[0]),m.disconnect(V.inputs===void 0?V:V.inputs[0]),m.disconnect(R.inputs===void 0?R:R.inputs[0]),M.disconnect(C.gain),A.disconnect(k.gain),V.disconnect(O.gain),R.disconnect(F.gain),C.disconnect(f,0,0),O.disconnect(f,0,0),k.disconnect(f,0,1),F.disconnect(f,0,1)}}},p=(h,g,m,f,v)=>{if(g===1)return b(h,m,f,v);if(g===2)return d(h,m,f,v);throw i()};return(h,_)=>{var x=_,{channelCount:g,channelCountMode:m,pan:f}=x,v=vs(x,["channelCount","channelCountMode","pan"]);if(m==="max")throw i();let S=n(h,Ge(Se({},v),{channelCount:1,channelCountMode:m,numberOfInputs:2})),j=o(h,Ge(Se({},v),{channelCount:g,channelCountMode:m,gain:1})),T=o(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:f}),{connectGraph:C,disconnectGraph:M}=p(h,g,j,T,S);Object.defineProperty(T.gain,"defaultValue",{get:()=>0}),Object.defineProperty(T.gain,"maxValue",{get:()=>1}),Object.defineProperty(T.gain,"minValue",{get:()=>-1});let k={get bufferSize(){},get channelCount(){return j.channelCount},set channelCount(V){j.channelCount!==V&&(A&&M(),{connectGraph:C,disconnectGraph:M}=p(h,V,j,T,S),A&&C()),j.channelCount=V},get channelCountMode(){return j.channelCountMode},set channelCountMode(V){if(V==="clamped-max"||V==="max")throw i();j.channelCountMode=V},get channelInterpretation(){return j.channelInterpretation},set channelInterpretation(V){j.channelInterpretation=V},get context(){return j.context},get inputs(){return[j]},get numberOfInputs(){return j.numberOfInputs},get numberOfOutputs(){return j.numberOfOutputs},get pan(){return T.gain},addEventListener(...V){return j.addEventListener(V[0],V[1],V[2])},dispatchEvent(...V){return j.dispatchEvent(V[0])},removeEventListener(...V){return j.removeEventListener(V[0],V[1],V[2])}},A=!1,P=()=>{C(),A=!0},O=()=>{M(),A=!1};return u(Zn(k,S),P,O)}};var AS=(n,r,o,t,i,u,s)=>(l,a)=>{let c=l.createWaveShaper();if(u!==null&&u.name==="webkitAudioContext"&&l.createGain().gain.automationRate===void 0)return o(l,a);Ot(c,a);let y=a.curve===null||a.curve instanceof Float32Array?a.curve:new Float32Array(a.curve);if(y!==null&&y.length<2)throw r();Gt(c,{curve:y},"curve"),Gt(c,a,"oversample");let b=null,d=!1;return s(c,"curve",g=>()=>g.call(c),g=>m=>(g.call(c,m),d&&(t(m)&&b===null?b=n(l,c):!t(m)&&b!==null&&(b(),b=null)),m)),i(c,()=>{d=!0,t(c.curve)&&(b=n(l,c))},()=>{d=!1,b!==null&&(b(),b=null)})};var IS=(n,r,o,t,i)=>(u,c)=>{var y=c,{curve:s,oversample:l}=y,a=vs(y,["curve","oversample"]);let b=u.createWaveShaper(),d=u.createWaveShaper();Ot(b,a),Ot(d,a);let p=o(u,Ge(Se({},a),{gain:1})),h=o(u,Ge(Se({},a),{gain:-1})),g=o(u,Ge(Se({},a),{gain:1})),m=o(u,Ge(Se({},a),{gain:-1})),f=null,v=!1,_=null,x={get bufferSize(){},get channelCount(){return b.channelCount},set channelCount(T){p.channelCount=T,h.channelCount=T,b.channelCount=T,g.channelCount=T,d.channelCount=T,m.channelCount=T},get channelCountMode(){return b.channelCountMode},set channelCountMode(T){p.channelCountMode=T,h.channelCountMode=T,b.channelCountMode=T,g.channelCountMode=T,d.channelCountMode=T,m.channelCountMode=T},get channelInterpretation(){return b.channelInterpretation},set channelInterpretation(T){p.channelInterpretation=T,h.channelInterpretation=T,b.channelInterpretation=T,g.channelInterpretation=T,d.channelInterpretation=T,m.channelInterpretation=T},get context(){return b.context},get curve(){return _},set curve(T){if(T!==null&&T.length<2)throw r();if(T===null)b.curve=T,d.curve=T;else{let C=T.length,M=new Float32Array(C+2-C%2),k=new Float32Array(C+2-C%2);M[0]=T[0],k[0]=-T[C-1];let A=Math.ceil((C+1)/2),P=(C+1)/2-1;for(let O=1;O<A;O+=1){let V=O/A*P,F=Math.floor(V),R=Math.ceil(V);M[O]=F===R?T[F]:(1-(V-F))*T[F]+(1-(R-V))*T[R],k[O]=F===R?-T[C-1-F]:-((1-(V-F))*T[C-1-F])-(1-(R-V))*T[C-1-R]}M[A]=C%2===1?T[A-1]:(T[A-2]+T[A-1])/2,b.curve=M,d.curve=k}_=T,v&&(t(_)&&f===null?f=n(u,p):f!==null&&(f(),f=null))},get inputs(){return[p]},get numberOfInputs(){return b.numberOfInputs},get numberOfOutputs(){return b.numberOfOutputs},get oversample(){return b.oversample},set oversample(T){b.oversample=T,d.oversample=T},addEventListener(...T){return p.addEventListener(T[0],T[1],T[2])},dispatchEvent(...T){return p.dispatchEvent(T[0])},removeEventListener(...T){return p.removeEventListener(T[0],T[1],T[2])}};s!==null&&(x.curve=s instanceof Float32Array?s:new Float32Array(s)),l!==x.oversample&&(x.oversample=l);let S=()=>{p.connect(b).connect(g),p.connect(h).connect(d).connect(m).connect(g),v=!0,t(_)&&(f=n(u,p))},j=()=>{p.disconnect(b),b.disconnect(g),p.disconnect(h),h.disconnect(d),d.disconnect(m),m.disconnect(g),v=!1,f!==null&&(f(),f=null)};return i(Zn(x,g),S,j)};var Jr=()=>new DOMException("","NotSupportedError");var Vk={numberOfChannels:1},OS=(n,r,o,t,i)=>class extends n{constructor(s,l,a){let c;if(typeof s=="number"&&l!==void 0&&a!==void 0)c={length:l,numberOfChannels:s,sampleRate:a};else if(typeof s=="object")c=s;else throw new Error("The given parameters are not valid.");let{length:y,numberOfChannels:b,sampleRate:d}=Se(Se({},Vk),c),p=t(b,y,d);r(go,()=>go(p))||p.addEventListener("statechange",(()=>{let h=0,g=m=>{this._state==="running"&&(h>0?(p.removeEventListener("statechange",g),m.stopImmediatePropagation(),this._waitForThePromiseToSettle(m)):h+=1)};return g})()),super(p,b),this._length=y,this._nativeOfflineAudioContext=p,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(o()):(this._state="running",i(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Vs(this)}))}_waitForThePromiseToSettle(s){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(s):setTimeout(()=>this._waitForThePromiseToSettle(s))}};var Uk={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},kS=(n,r,o,t,i,u,s)=>class extends n{constructor(a,c){let y=i(a),b=Se(Se({},Uk),c),d=o(y,b),p=u(y),h=p?t():null,g=a.sampleRate/2;super(a,!1,d,h),this._detune=r(this,p,d.detune,153600,-153600),this._frequency=r(this,p,d.frequency,g,-g),this._nativeOscillatorNode=d,this._onended=null,this._oscillatorNodeRenderer=h,this._oscillatorNodeRenderer!==null&&b.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=b.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(a){let c=typeof a=="function"?s(this,a):null;this._nativeOscillatorNode.onended=c;let y=this._nativeOscillatorNode.onended;this._onended=y!==null&&y===c?a:y}get type(){return this._nativeOscillatorNode.type}set type(a){this._nativeOscillatorNode.type=a,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(a){this._nativeOscillatorNode.setPeriodicWave(a),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=a)}start(a=0){if(this._nativeOscillatorNode.start(a),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=a),this.context.state!=="closed"){po(this);let c=()=>{this._nativeOscillatorNode.removeEventListener("ended",c),mn(this)&&Lo(this)};this._nativeOscillatorNode.addEventListener("ended",c)}}stop(a=0){this._nativeOscillatorNode.stop(a),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=a)}};var NS=(n,r,o,t,i)=>()=>{let u=new WeakMap,s=null,l=null,a=null,c=(y,b)=>ct(void 0,null,function*(){let d=o(y),p=Bt(d,b);if(!p){let h={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,periodicWave:s===null?void 0:s,type:d.type};d=r(b,h),l!==null&&d.start(l),a!==null&&d.stop(a)}return u.set(b,d),p?(yield n(b,y.detune,d.detune),yield n(b,y.frequency,d.frequency)):(yield t(b,y.detune,d.detune),yield t(b,y.frequency,d.frequency)),yield i(y,b,d),d});return{set periodicWave(y){s=y},set start(y){l=y},set stop(y){a=y},render(y,b){let d=u.get(b);return d!==void 0?Promise.resolve(d):c(y,b)}}};var Bk={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},RS=(n,r,o,t,i,u,s)=>class extends n{constructor(a,c){let y=i(a),b=Se(Se({},Bk),c),d=o(y,b),p=u(y),h=p?t():null;super(a,!1,d,h),this._nativePannerNode=d,this._orientationX=r(this,p,d.orientationX,fr,yr),this._orientationY=r(this,p,d.orientationY,fr,yr),this._orientationZ=r(this,p,d.orientationZ,fr,yr),this._positionX=r(this,p,d.positionX,fr,yr),this._positionY=r(this,p,d.positionY,fr,yr),this._positionZ=r(this,p,d.positionZ,fr,yr),s(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(a){this._nativePannerNode.coneInnerAngle=a}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(a){this._nativePannerNode.coneOuterAngle=a}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(a){this._nativePannerNode.coneOuterGain=a}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(a){this._nativePannerNode.distanceModel=a}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(a){this._nativePannerNode.maxDistance=a}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(a){this._nativePannerNode.panningModel=a}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(a){this._nativePannerNode.refDistance=a}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(a){this._nativePannerNode.rolloffFactor=a}};var PS=(n,r,o,t,i,u,s,l,a,c)=>()=>{let y=new WeakMap,b=null,d=(p,h)=>ct(void 0,null,function*(){let g=null,m=u(p),f={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation},v=Ge(Se({},f),{coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,panningModel:m.panningModel,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor}),_=Bt(m,h);if("bufferSize"in m)g=t(h,Ge(Se({},f),{gain:1}));else if(!_){let x=Ge(Se({},v),{orientationX:m.orientationX.value,orientationY:m.orientationY.value,orientationZ:m.orientationZ.value,positionX:m.positionX.value,positionY:m.positionY.value,positionZ:m.positionZ.value});m=i(h,x)}if(y.set(h,g===null?m:g),g!==null){if(b===null){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");let A=new s(6,p.context.length,h.sampleRate),P=r(A,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});P.connect(A.destination),b=ct(void 0,null,function*(){let O=yield Promise.all([p.orientationX,p.orientationY,p.orientationZ,p.positionX,p.positionY,p.positionZ].map((V,F)=>ct(void 0,null,function*(){let R=o(A,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:F===0?1:0});return yield l(A,V,R.offset),R})));for(let V=0;V<6;V+=1)O[V].connect(P,0,V),O[V].start(0);return c(A)})}let x=yield b,S=t(h,Ge(Se({},f),{gain:1}));yield a(p,h,S);let j=[];for(let A=0;A<x.numberOfChannels;A+=1)j.push(x.getChannelData(A));let T=[j[0][0],j[1][0],j[2][0]],C=[j[3][0],j[4][0],j[5][0]],M=t(h,Ge(Se({},f),{gain:1})),k=i(h,Ge(Se({},v),{orientationX:T[0],orientationY:T[1],orientationZ:T[2],positionX:C[0],positionY:C[1],positionZ:C[2]}));S.connect(M).connect(k.inputs[0]),k.connect(g);for(let A=128;A<x.length;A+=128){let P=[j[0][A],j[1][A],j[2][A]],O=[j[3][A],j[4][A],j[5][A]];if(P.some((V,F)=>V!==T[F])||O.some((V,F)=>V!==C[F])){T=P,C=O;let V=A/h.sampleRate;M.gain.setValueAtTime(0,V),M=t(h,Ge(Se({},f),{gain:0})),k=i(h,Ge(Se({},v),{orientationX:T[0],orientationY:T[1],orientationZ:T[2],positionX:C[0],positionY:C[1],positionZ:C[2]})),M.gain.setValueAtTime(1,V),S.connect(M).connect(k.inputs[0]),k.connect(g)}}return g}return _?(yield n(h,p.orientationX,m.orientationX),yield n(h,p.orientationY,m.orientationY),yield n(h,p.orientationZ,m.orientationZ),yield n(h,p.positionX,m.positionX),yield n(h,p.positionY,m.positionY),yield n(h,p.positionZ,m.positionZ)):(yield l(h,p.orientationX,m.orientationX),yield l(h,p.orientationY,m.orientationY),yield l(h,p.orientationZ,m.orientationZ),yield l(h,p.positionX,m.positionX),yield l(h,p.positionY,m.positionY),yield l(h,p.positionZ,m.positionZ)),Xn(m)?yield a(p,h,m.inputs[0]):yield a(p,h,m),m});return{render(p,h){let g=y.get(h);return g!==void 0?Promise.resolve(g):d(p,h)}}};var Gk={disableNormalization:!1},FS=(n,r,o,t)=>class LS{constructor(u,s){let l=r(u),a=t(Se(Se({},Gk),s)),c=n(l,a);return o.add(c),c}static[Symbol.hasInstance](u){return u!==null&&typeof u=="object"&&Object.getPrototypeOf(u)===LS.prototype||o.has(u)}};var VS=(n,r)=>(o,t,i)=>(n(t).replay(i),r(t,o,i));var US=(n,r,o)=>(t,i,u)=>ct(void 0,null,function*(){let s=n(t);yield Promise.all(s.activeInputs.map((l,a)=>Array.from(l).map(b=>ct(void 0,[b],function*([c,y]){let p=yield r(c).render(c,i),h=t.context.destination;!o(c)&&(t!==h||!o(t))&&p.connect(u,y,a)}))).reduce((l,a)=>[...l,...a],[]))});var BS=(n,r,o)=>(t,i,u)=>ct(void 0,null,function*(){let s=r(t);yield Promise.all(Array.from(s.activeInputs).map(c=>ct(void 0,[c],function*([l,a]){let b=yield n(l).render(l,i);o(l)||b.connect(u,a)})))});var GS=(n,r,o,t)=>i=>n(go,()=>go(i))?Promise.resolve(n(t,t)).then(u=>{if(!u){let s=o(i,512,0,1);i.oncomplete=()=>{s.onaudioprocess=null,s.disconnect()},s.onaudioprocess=()=>i.currentTime,s.connect(i.destination)}return i.startRendering()}):new Promise(u=>{let s=r(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.oncomplete=l=>{s.disconnect(),u(l.renderedBuffer)},s.connect(i.destination),i.startRendering()});var zS=n=>(r,o)=>{n.set(r,o)};var HS=n=>(r,o)=>n.set(r,o);var qS=(n,r,o,t,i,u,s,l)=>(a,c)=>o(a).render(a,c).then(()=>Promise.all(Array.from(t(c)).map(y=>o(y).render(y,c)))).then(()=>i(c)).then(y=>(typeof y.copyFromChannel!="function"?(s(y),Da(y)):r(u,()=>u(y))||l(y),n.add(y),y));var zk={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},WS=(n,r,o,t,i,u)=>class extends n{constructor(l,a){let c=i(l),y=Se(Se({},zk),a),b=o(c,y),d=u(c),p=d?t():null;super(l,!1,b,p),this._pan=r(this,d,b.pan)}get pan(){return this._pan}};var $S=(n,r,o,t,i)=>()=>{let u=new WeakMap,s=(l,a)=>ct(void 0,null,function*(){let c=o(l),y=Bt(c,a);if(!y){let b={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,pan:c.pan.value};c=r(a,b)}return u.set(a,c),y?yield n(a,l.pan,c.pan):yield t(a,l.pan,c.pan),Xn(c)?yield i(l,a,c.inputs[0]):yield i(l,a,c),c});return{render(l,a){let c=u.get(a);return c!==void 0?Promise.resolve(c):s(l,a)}}};var YS=n=>()=>{if(n===null)return!1;try{new n({length:1,sampleRate:44100})}catch{return!1}return!0};var XS=(n,r)=>()=>ct(void 0,null,function*(){if(n===null)return!0;if(r===null)return!1;let o=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),t=new r(1,128,44100),i=URL.createObjectURL(o),u=!1,s=!1;try{yield t.audioWorklet.addModule(i);let l=new n(t,"a",{numberOfOutputs:0}),a=t.createOscillator();l.port.onmessage=()=>u=!0,l.onprocessorerror=()=>s=!0,a.connect(l),a.start(0),yield t.startRendering(),yield new Promise(c=>setTimeout(c))}catch{}finally{URL.revokeObjectURL(i)}return u&&!s});var ZS=(n,r)=>()=>{if(r===null)return Promise.resolve(!1);let o=new r(1,1,44100),t=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(i=>{o.oncomplete=()=>{t.disconnect(),i(o.currentTime!==0)},o.startRendering()})};var pg=()=>new DOMException("","UnknownError");var Hk={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},QS=(n,r,o,t,i,u,s)=>class extends n{constructor(a,c){let y=i(a),b=Se(Se({},Hk),c),d=o(y,b),h=u(y)?t():null;super(a,!0,d,h),this._isCurveNullified=!1,this._nativeWaveShaperNode=d,s(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(a){if(a===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(a.length<2)throw r();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=a}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(a){this._nativeWaveShaperNode.oversample=a}};var KS=(n,r,o)=>()=>{let t=new WeakMap,i=(u,s)=>ct(void 0,null,function*(){let l=r(u);if(!Bt(l,s)){let c={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,curve:l.curve,oversample:l.oversample};l=n(s,c)}return t.set(s,l),Xn(l)?yield o(u,s,l.inputs[0]):yield o(u,s,l),l});return{render(u,s){let l=t.get(s);return l!==void 0?Promise.resolve(l):i(u,s)}}};var JS=()=>typeof window>"u"?null:window;var eC=(n,r)=>o=>{o.copyFromChannel=(t,i,u=0)=>{let s=n(u),l=n(i);if(l>=o.numberOfChannels)throw r();let a=o.length,c=o.getChannelData(l),y=t.length;for(let b=s<0?-s:0;b+s<a&&b<y;b+=1)t[b]=c[b+s]},o.copyToChannel=(t,i,u=0)=>{let s=n(u),l=n(i);if(l>=o.numberOfChannels)throw r();let a=o.length,c=o.getChannelData(l),y=t.length;for(let b=s<0?-s:0;b+s<a&&b<y;b+=1)c[b+s]=t[b]}};var tC=n=>r=>{r.copyFromChannel=(o=>(t,i,u=0)=>{let s=n(u),l=n(i);if(s<r.length)return o.call(r,t,l,s)})(r.copyFromChannel),r.copyToChannel=(o=>(t,i,u=0)=>{let s=n(u),l=n(i);if(s<r.length)return o.call(r,t,l,s)})(r.copyToChannel)};var rC=n=>(r,o)=>{let t=o.createBuffer(1,1,44100);r.buffer===null&&(r.buffer=t),n(r,"buffer",i=>()=>{let u=i.call(r);return u===t?null:u},i=>u=>i.call(r,u===null?t:u))};var nC=(n,r)=>(o,t)=>{t.channelCount=1,t.channelCountMode="explicit",Object.defineProperty(t,"channelCount",{get:()=>1,set:()=>{throw n()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:()=>{throw n()}});let i=o.createBufferSource();r(t,()=>{let l=t.numberOfInputs;for(let a=0;a<l;a+=1)i.connect(t,0,a)},()=>i.disconnect(t))};var mg=(n,r,o)=>n.copyFromChannel===void 0?n.getChannelData(o)[0]:(n.copyFromChannel(r,o),r[0]);var gg=n=>{if(n===null)return!1;let r=n.length;return r%2!==0?n[Math.floor(r/2)]!==0:n[r/2-1]+n[r/2]!==0};var Va=(n,r,o,t)=>{let i=n;for(;!i.hasOwnProperty(r);)i=Object.getPrototypeOf(i);let{get:u,set:s}=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(n,r,{get:o(u),set:t(s)})};var oC=n=>Ge(Se({},n),{outputChannelCount:n.outputChannelCount!==void 0?n.outputChannelCount:n.numberOfInputs===1&&n.numberOfOutputs===1?[n.channelCount]:Array.from({length:n.numberOfOutputs},()=>1)});var sC=n=>Ge(Se({},n),{channelCount:n.numberOfOutputs});var iC=n=>{let{imag:r,real:o}=n;return r===void 0?o===void 0?Ge(Se({},n),{imag:[0,0],real:[0,0]}):Ge(Se({},n),{imag:Array.from(o,()=>0),real:o}):o===void 0?Ge(Se({},n),{imag:r,real:Array.from(r,()=>0)}):Ge(Se({},n),{imag:r,real:o})};var yg=(n,r,o)=>{try{n.setValueAtTime(r,o)}catch(t){if(t.code!==9)throw t;yg(n,r,o+1e-7)}};var aC=n=>{let r=n.createBufferSource();r.start();try{r.start()}catch{return!0}return!1};var lC=n=>{let r=n.createBufferSource(),o=n.createBuffer(1,1,44100);r.buffer=o;try{r.start(0,1)}catch{return!1}return!0};var uC=n=>{let r=n.createBufferSource();r.start();try{r.stop()}catch{return!1}return!0};var oh=n=>{let r=n.createOscillator();try{r.start(-1)}catch(o){return o instanceof RangeError}return!1};var vg=n=>{let r=n.createBuffer(1,1,44100),o=n.createBufferSource();o.buffer=r,o.start(),o.stop();try{return o.stop(),!0}catch{return!1}};var sh=n=>{let r=n.createOscillator();try{r.stop(-1)}catch(o){return o instanceof RangeError}return!1};var cC=n=>{let{port1:r,port2:o}=new MessageChannel;try{r.postMessage(n)}finally{r.close(),o.close()}};var dC=n=>{n.start=(r=>(o=0,t=0,i)=>{let u=n.buffer,s=u===null?t:Math.min(u.duration,t);u!==null&&s>u.duration-.5/n.context.sampleRate?r.call(n,o,0,0):r.call(n,o,s,i)})(n.start)};var bg=(n,r)=>{let o=r.createGain();n.connect(o);let t=(i=>()=>{i.call(n,o),n.removeEventListener("ended",t)})(n.disconnect);n.addEventListener("ended",t),Zn(n,o),n.stop=(i=>{let u=!1;return(s=0)=>{if(u)try{i.call(n,s)}catch{o.gain.setValueAtTime(0,s)}else i.call(n,s),u=!0}})(n.stop)};var yi=(n,r)=>o=>{let t={value:n};return Object.defineProperties(o,{currentTarget:t,target:t}),typeof r=="function"?r.call(n,o):r.handleEvent.call(n,o)};var qk=e1(mo),Wk=c1(mo),$k=iw(Fs),fC=new WeakMap,Yk=ww(fC),Qn=B1(new Map,new WeakMap),Vo=JS(),pC=Qw(Qn,Yn),_g=xw(Lr),en=US(Lr,_g,ds),Xk=p1(pC,Qt,en),or=Ew(Ea),hs=SS(Vo),Kt=Uw(hs),mC=new WeakMap,gC=mw(yi),Ua=tS(Vo),xg=Pw(Ua),wg=Fw(Vo),yC=Lw(Vo),Au=nS(Vo),vr=I1(t1(Wd),u1(qk,Wk,Ma,$k,ja,Lr,Yk,Fo,Qt,mo,mn,ds,Aa),Qn,Iw(Tu,ja,Lr,Qt,mi,mn),Yn,Na,Jr,nw(Ma,Tu,Lr,Qt,mi,or,mn,Kt),uw(mC,Lr,Mr),gC,or,xg,wg,yC,Kt,Au),Zk=f1(vr,Xk,Yn,pC,or,Kt);var Sg=new WeakSet,hC=Kw(Vo),vC=Q1(new Uint32Array(1)),Cg=eC(vC,Yn),Eg=tC(vC),Tg=m1(Sg,Qn,Jr,hC,hs,YS(hC),Cg,Eg);var ih=d1(gn),bC=BS(_g,Ls,ds),Uo=W1(bC),Ba=eS(ih,Qn,aC,lC,uC,oh,vg,sh,dC,rC(Va),bg),Bo=VS(Sw(Ls),bC),Qk=v1(Uo,Ba,Qt,Bo,en),yo=k1(r1($d),mC,Eu,N1,Sn.createCancelAndHoldAutomationEvent,Sn.createCancelScheduledValuesAutomationEvent,Sn.createExponentialRampToValueAutomationEvent,Sn.createLinearRampToValueAutomationEvent,Sn.createSetTargetAutomationEvent,Sn.createSetValueAutomationEvent,Sn.createSetValueCurveAutomationEvent,Ua,yg),Kk=y1(vr,Qk,yo,ur,Ba,or,Kt,yi);var Jk=T1(vr,D1,Yn,ur,rS(gn,Va),or,Kt,en),eN=U1(Uo,hg,Qt,Bo,en),vi=HS(fC),tN=V1(vr,yo,eN,Na,hg,or,Kt,vi),Bs=Xw(mo,wg),rN=nC(ur,Bs),Gs=cS(Ua,rN),nN=z1(Gs,Qt,en),oN=G1(vr,nN,Gs,or,Kt),sN=q1(Fa,Qt,en),iN=H1(vr,sN,Fa,or,Kt,sC),aN=fS(ih,Ba,gn,Bs),Ga=hS(ih,Qn,aN,oh,sh),lN=Z1(Uo,Ga,Qt,Bo,en),uN=X1(vr,yo,lN,Ga,or,Kt,yi),_C=pS(Jr,Va),cN=J1(_C,Qt,en),dN=K1(vr,cN,_C,or,Kt,vi),hN=sw(Uo,fg,Qt,Bo,en),fN=ow(vr,yo,hN,fg,or,Kt,vi),xC=mS(Jr),pN=hw(Uo,xC,Qt,Bo,en),mN=dw(vr,yo,pN,xC,Jr,or,Kt,vi),gN=bw(Uo,gn,Qt,Bo,en),yN=vw(vr,yo,gN,gn,or,Kt),vN=vS(Na,ur,La,Jr),ah=GS(Qn,gn,La,ZS(gn,hs)),bN=Aw(Ba,Qt,hs,en,ah),_N=gS(vN),xN=jw(vr,_N,bN,or,Kt,vi),wN=M1(yo,Gs,Ga,La,Jr,mg,Kt,Va),wC=new WeakMap,Dg=$w(Jk,wN,gC,Kt,wC,yi),SC=CS(ih,Qn,oh,vg,sh,bg),SN=NS(Uo,SC,Qt,Bo,en),CN=kS(vr,yo,SC,SN,or,Kt,yi),CC=Y1(Ba),EN=IS(CC,ur,gn,gg,Bs),lh=AS(CC,ur,EN,gg,Bs,Ua,Va),TN=TS(Ma,ur,Gs,gn,La,lh,Jr,ja,mg,Bs),EC=ES(TN),DN=PS(Uo,Gs,Ga,gn,EC,Qt,hs,Bo,en,ah),MN=RS(vr,yo,EC,DN,or,Kt,vi),jN=DS(Yn),AN=FS(jN,or,new WeakSet,iC),IN=jS(Gs,Fa,gn,lh,Jr,Bs),TC=MS(IN,Jr),ON=$S(Uo,TC,Qt,Bo,en),kN=WS(vr,yo,TC,ON,or,Kt),NN=KS(lh,Qt,en),RN=QS(vr,ur,lh,NN,or,Kt,vi),DC=Bw(Vo),Mg=gw(Vo),MC=new WeakMap,PN=Tw(MC,hs),FN=DC?l1(Qn,Jr,pw(Vo),Mg,yw(Jx),or,PN,Kt,Au,new WeakMap,new WeakMap,XS(Au,hs),Vo):void 0,LN=Vw(xg,Kt),VN=rw(Sg,Qn,tw,fw,new WeakSet,or,LN,Ta,go,Cg,Eg),jC=L1(FN,Zk,Tg,Kk,tN,oN,iN,uN,dN,VN,fN,mN,yN,xN,Dg,CN,MN,AN,kN,RN),UN=Gw(vr,bS,or,Kt),BN=zw(vr,_S,or,Kt),GN=Hw(vr,xS,or,Kt),zN=wS(ur,Kt),HN=qw(vr,zN,or),AC=E1(jC,ur,Jr,pg,UN,BN,GN,HN,Ua);var jg=Dw(wC),qN=h1(jg),IC=$1(Yn),WN=aw(jg),OC=cw(Yn),kC=new WeakMap,$N=_w(kC,Mr),YN=uS(IC,Yn,ur,Gs,Fa,Ga,gn,La,Jr,OC,Mg,$N,Bs),XN=sS(ur,YN,gn,Jr,Bs),ZN=F1(Uo,IC,Ba,Gs,Fa,Ga,gn,WN,OC,Mg,Qt,Au,hs,Bo,en,ah),QN=Cw(MC),KN=zS(kC),Ag=DC?R1(qN,vr,yo,ZN,XN,Lr,QN,or,Kt,Au,oC,KN,cC,yi):void 0;var jse=Ww(ur,Jr,pg,Dg,Ua);var NC=ew(Jr,hs),RC=qS(Sg,Qn,_g,jg,ah,Ta,Cg,Eg),Ase=Yw(Qn,ur,NC,Dg,RC);var PC=OS(jC,Qn,ur,NC,RC);var FC=Ow(Ea,xg),LC=kw(Ca,wg),VC=Nw(Eu,yC),UC=Rw(Ea,Kt);function br(n){return n===void 0}function ft(n){return n!==void 0}function BC(n){return typeof n=="function"}function yn(n){return typeof n=="number"}function vo(n){return Object.prototype.toString.call(n)==="[object Object]"&&n.constructor===Object}function Ig(n){return typeof n=="boolean"}function _r(n){return Array.isArray(n)}function un(n){return typeof n=="string"}function Iu(n){return un(n)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(n)}function nt(n,r){if(!n)throw new Error(r)}function jr(n,r,o=1/0){if(!(r<=n&&n<=o))throw new RangeError(`Value must be within [${r}, ${o}], got: ${n}`)}function uh(n){!n.isOffline&&n.state!=="running"&&za('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}var zC=!1,GC=!1;function Og(n){zC=n}function HC(n){br(n)&&zC&&!GC&&(GC=!0,za("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}var qC=console;function WC(...n){qC.log(...n)}function za(...n){qC.warn(...n)}function $C(n){return new AC(n)}function YC(n,r,o){return new PC(n,r,o)}var cn=typeof self=="object"?self:null,XC=cn&&(cn.hasOwnProperty("AudioContext")||cn.hasOwnProperty("webkitAudioContext"));function ZC(n,r,o){return nt(ft(Ag),"AudioWorkletNode only works in a secure context (https or localhost)"),new(n instanceof cn?.BaseAudioContext?cn?.AudioWorkletNode:Ag)(n,r,o)}var ch=class{constructor(r,o,t,i){this._callback=r,this._type=o,this._minimumUpdateInterval=Math.max(128/(i||44100),.001),this.updateInterval=t,this._createClock()}_createWorker(){let r=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),o=URL.createObjectURL(r),t=new Worker(o);t.onmessage=this._callback.bind(this),this._worker=t}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(r){var o;this._updateInterval=Math.max(r,this._minimumUpdateInterval),this._type==="worker"&&((o=this._worker)===null||o===void 0||o.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(r){this._disposeClock(),this._type=r,this._createClock()}dispose(){this._disposeClock()}};function bo(n){return VC(n)}function Go(n){return LC(n)}function Ha(n){return UC(n)}function zs(n){return FC(n)}function QC(n){return n instanceof Tg}function tR(n,r){return n==="value"||bo(r)||Go(r)||QC(r)}function _o(n,...r){if(!r.length)return n;let o=r.shift();if(vo(n)&&vo(o))for(let t in o)tR(t,o[t])?n[t]=o[t]:vo(o[t])?(n[t]||Object.assign(n,{[t]:{}}),_o(n[t],o[t])):Object.assign(n,{[t]:o[t]});return _o(n,...r)}function KC(n,r){return n.length===r.length&&n.every((o,t)=>r[t]===o)}function Ie(n,r,o=[],t){let i={},u=Array.from(r);if(vo(u[0])&&t&&!Reflect.has(u[0],t)&&(Object.keys(u[0]).some(l=>Reflect.has(n,l))||(_o(i,{[t]:u[0]}),o.splice(o.indexOf(t),1),u.shift())),u.length===1&&vo(u[0]))_o(i,u[0]);else for(let s=0;s<o.length;s++)ft(u[s])&&(i[o[s]]=u[s]);return _o(n,i)}function JC(n){return n.constructor.getDefaults()}function Pn(n,r){return br(n)?r:n}function zo(n,r){return r.forEach(o=>{Reflect.has(n,o)&&delete n[o]}),n}var dn=(()=>{class n{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...o){(this.debug||cn&&this.toString()===cn.TONE_DEBUG_CLASS)&&WC(this,...o)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}return n.version=pu,n})();function fs(n,r){return n>r+1e-6}function Ou(n,r){return fs(n,r)||vn(n,r)}function bi(n,r){return n+1e-6<r}function vn(n,r){return Math.abs(n-r)<1e-6}function kg(n,r,o){return Math.max(Math.min(n,o),r)}var Ar=class n extends dn{constructor(){super(),this.name="Timeline",this._timeline=[];let r=Ie(n.getDefaults(),arguments,["memory"]);this.memory=r.memory,this.increasing=r.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(r){if(nt(Reflect.has(r,"time"),"Timeline: events must have a time attribute"),r.time=r.time.valueOf(),this.increasing&&this.length){let o=this._timeline[this.length-1];nt(Ou(r.time,o.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(r)}else{let o=this._search(r.time);this._timeline.splice(o+1,0,r)}if(this.length>this.memory){let o=this.length-this.memory;this._timeline.splice(0,o)}return this}remove(r){let o=this._timeline.indexOf(r);return o!==-1&&this._timeline.splice(o,1),this}get(r,o="time"){let t=this._search(r,o);return t!==-1?this._timeline[t]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(r,o="time"){let t=this._search(r,o);return t+1<this._timeline.length?this._timeline[t+1]:null}getBefore(r){let o=this._timeline.length;if(o>0&&this._timeline[o-1].time<r)return this._timeline[o-1];let t=this._search(r);return t-1>=0?this._timeline[t-1]:null}cancel(r){if(this._timeline.length>1){let o=this._search(r);if(o>=0)if(vn(this._timeline[o].time,r)){for(let t=o;t>=0&&vn(this._timeline[t].time,r);t--)o=t;this._timeline=this._timeline.slice(0,o)}else this._timeline=this._timeline.slice(0,o+1);else this._timeline=[]}else this._timeline.length===1&&Ou(this._timeline[0].time,r)&&(this._timeline=[]);return this}cancelBefore(r){let o=this._search(r);return o>=0&&(this._timeline=this._timeline.slice(o+1)),this}previousEvent(r){let o=this._timeline.indexOf(r);return o>0?this._timeline[o-1]:null}_search(r,o="time"){if(this._timeline.length===0)return-1;let t=0,i=this._timeline.length,u=i;if(i>0&&this._timeline[i-1][o]<=r)return i-1;for(;t<u;){let s=Math.floor(t+(u-t)/2),l=this._timeline[s],a=this._timeline[s+1];if(vn(l[o],r)){for(let c=s;c<this._timeline.length;c++){let y=this._timeline[c];if(vn(y[o],r))s=c;else break}return s}else{if(bi(l[o],r)&&fs(a[o],r))return s;fs(l[o],r)?u=s:t=s+1}}return-1}_iterate(r,o=0,t=this._timeline.length-1){this._timeline.slice(o,t+1).forEach(r)}forEach(r){return this._iterate(r),this}forEachBefore(r,o){let t=this._search(r);return t!==-1&&this._iterate(o,0,t),this}forEachAfter(r,o){let t=this._search(r);return this._iterate(o,t+1),this}forEachBetween(r,o,t){let i=this._search(r),u=this._search(o);return i!==-1&&u!==-1?(this._timeline[i].time!==r&&(i+=1),this._timeline[u].time===o&&(u-=1),this._iterate(t,i,u)):i===-1&&this._iterate(t,0,u),this}forEachFrom(r,o){let t=this._search(r);for(;t>=0&&this._timeline[t].time>=r;)t--;return this._iterate(o,t+1),this}forEachAtTime(r,o){let t=this._search(r);if(t!==-1&&vn(this._timeline[t].time,r)){let i=t;for(let u=t;u>=0&&vn(this._timeline[u].time,r);u--)i=u;this._iterate(u=>{o(u)},i,t)}return this}dispose(){return super.dispose(),this._timeline=[],this}};var eE=[];function Hs(n){eE.push(n)}function tE(n){eE.forEach(r=>r(n))}var rE=[];function qs(n){rE.push(n)}function nE(n){rE.forEach(r=>r(n))}var Ws=class n extends dn{constructor(){super(...arguments),this.name="Emitter"}on(r,o){return r.split(/\W+/).forEach(i=>{br(this._events)&&(this._events={}),this._events.hasOwnProperty(i)||(this._events[i]=[]),this._events[i].push(o)}),this}once(r,o){let t=(...i)=>{o(...i),this.off(r,t)};return this.on(r,t),this}off(r,o){return r.split(/\W+/).forEach(i=>{if(br(this._events)&&(this._events={}),this._events.hasOwnProperty(i))if(br(o))this._events[i]=[];else{let u=this._events[i];for(let s=u.length-1;s>=0;s--)u[s]===o&&u.splice(s,1)}}),this}emit(r,...o){if(this._events&&this._events.hasOwnProperty(r)){let t=this._events[r].slice(0);for(let i=0,u=t.length;i<u;i++)t[i].apply(this,o)}return this}static mixin(r){["on","once","off","emit"].forEach(o=>{let t=Object.getOwnPropertyDescriptor(n.prototype,o);Object.defineProperty(r.prototype,o,t)})}dispose(){return super.dispose(),this._events=void 0,this}};var qa=class extends Ws{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}};var _i=class n extends qa{constructor(){var r,o;super(),this.name="Context",this._constants=new Map,this._timeouts=new Ar,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;let t=Ie(n.getDefaults(),arguments,["context"]);t.context?(this._context=t.context,this._latencyHint=((r=arguments[0])===null||r===void 0?void 0:r.latencyHint)||""):(this._context=$C({latencyHint:t.latencyHint}),this._latencyHint=t.latencyHint),this._ticker=new ch(this.emit.bind(this,"tick"),t.clockSource,t.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((o=arguments[0])===null||o===void 0)&&o.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=t.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(tE(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(r,o,t){return this._context.createBuffer(r,o,t)}createChannelMerger(r){return this._context.createChannelMerger(r)}createChannelSplitter(r){return this._context.createChannelSplitter(r)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(r){return this._context.createDelay(r)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(r,o){return this._context.createIIRFilter(r,o)}createPanner(){return this._context.createPanner()}createPeriodicWave(r,o,t){return this._context.createPeriodicWave(r,o,t)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(r){return nt(zs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(r)}createMediaElementSource(r){return nt(zs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(r)}createMediaStreamDestination(){return nt(zs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(r){return this._context.decodeAudioData(r)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(r){nt(!this._initialized,"The listener cannot be set after initialization."),this._listener=r}get transport(){return this.initialize(),this._transport}set transport(r){nt(!this._initialized,"The transport cannot be set after initialization."),this._transport=r}get draw(){return this.initialize(),this._draw}set draw(r){nt(!this._initialized,"Draw cannot be set after initialization."),this._draw=r}get destination(){return this.initialize(),this._destination}set destination(r){nt(!this._initialized,"The destination cannot be set after initialization."),this._destination=r}createAudioWorkletNode(r,o){return ZC(this.rawContext,r,o)}addAudioWorkletModule(r){return Mt(this,void 0,void 0,function*(){nt(ft(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(r)),yield this._workletPromise})}workletsAreReady(){return Mt(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(r){this._ticker.updateInterval=r}get clockSource(){return this._ticker.type}set clockSource(r){this._ticker.type=r}get lookAhead(){return this._lookAhead}set lookAhead(r){this._lookAhead=r,this.updateInterval=r?r/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return zs(this._context)?this._context.resume():Promise.resolve()}close(){return Mt(this,void 0,void 0,function*(){zs(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&nE(this)})}getConstant(r){if(this._constants.has(r))return this._constants.get(r);{let o=this._context.createBuffer(1,128,this._context.sampleRate),t=o.getChannelData(0);for(let u=0;u<t.length;u++)t[u]=r;let i=this._context.createBufferSource();return i.channelCount=1,i.channelCountMode="explicit",i.buffer=o,i.loop=!0,i.start(0),this._constants.set(r,i),i}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(r=>this._constants[r].disconnect()),this.close(),this}_timeoutLoop(){let r=this.now(),o=this._timeouts.peek();for(;this._timeouts.length&&o&&o.time<=r;)o.callback(),this._timeouts.shift(),o=this._timeouts.peek()}setTimeout(r,o){this._timeoutIds++;let t=this.now();return this._timeouts.add({callback:r,id:this._timeoutIds,time:t+o}),this._timeoutIds}clearTimeout(r){return this._timeouts.forEach(o=>{o.id===r&&this._timeouts.remove(o)}),this}clearInterval(r){return this.clearTimeout(r)}setInterval(r,o){let t=++this._timeoutIds,i=()=>{let u=this.now();this._timeouts.add({callback:()=>{r(),i()},id:t,time:u+o})};return i(),t}};var dh=class extends qa{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(r,o,t){return{}}createChannelMerger(r){return{}}createChannelSplitter(r){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(r){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(r,o){return{}}createPanner(){return{}}createPeriodicWave(r,o,t){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(r){return{}}createMediaElementSource(r){return{}}createMediaStreamDestination(){return{}}decodeAudioData(r){return Promise.resolve({})}createAudioWorkletNode(r,o){return{}}get rawContext(){return{}}addAudioWorkletModule(r){return Mt(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(r,o){return 0}clearTimeout(r){return this}setInterval(r,o){return 0}clearInterval(r){return this}getConstant(r){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(r){}get destination(){return{}}set destination(r){}now(){return 0}immediate(){return 0}};function Ke(n,r){_r(r)?r.forEach(o=>Ke(n,o)):Object.defineProperty(n,r,{enumerable:!0,writable:!1})}function Wa(n,r){_r(r)?r.forEach(o=>Wa(n,o)):Object.defineProperty(n,r,{writable:!0})}var mt=()=>{};var Hr=(()=>{class n extends dn{constructor(){super(),this.name="ToneAudioBuffer",this.onload=mt;let o=Ie(n.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=o.reverse,this.onload=o.onload,un(o.url)?this.load(o.url).catch(o.onerror):o.url&&this.set(o.url)}static getDefaults(){return{onerror:mt,onload:mt,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:xr().sampleRate}set(o){return o instanceof n?o.loaded?this._buffer=o.get():o.onload=()=>{this.set(o),this.onload(this)}:this._buffer=o,this._reversed&&this._reverse(),this}get(){return this._buffer}load(o){return Mt(this,void 0,void 0,function*(){let t=n.load(o).then(i=>{this.set(i),this.onload(this)});n.downloads.push(t);try{yield t}finally{let i=n.downloads.indexOf(t);n.downloads.splice(i,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(o){let t=_r(o)&&o[0].length>0,i=t?o.length:1,u=t?o[0].length:o.length,s=xr(),l=s.createBuffer(i,u,s.sampleRate),a=!t&&i===1?[o]:o;for(let c=0;c<i;c++)l.copyToChannel(a[c],c);return this._buffer=l,this}toMono(o){if(yn(o))this.fromArray(this.toArray(o));else{let t=new Float32Array(this.length),i=this.numberOfChannels;for(let u=0;u<i;u++){let s=this.toArray(u);for(let l=0;l<s.length;l++)t[l]+=s[l]}t=t.map(u=>u/i),this.fromArray(t)}return this}toArray(o){if(yn(o))return this.getChannelData(o);if(this.numberOfChannels===1)return this.toArray(0);{let t=[];for(let i=0;i<this.numberOfChannels;i++)t[i]=this.getChannelData(i);return t}}getChannelData(o){return this._buffer?this._buffer.getChannelData(o):new Float32Array(0)}slice(o,t=this.duration){nt(this.loaded,"Buffer is not loaded");let i=Math.floor(o*this.sampleRate),u=Math.floor(t*this.sampleRate);nt(i<u,"The start time must be less than the end time");let s=u-i,l=xr().createBuffer(this.numberOfChannels,s,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)l.copyToChannel(this.getChannelData(a).subarray(i,u),a);return new n(l)}_reverse(){if(this.loaded)for(let o=0;o<this.numberOfChannels;o++)this.getChannelData(o).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(o){this._reversed!==o&&(this._reversed=o,this._reverse())}static fromArray(o){return new n().fromArray(o)}static fromUrl(o){return Mt(this,void 0,void 0,function*(){return yield new n().load(o)})}static load(o){return Mt(this,void 0,void 0,function*(){let t=o.match(/\[([^\]\[]+\|.+)\]$/);if(t){let c=t[1].split("|"),y=c[0];for(let b of c)if(n.supportsType(b)){y=b;break}o=o.replace(t[0],y)}let i=n.baseUrl===""||n.baseUrl.endsWith("/")?n.baseUrl:n.baseUrl+"/",u=document.createElement("a");u.href=i+o,u.pathname=(u.pathname+u.hash).split("/").map(encodeURIComponent).join("/");let s=yield fetch(u.href);if(!s.ok)throw new Error(`could not load url: ${o}`);let l=yield s.arrayBuffer();return yield xr().decodeAudioData(l)})}static supportsType(o){let t=o.split("."),i=t[t.length-1];return document.createElement("audio").canPlayType("audio/"+i)!==""}static loaded(){return Mt(this,void 0,void 0,function*(){for(yield Promise.resolve();n.downloads.length;)yield n.downloads[0]})}}return n.baseUrl="",n.downloads=[],n})();var xo=class extends _i{constructor(){super({clockSource:"offline",context:Ha(arguments[0])?arguments[0]:YC(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Ha(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Ha(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(r){return Mt(this,void 0,void 0,function*(){let o=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,o++;let t=Math.floor(this.sampleRate/128);r&&o%t===0&&(yield new Promise(i=>setTimeout(i,1)))}})}render(){return Mt(this,arguments,void 0,function*(r=!0){yield this.workletsAreReady(),yield this._renderClock(r);let o=yield this._context.startRendering();return new Hr(o)})}close(){return Promise.resolve()}};var oE=new dh,$a=oE;function xr(){return $a===oE&&XC&&Ng(new _i),$a}function Ng(n,r=!1){r&&$a.dispose(),zs(n)?$a=new _i(n):Ha(n)?$a=new xo(n):$a=n}if(cn&&!cn.TONE_SILENCE_LOGGING){let n="v";pu==="dev"&&(n="");let r=` * Tone.js ${n}${pu} * `;console.log(`%c${r}`,"background: #000; color: #fff")}function Ya(n){return Math.pow(10,n/20)}function Xa(n){return 20*(Math.log(n)/Math.LN10)}function xi(n){return Math.pow(2,n/12)}var hh=440;function sE(){return hh}function iE(n){hh=n}function wi(n){return Math.round(Rg(n))}function Rg(n){return 69+12*Math.log2(n/hh)}function fh(n){return hh*Math.pow(2,(n-69)/12)}var ph=class n extends dn{constructor(r,o,t){super(),this.defaultUnits="s",this._val=o,this._units=t,this.context=r,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:r=>this._frequencyToUnits(parseFloat(r)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:r=>this._ticksToUnits(parseInt(r,10)),regexp:/^(\d+)i$/i},m:{method:r=>this._beatsToUnits(parseInt(r,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(r,o)=>{let t=parseInt(r,10),i=o==="."?1.5:1;return t===1?this._beatsToUnits(this._getTimeSignature())*i:this._beatsToUnits(4/t)*i},regexp:/^(\d+)n(\.?)$/i},number:{method:r=>this._expressions[this.defaultUnits].method.call(this,r),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:r=>this._secondsToUnits(parseFloat(r)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:r=>parseInt(r,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:r=>{let o=parseInt(r,10);return this._beatsToUnits(8/(Math.floor(o)*3))},regexp:/^(\d+)t$/i},tr:{method:(r,o,t)=>{let i=0;return r&&r!=="0"&&(i+=this._beatsToUnits(this._getTimeSignature()*parseFloat(r))),o&&o!=="0"&&(i+=this._beatsToUnits(parseFloat(o))),t&&t!=="0"&&(i+=this._beatsToUnits(parseFloat(t)/4)),i},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof n&&this.fromType(this._val),br(this._val))return this._noArg();if(un(this._val)&&br(this._units)){for(let r in this._expressions)if(this._expressions[r].regexp.test(this._val.trim())){this._units=r;break}}else if(vo(this._val)){let r=0;for(let o in this._val)if(ft(this._val[o])){let t=this._val[o],i=new this.constructor(this.context,o).valueOf()*t;r+=i}return r}if(ft(this._units)){let r=this._expressions[this._units],o=this._val.toString().trim().match(r.regexp);return o?r.method.apply(this,o.slice(1)):r.method.call(this,this._val)}else return un(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(r){return 1/r}_beatsToUnits(r){return 60/this._getBpm()*r}_secondsToUnits(r){return r}_ticksToUnits(r){return r*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(r){switch(this._units=void 0,this.defaultUnits){case"s":this._val=r.toSeconds();break;case"i":this._val=r.toTicks();break;case"hz":this._val=r.toFrequency();break;case"midi":this._val=r.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}};var Fn=class n extends ph{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:r=>this._now()+new this.constructor(this.context,r).valueOf(),regexp:/^\+(.+)/},quantize:{method:r=>{let o=new n(this.context,r).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(o))},regexp:/^@(.+)/}})}quantize(r,o=1){let t=new this.constructor(this.context,r).valueOf(),i=this.valueOf(),l=Math.round(i/t)*t-i;return i+l*o}toNotation(){let r=this.toSeconds(),o=["1m"];for(let u=1;u<9;u++){let s=Math.pow(2,u);o.push(s+"n."),o.push(s+"n"),o.push(s+"t")}o.push("0");let t=o[0],i=new n(this.context,o[0]).toSeconds();return o.forEach(u=>{let s=new n(this.context,u).toSeconds();Math.abs(s-r)<Math.abs(i-r)&&(t=u,i=s)}),t}toBarsBeatsSixteenths(){let r=this._beatsToUnits(1),o=this.valueOf()/r;o=parseFloat(o.toFixed(4));let t=Math.floor(o/this._getTimeSignature()),i=o%1*4;o=Math.floor(o)%this._getTimeSignature();let u=i.toString();return u.length>3&&(i=parseFloat(parseFloat(u).toFixed(3))),[t,o,i].join(":")}toTicks(){let r=this._beatsToUnits(1);return this.valueOf()/r*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return wi(this.toFrequency())}_now(){return this.context.now()}};var Cn=class n extends Fn{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return sE()}static set A4(r){iE(r)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(r){return this.defaultUnits==="midi"?r:n.mtof(r)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(r,o){let i=rR[r.toLowerCase()]+(parseInt(o,10)+1)*12;return this.defaultUnits==="midi"?i:n.mtof(i)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(r,o,t){let i=1;return r&&r!=="0"&&(i*=this._beatsToUnits(this._getTimeSignature()*parseFloat(r))),o&&o!=="0"&&(i*=this._beatsToUnits(parseFloat(o))),t&&t!=="0"&&(i*=this._beatsToUnits(parseFloat(t)/4)),i}}})}transpose(r){return new n(this.context,this.valueOf()*xi(r))}harmonize(r){return r.map(o=>this.transpose(o))}toMidi(){return wi(this.valueOf())}toNote(){let r=this.toFrequency(),o=Math.log2(r/n.A4),t=Math.round(12*o)+57,i=Math.floor(t/12);return i<0&&(t+=-12*i),nR[t%12]+i.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){let r=this._beatsToUnits(1),o=this.valueOf()/r;return Math.floor(o*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(r){return r}_ticksToUnits(r){return 1/(r*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(r){return 1/super._beatsToUnits(r)}_secondsToUnits(r){return 1/r}static mtof(r){return fh(r)}static ftom(r){return wi(r)}},rR={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},nR=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];var Kn=class extends Fn{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}};var Ir=class n extends dn{constructor(){super();let r=Ie(n.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=r.context}static getDefaults(){return{context:xr()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(r){return HC(r),new Fn(this.context,r).toSeconds()}toFrequency(r){return new Cn(this.context,r).toFrequency()}toTicks(r){return new Kn(this.context,r).toTicks()}_getPartialProperties(r){let o=this.get();return Object.keys(o).forEach(t=>{br(r[t])&&delete o[t]}),o}get(){let r=JC(this);return Object.keys(r).forEach(o=>{if(Reflect.has(this,o)){let t=this[o];ft(t)&&ft(t.value)&&ft(t.setValueAtTime)?r[o]=t.value:t instanceof n?r[o]=t._getPartialProperties(r[o]):_r(t)||yn(t)||un(t)||Ig(t)?r[o]=t:delete r[o]}}),r}set(r){return Object.keys(r).forEach(o=>{Reflect.has(this,o)&&ft(this[o])&&(this[o]&&ft(this[o].value)&&ft(this[o].setValueAtTime)?this[o].value!==r[o]&&(this[o].value=r[o]):this[o]instanceof n?this[o].set(r[o]):this[o]=r[o])}),this}};var Ho=class extends Ar{constructor(r="stopped"){super(),this.name="StateTimeline",this._initial=r,this.setStateAtTime(this._initial,0)}getValueAtTime(r){let o=this.get(r);return o!==null?o.state:this._initial}setStateAtTime(r,o,t){return jr(o,0),this.add(Object.assign({},t,{state:r,time:o})),this}getLastState(r,o){let t=this._search(o);for(let i=t;i>=0;i--){let u=this._timeline[i];if(u.state===r)return u}}getNextState(r,o){let t=this._search(o);if(t!==-1)for(let i=t;i<this._timeline.length;i++){let u=this._timeline[i];if(u.state===r)return u}}};var jt=class n extends Ir{constructor(){let r=Ie(n.getDefaults(),arguments,["param","units","convert"]);for(super(r),this.name="Param",this.overridden=!1,this._minOutput=1e-7,nt(ft(r.param)&&(bo(r.param)||r.param instanceof n),"param must be an AudioParam");!bo(r.param);)r.param=r.param._param;this._swappable=ft(r.swappable)?r.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=r.param,this.input.connect(this._param)):this._param=this.input=r.param,this._events=new Ar(1e3),this._initialValue=this._param.defaultValue,this.units=r.units,this.convert=r.convert,this._minValue=r.minValue,this._maxValue=r.maxValue,ft(r.value)&&r.value!==this._toType(this._initialValue)&&this.setValueAtTime(r.value,0)}static getDefaults(){return Object.assign(Ir.getDefaults(),{convert:!0,units:"number"})}get value(){let r=this.now();return this.getValueAtTime(r)}set value(r){this.cancelScheduledValues(this.now()),this.setValueAtTime(r,this.now())}get minValue(){return ft(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return ft(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(r,o){return this.units===o}_assertRange(r){return ft(this.maxValue)&&ft(this.minValue)&&jr(r,this._fromType(this.minValue),this._fromType(this.maxValue)),r}_fromType(r){return this.convert&&!this.overridden?this._is(r,"time")?this.toSeconds(r):this._is(r,"decibels")?Ya(r):this._is(r,"frequency")?this.toFrequency(r):r:this.overridden?0:r}_toType(r){return this.convert&&this.units==="decibels"?Xa(r):r}setValueAtTime(r,o){let t=this.toSeconds(o),i=this._fromType(r);return nt(isFinite(i)&&isFinite(t),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(r)}, ${JSON.stringify(o)}`),this._assertRange(i),this.log(this.units,"setValueAtTime",r,t),this._events.add({time:t,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,t),this}getValueAtTime(r){let o=Math.max(this.toSeconds(r),0),t=this._events.getAfter(o),i=this._events.get(o),u=this._initialValue;if(i===null)u=this._initialValue;else if(i.type==="setTargetAtTime"&&(t===null||t.type==="setValueAtTime")){let s=this._events.getBefore(i.time),l;s===null?l=this._initialValue:l=s.value,i.type==="setTargetAtTime"&&(u=this._exponentialApproach(i.time,l,i.value,i.constant,o))}else if(t===null)u=i.value;else if(t.type==="linearRampToValueAtTime"||t.type==="exponentialRampToValueAtTime"){let s=i.value;if(i.type==="setTargetAtTime"){let l=this._events.getBefore(i.time);l===null?s=this._initialValue:s=l.value}t.type==="linearRampToValueAtTime"?u=this._linearInterpolate(i.time,s,t.time,t.value,o):u=this._exponentialInterpolate(i.time,s,t.time,t.value,o)}else u=i.value;return this._toType(u)}setRampPoint(r){r=this.toSeconds(r);let o=this.getValueAtTime(r);return this.cancelAndHoldAtTime(r),this._fromType(o)===0&&(o=this._toType(this._minOutput)),this.setValueAtTime(o,r),this}linearRampToValueAtTime(r,o){let t=this._fromType(r),i=this.toSeconds(o);return nt(isFinite(t)&&isFinite(i),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(r)}, ${JSON.stringify(o)}`),this._assertRange(t),this._events.add({time:i,type:"linearRampToValueAtTime",value:t}),this.log(this.units,"linearRampToValueAtTime",r,i),this._param.linearRampToValueAtTime(t,i),this}exponentialRampToValueAtTime(r,o){let t=this._fromType(r);t=vn(t,0)?this._minOutput:t,this._assertRange(t);let i=this.toSeconds(o);return nt(isFinite(t)&&isFinite(i),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(r)}, ${JSON.stringify(o)}`),this._events.add({time:i,type:"exponentialRampToValueAtTime",value:t}),this.log(this.units,"exponentialRampToValueAtTime",r,i),this._param.exponentialRampToValueAtTime(t,i),this}exponentialRampTo(r,o,t){return t=this.toSeconds(t),this.setRampPoint(t),this.exponentialRampToValueAtTime(r,t+this.toSeconds(o)),this}linearRampTo(r,o,t){return t=this.toSeconds(t),this.setRampPoint(t),this.linearRampToValueAtTime(r,t+this.toSeconds(o)),this}targetRampTo(r,o,t){return t=this.toSeconds(t),this.setRampPoint(t),this.exponentialApproachValueAtTime(r,t,o),this}exponentialApproachValueAtTime(r,o,t){o=this.toSeconds(o),t=this.toSeconds(t);let i=Math.log(t+1)/Math.log(200);return this.setTargetAtTime(r,o,i),this.cancelAndHoldAtTime(o+t*.9),this.linearRampToValueAtTime(r,o+t),this}setTargetAtTime(r,o,t){let i=this._fromType(r);nt(isFinite(t)&&t>0,"timeConstant must be a number greater than 0");let u=this.toSeconds(o);return this._assertRange(i),nt(isFinite(i)&&isFinite(u),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(r)}, ${JSON.stringify(o)}`),this._events.add({constant:t,time:u,type:"setTargetAtTime",value:i}),this.log(this.units,"setTargetAtTime",r,u,t),this._param.setTargetAtTime(i,u,t),this}setValueCurveAtTime(r,o,t,i=1){t=this.toSeconds(t),o=this.toSeconds(o);let u=this._fromType(r[0])*i;this.setValueAtTime(this._toType(u),o);let s=t/(r.length-1);for(let l=1;l<r.length;l++){let a=this._fromType(r[l])*i;this.linearRampToValueAtTime(this._toType(a),o+l*s)}return this}cancelScheduledValues(r){let o=this.toSeconds(r);return nt(isFinite(o),`Invalid argument to cancelScheduledValues: ${JSON.stringify(r)}`),this._events.cancel(o),this._param.cancelScheduledValues(o),this.log(this.units,"cancelScheduledValues",o),this}cancelAndHoldAtTime(r){let o=this.toSeconds(r),t=this._fromType(this.getValueAtTime(o));nt(isFinite(o),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(r)}`),this.log(this.units,"cancelAndHoldAtTime",o,"value="+t);let i=this._events.get(o),u=this._events.getAfter(o);return i&&vn(i.time,o)?u?(this._param.cancelScheduledValues(u.time),this._events.cancel(u.time)):(this._param.cancelAndHoldAtTime(o),this._events.cancel(o+this.sampleTime)):u&&(this._param.cancelScheduledValues(u.time),this._events.cancel(u.time),u.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(t),o):u.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(t),o)),this._events.add({time:o,type:"setValueAtTime",value:t}),this._param.setValueAtTime(t,o),this}rampTo(r,o=.1,t){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(r,o,t):this.linearRampTo(r,o,t),this}apply(r){let o=this.context.currentTime;r.setValueAtTime(this.getValueAtTime(o),o);let t=this._events.get(o);if(t&&t.type==="setTargetAtTime"){let i=this._events.getAfter(t.time),u=i?i.time:o+2,s=(u-o)/10;for(let l=o;l<u;l+=s)r.linearRampToValueAtTime(this.getValueAtTime(l),l)}return this._events.forEachAfter(this.context.currentTime,i=>{i.type==="cancelScheduledValues"?r.cancelScheduledValues(i.time):i.type==="setTargetAtTime"?r.setTargetAtTime(i.value,i.time,i.constant):r[i.type](i.value,i.time)}),this}setParam(r){nt(this._swappable,"The Param must be assigned as 'swappable' in the constructor");let o=this.input;return o.disconnect(this._param),this.apply(r),this._param=r,o.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(r,o,t,i,u){return t+(o-t)*Math.exp(-(u-r)/i)}_linearInterpolate(r,o,t,i,u){return o+(i-o)*((u-r)/(t-r))}_exponentialInterpolate(r,o,t,i,u){return o*Math.pow(i/o,(u-r)/(t-r))}};var ze=class n extends Ir{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return ft(this.input)?bo(this.input)||this.input instanceof jt?1:this.input.numberOfInputs:0}get numberOfOutputs(){return ft(this.output)?this.output.numberOfOutputs:0}_isAudioNode(r){return ft(r)&&(r instanceof n||Go(r))}_getInternalNodes(){let r=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&r.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&r.push(this.output),r}_setChannelProperties(r){this._getInternalNodes().forEach(t=>{t.channelCount=r.channelCount,t.channelCountMode=r.channelCountMode,t.channelInterpretation=r.channelInterpretation})}_getChannelProperties(){let r=this._getInternalNodes();nt(r.length>0,"ToneAudioNode does not have any internal nodes");let o=r[0];return{channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(r){let o=this._getChannelProperties();this._setChannelProperties(Object.assign(o,{channelCount:r}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(r){let o=this._getChannelProperties();this._setChannelProperties(Object.assign(o,{channelCountMode:r}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(r){let o=this._getChannelProperties();this._setChannelProperties(Object.assign(o,{channelInterpretation:r}))}connect(r,o=0,t=0){return tn(this,r,o,t),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return za("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(r,o=0,t=0){return aE(this,r,o,t),this}chain(...r){return wo(this,...r),this}fan(...r){return r.forEach(o=>this.connect(o)),this}dispose(){return super.dispose(),ft(this.input)&&(this.input instanceof n?this.input.dispose():Go(this.input)&&this.input.disconnect()),ft(this.output)&&(this.output instanceof n?this.output.dispose():Go(this.output)&&this.output.disconnect()),this._internalChannels=[],this}};function wo(...n){let r=n.shift();n.reduce((o,t)=>(o instanceof ze?o.connect(t):Go(o)&&tn(o,t),t),r)}function tn(n,r,o=0,t=0){for(nt(ft(n),"Cannot connect from undefined node"),nt(ft(r),"Cannot connect to undefined node"),(r instanceof ze||Go(r))&&nt(r.numberOfInputs>0,"Cannot connect to node with no inputs"),nt(n.numberOfOutputs>0,"Cannot connect from node with no outputs");r instanceof ze||r instanceof jt;)ft(r.input)&&(r=r.input);for(;n instanceof ze;)ft(n.output)&&(n=n.output);bo(r)?n.connect(r,o):n.connect(r,o,t)}function aE(n,r,o=0,t=0){if(ft(r))for(;r instanceof ze;)r=r.input;for(;!Go(n);)ft(n.output)&&(n=n.output);bo(r)?n.disconnect(r,o):Go(r)?n.disconnect(r,o,t):n.disconnect()}var it=class n extends ze{constructor(){let r=Ie(n.getDefaults(),arguments,["gain","units"]);super(r),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new jt({context:this.context,convert:r.convert,param:this._gainNode.gain,units:r.units,value:r.gain,minValue:r.minValue,maxValue:r.maxValue}),Ke(this,"gain")}static getDefaults(){return Object.assign(ze.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}};var So=class extends ze{constructor(r){super(r),this.onended=mt,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new it({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(o){let t=this.toSeconds(o);return this._startTime!==-1&&t>=this._startTime&&(this._stopTime===-1||t<=this._stopTime)?"started":"stopped"},this._fadeIn=r.fadeIn,this._fadeOut=r.fadeOut,this._curve=r.curve,this.onended=r.onended}static getDefaults(){return Object.assign(ze.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:mt})}_startGain(r,o=1){nt(this._startTime===-1,"Source cannot be started more than once");let t=this.toSeconds(this._fadeIn);return this._startTime=r+t,this._startTime=Math.max(this._startTime,this.context.currentTime),t>0?(this._gainNode.gain.setValueAtTime(0,r),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(o,r+t):this._gainNode.gain.exponentialApproachValueAtTime(o,r,t)):this._gainNode.gain.setValueAtTime(o,r),this}stop(r){return this.log("stop",r),this._stopGain(this.toSeconds(r)),this}_stopGain(r){nt(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();let o=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(r)+o,this._stopTime=Math.max(this._stopTime,this.now()),o>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,o,r):this._gainNode.gain.targetRampTo(0,o,r):(this._gainNode.gain.cancelAndHoldAtTime(r),this._gainNode.gain.setValueAtTime(0,r)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{let t=this._curve==="exponential"?o*2:0;this._stopSource(this.now()+t),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==mt&&(this.onended(this),this.onended=mt,!this.context.isOffline)){let r=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(r):setTimeout(r,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),nt(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=mt,this}};var ku=class n extends So{constructor(){let r=Ie(n.getDefaults(),arguments,["offset"]);super(r),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),tn(this._source,this._gainNode),this.offset=new jt({context:this.context,convert:r.convert,param:this._source.offset,units:r.units,value:r.offset,minValue:r.minValue,maxValue:r.maxValue})}static getDefaults(){return Object.assign(So.getDefaults(),{convert:!0,offset:1,units:"number"})}start(r){let o=this.toSeconds(r);return this.log("start",o),this._startGain(o),this._source.start(o),this}_stopSource(r){this._source.stop(r)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}};var yt=class n extends ze{constructor(){let r=Ie(n.getDefaults(),arguments,["value","units"]);super(r),this.name="Signal",this.override=!0,this.output=this._constantSource=new ku({context:this.context,convert:r.convert,offset:r.value,units:r.units,minValue:r.minValue,maxValue:r.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(ze.getDefaults(),{convert:!0,units:"number",value:0})}connect(r,o=0,t=0){return Za(this,r,o,t),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(r,o){return this._param.setValueAtTime(r,o),this}getValueAtTime(r){return this._param.getValueAtTime(r)}setRampPoint(r){return this._param.setRampPoint(r),this}linearRampToValueAtTime(r,o){return this._param.linearRampToValueAtTime(r,o),this}exponentialRampToValueAtTime(r,o){return this._param.exponentialRampToValueAtTime(r,o),this}exponentialRampTo(r,o,t){return this._param.exponentialRampTo(r,o,t),this}linearRampTo(r,o,t){return this._param.linearRampTo(r,o,t),this}targetRampTo(r,o,t){return this._param.targetRampTo(r,o,t),this}exponentialApproachValueAtTime(r,o,t){return this._param.exponentialApproachValueAtTime(r,o,t),this}setTargetAtTime(r,o,t){return this._param.setTargetAtTime(r,o,t),this}setValueCurveAtTime(r,o,t,i){return this._param.setValueCurveAtTime(r,o,t,i),this}cancelScheduledValues(r){return this._param.cancelScheduledValues(r),this}cancelAndHoldAtTime(r){return this._param.cancelAndHoldAtTime(r),this}rampTo(r,o,t){return this._param.rampTo(r,o,t),this}get value(){return this._param.value}set value(r){this._param.value=r}get convert(){return this._param.convert}set convert(r){this._param.convert=r}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(r){this._param.overridden=r}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(r){return this._param.apply(r),this}};function Za(n,r,o,t){(r instanceof jt||bo(r)||r instanceof yt&&r.override)&&(r.cancelScheduledValues(0),r.setValueAtTime(0,0),r instanceof yt&&(r.overridden=!0)),tn(n,r,o,t)}var mh=class n extends jt{constructor(){let r=Ie(n.getDefaults(),arguments,["value"]);super(r),this.name="TickParam",this._events=new Ar(1/0),this._multiplier=1,this._multiplier=r.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(r.value)}),this.setValueAtTime(r.value,0)}static getDefaults(){return Object.assign(jt.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(r,o,t){o=this.toSeconds(o),this.setRampPoint(o);let i=this._fromType(r),u=this._events.get(o),s=Math.round(Math.max(1/t,1));for(let l=0;l<=s;l++){let a=t*l+o,c=this._exponentialApproach(u.time,u.value,i,t,a);this.linearRampToValueAtTime(this._toType(c),a)}return this}setValueAtTime(r,o){let t=this.toSeconds(o);super.setValueAtTime(r,o);let i=this._events.get(t),u=this._events.previousEvent(i),s=this._getTicksUntilEvent(u,t);return i.ticks=Math.max(s,0),this}linearRampToValueAtTime(r,o){let t=this.toSeconds(o);super.linearRampToValueAtTime(r,o);let i=this._events.get(t),u=this._events.previousEvent(i),s=this._getTicksUntilEvent(u,t);return i.ticks=Math.max(s,0),this}exponentialRampToValueAtTime(r,o){o=this.toSeconds(o);let t=this._fromType(r),i=this._events.get(o),u=Math.round(Math.max((o-i.time)*10,1)),s=(o-i.time)/u;for(let l=0;l<=u;l++){let a=s*l+i.time,c=this._exponentialInterpolate(i.time,i.value,o,t,a);this.linearRampToValueAtTime(this._toType(c),a)}return this}_getTicksUntilEvent(r,o){if(r===null)r={ticks:0,time:0,type:"setValueAtTime",value:0};else if(br(r.ticks)){let s=this._events.previousEvent(r);r.ticks=this._getTicksUntilEvent(s,r.time)}let t=this._fromType(this.getValueAtTime(r.time)),i=this._fromType(this.getValueAtTime(o)),u=this._events.get(o);return u&&u.time===o&&u.type==="setValueAtTime"&&(i=this._fromType(this.getValueAtTime(o-this.sampleTime))),.5*(o-r.time)*(t+i)+r.ticks}getTicksAtTime(r){let o=this.toSeconds(r),t=this._events.get(o);return Math.max(this._getTicksUntilEvent(t,o),0)}getDurationOfTicks(r,o){let t=this.toSeconds(o),i=this.getTicksAtTime(o);return this.getTimeOfTick(i+r)-t}getTimeOfTick(r){let o=this._events.get(r,"ticks"),t=this._events.getAfter(r,"ticks");if(o&&o.ticks===r)return o.time;if(o&&t&&t.type==="linearRampToValueAtTime"&&o.value!==t.value){let i=this._fromType(this.getValueAtTime(o.time)),s=(this._fromType(this.getValueAtTime(t.time))-i)/(t.time-o.time),l=Math.sqrt(Math.pow(i,2)-2*s*(o.ticks-r)),a=(-i+l)/s,c=(-i-l)/s;return(a>0?a:c)+o.time}else return o?o.value===0?1/0:o.time+(r-o.ticks)/o.value:r/this._initialValue}ticksToTime(r,o){return this.getDurationOfTicks(r,o)}timeToTicks(r,o){let t=this.toSeconds(o),i=this.toSeconds(r),u=this.getTicksAtTime(t);return this.getTicksAtTime(t+i)-u}_fromType(r){return this.units==="bpm"&&this.multiplier?1/(60/r/this.multiplier):super._fromType(r)}_toType(r){return this.units==="bpm"&&this.multiplier?r/this.multiplier*60:super._toType(r)}get multiplier(){return this._multiplier}set multiplier(r){let o=this.value;this._multiplier=r,this.cancelScheduledValues(0),this.setValueAtTime(o,0)}};var gh=class n extends yt{constructor(){let r=Ie(n.getDefaults(),arguments,["value"]);super(r),this.name="TickSignal",this.input=this._param=new mh({context:this.context,convert:r.convert,multiplier:r.multiplier,param:this._constantSource.offset,units:r.units,value:r.value})}static getDefaults(){return Object.assign(yt.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(r,o){return this._param.ticksToTime(r,o)}timeToTicks(r,o){return this._param.timeToTicks(r,o)}getTimeOfTick(r){return this._param.getTimeOfTick(r)}getDurationOfTicks(r,o){return this._param.getDurationOfTicks(r,o)}getTicksAtTime(r){return this._param.getTicksAtTime(r)}get multiplier(){return this._param.multiplier}set multiplier(r){this._param.multiplier=r}dispose(){return super.dispose(),this._param.dispose(),this}};var yh=class n extends Ir{constructor(){let r=Ie(n.getDefaults(),arguments,["frequency"]);super(r),this.name="TickSource",this._state=new Ho,this._tickOffset=new Ar,this._ticksAtTime=new Ar,this._secondsAtTime=new Ar,this.frequency=new gh({context:this.context,units:r.units,value:r.frequency}),Ke(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Ir.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(r,o){let t=this.toSeconds(r);return this._state.getValueAtTime(t)!=="started"&&(this._state.setStateAtTime("started",t),ft(o)&&this.setTicksAtTime(o,t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t)),this}stop(r){let o=this.toSeconds(r);if(this._state.getValueAtTime(o)==="stopped"){let t=this._state.get(o);t&&t.time>0&&(this._tickOffset.cancel(t.time),this._state.cancel(t.time))}return this._state.cancel(o),this._state.setStateAtTime("stopped",o),this.setTicksAtTime(0,o),this._ticksAtTime.cancel(o),this._secondsAtTime.cancel(o),this}pause(r){let o=this.toSeconds(r);return this._state.getValueAtTime(o)==="started"&&(this._state.setStateAtTime("paused",o),this._ticksAtTime.cancel(o),this._secondsAtTime.cancel(o)),this}cancel(r){return r=this.toSeconds(r),this._state.cancel(r),this._tickOffset.cancel(r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r),this}getTicksAtTime(r){let o=this.toSeconds(r),t=this._state.getLastState("stopped",o),i=this._ticksAtTime.get(o),u={state:"paused",time:o};this._state.add(u);let s=i||t,l=i?i.ticks:0,a=null;return this._state.forEachBetween(s.time,o+this.sampleTime,c=>{let y=s.time,b=this._tickOffset.get(c.time);b&&b.time>=s.time&&(l=b.ticks,y=b.time),s.state==="started"&&c.state!=="started"&&(l+=this.frequency.getTicksAtTime(c.time)-this.frequency.getTicksAtTime(y),c.time!==u.time&&(a={state:c.state,time:c.time,ticks:l})),s=c}),this._state.remove(u),a&&this._ticksAtTime.add(a),l}get ticks(){return this.getTicksAtTime(this.now())}set ticks(r){this.setTicksAtTime(r,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(r){let o=this.now(),t=this.frequency.timeToTicks(r,o);this.setTicksAtTime(t,o)}getSecondsAtTime(r){r=this.toSeconds(r);let o=this._state.getLastState("stopped",r),t={state:"paused",time:r};this._state.add(t);let i=this._secondsAtTime.get(r),u=i||o,s=i?i.seconds:0,l=null;return this._state.forEachBetween(u.time,r+this.sampleTime,a=>{let c=u.time,y=this._tickOffset.get(a.time);y&&y.time>=u.time&&(s=y.seconds,c=y.time),u.state==="started"&&a.state!=="started"&&(s+=a.time-c,a.time!==t.time&&(l={state:a.state,time:a.time,seconds:s})),u=a}),this._state.remove(t),l&&this._secondsAtTime.add(l),s}setTicksAtTime(r,o){return o=this.toSeconds(o),this._tickOffset.cancel(o),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(r,o),ticks:r,time:o}),this._ticksAtTime.cancel(o),this._secondsAtTime.cancel(o),this}getStateAtTime(r){return r=this.toSeconds(r),this._state.getValueAtTime(r)}getTimeOfTick(r,o=this.now()){let t=this._tickOffset.get(o),i=this._state.get(o),u=Math.max(t.time,i.time),s=this.frequency.getTicksAtTime(u)+r-t.ticks;return this.frequency.getTimeOfTick(s)}forEachTickBetween(r,o,t){let i=this._state.get(r);this._state.forEachBetween(r,o,s=>{i&&i.state==="started"&&s.state!=="started"&&this.forEachTickBetween(Math.max(i.time,r),s.time-this.sampleTime,t),i=s});let u=null;if(i&&i.state==="started"){let s=Math.max(i.time,r),l=this.frequency.getTicksAtTime(s),a=this.frequency.getTicksAtTime(i.time),c=l-a,y=Math.ceil(c)-c;y=vn(y,1)?0:y;let b=this.frequency.getTimeOfTick(l+y);for(;b<o;){try{t(b,Math.round(this.getTicksAtTime(b)))}catch(d){u=d;break}b+=this.frequency.getDurationOfTicks(1,b)}}if(u)throw u;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}};var Qa=class n extends Ir{constructor(){let r=Ie(n.getDefaults(),arguments,["callback","frequency"]);super(r),this.name="Clock",this.callback=mt,this._lastUpdate=0,this._state=new Ho("stopped"),this._boundLoop=this._loop.bind(this),this.callback=r.callback,this._tickSource=new yh({context:this.context,frequency:r.frequency,units:r.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Ke(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Ir.getDefaults(),{callback:mt,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(r,o){uh(this.context);let t=this.toSeconds(r);return this.log("start",t),this._state.getValueAtTime(t)!=="started"&&(this._state.setStateAtTime("started",t),this._tickSource.start(t,o),t<this._lastUpdate&&this.emit("start",t,o)),this}stop(r){let o=this.toSeconds(r);return this.log("stop",o),this._state.cancel(o),this._state.setStateAtTime("stopped",o),this._tickSource.stop(o),o<this._lastUpdate&&this.emit("stop",o),this}pause(r){let o=this.toSeconds(r);return this._state.getValueAtTime(o)==="started"&&(this._state.setStateAtTime("paused",o),this._tickSource.pause(o),o<this._lastUpdate&&this.emit("pause",o)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(r){this._tickSource.ticks=r}get seconds(){return this._tickSource.seconds}set seconds(r){this._tickSource.seconds=r}getSecondsAtTime(r){return this._tickSource.getSecondsAtTime(r)}setTicksAtTime(r,o){return this._tickSource.setTicksAtTime(r,o),this}getTimeOfTick(r,o=this.now()){return this._tickSource.getTimeOfTick(r,o)}getTicksAtTime(r){return this._tickSource.getTicksAtTime(r)}nextTickTime(r,o){let t=this.toSeconds(o),i=this.getTicksAtTime(t);return this._tickSource.getTimeOfTick(i+r,t)}_loop(){let r=this._lastUpdate,o=this.now();this._lastUpdate=o,this.log("loop",r,o),r!==o&&(this._state.forEachBetween(r,o,t=>{switch(t.state){case"started":let i=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,i);break;case"stopped":t.time!==0&&this.emit("stop",t.time);break;case"paused":this.emit("pause",t.time);break}}),this._tickSource.forEachTickBetween(r,o,(t,i)=>{this.callback(t,i)}))}getStateAtTime(r){let o=this.toSeconds(r);return this._state.getValueAtTime(o)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}};Ws.mixin(Qa);var Jn=class n extends ze{constructor(){let r=Ie(n.getDefaults(),arguments,["volume"]);super(r),this.name="Volume",this.input=this.output=new it({context:this.context,gain:r.volume,units:"decibels"}),this.volume=this.output.gain,Ke(this,"volume"),this._unmutedVolume=r.volume,this.mute=r.mute}static getDefaults(){return Object.assign(ze.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(r){!this.mute&&r?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!r&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}};var Pg=class n extends ze{constructor(){let r=Ie(n.getDefaults(),arguments);super(r),this.name="Destination",this.input=new Jn({context:this.context}),this.output=new it({context:this.context}),this.volume=this.input.volume,wo(this.input,this.output,this.context.rawContext.destination),this.mute=r.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(ze.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(r){this.input.mute=r}chain(...r){return this.input.disconnect(),r.unshift(this.input),r.push(this.output),wo(...r),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}};Hs(n=>{n.destination=new Pg({context:n})});qs(n=>{n.destination.dispose()});var Fg=class extends ze{constructor(){super(...arguments),this.name="Listener",this.positionX=new jt({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new jt({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new jt({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new jt({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new jt({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new jt({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new jt({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new jt({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new jt({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(ze.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}};Hs(n=>{n.listener=new Fg({context:n})});qs(n=>{n.listener.dispose()});var Ka=class n extends dn{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;let r=Ie(n.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=r.baseUrl,Object.keys(r.urls).forEach(o=>{this._loadingCount++;let t=r.urls[o];this.add(o,t,this._bufferLoaded.bind(this,r.onload),r.onerror)})}static getDefaults(){return{baseUrl:"",onerror:mt,onload:mt,urls:{}}}has(r){return this._buffers.has(r.toString())}get(r){return nt(this.has(r),`ToneAudioBuffers has no buffer named: ${r}`),this._buffers.get(r.toString())}_bufferLoaded(r){this._loadingCount--,this._loadingCount===0&&r&&r()}get loaded(){return Array.from(this._buffers).every(([r,o])=>o.loaded)}add(r,o,t=mt,i=mt){return un(o)?(this.baseUrl&&o.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(r.toString(),new Hr(this.baseUrl+o,t,i))):this._buffers.set(r.toString(),new Hr(o,t,i)),this}dispose(){return super.dispose(),this._buffers.forEach(r=>r.dispose()),this._buffers.clear(),this}};var Ln=class extends Kn{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(r){return this._getPPQ()*r}_secondsToUnits(r){return Math.floor(r/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(r){return r}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}};var Lg=class extends Ir{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Ar,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(r,o){return this._events.add({callback:r,time:this.toSeconds(o)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(r){return this._events.cancel(this.toSeconds(r)),this}_drawLoop(){let r=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=r;){let o=this._events.shift();o&&r-o.time<=this.expiration&&o.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}};Hs(n=>{n.draw=new Lg({context:n})});qs(n=>{n.draw.dispose()});var vh=class extends dn{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(r){nt(ft(r.time),"Events must have a time property"),nt(ft(r.duration),"Events must have a duration parameter"),r.time=r.time.valueOf();let o=new Vg(r.time,r.time+r.duration,r);for(this._root===null?this._root=o:this._root.insert(o),this._length++;o!==null;)o.updateHeight(),o.updateMax(),this._rebalance(o),o=o.parent;return this}remove(r){if(this._root!==null){let o=[];this._root.search(r.time,o);for(let t of o)if(t.event===r){this._removeNode(t),this._length--;break}}return this}get length(){return this._length}cancel(r){return this.forEachFrom(r,o=>this.remove(o)),this}_setRoot(r){this._root=r,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(r,o){r.parent!==null?(r.isLeftChild()?r.parent.left=o:r.parent.right=o,this._rebalance(r.parent)):this._setRoot(o)}_removeNode(r){if(r.left===null&&r.right===null)this._replaceNodeInParent(r,null);else if(r.right===null)this._replaceNodeInParent(r,r.left);else if(r.left===null)this._replaceNodeInParent(r,r.right);else{let o=r.getBalance(),t,i=null;if(o>0)if(r.left.right===null)t=r.left,t.right=r.right,i=t;else{for(t=r.left.right;t.right!==null;)t=t.right;t.parent&&(t.parent.right=t.left,i=t.parent,t.left=r.left,t.right=r.right)}else if(r.right.left===null)t=r.right,t.left=r.left,i=t;else{for(t=r.right.left;t.left!==null;)t=t.left;t.parent&&(t.parent.left=t.right,i=t.parent,t.left=r.left,t.right=r.right)}r.parent!==null?r.isLeftChild()?r.parent.left=t:r.parent.right=t:this._setRoot(t),i&&this._rebalance(i)}r.dispose()}_rotateLeft(r){let o=r.parent,t=r.isLeftChild(),i=r.right;i&&(r.right=i.left,i.left=r),o!==null?t?o.left=i:o.right=i:this._setRoot(i)}_rotateRight(r){let o=r.parent,t=r.isLeftChild(),i=r.left;i&&(r.left=i.right,i.right=r),o!==null?t?o.left=i:o.right=i:this._setRoot(i)}_rebalance(r){let o=r.getBalance();o>1&&r.left?r.left.getBalance()<0?this._rotateLeft(r.left):this._rotateRight(r):o<-1&&r.right&&(r.right.getBalance()>0?this._rotateRight(r.right):this._rotateLeft(r))}get(r){if(this._root!==null){let o=[];if(this._root.search(r,o),o.length>0){let t=o[0];for(let i=1;i<o.length;i++)o[i].low>t.low&&(t=o[i]);return t.event}}return null}forEach(r){if(this._root!==null){let o=[];this._root.traverse(t=>o.push(t)),o.forEach(t=>{t.event&&r(t.event)})}return this}forEachAtTime(r,o){if(this._root!==null){let t=[];this._root.search(r,t),t.forEach(i=>{i.event&&o(i.event)})}return this}forEachFrom(r,o){if(this._root!==null){let t=[];this._root.searchAfter(r,t),t.forEach(i=>{i.event&&o(i.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(r=>r.dispose()),this._root=null,this}},Vg=class{constructor(r,o,t){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=t,this.low=r,this.high=o,this.max=this.high}insert(r){r.low<=this.low?this.left===null?this.left=r:this.left.insert(r):this.right===null?this.right=r:this.right.insert(r)}search(r,o){r>this.max||(this.left!==null&&this.left.search(r,o),this.low<=r&&this.high>r&&o.push(this),!(this.low>r)&&this.right!==null&&this.right.search(r,o))}searchAfter(r,o){this.low>=r&&(o.push(this),this.left!==null&&this.left.searchAfter(r,o)),this.right!==null&&this.right.searchAfter(r,o)}traverse(r){r(this),this.left!==null&&this.left.traverse(r),this.right!==null&&this.right.traverse(r)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let r=0;return this.left!==null&&this.right!==null?r=this.left.height-this.right.height:this.left!==null?r=this.left.height+1:this.right!==null&&(r=-(this.right.height+1)),r}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(r){this._left=r,r!==null&&(r.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(r){this._right=r,r!==null&&(r.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}};var bh=class extends dn{constructor(r){super(),this.name="TimelineValue",this._timeline=new Ar({memory:10}),this._initialValue=r}set(r,o){return this._timeline.add({value:r,time:o}),this}get(r){let o=this._timeline.get(r);return o?o.value:this._initialValue}};var hn=class n extends ze{constructor(){super(Ie(n.getDefaults(),arguments,["context"]))}connect(r,o=0,t=0){return Za(this,r,o,t),this}};var En=class n extends hn{constructor(){let r=Ie(n.getDefaults(),arguments,["mapping","length"]);super(r),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,_r(r.mapping)||r.mapping instanceof Float32Array?this.curve=Float32Array.from(r.mapping):BC(r.mapping)&&this.setMap(r.mapping,r.length)}static getDefaults(){return Object.assign(yt.getDefaults(),{length:1024})}setMap(r,o=1024){let t=new Float32Array(o);for(let i=0,u=o;i<u;i++){let s=i/(u-1)*2-1;t[i]=r(s,i)}return this.curve=t,this}get curve(){return this._shaper.curve}set curve(r){this._shaper.curve=r}get oversample(){return this._shaper.oversample}set oversample(r){let o=["none","2x","4x"].some(t=>t.includes(r));nt(o,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=r}dispose(){return super.dispose(),this._shaper.disconnect(),this}};var Ja=class n extends hn{constructor(){let r=Ie(n.getDefaults(),arguments,["value"]);super(r),this.name="Pow",this._exponentScaler=this.input=this.output=new En({context:this.context,mapping:this._expFunc(r.value),length:8192}),this._exponent=r.value}static getDefaults(){return Object.assign(hn.getDefaults(),{value:1})}_expFunc(r){return o=>Math.pow(Math.abs(o),r)}get value(){return this._exponent}set value(r){this._exponent=r,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}};var el=(()=>{class n{constructor(o,t){this.id=n._eventId++,this._remainderTime=0;let i=Object.assign(n.getDefaults(),t);this.transport=o,this.callback=i.callback,this._once=i.once,this.time=Math.floor(i.time),this._remainderTime=i.time-this.time}static getDefaults(){return{callback:mt,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(o){if(this.callback){let t=this.transport.bpm.getDurationOfTicks(1,o);this.callback(o+this._remainderTime*t),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}return n._eventId=0,n})();var _h=class n extends el{constructor(r,o){super(r,o),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);let t=Object.assign(n.getDefaults(),o);this.duration=t.duration,this._interval=t.interval,this._nextTick=t.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},el.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(r){this._createEvents(r),super.invoke(r)}_createEvent(){return bi(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Ln(this.context,this._nextTick).toSeconds()):-1}_createEvents(r){bi(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Ln(this.context,this._nextTick).toSeconds()))}_restart(r){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;let o=this.transport.getTicksAtTime(r);fs(o,this.time)&&(this._nextTick=this.floatTime+Math.ceil((o-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}};var xh=class n extends Ir{constructor(){let r=Ie(n.getDefaults(),arguments);super(r),this.name="Transport",this._loop=new bh(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Ar,this._repeatedEvents=new vh,this._syncedSignals=[],this._swingAmount=0,this._ppq=r.ppq,this._clock=new Qa({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=r.ppq,this.bpm.setValueAtTime(r.bpm,0),Ke(this,"bpm"),this._timeSignature=r.timeSignature,this._swingTicks=r.ppq/2}static getDefaults(){return Object.assign(Ir.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(r,o){if(this._loop.get(r)&&o>=this._loopEnd&&(this.emit("loopEnd",r),this._clock.setTicksAtTime(this._loopStart,r),o=this._loopStart,this.emit("loopStart",r,this._clock.getSecondsAtTime(r)),this.emit("loop",r)),this._swingAmount>0&&o%this._ppq!==0&&o%(this._swingTicks*2)!==0){let t=o%(this._swingTicks*2)/(this._swingTicks*2),i=Math.sin(t*Math.PI)*this._swingAmount;r+=new Ln(this.context,this._swingTicks*2/3).toSeconds()*i}Og(!0),this._timeline.forEachAtTime(o,t=>t.invoke(r)),Og(!1)}schedule(r,o){let t=new el(this,{callback:r,time:new Kn(this.context,o).toTicks()});return this._addEvent(t,this._timeline)}scheduleRepeat(r,o,t,i=1/0){let u=new _h(this,{callback:r,duration:new Fn(this.context,i).toTicks(),interval:new Fn(this.context,o).toTicks(),time:new Kn(this.context,t).toTicks()});return this._addEvent(u,this._repeatedEvents)}scheduleOnce(r,o){let t=new el(this,{callback:r,once:!0,time:new Kn(this.context,o).toTicks()});return this._addEvent(t,this._timeline)}clear(r){if(this._scheduledEvents.hasOwnProperty(r)){let o=this._scheduledEvents[r.toString()];o.timeline.remove(o.event),o.event.dispose(),delete this._scheduledEvents[r.toString()]}return this}_addEvent(r,o){return this._scheduledEvents[r.id.toString()]={event:r,timeline:o},o.add(r),r.id}cancel(r=0){let o=this.toTicks(r);return this._timeline.forEachFrom(o,t=>this.clear(t.id)),this._repeatedEvents.forEachFrom(o,t=>this.clear(t.id)),this}_bindClockEvents(){this._clock.on("start",(r,o)=>{o=new Ln(this.context,o).toSeconds(),this.emit("start",r,o)}),this._clock.on("stop",r=>{this.emit("stop",r)}),this._clock.on("pause",r=>{this.emit("pause",r)})}get state(){return this._clock.getStateAtTime(this.now())}start(r,o){this.context.resume();let t;return ft(o)&&(t=this.toTicks(o)),this._clock.start(r,t),this}stop(r){return this._clock.stop(r),this}pause(r){return this._clock.pause(r),this}toggle(r){return r=this.toSeconds(r),this._clock.getStateAtTime(r)!=="started"?this.start(r):this.stop(r),this}get timeSignature(){return this._timeSignature}set timeSignature(r){_r(r)&&(r=r[0]/r[1]*4),this._timeSignature=r}get loopStart(){return new Fn(this.context,this._loopStart,"i").toSeconds()}set loopStart(r){this._loopStart=this.toTicks(r)}get loopEnd(){return new Fn(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(r){this._loopEnd=this.toTicks(r)}get loop(){return this._loop.get(this.now())}set loop(r){this._loop.set(r,this.now())}setLoopPoints(r,o){return this.loopStart=r,this.loopEnd=o,this}get swing(){return this._swingAmount}set swing(r){this._swingAmount=r}get swingSubdivision(){return new Ln(this.context,this._swingTicks).toNotation()}set swingSubdivision(r){this._swingTicks=this.toTicks(r)}get position(){let r=this.now(),o=this._clock.getTicksAtTime(r);return new Ln(this.context,o).toBarsBeatsSixteenths()}set position(r){let o=this.toTicks(r);this.ticks=o}get seconds(){return this._clock.seconds}set seconds(r){let o=this.now(),t=this._clock.frequency.timeToTicks(r,o);this.ticks=t}get progress(){if(this.loop){let r=this.now();return(this._clock.getTicksAtTime(r)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(r){if(this._clock.ticks!==r){let o=this.now();if(this.state==="started"){let t=this._clock.getTicksAtTime(o),i=this._clock.frequency.getDurationOfTicks(Math.ceil(t)-t,o),u=o+i;this.emit("stop",u),this._clock.setTicksAtTime(r,u),this.emit("start",u,this._clock.getSecondsAtTime(u))}else this.emit("ticks",o),this._clock.setTicksAtTime(r,o)}}getTicksAtTime(r){return this._clock.getTicksAtTime(r)}getSecondsAtTime(r){return this._clock.getSecondsAtTime(r)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(r){this._clock.frequency.multiplier=r}nextSubdivision(r){if(r=this.toTicks(r),this.state!=="started")return 0;{let o=this.now(),t=this.getTicksAtTime(o),i=r-t%r;return this._clock.nextTickTime(i,o)}}syncSignal(r,o){let t=this.now(),i=this.bpm,u=1/(60/i.getValueAtTime(t)/this.PPQ),s=[];if(r.units==="time"){let a=.015625/u,c=new it(a),y=new Ja(-1),b=new it(a);i.chain(c,y,b),i=b,u=1/u,s=[c,y,b]}o||(r.getValueAtTime(t)!==0?o=r.getValueAtTime(t)/u:o=0);let l=new it(o);return i.connect(l),l.connect(r._param),s.push(l),this._syncedSignals.push({initial:r.value,nodes:s,signal:r}),r.value=0,this}unsyncSignal(r){for(let o=this._syncedSignals.length-1;o>=0;o--){let t=this._syncedSignals[o];t.signal===r&&(t.nodes.forEach(i=>i.dispose()),t.signal.value=t.initial,this._syncedSignals.splice(o,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Wa(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}};Ws.mixin(xh);Hs(n=>{n.transport=new xh({context:n})});qs(n=>{n.transport.dispose()});var zt=class extends ze{constructor(r){super(r),this.input=void 0,this._state=new Ho("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=mt,this._syncedStop=mt,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Jn({context:this.context,mute:r.mute,volume:r.volume}),this.volume=this._volume.volume,Ke(this,"volume"),this.onstop=r.onstop}static getDefaults(){return Object.assign(ze.getDefaults(),{mute:!1,onstop:mt,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(r){this._volume.mute=r}_clampToCurrentTime(r){return this._synced?r:Math.max(r,this.context.currentTime)}start(r,o,t){let i=br(r)&&this._synced?this.context.transport.seconds:this.toSeconds(r);if(i=this._clampToCurrentTime(i),!this._synced&&this._state.getValueAtTime(i)==="started")nt(fs(i,this._state.get(i).time),"Start time must be strictly greater than previous start time"),this._state.cancel(i),this._state.setStateAtTime("started",i),this.log("restart",i),this.restart(i,o,t);else if(this.log("start",i),this._state.setStateAtTime("started",i),this._synced){let u=this._state.get(i);u&&(u.offset=this.toSeconds(Pn(o,0)),u.duration=t?this.toSeconds(t):void 0);let s=this.context.transport.schedule(l=>{this._start(l,o,t)},i);this._scheduled.push(s),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>i&&this._syncedStart(this.now(),this.context.transport.seconds)}else uh(this.context),this._start(i,o,t);return this}stop(r){let o=br(r)&&this._synced?this.context.transport.seconds:this.toSeconds(r);if(o=this._clampToCurrentTime(o),this._state.getValueAtTime(o)==="started"||ft(this._state.getNextState("started",o))){if(this.log("stop",o),!this._synced)this._stop(o);else{let t=this.context.transport.schedule(this._stop.bind(this),o);this._scheduled.push(t)}this._state.cancel(o),this._state.setStateAtTime("stopped",o)}return this}restart(r,o,t){return r=this.toSeconds(r),this._state.getValueAtTime(r)==="started"&&(this._state.cancel(r),this._restart(r,o,t)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(r,o)=>{if(fs(o,0)){let t=this._state.get(o);if(t&&t.state==="started"&&t.time!==o){let i=o-this.toSeconds(t.time),u;t.duration&&(u=this.toSeconds(t.duration)-i),this._start(r,this.toSeconds(t.offset)+i,u)}}},this._syncedStop=r=>{let o=this.context.transport.getSecondsAtTime(Math.max(r-this.sampleTime,0));this._state.getValueAtTime(o)==="started"&&this._stop(r)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(r=>this.context.transport.clear(r)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=mt,this.unsync(),this._volume.dispose(),this._state.dispose(),this}};var qo=class n extends So{constructor(){let r=Ie(n.getDefaults(),arguments,["url","onload"]);super(r),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,tn(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new jt({context:this.context,param:this._source.playbackRate,units:"positive",value:r.playbackRate}),this.loop=r.loop,this.loopStart=r.loopStart,this.loopEnd=r.loopEnd,this._buffer=new Hr(r.url,r.onload,r.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(So.getDefaults(),{url:new Hr,loop:!1,loopEnd:0,loopStart:0,onload:mt,onerror:mt,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(r){this._fadeIn=r}get fadeOut(){return this._fadeOut}set fadeOut(r){this._fadeOut=r}get curve(){return this._curve}set curve(r){this._curve=r}start(r,o,t,i=1){nt(this.buffer.loaded,"buffer is either not set or not loaded");let u=this.toSeconds(r);this._startGain(u,i),this.loop?o=Pn(o,this.loopStart):o=Pn(o,0);let s=Math.max(this.toSeconds(o),0);if(this.loop){let l=this.toSeconds(this.loopEnd)||this.buffer.duration,a=this.toSeconds(this.loopStart),c=l-a;Ou(s,l)&&(s=(s-a)%c+a),vn(s,this.buffer.duration)&&(s=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,bi(s,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(u,s)),ft(t)){let l=this.toSeconds(t);l=Math.max(l,0),this.stop(u+l)}return this}_stopSource(r){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(r)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(r){this._source.loopStart=this.toSeconds(r)}get loopEnd(){return this._source.loopEnd}set loopEnd(r){this._source.loopEnd=this.toSeconds(r)}get buffer(){return this._buffer}set buffer(r){this._buffer.set(r)}get loop(){return this._source.loop}set loop(r){this._source.loop=r,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}};var Si=class n extends zt{constructor(){let r=Ie(n.getDefaults(),arguments,["type"]);super(r),this.name="Noise",this._source=null,this._playbackRate=r.playbackRate,this.type=r.type,this._fadeIn=r.fadeIn,this._fadeOut=r.fadeOut}static getDefaults(){return Object.assign(zt.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(r){if(nt(r in lE,"Noise: invalid type: "+r),this._type!==r&&(this._type=r,this.state==="started")){let o=this.now();this._stop(o),this._start(o)}}get playbackRate(){return this._playbackRate}set playbackRate(r){this._playbackRate=r,this._source&&(this._source.playbackRate.value=r)}_start(r){let o=lE[this._type];this._source=new qo({url:o,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(r),Math.random()*(o.duration-.001))}_stop(r){this._source&&(this._source.stop(this.toSeconds(r)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(r){this._fadeIn=r,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(r){this._fadeOut=r,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(r){this._stop(r),this._start(r)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}},tl=44100*5,Ug=2,ps={brown:null,pink:null,white:null},lE={get brown(){if(!ps.brown){let n=[];for(let r=0;r<Ug;r++){let o=new Float32Array(tl);n[r]=o;let t=0;for(let i=0;i<tl;i++){let u=Math.random()*2-1;o[i]=(t+.02*u)/1.02,t=o[i],o[i]*=3.5}}ps.brown=new Hr().fromArray(n)}return ps.brown},get pink(){if(!ps.pink){let n=[];for(let r=0;r<Ug;r++){let o=new Float32Array(tl);n[r]=o;let t,i,u,s,l,a,c;t=i=u=s=l=a=c=0;for(let y=0;y<tl;y++){let b=Math.random()*2-1;t=.99886*t+b*.0555179,i=.99332*i+b*.0750759,u=.969*u+b*.153852,s=.8665*s+b*.3104856,l=.55*l+b*.5329522,a=-.7616*a-b*.016898,o[y]=t+i+u+s+l+a+c+b*.5362,o[y]*=.11,c=b*.115926}}ps.pink=new Hr().fromArray(n)}return ps.pink},get white(){if(!ps.white){let n=[];for(let r=0;r<Ug;r++){let o=new Float32Array(tl);n[r]=o;for(let t=0;t<tl;t++)o[t]=Math.random()*2-1}ps.white=new Hr().fromArray(n)}return ps.white}};function Tn(n,r){return Mt(this,void 0,void 0,function*(){let o=r/n.context.sampleRate,t=new xo(1,o,n.context.sampleRate);return new n.constructor(Object.assign(n.get(),{frequency:2/o,detune:0,context:t})).toDestination().start(0),(yield t.render()).getChannelData(0)})}var Nu=class n extends So{constructor(){let r=Ie(n.getDefaults(),arguments,["frequency","type"]);super(r),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],tn(this._oscillator,this._gainNode),this.type=r.type,this.frequency=new jt({context:this.context,param:this._oscillator.frequency,units:"frequency",value:r.frequency}),this.detune=new jt({context:this.context,param:this._oscillator.detune,units:"cents",value:r.detune}),Ke(this,["frequency","detune"])}static getDefaults(){return Object.assign(So.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(r){let o=this.toSeconds(r);return this.log("start",o),this._startGain(o),this._oscillator.start(o),this}_stopSource(r){this._oscillator.stop(r)}setPeriodicWave(r){return this._oscillator.setPeriodicWave(r),this}get type(){return this._oscillator.type}set type(r){this._oscillator.type=r}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}};var pr=(()=>{class n extends zt{constructor(){let o=Ie(n.getDefaults(),arguments,["frequency","type"]);super(o),this.name="Oscillator",this._oscillator=null,this.frequency=new yt({context:this.context,units:"frequency",value:o.frequency}),Ke(this,"frequency"),this.detune=new yt({context:this.context,units:"cents",value:o.detune}),Ke(this,"detune"),this._partials=o.partials,this._partialCount=o.partialCount,this._type=o.type,o.partialCount&&o.type!=="custom"&&(this._type=this.baseType+o.partialCount.toString()),this.phase=o.phase}static getDefaults(){return Object.assign(zt.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(o){let t=this.toSeconds(o),i=new Nu({context:this.context,onended:()=>this.onstop(this)});this._oscillator=i,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(o){let t=this.toSeconds(o);this._oscillator&&this._oscillator.stop(t)}_restart(o){let t=this.toSeconds(o);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return n._periodicWaveCache.find(t=>t.phase===this._phase&&KC(t.partials,this._partials));{let o=n._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=o?o.partialCount:this._partialCount,o}}get type(){return this._type}set type(o){this._type=o;let t=["sine","square","sawtooth","triangle"].indexOf(o)!==-1;if(this._phase===0&&t)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=o);else{let i=this._getCachedPeriodicWave();if(ft(i)){let{partials:u,wave:s}=i;this._wave=s,this._partials=u,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{let[u,s]=this._getRealImaginary(o,this._phase),l=this.context.createPeriodicWave(u,s);this._wave=l,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),n._periodicWaveCache.push({imag:s,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:u,type:this._type,wave:this._wave}),n._periodicWaveCache.length>100&&n._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(o){this.partialCount&&this._type!=="custom"&&o!=="custom"?this.type=o+this.partialCount:this.type=o}get partialCount(){return this._partialCount}set partialCount(o){jr(o,0);let t=this._type,i=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(i&&(t=i[1]),this._type!=="custom")o===0?this.type=t:this.type=t+o.toString();else{let u=new Float32Array(o);this._partials.forEach((s,l)=>u[l]=s),this._partials=Array.from(u),this.type=this._type}}_getRealImaginary(o,t){let u=2048,s=new Float32Array(u),l=new Float32Array(u),a=1;if(o==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,u=a,this._partials.length===0)return[s,l]}else{let c=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(o);c?(a=parseInt(c[2],10)+1,this._partialCount=parseInt(c[2],10),o=c[1],a=Math.max(a,2),u=a):this._partialCount=0,this._partials=[]}for(let c=1;c<u;++c){let y=2/(c*Math.PI),b;switch(o){case"sine":b=c<=a?1:0,this._partials[c-1]=b;break;case"square":b=c&1?2*y:0,this._partials[c-1]=b;break;case"sawtooth":b=y*(c&1?1:-1),this._partials[c-1]=b;break;case"triangle":c&1?b=2*(y*y)*(c-1>>1&1?-1:1):b=0,this._partials[c-1]=b;break;case"custom":b=this._partials[c-1];break;default:throw new TypeError("Oscillator: invalid type: "+o)}b!==0?(s[c]=-b*Math.sin(t*c),l[c]=b*Math.cos(t*c)):(s[c]=0,l[c]=0)}return[s,l]}_inverseFFT(o,t,i){let u=0,s=o.length;for(let l=0;l<s;l++)u+=o[l]*Math.cos(l*i)+t[l]*Math.sin(l*i);return u}getInitialValue(){let[o,t]=this._getRealImaginary(this._type,0),i=0,u=Math.PI*2,s=32;for(let l=0;l<s;l++)i=Math.max(this._inverseFFT(o,t,l/s*u),i);return kg(-this._inverseFFT(o,t,this._phase)/i,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(o){this._partials=o,this._partialCount=this._partials.length,o.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(o){this._phase=o*Math.PI/180,this.type=this._type}asArray(){return Mt(this,arguments,void 0,function*(o=1024){return Tn(this,o)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}return n._periodicWaveCache=[],n})();var rl=class extends hn{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new En({context:this.context,mapping:r=>(r+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}};var Or=class n extends yt{constructor(){let r=Ie(n.getDefaults(),arguments,["value"]);super(r),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new it({context:this.context,minValue:r.minValue,maxValue:r.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(r.value,0)}static getDefaults(){return Object.assign(yt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}};var Ru=class n extends zt{constructor(){let r=Ie(n.getDefaults(),arguments,["frequency","type","modulationType"]);super(r),this.name="AMOscillator",this._modulationScale=new rl({context:this.context}),this._modulationNode=new it({context:this.context}),this._carrier=new pr({context:this.context,detune:r.detune,frequency:r.frequency,onstop:()=>this.onstop(this),phase:r.phase,type:r.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new pr({context:this.context,phase:r.phase,type:r.modulationType}),this.harmonicity=new Or({context:this.context,units:"positive",value:r.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Ke(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(pr.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(r){this._modulator.start(r),this._carrier.start(r)}_stop(r){this._modulator.stop(r),this._carrier.stop(r)}_restart(r){this._modulator.restart(r),this._carrier.restart(r)}get type(){return this._carrier.type}set type(r){this._carrier.type=r}get baseType(){return this._carrier.baseType}set baseType(r){this._carrier.baseType=r}get partialCount(){return this._carrier.partialCount}set partialCount(r){this._carrier.partialCount=r}get modulationType(){return this._modulator.type}set modulationType(r){this._modulator.type=r}get phase(){return this._carrier.phase}set phase(r){this._carrier.phase=r,this._modulator.phase=r}get partials(){return this._carrier.partials}set partials(r){this._carrier.partials=r}asArray(){return Mt(this,arguments,void 0,function*(r=1024){return Tn(this,r)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}};var nl=class n extends zt{constructor(){let r=Ie(n.getDefaults(),arguments,["frequency","type","modulationType"]);super(r),this.name="FMOscillator",this._modulationNode=new it({context:this.context,gain:0}),this._carrier=new pr({context:this.context,detune:r.detune,frequency:0,onstop:()=>this.onstop(this),phase:r.phase,type:r.type}),this.detune=this._carrier.detune,this.frequency=new yt({context:this.context,units:"frequency",value:r.frequency}),this._modulator=new pr({context:this.context,phase:r.phase,type:r.modulationType}),this.harmonicity=new Or({context:this.context,units:"positive",value:r.harmonicity}),this.modulationIndex=new Or({context:this.context,units:"positive",value:r.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Ke(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(pr.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(r){this._modulator.start(r),this._carrier.start(r)}_stop(r){this._modulator.stop(r),this._carrier.stop(r)}_restart(r){return this._modulator.restart(r),this._carrier.restart(r),this}get type(){return this._carrier.type}set type(r){this._carrier.type=r}get baseType(){return this._carrier.baseType}set baseType(r){this._carrier.baseType=r}get partialCount(){return this._carrier.partialCount}set partialCount(r){this._carrier.partialCount=r}get modulationType(){return this._modulator.type}set modulationType(r){this._modulator.type=r}get phase(){return this._carrier.phase}set phase(r){this._carrier.phase=r,this._modulator.phase=r}get partials(){return this._carrier.partials}set partials(r){this._carrier.partials=r}asArray(){return Mt(this,arguments,void 0,function*(r=1024){return Tn(this,r)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}};var Ci=class n extends zt{constructor(){let r=Ie(n.getDefaults(),arguments,["frequency","width"]);super(r),this.name="PulseOscillator",this._widthGate=new it({context:this.context,gain:0}),this._thresh=new En({context:this.context,mapping:o=>o<=0?-1:1}),this.width=new yt({context:this.context,units:"audioRange",value:r.width}),this._triangle=new pr({context:this.context,detune:r.detune,frequency:r.frequency,onstop:()=>this.onstop(this),phase:r.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Ke(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(zt.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(r){r=this.toSeconds(r),this._triangle.start(r),this._widthGate.gain.setValueAtTime(1,r)}_stop(r){r=this.toSeconds(r),this._triangle.stop(r),this._widthGate.gain.cancelScheduledValues(r),this._widthGate.gain.setValueAtTime(0,r)}_restart(r){this._triangle.restart(r),this._widthGate.gain.cancelScheduledValues(r),this._widthGate.gain.setValueAtTime(1,r)}get phase(){return this._triangle.phase}set phase(r){this._triangle.phase=r}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(r){this._triangle.type=r}asArray(){return Mt(this,arguments,void 0,function*(r=1024){return Tn(this,r)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}};var Pu=class n extends zt{constructor(){let r=Ie(n.getDefaults(),arguments,["frequency","type","spread"]);super(r),this.name="FatOscillator",this._oscillators=[],this.frequency=new yt({context:this.context,units:"frequency",value:r.frequency}),this.detune=new yt({context:this.context,units:"cents",value:r.detune}),this._spread=r.spread,this._type=r.type,this._phase=r.phase,this._partials=r.partials,this._partialCount=r.partialCount,this.count=r.count,Ke(this,["frequency","detune"])}static getDefaults(){return Object.assign(pr.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(r){r=this.toSeconds(r),this._forEach(o=>o.start(r))}_stop(r){r=this.toSeconds(r),this._forEach(o=>o.stop(r))}_restart(r){this._forEach(o=>o.restart(r))}_forEach(r){for(let o=0;o<this._oscillators.length;o++)r(this._oscillators[o],o)}get type(){return this._type}set type(r){this._type=r,this._forEach(o=>o.type=r)}get spread(){return this._spread}set spread(r){if(this._spread=r,this._oscillators.length>1){let o=-r/2,t=r/(this._oscillators.length-1);this._forEach((i,u)=>i.detune.value=o+t*u)}}get count(){return this._oscillators.length}set count(r){if(jr(r,1),this._oscillators.length!==r){this._forEach(o=>o.dispose()),this._oscillators=[];for(let o=0;o<r;o++){let t=new pr({context:this.context,volume:-6-r*1.1,type:this._type,phase:this._phase+o/r*360,partialCount:this._partialCount,onstop:o===0?()=>this.onstop(this):mt});this.type==="custom"&&(t.partials=this._partials),this.frequency.connect(t.frequency),this.detune.connect(t.detune),t.detune.overridden=!1,t.connect(this.output),this._oscillators[o]=t}this.spread=this._spread,this.state==="started"&&this._forEach(o=>o.start())}}get phase(){return this._phase}set phase(r){this._phase=r,this._forEach((o,t)=>o.phase=this._phase+t/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(r){this._forEach(o=>o.baseType=r),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(r){this._partials=r,this._partialCount=this._partials.length,r.length&&(this._type="custom",this._forEach(o=>o.partials=r))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(r){this._partialCount=r,this._forEach(o=>o.partialCount=r),this._type=this._oscillators[0].type}asArray(){return Mt(this,arguments,void 0,function*(r=1024){return Tn(this,r)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(r=>r.dispose()),this}};var Fu=class n extends zt{constructor(){let r=Ie(n.getDefaults(),arguments,["frequency","modulationFrequency"]);super(r),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Or({context:this.context,value:2}),this._pulse=new Ci({context:this.context,frequency:r.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new pr({context:this.context,detune:r.detune,frequency:r.frequency,onstop:()=>this.onstop(this),phase:r.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Ke(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(zt.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(r){r=this.toSeconds(r),this._modulator.start(r),this._pulse.start(r)}_stop(r){r=this.toSeconds(r),this._modulator.stop(r),this._pulse.stop(r)}_restart(r){this._modulator.restart(r),this._pulse.restart(r)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(r){this._modulator.phase=r}asArray(){return Mt(this,arguments,void 0,function*(r=1024){return Tn(this,r)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}};var uE={am:Ru,fat:Pu,fm:nl,oscillator:pr,pulse:Ci,pwm:Fu},Ei=class n extends zt{constructor(){let r=Ie(n.getDefaults(),arguments,["frequency","type"]);super(r),this.name="OmniOscillator",this.frequency=new yt({context:this.context,units:"frequency",value:r.frequency}),this.detune=new yt({context:this.context,units:"cents",value:r.detune}),Ke(this,["frequency","detune"]),this.set(r)}static getDefaults(){return Object.assign(pr.getDefaults(),nl.getDefaults(),Ru.getDefaults(),Pu.getDefaults(),Ci.getDefaults(),Fu.getDefaults())}_start(r){this._oscillator.start(r)}_stop(r){this._oscillator.stop(r)}_restart(r){return this._oscillator.restart(r),this}get type(){let r="";return["am","fm","fat"].some(o=>this._sourceType===o)&&(r=this._sourceType),r+this._oscillator.type}set type(r){r.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=r.substr(2)):r.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=r.substr(2)):r.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=r.substr(3)):r==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):r==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=r)}get partials(){return this._oscillator.partials}set partials(r){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=r)}get partialCount(){return this._oscillator.partialCount}set partialCount(r){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=r)}set(r){return Reflect.has(r,"type")&&r.type&&(this.type=r.type),super.set(r),this}_createNewOscillator(r){if(r!==this._sourceType){this._sourceType=r;let o=uE[r],t=this.now();if(this._oscillator){let i=this._oscillator;i.stop(t),this.context.setTimeout(()=>i.dispose(),this.blockTime)}this._oscillator=new o({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(t)}}get phase(){return this._oscillator.phase}set phase(r){this._oscillator.phase=r}get sourceType(){return this._sourceType}set sourceType(r){let o="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(o=this._oscillator.type),r==="fm"?this.type="fm"+o:r==="am"?this.type="am"+o:r==="fat"?this.type="fat"+o:r==="oscillator"?this.type=o:r==="pulse"?this.type="pulse":r==="pwm"&&(this.type="pwm")}_getOscType(r,o){return r instanceof uE[o]}get baseType(){return this._oscillator.baseType}set baseType(r){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&r!=="pulse"&&r!=="pwm"&&(this._oscillator.baseType=r)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(r){this._getOscType(this._oscillator,"fat")&&yn(r)&&(this._oscillator.count=r)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(r){this._getOscType(this._oscillator,"fat")&&yn(r)&&(this._oscillator.spread=r)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(r){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&un(r)&&(this._oscillator.modulationType=r)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Mt(this,arguments,void 0,function*(r=1024){return Tn(this,r)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}};function Sh(n,r=1/0){let o=new WeakMap;return function(t,i){Reflect.defineProperty(t,i,{configurable:!0,enumerable:!0,get:function(){return o.get(this)},set:function(u){jr(u,n,r),o.set(this,u)}})}}function Dn(n,r=1/0){let o=new WeakMap;return function(t,i){Reflect.defineProperty(t,i,{configurable:!0,enumerable:!0,get:function(){return o.get(this)},set:function(u){jr(this.toSeconds(u),n,r),o.set(this,u)}})}}var Lu=class n extends zt{constructor(){let r=Ie(n.getDefaults(),arguments,["url","onload"]);super(r),this.name="Player",this._activeSources=new Set,this._buffer=new Hr({onload:this._onload.bind(this,r.onload),onerror:r.onerror,reverse:r.reverse,url:r.url}),this.autostart=r.autostart,this._loop=r.loop,this._loopStart=r.loopStart,this._loopEnd=r.loopEnd,this._playbackRate=r.playbackRate,this.fadeIn=r.fadeIn,this.fadeOut=r.fadeOut}static getDefaults(){return Object.assign(zt.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:mt,onerror:mt,playbackRate:1,reverse:!1})}load(r){return Mt(this,void 0,void 0,function*(){return yield this._buffer.load(r),this._onload(),this})}_onload(r=mt){r(),this.autostart&&this.start()}_onSourceEnd(r){this.onstop(this),this._activeSources.delete(r),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(r,o,t){return super.start(r,o,t),this}_start(r,o,t){this._loop?o=Pn(o,this._loopStart):o=Pn(o,0);let i=this.toSeconds(o),u=t;t=Pn(t,Math.max(this._buffer.duration-i,0));let s=this.toSeconds(t);s=s/this._playbackRate,r=this.toSeconds(r);let l=new qo({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(r+s),this._state.setStateAtTime("stopped",r+s,{implicitEnd:!0})),this._activeSources.add(l),this._loop&&br(u)?l.start(r,i):l.start(r,i,s-this.toSeconds(this.fadeOut))}_stop(r){let o=this.toSeconds(r);this._activeSources.forEach(t=>t.stop(o))}restart(r,o,t){return super.restart(r,o,t),this}_restart(r,o,t){var i;(i=[...this._activeSources].pop())===null||i===void 0||i.stop(r),this._start(r,o,t)}seek(r,o){let t=this.toSeconds(o);if(this._state.getValueAtTime(t)==="started"){let i=this.toSeconds(r);this._stop(t),this._start(t,i)}return this}setLoopPoints(r,o){return this.loopStart=r,this.loopEnd=o,this}get loopStart(){return this._loopStart}set loopStart(r){this._loopStart=r,this.buffer.loaded&&jr(this.toSeconds(r),0,this.buffer.duration),this._activeSources.forEach(o=>{o.loopStart=r})}get loopEnd(){return this._loopEnd}set loopEnd(r){this._loopEnd=r,this.buffer.loaded&&jr(this.toSeconds(r),0,this.buffer.duration),this._activeSources.forEach(o=>{o.loopEnd=r})}get buffer(){return this._buffer}set buffer(r){this._buffer.set(r)}get loop(){return this._loop}set loop(r){if(this._loop!==r&&(this._loop=r,this._activeSources.forEach(o=>{o.loop=r}),r)){let o=this._state.getNextState("stopped",this.now());o&&this._state.cancel(o.time)}}get playbackRate(){return this._playbackRate}set playbackRate(r){this._playbackRate=r;let o=this.now(),t=this._state.getNextState("stopped",o);t&&t.implicitEnd&&(this._state.cancel(t.time),this._activeSources.forEach(i=>i.cancelStop())),this._activeSources.forEach(i=>{i.playbackRate.setValueAtTime(r,o)})}get reverse(){return this._buffer.reverse}set reverse(r){this._buffer.reverse=r}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(r=>r.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}};an([Dn(0)],Lu.prototype,"fadeIn",void 0);an([Dn(0)],Lu.prototype,"fadeOut",void 0);var Ch=class extends hn{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new En({context:this.context,mapping:r=>Math.abs(r)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}};var bn=class n extends ze{constructor(){let r=Ie(n.getDefaults(),arguments,["attack","decay","sustain","release"]);super(r),this.name="Envelope",this._sig=new yt({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=r.attack,this.decay=r.decay,this.sustain=r.sustain,this.release=r.release,this.attackCurve=r.attackCurve,this.releaseCurve=r.releaseCurve,this.decayCurve=r.decayCurve}static getDefaults(){return Object.assign(ze.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(r,o){if(un(r))return r;{let t;for(t in Eh)if(Eh[t][o]===r)return t;return r}}_setCurve(r,o,t){if(un(t)&&Reflect.has(Eh,t)){let i=Eh[t];vo(i)?r!=="_decayCurve"&&(this[r]=i[o]):this[r]=i}else if(_r(t)&&r!=="_decayCurve")this[r]=t;else throw new Error("Envelope: invalid curve: "+t)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(r){this._setCurve("_attackCurve","In",r)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(r){this._setCurve("_releaseCurve","Out",r)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(r){this._setCurve("_decayCurve","Out",r)}triggerAttack(r,o=1){this.log("triggerAttack",r,o),r=this.toSeconds(r);let i=this.toSeconds(this.attack),u=this.toSeconds(this.decay),s=this.getValueAtTime(r);if(s>0){let l=1/i;i=(1-s)/l}if(i<this.sampleTime)this._sig.cancelScheduledValues(r),this._sig.setValueAtTime(o,r);else if(this._attackCurve==="linear")this._sig.linearRampTo(o,i,r);else if(this._attackCurve==="exponential")this._sig.targetRampTo(o,i,r);else{this._sig.cancelAndHoldAtTime(r);let l=this._attackCurve;for(let a=1;a<l.length;a++)if(l[a-1]<=s&&s<=l[a]){l=this._attackCurve.slice(a),l[0]=s;break}this._sig.setValueCurveAtTime(l,r,i,o)}if(u&&this.sustain<1){let l=o*this.sustain,a=r+i;this.log("decay",a),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(l,u+a):this._sig.exponentialApproachValueAtTime(l,a,u)}return this}triggerRelease(r){this.log("triggerRelease",r),r=this.toSeconds(r);let o=this.getValueAtTime(r);if(o>0){let t=this.toSeconds(this.release);t<this.sampleTime?this._sig.setValueAtTime(0,r):this._releaseCurve==="linear"?this._sig.linearRampTo(0,t,r):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,t,r):(nt(_r(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(r),this._sig.setValueCurveAtTime(this._releaseCurve,r,t,o))}return this}getValueAtTime(r){return this._sig.getValueAtTime(r)}triggerAttackRelease(r,o,t=1){return o=this.toSeconds(o),this.triggerAttack(o,t),this.triggerRelease(o+this.toSeconds(r)),this}cancel(r){return this._sig.cancelScheduledValues(this.toSeconds(r)),this}connect(r,o=0,t=0){return Za(this,r,o,t),this}asArray(){return Mt(this,arguments,void 0,function*(r=1024){let o=r/this.context.sampleRate,t=new xo(1,o,this.context.sampleRate),i=this.toSeconds(this.attack)+this.toSeconds(this.decay),u=i+this.toSeconds(this.release),s=u*.1,l=u+s,a=new this.constructor(Object.assign(this.get(),{attack:o*this.toSeconds(this.attack)/l,decay:o*this.toSeconds(this.decay)/l,release:o*this.toSeconds(this.release)/l,context:t}));return a._sig.toDestination(),a.triggerAttackRelease(o*(i+s)/l,0),(yield t.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}};an([Dn(0)],bn.prototype,"attack",void 0);an([Dn(0)],bn.prototype,"decay",void 0);an([Sh(0,1)],bn.prototype,"sustain",void 0);an([Dn(0)],bn.prototype,"release",void 0);var Eh=(()=>{let r,o,t=[];for(r=0;r<128;r++)t[r]=Math.sin(r/127*(Math.PI/2));let i=[],u=6.4;for(r=0;r<127;r++){o=r/127;let d=Math.sin(o*(Math.PI*2)*u-Math.PI/2)+1;i[r]=d/10+o*.83}i[127]=1;let s=[],l=5;for(r=0;r<128;r++)s[r]=Math.ceil(r/127*l)/l;let a=[];for(r=0;r<128;r++)o=r/127,a[r]=.5*(1-Math.cos(Math.PI*o));let c=[];for(r=0;r<128;r++){o=r/127;let d=Math.pow(o,3)*4+.2,p=Math.cos(d*Math.PI*2*o);c[r]=Math.abs(p*(1-o))}function y(d){let p=new Array(d.length);for(let h=0;h<d.length;h++)p[h]=1-d[h];return p}function b(d){return d.slice(0).reverse()}return{bounce:{In:y(c),Out:c},cosine:{In:t,Out:b(t)},exponential:"exponential",linear:"linear",ripple:{In:i,Out:y(i)},sine:{In:a,Out:y(a)},step:{In:s,Out:y(s)}}})();var Co=class n extends ze{constructor(){let r=Ie(n.getDefaults(),arguments);super(r),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=o=>this._original_triggerRelease(o),this._volume=this.output=new Jn({context:this.context,volume:r.volume}),this.volume=this._volume.volume,Ke(this,"volume")}static getDefaults(){return Object.assign(ze.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let r=!1;return this._synced||(this._synced=!0,r=!0),r}_syncMethod(r,o){let t=this["_original_"+r]=this[r];this[r]=(...i)=>{let u=i[o],s=this.context.transport.schedule(l=>{i[o]=l,t.apply(this,i)},u);this._scheduledEvents.push(s)}}unsync(){return this._scheduledEvents.forEach(r=>this.context.transport.clear(r)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(r,o,t,i){let u=this.toSeconds(t),s=this.toSeconds(o);return this.triggerAttack(r,u,i),this.triggerRelease(u+s),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}};var Vn=class n extends Co{constructor(){let r=Ie(n.getDefaults(),arguments);super(r),this.portamento=r.portamento,this.onsilence=r.onsilence}static getDefaults(){return Object.assign(Co.getDefaults(),{detune:0,onsilence:mt,portamento:0})}triggerAttack(r,o,t=1){this.log("triggerAttack",r,o,t);let i=this.toSeconds(o);return this._triggerEnvelopeAttack(i,t),this.setNote(r,i),this}triggerRelease(r){this.log("triggerRelease",r);let o=this.toSeconds(r);return this._triggerEnvelopeRelease(o),this}setNote(r,o){let t=this.toSeconds(o),i=r instanceof Cn?r.toFrequency():r;if(this.portamento>0&&this.getLevelAtTime(t)>.05){let u=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(i,u,t)}else this.frequency.setValueAtTime(i,t);return this}};an([Dn(0)],Vn.prototype,"portamento",void 0);var ol=class n extends bn{constructor(){super(Ie(n.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new it({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}};var Ti=class n extends Vn{constructor(){let r=Ie(n.getDefaults(),arguments);super(r),this.name="Synth",this.oscillator=new Ei(Object.assign({context:this.context,detune:r.detune,onstop:()=>this.onsilence(this)},r.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new ol(Object.assign({context:this.context},r.envelope)),this.oscillator.chain(this.envelope,this.output),Ke(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Vn.getDefaults(),{envelope:Object.assign(zo(bn.getDefaults(),Object.keys(ze.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(zo(Ei.getDefaults(),[...Object.keys(zt.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(r,o){if(this.envelope.triggerAttack(r,o),this.oscillator.start(r),this.envelope.sustain===0){let t=this.toSeconds(this.envelope.attack),i=this.toSeconds(this.envelope.decay);this.oscillator.stop(r+t+i)}}_triggerEnvelopeRelease(r){this.envelope.triggerRelease(r),this.oscillator.stop(r+this.toSeconds(this.envelope.release))}getLevelAtTime(r){return r=this.toSeconds(r),this.envelope.getValueAtTime(r)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}};var Dh=class n extends Ti{constructor(){let r=Ie(n.getDefaults(),arguments);super(r),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=r.pitchDecay,this.octaves=r.octaves,Ke(this,["oscillator","envelope"])}static getDefaults(){return _o(Vn.getDefaults(),Ti.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(r,o){let t=this.toSeconds(o),i=this.toFrequency(r instanceof Cn?r.toFrequency():r),u=i*this.octaves;return this.oscillator.frequency.setValueAtTime(u,t),this.oscillator.frequency.exponentialRampToValueAtTime(i,t+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}};an([Sh(0)],Dh.prototype,"octaves",void 0);an([Dn(0)],Dh.prototype,"pitchDecay",void 0);var cE=new Set;function il(n){cE.add(n)}function Mh(n,r){let o=`registerProcessor("${n}", ${r})`;cE.add(o)}var iR=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;il(iR);var aR=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;il(aR);var lR=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;il(lR);var dE="feedback-comb-filter",uR=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Mh(dE,uR);var jh=class n extends Co{constructor(){let r=Ie(n.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(r),this.name="Sampler",this._activeSources=new Map;let o={};Object.keys(r.urls).forEach(t=>{let i=parseInt(t,10);if(nt(Iu(t)||yn(i)&&isFinite(i),`url key is neither a note or midi pitch: ${t}`),Iu(t)){let u=new Cn(this.context,t).toMidi();o[u]=r.urls[t]}else yn(i)&&isFinite(i)&&(o[i]=r.urls[i])}),this._buffers=new Ka({urls:o,onload:r.onload,baseUrl:r.baseUrl,onerror:r.onerror}),this.attack=r.attack,this.release=r.release,this.curve=r.curve,this._buffers.loaded&&Promise.resolve().then(r.onload)}static getDefaults(){return Object.assign(Co.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:mt,onerror:mt,release:.1,urls:{}})}_findClosest(r){let t=0;for(;t<96;){if(this._buffers.has(r+t))return-t;if(this._buffers.has(r-t))return t;t++}throw new Error(`No available buffers for note: ${r}`)}triggerAttack(r,o,t=1){return this.log("triggerAttack",r,o,t),Array.isArray(r)||(r=[r]),r.forEach(i=>{let u=Rg(new Cn(this.context,i).toFrequency()),s=Math.round(u),l=u-s,a=this._findClosest(s),c=s-a,y=this._buffers.get(c),b=xi(a+l),d=new qo({url:y,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:b}).connect(this.output);d.start(o,0,y.duration/b,t),_r(this._activeSources.get(s))||this._activeSources.set(s,[]),this._activeSources.get(s).push(d),d.onended=()=>{if(this._activeSources&&this._activeSources.has(s)){let p=this._activeSources.get(s),h=p.indexOf(d);h!==-1&&p.splice(h,1)}}}),this}triggerRelease(r,o){return this.log("triggerRelease",r,o),Array.isArray(r)||(r=[r]),r.forEach(t=>{let i=new Cn(this.context,t).toMidi();if(this._activeSources.has(i)&&this._activeSources.get(i).length){let u=this._activeSources.get(i);o=this.toSeconds(o),u.forEach(s=>{s.stop(o)}),this._activeSources.set(i,[])}}),this}releaseAll(r){let o=this.toSeconds(r);return this._activeSources.forEach(t=>{for(;t.length;)t.shift().stop(o)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(r,o,t,i=1){let u=this.toSeconds(t);return this.triggerAttack(r,u,i),_r(o)?(nt(_r(r),"notes must be an array when duration is array"),r.forEach((s,l)=>{let a=o[Math.min(l,o.length-1)];this.triggerRelease(s,u+this.toSeconds(a))})):this.triggerRelease(r,u+this.toSeconds(o)),this}add(r,o,t){if(nt(Iu(r)||isFinite(r),`note must be a pitch or midi: ${r}`),Iu(r)){let i=new Cn(this.context,r).toMidi();this._buffers.add(i,o,t)}else this._buffers.add(r,o,t);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(r=>{r.forEach(o=>o.dispose())}),this._activeSources.clear(),this}};an([Dn(0)],jh.prototype,"attack",void 0);an([Dn(0)],jh.prototype,"release",void 0);var al=class n extends ze{constructor(){let r=Ie(n.getDefaults(),arguments,["fade"]);super(r),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new Ch({context:this.context}),this.a=new it({context:this.context,gain:0}),this.b=new it({context:this.context,gain:0}),this.output=new it({context:this.context}),this._internalChannels=[this.a,this.b],this.fade=new yt({context:this.context,units:"normalRange",value:r.fade}),Ke(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",tn(this._split,this.a.gain,0),tn(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(ze.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}};var Mn=class extends ze{constructor(r){super(r),this.name="Effect",this._dryWet=new al({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new it({context:this.context}),this.effectReturn=new it({context:this.context}),this.input=new it({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(r.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Ke(this,"wet")}static getDefaults(){return Object.assign(ze.getDefaults(),{wet:1})}connectEffect(r){return this._internalChannels.push(r),this.effectSend.chain(r,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}};var Vu=class n extends ze{constructor(){let r=Ie(n.getDefaults(),arguments,["pan"]);super(r),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new jt({context:this.context,param:this._panner.pan,value:r.pan,minValue:-1,maxValue:1}),this._panner.channelCount=r.channelCount,this._panner.channelCountMode="explicit",Ke(this,"pan")}static getDefaults(){return Object.assign(ze.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}};var fE="bit-crusher",gR=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Mh(fE,gR);var $s=class n extends ze{constructor(){let r=Ie(n.getDefaults(),arguments,["channels"]);super(r),this.name="Merge",this._merger=this.output=this.input=this.context.createChannelMerger(r.channels)}static getDefaults(){return Object.assign(ze.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}};var J_e=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100];var axe=[1687/25e3,1601/25e3,2053/25e3,2251/25e3];var Oh=class n extends Mn{constructor(){let r=Ie(n.getDefaults(),arguments,["decay"]);super(r),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve(),this._decay=r.decay,this._preDelay=r.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(Mn.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(r){r=this.toSeconds(r),jr(r,.001),this._decay=r,this.generate()}get preDelay(){return this._preDelay}set preDelay(r){r=this.toSeconds(r),jr(r,0),this._preDelay=r,this.generate()}generate(){return Mt(this,void 0,void 0,function*(){let r=this.ready,o=new xo(2,this._decay+this._preDelay,this.context.sampleRate),t=new Si({context:o}),i=new Si({context:o}),u=new $s({context:o});t.connect(u,0,0),i.connect(u,0,1);let s=new it({context:o}).toDestination();u.connect(s),t.start(0),i.start(0),s.gain.setValueAtTime(0,0),s.gain.setValueAtTime(1,this._preDelay),s.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);let l=o.render();return this.ready=l.then(mt),yield r,this._convolver.buffer=(yield l).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}};var ll=class n extends ze{constructor(){let r=Ie(n.getDefaults(),arguments,["solo"]);super(r),this.name="Solo",this.input=this.output=new it({context:this.context}),n._allSolos.has(this.context)||n._allSolos.set(this.context,new Set),n._allSolos.get(this.context).add(this),this.solo=r.solo}static getDefaults(){return Object.assign(ze.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(r){r?this._addSolo():this._removeSolo(),n._allSolos.get(this.context).forEach(o=>o._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){n._soloed.has(this.context)||n._soloed.set(this.context,new Set),n._soloed.get(this.context).add(this)}_removeSolo(){n._soloed.has(this.context)&&n._soloed.get(this.context).delete(this)}_isSoloed(){return n._soloed.has(this.context)&&n._soloed.get(this.context).has(this)}_noSolos(){return!n._soloed.has(this.context)||n._soloed.has(this.context)&&n._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),n._allSolos.get(this.context).delete(this),this._removeSolo(),this}};ll._allSolos=new Map;ll._soloed=new Map;var kh=class n extends ze{constructor(){let r=Ie(n.getDefaults(),arguments,["pan","volume"]);super(r),this.name="PanVol",this._panner=this.input=new Vu({context:this.context,pan:r.pan,channelCount:r.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Jn({context:this.context,volume:r.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=r.mute,Ke(this,["pan","volume"])}static getDefaults(){return Object.assign(ze.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(r){this._volume.mute=r}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}};var qg=class n extends ze{constructor(){let r=Ie(n.getDefaults(),arguments,["volume","pan"]);super(r),this.name="Channel",this._solo=this.input=new ll({solo:r.solo,context:this.context}),this._panVol=this.output=new kh({context:this.context,pan:r.pan,volume:r.volume,mute:r.mute,channelCount:r.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Ke(this,["pan","volume"])}static getDefaults(){return Object.assign(ze.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(r){this._solo.solo=r}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(r){this._panVol.mute=r}_getBus(r){return n.buses.has(r)||n.buses.set(r,new it({context:this.context})),n.buses.get(r)}send(r,o=0){let t=this._getBus(r),i=new it({context:this.context,units:"decibels",gain:o});return this.connect(i),i.connect(t),i}receive(r){return this._getBus(r).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}};qg.buses=new Map;var Wg=xr().transport;var $Ce=xr().destination,YCe=xr().destination;var XCe=xr().listener;var ZCe=xr().draw;var QCe=xr();var Nh=class n{canvas;oscillators=[];reverb;numOscillators=1;freq=[];volumeControl=-15;reverbValue=1;reverbDecay=15;maxReverbDecay=30;isPlaying=!1;time=0;constructor(){}ngOnInit(){let r=o=>{o.setup=()=>{o.createCanvas(o.windowWidth-730,o.windowHeight-180).parent("sketch-holder"),o.background(10),o.noFill(),o.stroke(255,100)},o.draw=()=>{o.background(10),o.strokeWeight(1);for(let t=0;t<this.numOscillators;t++){let i=this.freq[t],u=o.map(i,100,1e3,100,o.width/2),s=o.map(i,100,1e3,100,o.height/2);o.beginShape();for(let l=0;l<o.TWO_PI;l+=.01){let a=u*o.sin(l+this.time*.01*(t+1)),c=s*o.sin(2*l+this.time*.01*(t+1));o.vertex(o.width/2+a,o.height/2+c)}o.endShape()}this.time+=.5}};this.canvas=new gE.default(r)}initializeOscillators(){this.stopOscillators(),this.oscillators=[],this.freq=[],this.reverb&&this.reverb.dispose(),this.reverb=new Oh({decay:this.reverbDecay}).toDestination(),this.reverb.wet.value=this.reverbValue;for(let r=0;r<this.numOscillators;r++){let o=200+r*50;this.freq.push(o);let t=new pr(o,"sine").start();t.volume.value=this.volumeControl-3*Math.log2(this.numOscillators),t.connect(this.reverb),this.oscillators.push(t)}}startSound(){this.isPlaying||(this.initializeOscillators(),Wg.start(),this.isPlaying=!0)}stopSound(){this.isPlaying&&(this.stopOscillators(),Wg.stop(),this.isPlaying=!1)}stopOscillators(){this.oscillators.forEach(r=>r.stop()),this.oscillators=[]}handleOscillatorChange(r){let o=r.target.value;this.numOscillators=parseInt(o,10),this.initializeOscillators()}updateSoundSettings(){this.reverb.wet.value=this.reverbValue,this.reverb.decay=this.reverbDecay}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=As({type:n,selectors:[["app-visual"]],standalone:!0,features:[Ns],decls:30,vars:2,consts:[[1,"visual-square","container-fluid","bg-dark","text-light"],[1,"row","h-100"],[1,"col-12","d-flex","align-items-center","justify-content-center"],["id","sketch-holder",1,"sketch-container"],[1,"controls","my-4","p-3","bg-secondary","rounded","shadow"],[1,"mb-3"],["for","oscillator-count",1,"form-label"],["id","oscillator-count",1,"form-select","bg-dark","text-light",3,"change"],["value","1"],["value","2"],["value","5"],["value","10"],["value","20"],["for","reverb-decay",1,"form-label"],["id","reverb-decay","type","range","min","1","step","1",1,"form-range",3,"ngModelChange","input","max","ngModel"],[1,"d-flex","justify-content-between"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(o,t){o&1&&(zr(0,"div",0)(1,"div",1)(2,"div",2),is(3,"div",3),Qr()(),zr(4,"div",4)(5,"h5",5),ho(6,"Controls"),Qr(),zr(7,"div",5)(8,"label",6),ho(9,"Number of Oscillators"),Qr(),zr(10,"select",7),qn("change",function(u){return t.handleOscillatorChange(u)}),zr(11,"option",8),ho(12,"1"),Qr(),zr(13,"option",9),ho(14,"2"),Qr(),zr(15,"option",10),ho(16,"5"),Qr(),zr(17,"option",11),ho(18,"10"),Qr(),zr(19,"option",12),ho(20,"20"),Qr()()(),zr(21,"div",5)(22,"label",13),ho(23,"Reverb Decay"),Qr(),zr(24,"input",14),Wp("ngModelChange",function(u){return t_(t.reverbDecay,u)||(t.reverbDecay=u),u}),qn("input",function(){return t.updateSoundSettings()}),Qr()(),zr(25,"div",15)(26,"button",16),qn("click",function(){return t.startSound()}),ho(27,"Start"),Qr(),zr(28,"button",17),qn("click",function(){return t.stopSound()}),ho(29,"Stop"),Qr()()()()),o&2&&(Ab(24),zp("max",t.maxReverbDecay),qp("ngModel",t.reverbDecay))},dependencies:[Px,kx,Rx,zd,Zm,Mx,Xm],styles:[".visual-square[_ngcontent-%COMP%]{width:1200px;height:800px;background-color:#f5f5f5;border:1px solid #e0e0e0;border-radius:5px;padding:10px;margin:10px;box-shadow:0 0 10px #0000001a}.controls[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;color:#fff}input[type=range][_ngcontent-%COMP%]{display:block;margin-bottom:10px}"]})};var Rh=class n{static \u0275fac=function(o){return new(o||n)};static \u0275cmp=As({type:n,selectors:[["app-home-page"]],standalone:!0,features:[Ns],decls:2,vars:0,consts:[[1,"h-100","d-flex","align-items-center","justify-content-center"]],template:function(o,t){o&1&&(zr(0,"div",0),is(1,"app-visual"),Qr())},dependencies:[Nh]})};var yE=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Rh}];var vE={providers:[l_({eventCoalescing:!0}),dx(yE)]};var Ph=class n{title="processing-audio";static \u0275fac=function(o){return new(o||n)};static \u0275cmp=As({type:n,selectors:[["app-root"]],standalone:!0,features:[Ns],decls:1,vars:0,template:function(o,t){o&1&&is(0,"router-outlet")},dependencies:[Lm]})};D_(Ph,vE).catch(n=>console.error(n));
